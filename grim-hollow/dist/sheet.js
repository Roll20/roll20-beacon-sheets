/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function X_(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}const Nn={},gm=[],Ha=()=>{},Sie=()=>!1,tg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),I4=e=>e.startsWith("onUpdate:"),ii=Object.assign,O4=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Eie=Object.prototype.hasOwnProperty,pn=(e,t)=>Eie.call(e,t),qt=Array.isArray,ym=e=>Ah(e)==="[object Map]",Qd=e=>Ah(e)==="[object Set]",fT=e=>Ah(e)==="[object Date]",Cie=e=>Ah(e)==="[object RegExp]",pr=e=>typeof e=="function",ai=e=>typeof e=="string",tf=e=>typeof e=="symbol",Fn=e=>e!==null&&typeof e=="object",M4=e=>(Fn(e)||pr(e))&&pr(e.then)&&pr(e.catch),aL=Object.prototype.toString,Ah=e=>aL.call(e),$ie=e=>Ah(e).slice(8,-1),sL=e=>Ah(e)==="[object Object]",P4=e=>ai(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,H0=X_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Q_=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Nie=/-(\w)/g,Za=Q_(e=>e.replace(Nie,(t,r)=>r?r.toUpperCase():"")),Die=/\B([A-Z])/g,Ls=Q_(e=>e.replace(Die,"-$1").toLowerCase()),rg=Q_(e=>e.charAt(0).toUpperCase()+e.slice(1)),G0=Q_(e=>e?`on${rg(e)}`:""),ru=(e,t)=>!Object.is(e,t),bm=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ab=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},lv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wb=e=>{const t=ai(e)?Number(e):NaN;return isNaN(t)?e:t};let dT;const oL=()=>dT||(dT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Tie="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",kie=X_(Tie);function Kc(e){if(qt(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=ai(n)?Pie(n):Kc(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(ai(e)||Fn(e))return e}const Iie=/;(?![^(]*\))/g,Oie=/:([^]+)/,Mie=/\/\*[^]*?\*\//g;function Pie(e){const t={};return e.replace(Mie,"").split(Iie).forEach(r=>{if(r){const n=r.split(Oie);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Sr(e){let t="";if(ai(e))t=e;else if(qt(e))for(let r=0;r<e.length;r++){const n=Sr(e[r]);n&&(t+=n+" ")}else if(Fn(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function uL(e){if(!e)return null;let{class:t,style:r}=e;return t&&!ai(t)&&(e.class=Sr(t)),r&&(e.style=Kc(r)),e}const Bie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lie=X_(Bie);function lL(e){return!!e||e===""}function Fie(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Hl(e[n],t[n]);return r}function Hl(e,t){if(e===t)return!0;let r=fT(e),n=fT(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=tf(e),n=tf(t),r||n)return e===t;if(r=qt(e),n=qt(t),r||n)return r&&n?Fie(e,t):!1;if(r=Fn(e),n=Fn(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),u=t.hasOwnProperty(s);if(o&&!u||!o&&u||!Hl(e[s],t[s]))return!1}}return String(e)===String(t)}function e2(e,t){return e.findIndex(r=>Hl(r,t))}const ne=e=>ai(e)?e:e==null?"":qt(e)||Fn(e)&&(e.toString===aL||!pr(e.toString))?JSON.stringify(e,cL,2):String(e),cL=(e,t)=>t&&t.__v_isRef?cL(e,t.value):ym(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[ux(n,a)+" =>"]=i,r),{})}:Qd(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>ux(r))}:tf(t)?ux(t):Fn(t)&&!qt(t)&&!sL(t)?String(t):t,ux=(e,t="")=>{var r;return tf(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ms;class B4{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ms,!t&&Ms&&(this.index=(Ms.scopes||(Ms.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Ms;try{return Ms=this,t()}finally{Ms=r}}}on(){Ms=this}off(){Ms=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function t2(e){return new B4(e)}function fL(e,t=Ms){t&&t.active&&t.effects.push(e)}function L4(){return Ms}function dL(e){Ms&&Ms.cleanups.push(e)}let Td;class Im{constructor(t,r,n,i){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,fL(this,i)}get dirty(){if(this._dirtyLevel===1){ep();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(Rie(r.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),tp()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Jc,r=Td;try{return Jc=!0,Td=this,this._runnings++,pT(this),this.fn()}finally{mT(this),this._runnings--,Td=r,Jc=t}}stop(){var t;this.active&&(pT(this),mT(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Rie(e){return e.value}function pT(e){e._trackId++,e._depsLength=0}function mT(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)pL(e.deps[t],e);e.deps.length=e._depsLength}}function pL(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}function Uie(e,t){e.effect instanceof Im&&(e=e.effect.fn);const r=new Im(e,Ha,()=>{r.dirty&&r.run()});t&&(ii(r,t),t.scope&&fL(r,t.scope)),(!t||!t.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function zie(e){e.effect.stop()}let Jc=!0,QS=0;const mL=[];function ep(){mL.push(Jc),Jc=!1}function tp(){const e=mL.pop();Jc=e===void 0?!0:e}function F4(){QS++}function R4(){for(QS--;!QS&&e3.length;)e3.shift()()}function hL(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&pL(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const e3=[];function vL(e,t,r){F4();for(const n of e.keys())if(n._dirtyLevel<t&&e.get(n)===n._trackId){const i=n._dirtyLevel;n._dirtyLevel=t,i===0&&(n._shouldSchedule=!0,n.trigger())}gL(e),R4()}function gL(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,e3.push(t.scheduler))}const yL=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},xb=new WeakMap,kd=Symbol(""),t3=Symbol("");function Ss(e,t,r){if(Jc&&Td){let n=xb.get(e);n||xb.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=yL(()=>n.delete(r))),hL(Td,i)}}function Fl(e,t,r,n,i,a){const s=xb.get(e);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(r==="length"&&qt(e)){const u=Number(n);s.forEach((l,c)=>{(c==="length"||!tf(c)&&c>=u)&&o.push(l)})}else switch(r!==void 0&&o.push(s.get(r)),t){case"add":qt(e)?P4(r)&&o.push(s.get("length")):(o.push(s.get(kd)),ym(e)&&o.push(s.get(t3)));break;case"delete":qt(e)||(o.push(s.get(kd)),ym(e)&&o.push(s.get(t3)));break;case"set":ym(e)&&o.push(s.get(kd));break}F4();for(const u of o)u&&vL(u,2);R4()}function qie(e,t){var r;return(r=xb.get(e))==null?void 0:r.get(t)}const jie=X_("__proto__,__v_isRef,__isVue"),bL=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tf)),hT=Vie();function Vie(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=an(this);for(let a=0,s=this.length;a<s;a++)Ss(n,"get",a+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(an)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){ep(),F4();const n=an(this)[t].apply(this,r);return R4(),tp(),n}}),e}function Hie(e){const t=an(this);return Ss(t,"has",e),t.hasOwnProperty(e)}class _L{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,n){const i=this._isReadonly,a=this._shallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?CL:EL:a?SL:xL).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=qt(t);if(!i){if(s&&pn(hT,r))return Reflect.get(hT,r,n);if(r==="hasOwnProperty")return Hie}const o=Reflect.get(t,r,n);return(tf(r)?bL.has(r):jie(r))||(i||Ss(t,"get",r),a)?o:mi(o)?s&&P4(r)?o:o.value:Fn(o)?i?q4(o):Gs(o):o}}class AL extends _L{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._shallow){const u=Bd(a);if(!cv(n)&&!Bd(n)&&(a=an(a),n=an(n)),!qt(t)&&mi(a)&&!mi(n))return u?!1:(a.value=n,!0)}const s=qt(t)&&P4(r)?Number(r)<t.length:pn(t,r),o=Reflect.set(t,r,n,i);return t===an(i)&&(s?ru(n,a)&&Fl(t,"set",r,n):Fl(t,"add",r,n)),o}deleteProperty(t,r){const n=pn(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Fl(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!tf(r)||!bL.has(r))&&Ss(t,"has",r),n}ownKeys(t){return Ss(t,"iterate",qt(t)?"length":kd),Reflect.ownKeys(t)}}class wL extends _L{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Gie=new AL,Zie=new wL,Wie=new AL(!0),Kie=new wL(!0),U4=e=>e,r2=e=>Reflect.getPrototypeOf(e);function V1(e,t,r=!1,n=!1){e=e.__v_raw;const i=an(e),a=an(t);r||(ru(t,a)&&Ss(i,"get",t),Ss(i,"get",a));const{has:s}=r2(i),o=n?U4:r?V4:fv;if(s.call(i,t))return o(e.get(t));if(s.call(i,a))return o(e.get(a));e!==i&&e.get(t)}function H1(e,t=!1){const r=this.__v_raw,n=an(r),i=an(e);return t||(ru(e,i)&&Ss(n,"has",e),Ss(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function G1(e,t=!1){return e=e.__v_raw,!t&&Ss(an(e),"iterate",kd),Reflect.get(e,"size",e)}function vT(e){e=an(e);const t=an(this);return r2(t).has.call(t,e)||(t.add(e),Fl(t,"add",e,e)),this}function gT(e,t){t=an(t);const r=an(this),{has:n,get:i}=r2(r);let a=n.call(r,e);a||(e=an(e),a=n.call(r,e));const s=i.call(r,e);return r.set(e,t),a?ru(t,s)&&Fl(r,"set",e,t):Fl(r,"add",e,t),this}function yT(e){const t=an(this),{has:r,get:n}=r2(t);let i=r.call(t,e);i||(e=an(e),i=r.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return i&&Fl(t,"delete",e,void 0),a}function bT(){const e=an(this),t=e.size!==0,r=e.clear();return t&&Fl(e,"clear",void 0,void 0),r}function Z1(e,t){return function(n,i){const a=this,s=a.__v_raw,o=an(s),u=t?U4:e?V4:fv;return!e&&Ss(o,"iterate",kd),s.forEach((l,c)=>n.call(i,u(l),u(c),a))}}function W1(e,t,r){return function(...n){const i=this.__v_raw,a=an(i),s=ym(a),o=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,l=i[e](...n),c=r?U4:t?V4:fv;return!t&&Ss(a,"iterate",u?t3:kd),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Ec(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Jie(){const e={get(a){return V1(this,a)},get size(){return G1(this)},has:H1,add:vT,set:gT,delete:yT,clear:bT,forEach:Z1(!1,!1)},t={get(a){return V1(this,a,!1,!0)},get size(){return G1(this)},has:H1,add:vT,set:gT,delete:yT,clear:bT,forEach:Z1(!1,!0)},r={get(a){return V1(this,a,!0)},get size(){return G1(this,!0)},has(a){return H1.call(this,a,!0)},add:Ec("add"),set:Ec("set"),delete:Ec("delete"),clear:Ec("clear"),forEach:Z1(!0,!1)},n={get(a){return V1(this,a,!0,!0)},get size(){return G1(this,!0)},has(a){return H1.call(this,a,!0)},add:Ec("add"),set:Ec("set"),delete:Ec("delete"),clear:Ec("clear"),forEach:Z1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=W1(a,!1,!1),r[a]=W1(a,!0,!1),t[a]=W1(a,!1,!0),n[a]=W1(a,!0,!0)}),[e,r,t,n]}const[Yie,Xie,Qie,eae]=Jie();function n2(e,t){const r=t?e?eae:Qie:e?Xie:Yie;return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(pn(r,i)&&i in n?r:n,i,a)}const tae={get:n2(!1,!1)},rae={get:n2(!1,!0)},nae={get:n2(!0,!1)},iae={get:n2(!0,!0)},xL=new WeakMap,SL=new WeakMap,EL=new WeakMap,CL=new WeakMap;function aae(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sae(e){return e.__v_skip||!Object.isExtensible(e)?0:aae($ie(e))}function Gs(e){return Bd(e)?e:i2(e,!1,Gie,tae,xL)}function z4(e){return i2(e,!1,Wie,rae,SL)}function q4(e){return i2(e,!0,Zie,nae,EL)}function oae(e){return i2(e,!0,Kie,iae,CL)}function i2(e,t,r,n,i){if(!Fn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=sae(e);if(s===0)return e;const o=new Proxy(e,s===2?n:r);return i.set(e,o),o}function Rl(e){return Bd(e)?Rl(e.__v_raw):!!(e&&e.__v_isReactive)}function Bd(e){return!!(e&&e.__v_isReadonly)}function cv(e){return!!(e&&e.__v_isShallow)}function j4(e){return Rl(e)||Bd(e)}function an(e){const t=e&&e.__v_raw;return t?an(t):e}function ng(e){return Ab(e,"__v_skip",!0),e}const fv=e=>Fn(e)?Gs(e):e,V4=e=>Fn(e)?q4(e):e;class $L{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Im(()=>t(this._value),()=>_m(this,1),()=>this.dep&&gL(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=an(this);return(!t._cacheable||t.effect.dirty)&&ru(t._value,t._value=t.effect.run())&&_m(t,2),H4(t),t.effect._dirtyLevel>=1&&_m(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function uae(e,t,r=!1){let n,i;const a=pr(e);return a?(n=e,i=Ha):(n=e.get,i=e.set),new $L(n,i,a||!i,r)}function H4(e){Jc&&Td&&(e=an(e),hL(Td,e.dep||(e.dep=yL(()=>e.dep=void 0,e instanceof $L?e:void 0))))}function _m(e,t=2,r){e=an(e);const n=e.dep;n&&vL(n,t)}function mi(e){return!!(e&&e.__v_isRef===!0)}function Pe(e){return NL(e,!1)}function Oi(e){return NL(e,!0)}function NL(e,t){return mi(e)?e:new lae(e,t)}class lae{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:an(t),this._value=r?t:fv(t)}get value(){return H4(this),this._value}set value(t){const r=this.__v_isShallow||cv(t)||Bd(t);t=r?t:an(t),ru(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:fv(t),_m(this,2))}}function cae(e){_m(e,2)}function he(e){return mi(e)?e.value:e}function fae(e){return pr(e)?e():he(e)}const dae={get:(e,t,r)=>he(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return mi(i)&&!mi(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function G4(e){return Rl(e)?e:new Proxy(e,dae)}class pae{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>H4(this),()=>_m(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function DL(e){return new pae(e)}function TL(e){const t=qt(e)?new Array(e.length):{};for(const r in e)t[r]=kL(e,r);return t}class mae{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qie(an(this._object),this._key)}}class hae{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function vae(e,t,r){return mi(e)?e:pr(e)?new hae(e):Fn(e)&&arguments.length>1?kL(e,t,r):Pe(e)}function kL(e,t,r){const n=e[t];return mi(n)?n:new mae(e,t,r)}const gae={GET:"get",HAS:"has",ITERATE:"iterate"},yae={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bae(e,t){}const _ae={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Aae={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Ul(e,t,r,n){let i;try{i=n?e(...n):e()}catch(a){rp(a,t,r)}return i}function qs(e,t,r,n){if(pr(e)){const a=Ul(e,t,r,n);return a&&M4(a)&&a.catch(s=>{rp(s,t,r)}),a}const i=[];for(let a=0;a<e.length;a++)i.push(qs(e[a],t,r,n));return i}function rp(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const l=a.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,s,o)===!1)return}a=a.parent}const u=t.appContext.config.errorHandler;if(u){Ul(u,null,10,[e,s,o]);return}}wae(e,r,i,n)}function wae(e,t,r,n=!0){console.error(e)}let dv=!1,r3=!1;const $a=[];let Uu=0;const Am=[];let Lc=null,bd=0;const IL=Promise.resolve();let Z4=null;function _f(e){const t=Z4||IL;return e?t.then(this?e.bind(this):e):t}function xae(e){let t=Uu+1,r=$a.length;for(;t<r;){const n=t+r>>>1,i=$a[n],a=pv(i);a<e||a===e&&i.pre?t=n+1:r=n}return t}function a2(e){(!$a.length||!$a.includes(e,dv&&e.allowRecurse?Uu+1:Uu))&&(e.id==null?$a.push(e):$a.splice(xae(e.id),0,e),OL())}function OL(){!dv&&!r3&&(r3=!0,Z4=IL.then(ML))}function Sae(e){const t=$a.indexOf(e);t>Uu&&$a.splice(t,1)}function Sb(e){qt(e)?Am.push(...e):(!Lc||!Lc.includes(e,e.allowRecurse?bd+1:bd))&&Am.push(e),OL()}function _T(e,t,r=dv?Uu+1:0){for(;r<$a.length;r++){const n=$a[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;$a.splice(r,1),r--,n()}}}function Eb(e){if(Am.length){const t=[...new Set(Am)].sort((r,n)=>pv(r)-pv(n));if(Am.length=0,Lc){Lc.push(...t);return}for(Lc=t,bd=0;bd<Lc.length;bd++)Lc[bd]();Lc=null,bd=0}}const pv=e=>e.id==null?1/0:e.id,Eae=(e,t)=>{const r=pv(e)-pv(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function ML(e){r3=!1,dv=!0,$a.sort(Eae);const t=Ha;try{for(Uu=0;Uu<$a.length;Uu++){const r=$a[Uu];r&&r.active!==!1&&Ul(r,null,14)}}finally{Uu=0,$a.length=0,Eb(),dv=!1,Z4=null,($a.length||Am.length)&&ML()}}let am,K1=[];function PL(e,t){var r,n;am=e,am?(am.enabled=!0,K1.forEach(({event:i,args:a})=>am.emit(i,...a)),K1=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{PL(a,t)}),setTimeout(()=>{am||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,K1=[])},3e3)):K1=[]}function Cae(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Nn;let i=r;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in n){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:d}=n[c]||Nn;d&&(i=r.map(p=>ai(p)?p.trim():p)),f&&(i=r.map(lv))}let o,u=n[o=G0(t)]||n[o=G0(Za(t))];!u&&a&&(u=n[o=G0(Ls(t))]),u&&qs(u,e,6,i);const l=n[o+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,qs(l,e,6,i)}}function BL(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!pr(e)){const u=l=>{const c=BL(l,t,!0);c&&(o=!0,ii(s,c))};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!a&&!o?(Fn(e)&&n.set(e,null),null):(qt(a)?a.forEach(u=>s[u]=null):ii(s,a),Fn(e)&&n.set(e,s),s)}function s2(e,t){return!e||!tg(t)?!1:(t=t.slice(2).replace(/Once$/,""),pn(e,t[0].toLowerCase()+t.slice(1))||pn(e,Ls(t))||pn(e,t))}let Ni=null,o2=null;function mv(e){const t=Ni;return Ni=e,o2=e&&e.type.__scopeId||null,t}function Hi(e){o2=e}function Gi(){o2=null}const LL=e=>Xr;function Xr(e,t=Ni,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&c3(-1);const a=mv(t);let s;try{s=e(...i)}finally{mv(a),n._d&&c3(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function rb(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:u,emit:l,render:c,renderCache:f,data:d,setupState:p,ctx:m,inheritAttrs:h}=e;let v,y;const w=mv(e);try{if(r.shapeFlag&4){const b=i||n,_=b;v=Bs(c.call(_,b,f,a,p,d,m)),y=u}else{const b=t;v=Bs(b.length>1?b(a,{attrs:u,slots:o,emit:l}):b(a,null)),y=t.props?u:Nae(u)}}catch(b){J0.length=0,rp(b,e,1),v=Fe(Da)}let g=v;if(y&&h!==!1){const b=Object.keys(y),{shapeFlag:_}=g;b.length&&_&7&&(s&&b.some(I4)&&(y=Dae(y,s)),g=Ku(g,y))}return r.dirs&&(g=Ku(g),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&(g.transition=r.transition),v=g,mv(w),v}function $ae(e,t=!0){let r;for(let n=0;n<e.length;n++){const i=e[n];if(af(i)){if(i.type!==Da||i.children==="v-if"){if(r)return;r=i}}else return}return r}const Nae=e=>{let t;for(const r in e)(r==="class"||r==="style"||tg(r))&&((t||(t={}))[r]=e[r]);return t},Dae=(e,t)=>{const r={};for(const n in e)(!I4(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Tae(e,t,r){const{props:n,children:i,component:a}=e,{props:s,children:o,patchFlag:u}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?AT(n,s,l):!!s;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(s[d]!==n[d]&&!s2(l,d))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?AT(n,s,l):!0:!!s;return!1}function AT(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!s2(r,a))return!0}return!1}function W4({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const K4="components",kae="directives";function Wu(e,t){return Y4(K4,e,!0,t)||e}const FL=Symbol.for("v-ndc");function J4(e){return ai(e)?Y4(K4,e,!1)||e:e||FL}function Af(e){return Y4(kae,e)}function Y4(e,t,r=!0,n=!1){const i=Ni||ji;if(i){const a=i.type;if(e===K4){const o=h3(a,!1);if(o&&(o===t||o===Za(t)||o===rg(Za(t))))return a}const s=wT(i[e]||a[e],t)||wT(i.appContext[e],t);return!s&&n?a:s}}function wT(e,t){return e&&(e[t]||e[Za(t)]||e[rg(Za(t))])}const RL=e=>e.__isSuspense;let n3=0;const Iae={name:"Suspense",__isSuspense:!0,process(e,t,r,n,i,a,s,o,u,l){if(e==null)Mae(t,r,n,i,a,s,o,u,l);else{if(a&&a.deps>0){t.suspense=e.suspense;return}Pae(e,t,r,n,i,s,o,u,l)}},hydrate:Bae,create:X4,normalize:Lae},Oae=Iae;function hv(e,t){const r=e.props&&e.props[t];pr(r)&&r()}function Mae(e,t,r,n,i,a,s,o,u){const{p:l,o:{createElement:c}}=u,f=c("div"),d=e.suspense=X4(e,i,n,t,f,r,a,s,o,u);l(null,d.pendingBranch=e.ssContent,f,null,n,d,a,s),d.deps>0?(hv(e,"onPending"),hv(e,"onFallback"),l(null,e.ssFallback,t,r,n,null,a,s),wm(d,e.ssFallback)):d.resolve(!1,!0)}function Pae(e,t,r,n,i,a,s,o,{p:u,um:l,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:h,isInFallback:v,isHydrating:y}=f;if(h)f.pendingBranch=d,zo(d,h)?(u(h,d,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0?f.resolve():v&&(y||(u(m,p,r,n,i,null,a,s,o),wm(f,p)))):(f.pendingId=n3++,y?(f.isHydrating=!1,f.activeBranch=h):l(h,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),v?(u(null,d,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0?f.resolve():(u(m,p,r,n,i,null,a,s,o),wm(f,p))):m&&zo(d,m)?(u(m,d,r,n,i,f,a,s,o),f.resolve(!0)):(u(null,d,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0&&f.resolve()));else if(m&&zo(d,m))u(m,d,r,n,i,f,a,s,o),wm(f,d);else if(hv(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=n3++,u(null,d,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0)f.resolve();else{const{timeout:w,pendingId:g}=f;w>0?setTimeout(()=>{f.pendingId===g&&f.fallback(p)},w):w===0&&f.fallback(p)}}function X4(e,t,r,n,i,a,s,o,u,l,c=!1){const{p:f,m:d,um:p,n:m,o:{parentNode:h,remove:v}}=l;let y;const w=Fae(e);w&&t?.pendingBranch&&(y=t.pendingId,t.deps++);const g=e.props?wb(e.props.timeout):void 0,b=a,_={vnode:e,parent:t,parentComponent:r,namespace:s,container:n,hiddenContainer:i,deps:0,pendingId:n3++,timeout:typeof g=="number"?g:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(x=!1,E=!1){const{vnode:C,activeBranch:$,pendingBranch:D,pendingId:N,effects:k,parentComponent:P,container:U}=_;let L=!1;_.isHydrating?_.isHydrating=!1:x||(L=$&&D.transition&&D.transition.mode==="out-in",L&&($.transition.afterLeave=()=>{N===_.pendingId&&(d(D,U,a===b?m($):a,0),Sb(k))}),$&&(h($.el)!==_.hiddenContainer&&(a=m($)),p($,P,_,!0)),L||d(D,U,a,0)),wm(_,D),_.pendingBranch=null,_.isInFallback=!1;let B=_.parent,O=!1;for(;B;){if(B.pendingBranch){B.effects.push(...k),O=!0;break}B=B.parent}!O&&!L&&Sb(k),_.effects=[],w&&t&&t.pendingBranch&&y===t.pendingId&&(t.deps--,t.deps===0&&!E&&t.resolve()),hv(C,"onResolve")},fallback(x){if(!_.pendingBranch)return;const{vnode:E,activeBranch:C,parentComponent:$,container:D,namespace:N}=_;hv(E,"onFallback");const k=m(C),P=()=>{_.isInFallback&&(f(null,x,D,k,$,null,N,o,u),wm(_,x))},U=x.transition&&x.transition.mode==="out-in";U&&(C.transition.afterLeave=P),_.isInFallback=!0,p(C,$,null,!0),U||P()},move(x,E,C){_.activeBranch&&d(_.activeBranch,x,E,C),_.container=x},next(){return _.activeBranch&&m(_.activeBranch)},registerDep(x,E){const C=!!_.pendingBranch;C&&_.deps++;const $=x.vnode.el;x.asyncDep.catch(D=>{rp(D,x,0)}).then(D=>{if(x.isUnmounted||_.isUnmounted||_.pendingId!==x.suspenseId)return;x.asyncResolved=!0;const{vnode:N}=x;p3(x,D,!1),$&&(N.el=$);const k=!$&&x.subTree.el;E(x,N,h($||x.subTree.el),$?null:m(x.subTree),_,s,u),k&&v(k),W4(x,N.el),C&&--_.deps===0&&_.resolve()})},unmount(x,E){_.isUnmounted=!0,_.activeBranch&&p(_.activeBranch,r,x,E),_.pendingBranch&&p(_.pendingBranch,r,x,E)}};return _}function Bae(e,t,r,n,i,a,s,o,u){const l=t.suspense=X4(t,n,r,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),c=u(e,l.pendingBranch=t.ssContent,r,l,a,s);return l.deps===0&&l.resolve(!1,!0),c}function Lae(e){const{shapeFlag:t,children:r}=e,n=t&32;e.ssContent=xT(n?r.default:r),e.ssFallback=n?xT(r.fallback):Fe(Da)}function xT(e){let t;if(pr(e)){const r=Fd&&e._c;r&&(e._d=!1,Z()),e=e(),r&&(e._d=!0,t=gs,yF())}return qt(e)&&(e=$ae(e)),e=Bs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function UL(e,t){t&&t.pendingBranch?qt(e)?t.effects.push(...e):t.effects.push(e):Sb(e)}function wm(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;r.el=i,n&&n.subTree===r&&(n.vnode.el=i,W4(n,i))}function Fae(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const zL=Symbol.for("v-scx"),qL=()=>js(zL);function Rae(e,t){return ig(e,null,t)}function jL(e,t){return ig(e,null,{flush:"post"})}function VL(e,t){return ig(e,null,{flush:"sync"})}const J1={};function Xn(e,t,r){return ig(e,t,r)}function ig(e,t,{immediate:r,deep:n,flush:i,once:a,onTrack:s,onTrigger:o}=Nn){if(t&&a){const x=t;t=(...E)=>{x(...E),_()}}const u=ji,l=x=>n===!0?x:wd(x,n===!1?1:void 0);let c,f=!1,d=!1;if(mi(e)?(c=()=>e.value,f=cv(e)):Rl(e)?(c=()=>l(e),f=!0):qt(e)?(d=!0,f=e.some(x=>Rl(x)||cv(x)),c=()=>e.map(x=>{if(mi(x))return x.value;if(Rl(x))return l(x);if(pr(x))return Ul(x,u,2)})):pr(e)?t?c=()=>Ul(e,u,2):c=()=>(p&&p(),qs(e,u,3,[m])):c=Ha,t&&n){const x=c;c=()=>wd(x())}let p,m=x=>{p=g.onStop=()=>{Ul(x,u,4),p=g.onStop=void 0}},h;if(ug)if(m=Ha,t?r&&qs(t,u,3,[c(),d?[]:void 0,m]):c(),i==="sync"){const x=qL();h=x.__watcherHandles||(x.__watcherHandles=[])}else return Ha;let v=d?new Array(e.length).fill(J1):J1;const y=()=>{if(!(!g.active||!g.dirty))if(t){const x=g.run();(n||f||(d?x.some((E,C)=>ru(E,v[C])):ru(x,v)))&&(p&&p(),qs(t,u,3,[x,v===J1?void 0:d&&v[0]===J1?[]:v,m]),v=x)}else g.run()};y.allowRecurse=!!t;let w;i==="sync"?w=y:i==="post"?w=()=>la(y,u&&u.suspense):(y.pre=!0,u&&(y.id=u.uid),w=()=>a2(y));const g=new Im(c,Ha,w),b=L4(),_=()=>{g.stop(),b&&O4(b.effects,g)};return t?r?y():v=g.run():i==="post"?la(g.run.bind(g),u&&u.suspense):g.run(),h&&h.push(_),_}function Uae(e,t,r){const n=this.proxy,i=ai(e)?e.includes(".")?HL(n,e):()=>n[e]:e.bind(n,n);let a;pr(t)?a=t:(a=t.handler,r=t);const s=Rd(this),o=ig(i,a.bind(n),r);return s(),o}function HL(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function wd(e,t,r=0,n){if(!Fn(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(n=n||new Set,n.has(e))return e;if(n.add(e),mi(e))wd(e.value,t,r,n);else if(qt(e))for(let i=0;i<e.length;i++)wd(e[i],t,r,n);else if(Qd(e)||ym(e))e.forEach(i=>{wd(i,t,r,n)});else if(sL(e))for(const i in e)wd(e[i],t,r,n);return e}function Ze(e,t){if(Ni===null)return e;const r=d2(Ni)||Ni.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,o,u=Nn]=t[i];a&&(pr(a)&&(a={mounted:a,updated:a}),a.deep&&wd(s),n.push({dir:a,instance:r,value:s,oldValue:void 0,arg:o,modifiers:u}))}return e}function Pu(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let u=o.dir[n];u&&(ep(),qs(u,r,8,[e.el,o,e,t]),tp())}}const Fc=Symbol("_leaveCb"),Y1=Symbol("_enterCb");function Q4(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wf(()=>{e.isMounted=!0}),wh(()=>{e.isUnmounting=!0}),e}const no=[Function,Array],eC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:no,onEnter:no,onAfterEnter:no,onEnterCancelled:no,onBeforeLeave:no,onLeave:no,onAfterLeave:no,onLeaveCancelled:no,onBeforeAppear:no,onAppear:no,onAfterAppear:no,onAppearCancelled:no},zae={name:"BaseTransition",props:eC,setup(e,{slots:t}){const r=Ia(),n=Q4();let i;return()=>{const a=t.default&&u2(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const h of a)if(h.type!==Da){s=h;break}}const o=an(e),{mode:u}=o;if(n.isLeaving)return lx(s);const l=ST(s);if(!l)return lx(s);const c=Om(l,o,n,r);Ld(l,c);const f=r.subTree,d=f&&ST(f);let p=!1;const{getTransitionKey:m}=l.type;if(m){const h=m();i===void 0?i=h:h!==i&&(i=h,p=!0)}if(d&&d.type!==Da&&(!zo(l,d)||p)){const h=Om(d,o,n,r);if(Ld(d,h),u==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},lx(s);u==="in-out"&&l.type!==Da&&(h.delayLeave=(v,y,w)=>{const g=ZL(n,d);g[String(d.key)]=d,v[Fc]=()=>{y(),v[Fc]=void 0,delete c.delayedLeave},c.delayedLeave=w})}return s}}},GL=zae;function ZL(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Om(e,t,r,n){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:h,onAppear:v,onAfterAppear:y,onAppearCancelled:w}=t,g=String(e.key),b=ZL(r,e),_=(C,$)=>{C&&qs(C,n,9,$)},x=(C,$)=>{const D=$[1];_(C,$),qt(C)?C.every(N=>N.length<=1)&&D():C.length<=1&&D()},E={mode:a,persisted:s,beforeEnter(C){let $=o;if(!r.isMounted)if(i)$=h||o;else return;C[Fc]&&C[Fc](!0);const D=b[g];D&&zo(e,D)&&D.el[Fc]&&D.el[Fc](),_($,[C])},enter(C){let $=u,D=l,N=c;if(!r.isMounted)if(i)$=v||u,D=y||l,N=w||c;else return;let k=!1;const P=C[Y1]=U=>{k||(k=!0,U?_(N,[C]):_(D,[C]),E.delayedLeave&&E.delayedLeave(),C[Y1]=void 0)};$?x($,[C,P]):P()},leave(C,$){const D=String(e.key);if(C[Y1]&&C[Y1](!0),r.isUnmounting)return $();_(f,[C]);let N=!1;const k=C[Fc]=P=>{N||(N=!0,$(),P?_(m,[C]):_(p,[C]),C[Fc]=void 0,b[D]===e&&delete b[D])};b[D]=e,d?x(d,[C,k]):k()},clone(C){return Om(C,t,r,n)}};return E}function lx(e){if(ag(e))return e=Ku(e),e.children=null,e}function ST(e){return ag(e)?e.children?e.children[0]:void 0:e}function Ld(e,t){e.shapeFlag&6&&e.component?Ld(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function u2(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===tt?(s.patchFlag&128&&i++,n=n.concat(u2(s.children,t,o))):(t||s.type!==Da)&&n.push(o!=null?Ku(s,{key:o}):s)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ft(e,t){return pr(e)?(()=>ii({name:e.name},t,{setup:e}))():e}const Id=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function qae(e){pr(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=e;let u=null,l,c=0;const f=()=>(c++,u=null,d()),d=()=>{let p;return u||(p=u=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),o)return new Promise((h,v)=>{o(m,()=>h(f()),()=>v(m),c+1)});throw m}).then(m=>p!==u&&u?u:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),l=m,m)))};return ft({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return l},setup(){const p=ji;if(l)return()=>cx(l,p);const m=w=>{u=null,rp(w,p,13,!n)};if(s&&p.suspense||ug)return d().then(w=>()=>cx(w,p)).catch(w=>(m(w),()=>n?Fe(n,{error:w}):null));const h=Pe(!1),v=Pe(),y=Pe(!!i);return i&&setTimeout(()=>{y.value=!1},i),a!=null&&setTimeout(()=>{if(!h.value&&!v.value){const w=new Error(`Async component timed out after ${a}ms.`);m(w),v.value=w}},a),d().then(()=>{h.value=!0,p.parent&&ag(p.parent.vnode)&&(p.parent.effect.dirty=!0,a2(p.parent.update))}).catch(w=>{m(w),v.value=w}),()=>{if(h.value&&l)return cx(l,p);if(v.value&&n)return Fe(n,{error:v.value});if(r&&!y.value)return Fe(r)}}})}function cx(e,t){const{ref:r,props:n,children:i,ce:a}=t.vnode,s=Fe(e,n,i);return s.ref=r,s.ce=a,delete t.vnode.ce,s}const ag=e=>e.type.__isKeepAlive,jae={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=Ia(),n=r.ctx;if(!n.renderer)return()=>{const w=t.default&&t.default();return w&&w.length===1?w[0]:w};const i=new Map,a=new Set;let s=null;const o=r.suspense,{renderer:{p:u,m:l,um:c,o:{createElement:f}}}=n,d=f("div");n.activate=(w,g,b,_,x)=>{const E=w.component;l(w,g,b,0,o),u(E.vnode,w,g,b,E,o,_,w.slotScopeIds,x),la(()=>{E.isDeactivated=!1,E.a&&bm(E.a);const C=w.props&&w.props.onVnodeMounted;C&&ps(C,E.parent,w)},o)},n.deactivate=w=>{const g=w.component;l(w,d,null,1,o),la(()=>{g.da&&bm(g.da);const b=w.props&&w.props.onVnodeUnmounted;b&&ps(b,g.parent,w),g.isDeactivated=!0},o)};function p(w){fx(w),c(w,r,o,!0)}function m(w){i.forEach((g,b)=>{const _=h3(g.type);_&&(!w||!w(_))&&h(b)})}function h(w){const g=i.get(w);!s||!zo(g,s)?p(g):s&&fx(s),i.delete(w),a.delete(w)}Xn(()=>[e.include,e.exclude],([w,g])=>{w&&m(b=>U0(w,b)),g&&m(b=>!U0(g,b))},{flush:"post",deep:!0});let v=null;const y=()=>{v!=null&&i.set(v,dx(r.subTree))};return wf(y),c2(y),wh(()=>{i.forEach(w=>{const{subTree:g,suspense:b}=r,_=dx(g);if(w.type===_.type&&w.key===_.key){fx(_);const x=_.component.da;x&&la(x,b);return}p(w)})}),()=>{if(v=null,!t.default)return null;const w=t.default(),g=w[0];if(w.length>1)return s=null,w;if(!af(g)||!(g.shapeFlag&4)&&!(g.shapeFlag&128))return s=null,g;let b=dx(g);const _=b.type,x=h3(Id(b)?b.type.__asyncResolved||{}:_),{include:E,exclude:C,max:$}=e;if(E&&(!x||!U0(E,x))||C&&x&&U0(C,x))return s=b,g;const D=b.key==null?_:b.key,N=i.get(D);return b.el&&(b=Ku(b),g.shapeFlag&128&&(g.ssContent=b)),v=D,N?(b.el=N.el,b.component=N.component,b.transition&&Ld(b,b.transition),b.shapeFlag|=512,a.delete(D),a.add(D)):(a.add(D),$&&a.size>parseInt($,10)&&h(a.values().next().value)),b.shapeFlag|=256,s=b,RL(g.type)?g:b}}},Vae=jae;function U0(e,t){return qt(e)?e.some(r=>U0(r,t)):ai(e)?e.split(",").includes(t):Cie(e)?e.test(t):!1}function WL(e,t){JL(e,"a",t)}function KL(e,t){JL(e,"da",t)}function JL(e,t,r=ji){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(l2(t,n,r),r){let i=r.parent;for(;i&&i.parent;)ag(i.parent.vnode)&&Hae(n,t,r,i),i=i.parent}}function Hae(e,t,r,n){const i=l2(t,e,n,!0);sg(()=>{O4(n[t],i)},r)}function fx(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function dx(e){return e.shapeFlag&128?e.ssContent:e}function l2(e,t,r=ji,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;ep();const o=Rd(r),u=qs(t,r,e,s);return o(),tp(),u});return n?i.unshift(a):i.push(a),a}}const nc=e=>(t,r=ji)=>(!ug||e==="sp")&&l2(e,(...n)=>t(...n),r),tC=nc("bm"),wf=nc("m"),YL=nc("bu"),c2=nc("u"),wh=nc("bum"),sg=nc("um"),XL=nc("sp"),QL=nc("rtg"),eF=nc("rtc");function tF(e,t=ji){l2("ec",e,t)}function wt(e,t,r,n){let i;const a=r&&r[n];if(qt(e)||ai(e)){i=new Array(e.length);for(let s=0,o=e.length;s<o;s++)i[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if(Fn(e))if(e[Symbol.iterator])i=Array.from(e,(s,o)=>t(s,o,void 0,a&&a[o]));else{const s=Object.keys(e);i=new Array(s.length);for(let o=0,u=s.length;o<u;o++){const l=s[o];i[o]=t(e[l],l,o,a&&a[o])}}else i=[];return r&&(r[n]=i),i}function Gae(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(qt(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const a=n.fn(...i);return a&&(a.key=n.key),a}:n.fn)}return e}function rf(e,t,r={},n,i){if(Ni.isCE||Ni.parent&&Id(Ni.parent)&&Ni.parent.isCE)return t!=="default"&&(r.name=t),Fe("slot",r,n&&n());let a=e[t];a&&a._c&&(a._d=!1),Z();const s=a&&rF(a(r)),o=Yt(tt,{key:r.key||s&&s.key||`_${t}`},s||(n?n():[]),s&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function rF(e){return e.some(t=>af(t)?!(t.type===Da||t.type===tt&&!rF(t.children)):!0)?e:null}function Zae(e,t){const r={};for(const n in e)r[t&&/[A-Z]/.test(n)?`on:${n}`:G0(n)]=e[n];return r}const i3=e=>e?wF(e)?d2(e)||e.proxy:i3(e.parent):null,Z0=ii(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>i3(e.parent),$root:e=>i3(e.root),$emit:e=>e.emit,$options:e=>rC(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,a2(e.update)}),$nextTick:e=>e.n||(e.n=_f.bind(e.proxy)),$watch:e=>Uae.bind(e)}),px=(e,t)=>e!==Nn&&!e.__isScriptSetup&&pn(e,t),a3={get({_:e},t){const{ctx:r,setupState:n,data:i,props:a,accessCache:s,type:o,appContext:u}=e;let l;if(t[0]!=="$"){const p=s[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(px(n,t))return s[t]=1,n[t];if(i!==Nn&&pn(i,t))return s[t]=2,i[t];if((l=e.propsOptions[0])&&pn(l,t))return s[t]=3,a[t];if(r!==Nn&&pn(r,t))return s[t]=4,r[t];s3&&(s[t]=0)}}const c=Z0[t];let f,d;if(c)return t==="$attrs"&&Ss(e,"get",t),c(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(r!==Nn&&pn(r,t))return s[t]=4,r[t];if(d=u.config.globalProperties,pn(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return px(i,t)?(i[t]=r,!0):n!==Nn&&pn(n,t)?(n[t]=r,!0):pn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},s){let o;return!!r[s]||e!==Nn&&pn(e,s)||px(t,s)||(o=a[0])&&pn(o,s)||pn(n,s)||pn(Z0,s)||pn(i.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:pn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},Wae=ii({},a3,{get(e,t){if(t!==Symbol.unscopables)return a3.get(e,t,e)},has(e,t){return t[0]!=="_"&&!kie(t)}});function Kae(){return null}function Jae(){return null}function Yae(e){}function Xae(e){}function Qae(){return null}function ese(){}function tse(e,t){return null}function rse(){return nF().slots}function nse(){return nF().attrs}function nF(){const e=Ia();return e.setupContext||(e.setupContext=EF(e))}function vv(e){return qt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function ise(e,t){const r=vv(e);for(const n in t){if(n.startsWith("__skip"))continue;let i=r[n];i?qt(i)||pr(i)?i=r[n]={type:i,default:t[n]}:i.default=t[n]:i===null&&(i=r[n]={default:t[n]}),i&&t[`__skip_${n}`]&&(i.skipFactory=!0)}return r}function ase(e,t){return!e||!t?e||t:qt(e)&&qt(t)?e.concat(t):ii({},vv(e),vv(t))}function sse(e,t){const r={};for(const n in e)t.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>e[n]});return r}function ose(e){const t=Ia();let r=e();return d3(),M4(r)&&(r=r.catch(n=>{throw Rd(t),n})),[r,()=>Rd(t)]}let s3=!0;function use(e){const t=rC(e),r=e.proxy,n=e.ctx;s3=!1,t.beforeCreate&&ET(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:u,inject:l,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:m,activated:h,deactivated:v,beforeDestroy:y,beforeUnmount:w,destroyed:g,unmounted:b,render:_,renderTracked:x,renderTriggered:E,errorCaptured:C,serverPrefetch:$,expose:D,inheritAttrs:N,components:k,directives:P,filters:U}=t;if(l&&lse(l,n,null),s)for(const O in s){const T=s[O];pr(T)&&(n[O]=T.bind(r))}if(i){const O=i.call(r,r);Fn(O)&&(e.data=Gs(O))}if(s3=!0,a)for(const O in a){const T=a[O],j=pr(T)?T.bind(r,r):pr(T.get)?T.get.bind(r,r):Ha,R=!pr(T)&&pr(T.set)?T.set.bind(r):Ha,le=Oe({get:j,set:R});Object.defineProperty(n,O,{enumerable:!0,configurable:!0,get:()=>le.value,set:re=>le.value=re})}if(o)for(const O in o)iF(o[O],n,r,O);if(u){const O=pr(u)?u.call(r):u;Reflect.ownKeys(O).forEach(T=>{W0(T,O[T])})}c&&ET(c,e,"c");function B(O,T){qt(T)?T.forEach(j=>O(j.bind(r))):T&&O(T.bind(r))}if(B(tC,f),B(wf,d),B(YL,p),B(c2,m),B(WL,h),B(KL,v),B(tF,C),B(eF,x),B(QL,E),B(wh,w),B(sg,b),B(XL,$),qt(D))if(D.length){const O=e.exposed||(e.exposed={});D.forEach(T=>{Object.defineProperty(O,T,{get:()=>r[T],set:j=>r[T]=j})})}else e.exposed||(e.exposed={});_&&e.render===Ha&&(e.render=_),N!=null&&(e.inheritAttrs=N),k&&(e.components=k),P&&(e.directives=P)}function lse(e,t,r=Ha){qt(e)&&(e=o3(e));for(const n in e){const i=e[n];let a;Fn(i)?"default"in i?a=js(i.from||n,i.default,!0):a=js(i.from||n):a=js(i),mi(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[n]=a}}function ET(e,t,r){qs(qt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function iF(e,t,r,n){const i=n.includes(".")?HL(r,n):()=>r[n];if(ai(e)){const a=t[e];pr(a)&&Xn(i,a)}else if(pr(e))Xn(i,e.bind(r));else if(Fn(e))if(qt(e))e.forEach(a=>iF(a,t,r,n));else{const a=pr(e.handler)?e.handler.bind(r):t[e.handler];pr(a)&&Xn(i,a,e)}}function rC(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let u;return o?u=o:!i.length&&!r&&!n?u=t:(u={},i.length&&i.forEach(l=>Cb(u,l,s,!0)),Cb(u,t,s)),Fn(t)&&a.set(t,u),u}function Cb(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Cb(e,a,r,!0),i&&i.forEach(s=>Cb(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const o=cse[s]||r&&r[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const cse={data:CT,props:$T,emits:$T,methods:z0,computed:z0,beforeCreate:qa,created:qa,beforeMount:qa,mounted:qa,beforeUpdate:qa,updated:qa,beforeDestroy:qa,beforeUnmount:qa,destroyed:qa,unmounted:qa,activated:qa,deactivated:qa,errorCaptured:qa,serverPrefetch:qa,components:z0,directives:z0,watch:dse,provide:CT,inject:fse};function CT(e,t){return t?e?function(){return ii(pr(e)?e.call(this,this):e,pr(t)?t.call(this,this):t)}:t:e}function fse(e,t){return z0(o3(e),o3(t))}function o3(e){if(qt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function qa(e,t){return e?[...new Set([].concat(e,t))]:t}function z0(e,t){return e?ii(Object.create(null),e,t):t}function $T(e,t){return e?qt(e)&&qt(t)?[...new Set([...e,...t])]:ii(Object.create(null),vv(e),vv(t??{})):t}function dse(e,t){if(!e)return t;if(!t)return e;const r=ii(Object.create(null),e);for(const n in t)r[n]=qa(e[n],t[n]);return r}function aF(){return{app:null,config:{isNativeTag:Sie,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pse=0;function mse(e,t){return function(n,i=null){pr(n)||(n=ii({},n)),i!=null&&!Fn(i)&&(i=null);const a=aF(),s=new WeakSet;let o=!1;const u=a.app={_uid:pse++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:$F,get config(){return a.config},set config(l){},use(l,...c){return s.has(l)||(l&&pr(l.install)?(s.add(l),l.install(u,...c)):pr(l)&&(s.add(l),l(u,...c))),u},mixin(l){return a.mixins.includes(l)||a.mixins.push(l),u},component(l,c){return c?(a.components[l]=c,u):a.components[l]},directive(l,c){return c?(a.directives[l]=c,u):a.directives[l]},mount(l,c,f){if(!o){const d=Fe(n,i);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(d,l):e(d,l,f),o=!0,u._container=l,l.__vue_app__=u,d2(d.component)||d.component.proxy}},unmount(){o&&(e(null,u._container),delete u._container.__vue_app__)},provide(l,c){return a.provides[l]=c,u},runWithContext(l){gv=u;try{return l()}finally{gv=null}}};return u}}let gv=null;function W0(e,t){if(ji){let r=ji.provides;const n=ji.parent&&ji.parent.provides;n===r&&(r=ji.provides=Object.create(n)),r[e]=t}}function js(e,t,r=!1){const n=ji||Ni;if(n||gv){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:gv._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&pr(t)?t.call(n&&n.proxy):t}}function sF(){return!!(ji||Ni||gv)}function hse(e,t,r,n=!1){const i={},a={};Ab(a,f2,1),e.propsDefaults=Object.create(null),oF(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:z4(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function vse(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=an(i),[u]=e.propsOptions;let l=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(s2(e.emitsOptions,d))continue;const p=t[d];if(u)if(pn(a,d))p!==a[d]&&(a[d]=p,l=!0);else{const m=Za(d);i[m]=u3(u,o,m,p,e,!1)}else p!==a[d]&&(a[d]=p,l=!0)}}}else{oF(e,t,i,a)&&(l=!0);let c;for(const f in o)(!t||!pn(t,f)&&((c=Ls(f))===f||!pn(t,c)))&&(u?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=u3(u,o,f,void 0,e,!0)):delete i[f]);if(a!==o)for(const f in a)(!t||!pn(t,f))&&(delete a[f],l=!0)}l&&Fl(e,"set","$attrs")}function oF(e,t,r,n){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let u in t){if(H0(u))continue;const l=t[u];let c;i&&pn(i,c=Za(u))?!a||!a.includes(c)?r[c]=l:(o||(o={}))[c]=l:s2(e.emitsOptions,u)||(!(u in n)||l!==n[u])&&(n[u]=l,s=!0)}if(a){const u=an(r),l=o||Nn;for(let c=0;c<a.length;c++){const f=a[c];r[f]=u3(i,u,f,l[f],e,!pn(l,f))}}return s}function u3(e,t,r,n,i,a){const s=e[r];if(s!=null){const o=pn(s,"default");if(o&&n===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&pr(u)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const c=Rd(i);n=l[r]=u.call(null,t),c()}}else n=u}s[0]&&(a&&!o?n=!1:s[1]&&(n===""||n===Ls(r))&&(n=!0))}return n}function uF(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const a=e.props,s={},o=[];let u=!1;if(!pr(e)){const c=f=>{u=!0;const[d,p]=uF(f,t,!0);ii(s,d),p&&o.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!u)return Fn(e)&&n.set(e,gm),gm;if(qt(a))for(let c=0;c<a.length;c++){const f=Za(a[c]);NT(f)&&(s[f]=Nn)}else if(a)for(const c in a){const f=Za(c);if(NT(f)){const d=a[c],p=s[f]=qt(d)||pr(d)?{type:d}:ii({},d);if(p){const m=kT(Boolean,p.type),h=kT(String,p.type);p[0]=m>-1,p[1]=h<0||m<h,(m>-1||pn(p,"default"))&&o.push(f)}}}const l=[s,o];return Fn(e)&&n.set(e,l),l}function NT(e){return e[0]!=="$"}function DT(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function TT(e,t){return DT(e)===DT(t)}function kT(e,t){return qt(t)?t.findIndex(r=>TT(r,e)):pr(t)&&TT(t,e)?0:-1}const lF=e=>e[0]==="_"||e==="$stable",nC=e=>qt(e)?e.map(Bs):[Bs(e)],gse=(e,t,r)=>{if(t._n)return t;const n=Xr((...i)=>nC(t(...i)),r);return n._c=!1,n},cF=(e,t,r)=>{const n=e._ctx;for(const i in e){if(lF(i))continue;const a=e[i];if(pr(a))t[i]=gse(i,a,n);else if(a!=null){const s=nC(a);t[i]=()=>s}}},fF=(e,t)=>{const r=nC(t);e.slots.default=()=>r},yse=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=an(t),Ab(t,"_",r)):cF(t,e.slots={})}else e.slots={},t&&fF(e,t);Ab(e.slots,f2,1)},bse=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,s=Nn;if(n.shapeFlag&32){const o=t._;o?r&&o===1?a=!1:(ii(i,t),!r&&o===1&&delete i._):(a=!t.$stable,cF(t,i)),s=t}else t&&(fF(e,t),s={default:1});if(a)for(const o in i)!lF(o)&&s[o]==null&&delete i[o]};function $b(e,t,r,n,i=!1){if(qt(e)){e.forEach((d,p)=>$b(d,t&&(qt(t)?t[p]:t),r,n,i));return}if(Id(n)&&!i)return;const a=n.shapeFlag&4?d2(n.component)||n.component.proxy:n.el,s=i?null:a,{i:o,r:u}=e,l=t&&t.r,c=o.refs===Nn?o.refs={}:o.refs,f=o.setupState;if(l!=null&&l!==u&&(ai(l)?(c[l]=null,pn(f,l)&&(f[l]=null)):mi(l)&&(l.value=null)),pr(u))Ul(u,o,12,[s,c]);else{const d=ai(u),p=mi(u),m=e.f;if(d||p){const h=()=>{if(m){const v=d?pn(f,u)?f[u]:c[u]:u.value;i?qt(v)&&O4(v,a):qt(v)?v.includes(a)||v.push(a):d?(c[u]=[a],pn(f,u)&&(f[u]=c[u])):(u.value=[a],e.k&&(c[e.k]=u.value))}else d?(c[u]=s,pn(f,u)&&(f[u]=s)):p&&(u.value=s,e.k&&(c[e.k]=s))};i||m?h():(h.id=-1,la(h,r))}}}let Cc=!1;const _se=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Ase=e=>e.namespaceURI.includes("MathML"),X1=e=>{if(_se(e))return"svg";if(Ase(e))return"mathml"},Q1=e=>e.nodeType===8;function wse(e){const{mt:t,p:r,o:{patchProp:n,createText:i,nextSibling:a,parentNode:s,remove:o,insert:u,createComment:l}}=e,c=(g,b)=>{if(!b.hasChildNodes()){r(null,g,b),Eb(),b._vnode=g;return}Cc=!1,f(b.firstChild,g,null,null,null),Eb(),b._vnode=g,Cc&&console.error("Hydration completed but contains mismatches.")},f=(g,b,_,x,E,C=!1)=>{const $=Q1(g)&&g.data==="[",D=()=>h(g,b,_,x,E,$),{type:N,ref:k,shapeFlag:P,patchFlag:U}=b;let L=g.nodeType;b.el=g,U===-2&&(C=!1,b.dynamicChildren=null);let B=null;switch(N){case nf:L!==3?b.children===""?(u(b.el=i(""),s(g),g),B=g):B=D():(g.data!==b.children&&(Cc=!0,g.data=b.children),B=a(g));break;case Da:w(g)?(B=a(g),y(b.el=g.content.firstChild,g,_)):L!==8||$?B=D():B=a(g);break;case Od:if($&&(g=a(g),L=g.nodeType),L===1||L===3){B=g;const O=!b.children.length;for(let T=0;T<b.staticCount;T++)O&&(b.children+=B.nodeType===1?B.outerHTML:B.data),T===b.staticCount-1&&(b.anchor=B),B=a(B);return $?a(B):B}else D();break;case tt:$?B=m(g,b,_,x,E,C):B=D();break;default:if(P&1)(L!==1||b.type.toLowerCase()!==g.tagName.toLowerCase())&&!w(g)?B=D():B=d(g,b,_,x,E,C);else if(P&6){b.slotScopeIds=E;const O=s(g);if($?B=v(g):Q1(g)&&g.data==="teleport start"?B=v(g,g.data,"teleport end"):B=a(g),t(b,O,null,_,x,X1(O),C),Id(b)){let T;$?(T=Fe(tt),T.anchor=B?B.previousSibling:O.lastChild):T=g.nodeType===3?Xe(""):Fe("div"),T.el=g,b.component.subTree=T}}else P&64?L!==8?B=D():B=b.type.hydrate(g,b,_,x,E,C,e,p):P&128&&(B=b.type.hydrate(g,b,_,x,X1(s(g)),E,C,e,f))}return k!=null&&$b(k,null,x,b),B},d=(g,b,_,x,E,C)=>{C=C||!!b.dynamicChildren;const{type:$,props:D,patchFlag:N,shapeFlag:k,dirs:P,transition:U}=b,L=$==="input"||$==="option";if(L||N!==-1){P&&Pu(b,null,_,"created");let B=!1;if(w(g)){B=hF(x,U)&&_&&_.vnode.props&&_.vnode.props.appear;const T=g.content.firstChild;B&&U.beforeEnter(T),y(T,g,_),b.el=g=T}if(k&16&&!(D&&(D.innerHTML||D.textContent))){let T=p(g.firstChild,b,g,_,x,E,C);for(;T;){Cc=!0;const j=T;T=T.nextSibling,o(j)}}else k&8&&g.textContent!==b.children&&(Cc=!0,g.textContent=b.children);if(D)if(L||!C||N&48)for(const T in D)(L&&(T.endsWith("value")||T==="indeterminate")||tg(T)&&!H0(T)||T[0]===".")&&n(g,T,null,D[T],void 0,void 0,_);else D.onClick&&n(g,"onClick",null,D.onClick,void 0,void 0,_);let O;(O=D&&D.onVnodeBeforeMount)&&ps(O,_,b),P&&Pu(b,null,_,"beforeMount"),((O=D&&D.onVnodeMounted)||P||B)&&UL(()=>{O&&ps(O,_,b),B&&U.enter(g),P&&Pu(b,null,_,"mounted")},x)}return g.nextSibling},p=(g,b,_,x,E,C,$)=>{$=$||!!b.dynamicChildren;const D=b.children,N=D.length;for(let k=0;k<N;k++){const P=$?D[k]:D[k]=Bs(D[k]);if(g)g=f(g,P,x,E,C,$);else{if(P.type===nf&&!P.children)continue;Cc=!0,r(null,P,_,null,x,E,X1(_),C)}}return g},m=(g,b,_,x,E,C)=>{const{slotScopeIds:$}=b;$&&(E=E?E.concat($):$);const D=s(g),N=p(a(g),b,D,_,x,E,C);return N&&Q1(N)&&N.data==="]"?a(b.anchor=N):(Cc=!0,u(b.anchor=l("]"),D,N),N)},h=(g,b,_,x,E,C)=>{if(Cc=!0,b.el=null,C){const N=v(g);for(;;){const k=a(g);if(k&&k!==N)o(k);else break}}const $=a(g),D=s(g);return o(g),r(null,b,D,$,_,x,X1(D),E),$},v=(g,b="[",_="]")=>{let x=0;for(;g;)if(g=a(g),g&&Q1(g)&&(g.data===b&&x++,g.data===_)){if(x===0)return a(g);x--}return g},y=(g,b,_)=>{const x=b.parentNode;x&&x.replaceChild(g,b);let E=_;for(;E;)E.vnode.el===b&&(E.vnode.el=E.subTree.el=g),E=E.parent},w=g=>g.nodeType===1&&g.tagName.toLowerCase()==="template";return[c,f]}const la=UL;function dF(e){return mF(e)}function pF(e){return mF(e,wse)}function mF(e,t){const r=oL();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:s,createText:o,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=Ha,insertStaticContent:m}=e,h=(oe,q,me,X=null,K=null,de=null,Ee=void 0,te=null,ce=!!q.dynamicChildren)=>{if(oe===q)return;oe&&!zo(oe,q)&&(X=W(oe),re(oe,K,de,!0),oe=null),q.patchFlag===-2&&(ce=!1,q.dynamicChildren=null);const{type:pe,ref:Y,shapeFlag:be}=q;switch(pe){case nf:v(oe,q,me,X);break;case Da:y(oe,q,me,X);break;case Od:oe==null&&w(q,me,X,Ee);break;case tt:k(oe,q,me,X,K,de,Ee,te,ce);break;default:be&1?_(oe,q,me,X,K,de,Ee,te,ce):be&6?P(oe,q,me,X,K,de,Ee,te,ce):(be&64||be&128)&&pe.process(oe,q,me,X,K,de,Ee,te,ce,se)}Y!=null&&K&&$b(Y,oe&&oe.ref,de,q||oe,!q)},v=(oe,q,me,X)=>{if(oe==null)n(q.el=o(q.children),me,X);else{const K=q.el=oe.el;q.children!==oe.children&&l(K,q.children)}},y=(oe,q,me,X)=>{oe==null?n(q.el=u(q.children||""),me,X):q.el=oe.el},w=(oe,q,me,X)=>{[oe.el,oe.anchor]=m(oe.children,q,me,X,oe.el,oe.anchor)},g=({el:oe,anchor:q},me,X)=>{let K;for(;oe&&oe!==q;)K=d(oe),n(oe,me,X),oe=K;n(q,me,X)},b=({el:oe,anchor:q})=>{let me;for(;oe&&oe!==q;)me=d(oe),i(oe),oe=me;i(q)},_=(oe,q,me,X,K,de,Ee,te,ce)=>{q.type==="svg"?Ee="svg":q.type==="math"&&(Ee="mathml"),oe==null?x(q,me,X,K,de,Ee,te,ce):$(oe,q,K,de,Ee,te,ce)},x=(oe,q,me,X,K,de,Ee,te)=>{let ce,pe;const{props:Y,shapeFlag:be,transition:ye,dirs:ge}=oe;if(ce=oe.el=s(oe.type,de,Y&&Y.is,Y),be&8?c(ce,oe.children):be&16&&C(oe.children,ce,null,X,K,mx(oe,de),Ee,te),ge&&Pu(oe,null,X,"created"),E(ce,oe,oe.scopeId,Ee,X),Y){for(const ke in Y)ke!=="value"&&!H0(ke)&&a(ce,ke,null,Y[ke],de,oe.children,X,K,ae);"value"in Y&&a(ce,"value",null,Y.value,de),(pe=Y.onVnodeBeforeMount)&&ps(pe,X,oe)}ge&&Pu(oe,null,X,"beforeMount");const xe=hF(K,ye);xe&&ye.beforeEnter(ce),n(ce,q,me),((pe=Y&&Y.onVnodeMounted)||xe||ge)&&la(()=>{pe&&ps(pe,X,oe),xe&&ye.enter(ce),ge&&Pu(oe,null,X,"mounted")},K)},E=(oe,q,me,X,K)=>{if(me&&p(oe,me),X)for(let de=0;de<X.length;de++)p(oe,X[de]);if(K){let de=K.subTree;if(q===de){const Ee=K.vnode;E(oe,Ee,Ee.scopeId,Ee.slotScopeIds,K.parent)}}},C=(oe,q,me,X,K,de,Ee,te,ce=0)=>{for(let pe=ce;pe<oe.length;pe++){const Y=oe[pe]=te?Rc(oe[pe]):Bs(oe[pe]);h(null,Y,q,me,X,K,de,Ee,te)}},$=(oe,q,me,X,K,de,Ee)=>{const te=q.el=oe.el;let{patchFlag:ce,dynamicChildren:pe,dirs:Y}=q;ce|=oe.patchFlag&16;const be=oe.props||Nn,ye=q.props||Nn;let ge;if(me&&ld(me,!1),(ge=ye.onVnodeBeforeUpdate)&&ps(ge,me,q,oe),Y&&Pu(q,oe,me,"beforeUpdate"),me&&ld(me,!0),pe?D(oe.dynamicChildren,pe,te,me,X,mx(q,K),de):Ee||T(oe,q,te,null,me,X,mx(q,K),de,!1),ce>0){if(ce&16)N(te,q,be,ye,me,X,K);else if(ce&2&&be.class!==ye.class&&a(te,"class",null,ye.class,K),ce&4&&a(te,"style",be.style,ye.style,K),ce&8){const xe=q.dynamicProps;for(let ke=0;ke<xe.length;ke++){const Ke=xe[ke],Ue=be[Ke],rt=ye[Ke];(rt!==Ue||Ke==="value")&&a(te,Ke,Ue,rt,K,oe.children,me,X,ae)}}ce&1&&oe.children!==q.children&&c(te,q.children)}else!Ee&&pe==null&&N(te,q,be,ye,me,X,K);((ge=ye.onVnodeUpdated)||Y)&&la(()=>{ge&&ps(ge,me,q,oe),Y&&Pu(q,oe,me,"updated")},X)},D=(oe,q,me,X,K,de,Ee)=>{for(let te=0;te<q.length;te++){const ce=oe[te],pe=q[te],Y=ce.el&&(ce.type===tt||!zo(ce,pe)||ce.shapeFlag&70)?f(ce.el):me;h(ce,pe,Y,null,X,K,de,Ee,!0)}},N=(oe,q,me,X,K,de,Ee)=>{if(me!==X){if(me!==Nn)for(const te in me)!H0(te)&&!(te in X)&&a(oe,te,me[te],null,Ee,q.children,K,de,ae);for(const te in X){if(H0(te))continue;const ce=X[te],pe=me[te];ce!==pe&&te!=="value"&&a(oe,te,pe,ce,Ee,q.children,K,de,ae)}"value"in X&&a(oe,"value",me.value,X.value,Ee)}},k=(oe,q,me,X,K,de,Ee,te,ce)=>{const pe=q.el=oe?oe.el:o(""),Y=q.anchor=oe?oe.anchor:o("");let{patchFlag:be,dynamicChildren:ye,slotScopeIds:ge}=q;ge&&(te=te?te.concat(ge):ge),oe==null?(n(pe,me,X),n(Y,me,X),C(q.children||[],me,Y,K,de,Ee,te,ce)):be>0&&be&64&&ye&&oe.dynamicChildren?(D(oe.dynamicChildren,ye,me,K,de,Ee,te),(q.key!=null||K&&q===K.subTree)&&iC(oe,q,!0)):T(oe,q,me,Y,K,de,Ee,te,ce)},P=(oe,q,me,X,K,de,Ee,te,ce)=>{q.slotScopeIds=te,oe==null?q.shapeFlag&512?K.ctx.activate(q,me,X,Ee,ce):U(q,me,X,K,de,Ee,ce):L(oe,q,ce)},U=(oe,q,me,X,K,de,Ee)=>{const te=oe.component=AF(oe,X,K);if(ag(oe)&&(te.ctx.renderer=se),xF(te),te.asyncDep){if(K&&K.registerDep(te,B),!oe.el){const ce=te.subTree=Fe(Da);y(null,ce,q,me)}}else B(te,oe,q,me,K,de,Ee)},L=(oe,q,me)=>{const X=q.component=oe.component;if(Tae(oe,q,me))if(X.asyncDep&&!X.asyncResolved){O(X,q,me);return}else X.next=q,Sae(X.update),X.effect.dirty=!0,X.update();else q.el=oe.el,X.vnode=q},B=(oe,q,me,X,K,de,Ee)=>{const te=()=>{if(oe.isMounted){let{next:Y,bu:be,u:ye,parent:ge,vnode:xe}=oe;{const je=vF(oe);if(je){Y&&(Y.el=xe.el,O(oe,Y,Ee)),je.asyncDep.then(()=>{oe.isUnmounted||te()});return}}let ke=Y,Ke;ld(oe,!1),Y?(Y.el=xe.el,O(oe,Y,Ee)):Y=xe,be&&bm(be),(Ke=Y.props&&Y.props.onVnodeBeforeUpdate)&&ps(Ke,ge,Y,xe),ld(oe,!0);const Ue=rb(oe),rt=oe.subTree;oe.subTree=Ue,h(rt,Ue,f(rt.el),W(rt),oe,K,de),Y.el=Ue.el,ke===null&&W4(oe,Ue.el),ye&&la(ye,K),(Ke=Y.props&&Y.props.onVnodeUpdated)&&la(()=>ps(Ke,ge,Y,xe),K)}else{let Y;const{el:be,props:ye}=q,{bm:ge,m:xe,parent:ke}=oe,Ke=Id(q);if(ld(oe,!1),ge&&bm(ge),!Ke&&(Y=ye&&ye.onVnodeBeforeMount)&&ps(Y,ke,q),ld(oe,!0),be&&Te){const Ue=()=>{oe.subTree=rb(oe),Te(be,oe.subTree,oe,K,null)};Ke?q.type.__asyncLoader().then(()=>!oe.isUnmounted&&Ue()):Ue()}else{const Ue=oe.subTree=rb(oe);h(null,Ue,me,X,oe,K,de),q.el=Ue.el}if(xe&&la(xe,K),!Ke&&(Y=ye&&ye.onVnodeMounted)){const Ue=q;la(()=>ps(Y,ke,Ue),K)}(q.shapeFlag&256||ke&&Id(ke.vnode)&&ke.vnode.shapeFlag&256)&&oe.a&&la(oe.a,K),oe.isMounted=!0,q=me=X=null}},ce=oe.effect=new Im(te,Ha,()=>a2(pe),oe.scope),pe=oe.update=()=>{ce.dirty&&ce.run()};pe.id=oe.uid,ld(oe,!0),pe()},O=(oe,q,me)=>{q.component=oe;const X=oe.vnode.props;oe.vnode=q,oe.next=null,vse(oe,q.props,X,me),bse(oe,q.children,me),ep(),_T(oe),tp()},T=(oe,q,me,X,K,de,Ee,te,ce=!1)=>{const pe=oe&&oe.children,Y=oe?oe.shapeFlag:0,be=q.children,{patchFlag:ye,shapeFlag:ge}=q;if(ye>0){if(ye&128){R(pe,be,me,X,K,de,Ee,te,ce);return}else if(ye&256){j(pe,be,me,X,K,de,Ee,te,ce);return}}ge&8?(Y&16&&ae(pe,K,de),be!==pe&&c(me,be)):Y&16?ge&16?R(pe,be,me,X,K,de,Ee,te,ce):ae(pe,K,de,!0):(Y&8&&c(me,""),ge&16&&C(be,me,X,K,de,Ee,te,ce))},j=(oe,q,me,X,K,de,Ee,te,ce)=>{oe=oe||gm,q=q||gm;const pe=oe.length,Y=q.length,be=Math.min(pe,Y);let ye;for(ye=0;ye<be;ye++){const ge=q[ye]=ce?Rc(q[ye]):Bs(q[ye]);h(oe[ye],ge,me,null,K,de,Ee,te,ce)}pe>Y?ae(oe,K,de,!0,!1,be):C(q,me,X,K,de,Ee,te,ce,be)},R=(oe,q,me,X,K,de,Ee,te,ce)=>{let pe=0;const Y=q.length;let be=oe.length-1,ye=Y-1;for(;pe<=be&&pe<=ye;){const ge=oe[pe],xe=q[pe]=ce?Rc(q[pe]):Bs(q[pe]);if(zo(ge,xe))h(ge,xe,me,null,K,de,Ee,te,ce);else break;pe++}for(;pe<=be&&pe<=ye;){const ge=oe[be],xe=q[ye]=ce?Rc(q[ye]):Bs(q[ye]);if(zo(ge,xe))h(ge,xe,me,null,K,de,Ee,te,ce);else break;be--,ye--}if(pe>be){if(pe<=ye){const ge=ye+1,xe=ge<Y?q[ge].el:X;for(;pe<=ye;)h(null,q[pe]=ce?Rc(q[pe]):Bs(q[pe]),me,xe,K,de,Ee,te,ce),pe++}}else if(pe>ye)for(;pe<=be;)re(oe[pe],K,de,!0),pe++;else{const ge=pe,xe=pe,ke=new Map;for(pe=xe;pe<=ye;pe++){const G=q[pe]=ce?Rc(q[pe]):Bs(q[pe]);G.key!=null&&ke.set(G.key,pe)}let Ke,Ue=0;const rt=ye-xe+1;let je=!1,Rt=0;const Pt=new Array(rt);for(pe=0;pe<rt;pe++)Pt[pe]=0;for(pe=ge;pe<=be;pe++){const G=oe[pe];if(Ue>=rt){re(G,K,de,!0);continue}let Ne;if(G.key!=null)Ne=ke.get(G.key);else for(Ke=xe;Ke<=ye;Ke++)if(Pt[Ke-xe]===0&&zo(G,q[Ke])){Ne=Ke;break}Ne===void 0?re(G,K,de,!0):(Pt[Ne-xe]=pe+1,Ne>=Rt?Rt=Ne:je=!0,h(G,q[Ne],me,null,K,de,Ee,te,ce),Ue++)}const cr=je?xse(Pt):gm;for(Ke=cr.length-1,pe=rt-1;pe>=0;pe--){const G=xe+pe,Ne=q[G],Ge=G+1<Y?q[G+1].el:X;Pt[pe]===0?h(null,Ne,me,Ge,K,de,Ee,te,ce):je&&(Ke<0||pe!==cr[Ke]?le(Ne,me,Ge,2):Ke--)}}},le=(oe,q,me,X,K=null)=>{const{el:de,type:Ee,transition:te,children:ce,shapeFlag:pe}=oe;if(pe&6){le(oe.component.subTree,q,me,X);return}if(pe&128){oe.suspense.move(q,me,X);return}if(pe&64){Ee.move(oe,q,me,se);return}if(Ee===tt){n(de,q,me);for(let be=0;be<ce.length;be++)le(ce[be],q,me,X);n(oe.anchor,q,me);return}if(Ee===Od){g(oe,q,me);return}if(X!==2&&pe&1&&te)if(X===0)te.beforeEnter(de),n(de,q,me),la(()=>te.enter(de),K);else{const{leave:be,delayLeave:ye,afterLeave:ge}=te,xe=()=>n(de,q,me),ke=()=>{be(de,()=>{xe(),ge&&ge()})};ye?ye(de,xe,ke):ke()}else n(de,q,me)},re=(oe,q,me,X=!1,K=!1)=>{const{type:de,props:Ee,ref:te,children:ce,dynamicChildren:pe,shapeFlag:Y,patchFlag:be,dirs:ye}=oe;if(te!=null&&$b(te,null,me,oe,!0),Y&256){q.ctx.deactivate(oe);return}const ge=Y&1&&ye,xe=!Id(oe);let ke;if(xe&&(ke=Ee&&Ee.onVnodeBeforeUnmount)&&ps(ke,q,oe),Y&6)ve(oe.component,me,X);else{if(Y&128){oe.suspense.unmount(me,X);return}ge&&Pu(oe,null,q,"beforeUnmount"),Y&64?oe.type.remove(oe,q,me,K,se,X):pe&&(de!==tt||be>0&&be&64)?ae(pe,q,me,!1,!0):(de===tt&&be&384||!K&&Y&16)&&ae(ce,q,me),X&&F(oe)}(xe&&(ke=Ee&&Ee.onVnodeUnmounted)||ge)&&la(()=>{ke&&ps(ke,q,oe),ge&&Pu(oe,null,q,"unmounted")},me)},F=oe=>{const{type:q,el:me,anchor:X,transition:K}=oe;if(q===tt){H(me,X);return}if(q===Od){b(oe);return}const de=()=>{i(me),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(oe.shapeFlag&1&&K&&!K.persisted){const{leave:Ee,delayLeave:te}=K,ce=()=>Ee(me,de);te?te(oe.el,de,ce):ce()}else de()},H=(oe,q)=>{let me;for(;oe!==q;)me=d(oe),i(oe),oe=me;i(q)},ve=(oe,q,me)=>{const{bum:X,scope:K,update:de,subTree:Ee,um:te}=oe;X&&bm(X),K.stop(),de&&(de.active=!1,re(Ee,oe,q,me)),te&&la(te,q),la(()=>{oe.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},ae=(oe,q,me,X=!1,K=!1,de=0)=>{for(let Ee=de;Ee<oe.length;Ee++)re(oe[Ee],q,me,X,K)},W=oe=>oe.shapeFlag&6?W(oe.component.subTree):oe.shapeFlag&128?oe.suspense.next():d(oe.anchor||oe.el);let Q=!1;const J=(oe,q,me)=>{oe==null?q._vnode&&re(q._vnode,null,null,!0):h(q._vnode||null,oe,q,null,null,null,me),Q||(Q=!0,_T(),Eb(),Q=!1),q._vnode=oe},se={p:h,um:re,m:le,r:F,mt:U,mc:C,pc:T,pbc:D,n:W,o:e};let Ce,Te;return t&&([Ce,Te]=t(se)),{render:J,hydrate:Ce,createApp:mse(J,Ce)}}function mx({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ld({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function hF(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function iC(e,t,r=!1){const n=e.children,i=t.children;if(qt(n)&&qt(i))for(let a=0;a<n.length;a++){const s=n[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=Rc(i[a]),o.el=s.el),r||iC(s,o)),o.type===nf&&(o.el=s.el)}}function xse(e){const t=e.slice(),r=[0];let n,i,a,s,o;const u=e.length;for(n=0;n<u;n++){const l=e[n];if(l!==0){if(i=r[r.length-1],e[i]<l){t[n]=i,r.push(n);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,e[r[o]]<l?a=o+1:s=o;l<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=t[s];return r}function vF(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vF(t)}const Sse=e=>e.__isTeleport,K0=e=>e&&(e.disabled||e.disabled===""),IT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,OT=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,l3=(e,t)=>{const r=e&&e.to;return ai(r)?t?t(r):null:r},Ese={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,a,s,o,u,l){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:m,createText:h,createComment:v}}=l,y=K0(t.props);let{shapeFlag:w,children:g,dynamicChildren:b}=t;if(e==null){const _=t.el=h(""),x=t.anchor=h("");p(_,r,n),p(x,r,n);const E=t.target=l3(t.props,m),C=t.targetAnchor=h("");E&&(p(C,E),s==="svg"||IT(E)?s="svg":(s==="mathml"||OT(E))&&(s="mathml"));const $=(D,N)=>{w&16&&c(g,D,N,i,a,s,o,u)};y?$(r,x):E&&$(E,C)}else{t.el=e.el;const _=t.anchor=e.anchor,x=t.target=e.target,E=t.targetAnchor=e.targetAnchor,C=K0(e.props),$=C?r:x,D=C?_:E;if(s==="svg"||IT(x)?s="svg":(s==="mathml"||OT(x))&&(s="mathml"),b?(d(e.dynamicChildren,b,$,i,a,s,o),iC(e,t,!0)):u||f(e,t,$,D,i,a,s,o,!1),y)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ey(t,r,_,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const N=t.target=l3(t.props,m);N&&ey(t,N,null,l,0)}else C&&ey(t,x,E,l,1)}gF(t)},remove(e,t,r,n,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:u,anchor:l,targetAnchor:c,target:f,props:d}=e;if(f&&a(c),s&&a(l),o&16){const p=s||!K0(d);for(let m=0;m<u.length;m++){const h=u[m];i(h,t,r,p,!!h.dynamicChildren)}}},move:ey,hydrate:Cse};function ey(e,t,r,{o:{insert:n},m:i},a=2){a===0&&n(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:u,children:l,props:c}=e,f=a===2;if(f&&n(s,t,r),(!f||K0(c))&&u&16)for(let d=0;d<l.length;d++)i(l[d],t,r,2);f&&n(o,t,r)}function Cse(e,t,r,n,i,a,{o:{nextSibling:s,parentNode:o,querySelector:u}},l){const c=t.target=l3(t.props,u);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(K0(t.props))t.anchor=l(s(e),t,o(e),r,n,i,a),t.targetAnchor=f;else{t.anchor=s(e);let d=f;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}l(f,t,c,r,n,i,a)}gF(t)}return t.anchor&&s(t.anchor)}const aC=Ese;function gF(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const tt=Symbol.for("v-fgt"),nf=Symbol.for("v-txt"),Da=Symbol.for("v-cmt"),Od=Symbol.for("v-stc"),J0=[];let gs=null;function Z(e=!1){J0.push(gs=e?null:[])}function yF(){J0.pop(),gs=J0[J0.length-1]||null}let Fd=1;function c3(e){Fd+=e}function bF(e){return e.dynamicChildren=Fd>0?gs||gm:null,yF(),Fd>0&&gs&&gs.push(e),e}function ee(e,t,r,n,i,a){return bF(M(e,t,r,n,i,a,!0))}function Yt(e,t,r,n,i){return bF(Fe(e,t,r,n,i,!0))}function af(e){return e?e.__v_isVNode===!0:!1}function zo(e,t){return e.type===t.type&&e.key===t.key}function $se(e){}const f2="__vInternal",_F=({key:e})=>e??null,nb=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?ai(e)||mi(e)||pr(e)?{i:Ni,r:e,k:t,f:!!r}:e:null);function M(e,t=null,r=null,n=0,i=null,a=e===tt?0:1,s=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_F(t),ref:t&&nb(t),scopeId:o2,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ni};return o?(oC(u,r),a&128&&e.normalize(u)):r&&(u.shapeFlag|=ai(r)?8:16),Fd>0&&!s&&gs&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&gs.push(u),u}const Fe=Nse;function Nse(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===FL)&&(e=Da),af(e)){const o=Ku(e,t,!0);return r&&oC(o,r),Fd>0&&!a&&gs&&(o.shapeFlag&6?gs[gs.indexOf(e)]=o:gs.push(o)),o.patchFlag|=-2,o}if(Bse(e)&&(e=e.__vccOpts),t){t=sC(t);let{class:o,style:u}=t;o&&!ai(o)&&(t.class=Sr(o)),Fn(u)&&(j4(u)&&!qt(u)&&(u=ii({},u)),t.style=Kc(u))}const s=ai(e)?1:RL(e)?128:Sse(e)?64:Fn(e)?4:pr(e)?2:0;return M(e,t,r,n,i,s,a,!0)}function sC(e){return e?j4(e)||f2 in e?ii({},e):e:null}function Ku(e,t,r=!1){const{props:n,ref:i,patchFlag:a,children:s}=e,o=t?og(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&_F(o),ref:t&&t.ref?r&&i?qt(i)?i.concat(nb(t)):[i,nb(t)]:nb(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ku(e.ssContent),ssFallback:e.ssFallback&&Ku(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Xe(e=" ",t=0){return Fe(nf,null,e,t)}function Dse(e,t){const r=Fe(Od,null,e);return r.staticCount=t,r}function He(e="",t=!1){return t?(Z(),Yt(Da,null,e)):Fe(Da,null,e)}function Bs(e){return e==null||typeof e=="boolean"?Fe(Da):qt(e)?Fe(tt,null,e.slice()):typeof e=="object"?Rc(e):Fe(nf,null,String(e))}function Rc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ku(e)}function oC(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(qt(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),oC(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(f2 in t)?t._ctx=Ni:i===3&&Ni&&(Ni.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pr(t)?(t={default:t,_ctx:Ni},r=32):(t=String(t),n&64?(r=16,t=[Xe(t)]):r=8);e.children=t,e.shapeFlag|=r}function og(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Sr([t.class,n.class]));else if(i==="style")t.style=Kc([t.style,n.style]);else if(tg(i)){const a=t[i],s=n[i];s&&a!==s&&!(qt(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=n[i])}return t}function ps(e,t,r,n=null){qs(e,t,7,[r,n])}const Tse=aF();let kse=0;function AF(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||Tse,a={uid:kse++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new B4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uF(n,i),emitsOptions:BL(n,i),emit:null,emitted:null,propsDefaults:Nn,inheritAttrs:n.inheritAttrs,ctx:Nn,data:Nn,props:Nn,attrs:Nn,slots:Nn,refs:Nn,setupState:Nn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Cae.bind(null,a),e.ce&&e.ce(a),a}let ji=null;const Ia=()=>ji||Ni;let Nb,f3;{const e=oL(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};Nb=t("__VUE_INSTANCE_SETTERS__",r=>ji=r),f3=t("__VUE_SSR_SETTERS__",r=>ug=r)}const Rd=e=>{const t=ji;return Nb(e),e.scope.on(),()=>{e.scope.off(),Nb(t)}},d3=()=>{ji&&ji.scope.off(),Nb(null)};function wF(e){return e.vnode.shapeFlag&4}let ug=!1;function xF(e,t=!1){t&&f3(t);const{props:r,children:n}=e.vnode,i=wF(e);hse(e,r,i,t),yse(e,n);const a=i?Ise(e,t):void 0;return t&&f3(!1),a}function Ise(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ng(new Proxy(e.ctx,a3));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?EF(e):null,a=Rd(e);ep();const s=Ul(n,e,0,[e.props,i]);if(tp(),a(),M4(s)){if(s.then(d3,d3),t)return s.then(o=>{p3(e,o,t)}).catch(o=>{rp(o,e,0)});e.asyncDep=s}else p3(e,s,t)}else SF(e,t)}function p3(e,t,r){pr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fn(t)&&(e.setupState=G4(t)),SF(e,r)}let Db,m3;function Ose(e){Db=e,m3=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Wae))}}const Mse=()=>!Db;function SF(e,t,r){const n=e.type;if(!e.render){if(!t&&Db&&!n.render){const i=n.template||rC(e).template;if(i){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:u}=n,l=ii(ii({isCustomElement:a,delimiters:o},s),u);n.render=Db(i,l)}}e.render=n.render||Ha,m3&&m3(e)}{const i=Rd(e);ep();try{use(e)}finally{tp(),i()}}}function Pse(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Ss(e,"get","$attrs"),t[r]}}))}function EF(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return Pse(e)},slots:e.slots,emit:e.emit,expose:t}}function d2(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(G4(ng(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Z0)return Z0[r](e)},has(t,r){return r in t||r in Z0}}))}function h3(e,t=!0){return pr(e)?e.displayName||e.name:e.name||t&&e.__name}function Bse(e){return pr(e)&&"__vccOpts"in e}const Oe=(e,t)=>uae(e,t,ug);function Lse(e,t,r=Nn){const n=Ia(),i=Za(t),a=Ls(t),s=DL((u,l)=>{let c;return VL(()=>{const f=e[t];ru(c,f)&&(c=f,l())}),{get(){return u(),r.get?r.get(c):c},set(f){const d=n.vnode.props;!(d&&(t in d||i in d||a in d)&&(`onUpdate:${t}`in d||`onUpdate:${i}`in d||`onUpdate:${a}`in d))&&ru(f,c)&&(c=f,l()),n.emit(`update:${t}`,r.set?r.set(f):f)}}}),o=t==="modelValue"?"modelModifiers":`${t}Modifiers`;return s[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?e[o]||{}:s,done:!1}:{done:!0}}}},s}function np(e,t,r){const n=arguments.length;return n===2?Fn(t)&&!qt(t)?af(t)?Fe(e,null,[t]):Fe(e,t):Fe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&af(r)&&(r=[r]),Fe(e,t,r))}function Fse(){}function Rse(e,t,r,n){const i=r[n];if(i&&CF(i,e))return i;const a=t();return a.memo=e.slice(),r[n]=a}function CF(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let n=0;n<r.length;n++)if(ru(r[n],t[n]))return!1;return Fd>0&&gs&&gs.push(e),!0}const $F="3.4.15",Use=Ha,zse=Aae,qse=am,jse=PL,Vse={createComponentInstance:AF,setupComponent:xF,renderComponentRoot:rb,setCurrentRenderingInstance:mv,isVNode:af,normalizeVNode:Bs},Hse=Vse,Gse=null,Zse=null,Wse=null;/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kse="http://www.w3.org/2000/svg",Jse="http://www.w3.org/1998/Math/MathML",Uc=typeof document<"u"?document:null,MT=Uc&&Uc.createElement("template"),Yse={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?Uc.createElementNS(Kse,e):t==="mathml"?Uc.createElementNS(Jse,e):Uc.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Uc.createTextNode(e),createComment:e=>Uc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Uc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const s=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{MT.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const o=MT.content;if(n==="svg"||n==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},$c="transition",S0="animation",Mm=Symbol("_vtc"),lg=(e,{slots:t})=>np(GL,DF(e),t);lg.displayName="Transition";const NF={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xse=lg.props=ii({},eC,NF),cd=(e,t=[])=>{qt(e)?e.forEach(r=>r(...t)):e&&e(...t)},PT=e=>e?qt(e)?e.some(t=>t.length>1):e.length>1:!1;function DF(e){const t={};for(const k in e)k in NF||(t[k]=e[k]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:u=a,appearActiveClass:l=s,appearToClass:c=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,m=Qse(i),h=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:g,onLeave:b,onLeaveCancelled:_,onBeforeAppear:x=y,onAppear:E=w,onAppearCancelled:C=g}=t,$=(k,P,U)=>{kc(k,P?c:o),kc(k,P?l:s),U&&U()},D=(k,P)=>{k._isLeaving=!1,kc(k,f),kc(k,p),kc(k,d),P&&P()},N=k=>(P,U)=>{const L=k?E:w,B=()=>$(P,k,U);cd(L,[P,B]),BT(()=>{kc(P,k?u:a),Sl(P,k?c:o),PT(L)||LT(P,n,h,B)})};return ii(t,{onBeforeEnter(k){cd(y,[k]),Sl(k,a),Sl(k,s)},onBeforeAppear(k){cd(x,[k]),Sl(k,u),Sl(k,l)},onEnter:N(!1),onAppear:N(!0),onLeave(k,P){k._isLeaving=!0;const U=()=>D(k,P);Sl(k,f),kF(),Sl(k,d),BT(()=>{k._isLeaving&&(kc(k,f),Sl(k,p),PT(b)||LT(k,n,v,U))}),cd(b,[k,U])},onEnterCancelled(k){$(k,!1),cd(g,[k])},onAppearCancelled(k){$(k,!0),cd(C,[k])},onLeaveCancelled(k){D(k),cd(_,[k])}})}function Qse(e){if(e==null)return null;if(Fn(e))return[hx(e.enter),hx(e.leave)];{const t=hx(e);return[t,t]}}function hx(e){return wb(e)}function Sl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Mm]||(e[Mm]=new Set)).add(t)}function kc(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Mm];r&&(r.delete(t),r.size||(e[Mm]=void 0))}function BT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let eoe=0;function LT(e,t,r,n){const i=e._endId=++eoe,a=()=>{i===e._endId&&n()};if(r)return setTimeout(a,r);const{type:s,timeout:o,propCount:u}=TF(e,t);if(!s)return n();const l=s+"end";let c=0;const f=()=>{e.removeEventListener(l,d),a()},d=p=>{p.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},o+1),e.addEventListener(l,d)}function TF(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),i=n(`${$c}Delay`),a=n(`${$c}Duration`),s=FT(i,a),o=n(`${S0}Delay`),u=n(`${S0}Duration`),l=FT(o,u);let c=null,f=0,d=0;t===$c?s>0&&(c=$c,f=s,d=a.length):t===S0?l>0&&(c=S0,f=l,d=u.length):(f=Math.max(s,l),c=f>0?s>l?$c:S0:null,d=c?c===$c?a.length:u.length:0);const p=c===$c&&/\b(transform|all)(,|$)/.test(n(`${$c}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function FT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>RT(r)+RT(e[n])))}function RT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function kF(){return document.body.offsetHeight}function toe(e,t,r){const n=e[Mm];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const uC=Symbol("_vod"),IF={beforeMount(e,{value:t},{transition:r}){e[uC]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):E0(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),E0(e,!0),n.enter(e)):n.leave(e,()=>{E0(e,!1)}):E0(e,t))},beforeUnmount(e,{value:t}){E0(e,t)}};function E0(e,t){e.style.display=t?e[uC]:"none"}function roe(){IF.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const OF=Symbol("");function noe(e){const t=Ia();if(!t)return;const r=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(a=>g3(a,i))},n=()=>{const i=e(t.proxy);v3(t.subTree,i),r(i)};jL(n),wf(()=>{const i=new MutationObserver(n);i.observe(t.subTree.el.parentNode,{childList:!0}),sg(()=>i.disconnect())})}function v3(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{v3(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)g3(e.el,t);else if(e.type===tt)e.children.forEach(r=>v3(r,t));else if(e.type===Od){let{el:r,anchor:n}=e;for(;r&&(g3(r,t),r!==n);)r=r.nextSibling}}function g3(e,t){if(e.nodeType===1){const r=e.style;let n="";for(const i in t)r.setProperty(`--${i}`,t[i]),n+=`--${i}: ${t[i]};`;r[OF]=n}}function ioe(e,t,r){const n=e.style,i=n.display,a=ai(r);if(r&&!a){if(t&&!ai(t))for(const s in t)r[s]==null&&y3(n,s,"");for(const s in r)y3(n,s,r[s])}else if(a){if(t!==r){const s=n[OF];s&&(r+=";"+s),n.cssText=r}}else t&&e.removeAttribute("style");uC in e&&(n.display=i)}const UT=/\s*!important$/;function y3(e,t,r){if(qt(r))r.forEach(n=>y3(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=aoe(e,t);UT.test(r)?e.setProperty(Ls(n),r.replace(UT,""),"important"):e[n]=r}}const zT=["Webkit","Moz","ms"],vx={};function aoe(e,t){const r=vx[t];if(r)return r;let n=Za(t);if(n!=="filter"&&n in e)return vx[t]=n;n=rg(n);for(let i=0;i<zT.length;i++){const a=zT[i]+n;if(a in e)return vx[t]=a}return t}const qT="http://www.w3.org/1999/xlink";function soe(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(qT,t.slice(6,t.length)):e.setAttributeNS(qT,t,r);else{const a=Lie(t);r==null||a&&!lL(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function ooe(e,t,r,n,i,a,s){if(t==="innerHTML"||t==="textContent"){n&&s(n,i,a),e[t]=r??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=r;const l=o==="OPTION"?e.getAttribute("value"):e.value,c=r??"";l!==c&&(e.value=c),r==null&&e.removeAttribute(t);return}let u=!1;if(r===""||r==null){const l=typeof e[t];l==="boolean"?r=lL(r):r==null&&l==="string"?(r="",u=!0):l==="number"&&(r=0,u=!0)}try{e[t]=r}catch{}u&&e.removeAttribute(t)}function Tl(e,t,r,n){e.addEventListener(t,r,n)}function uoe(e,t,r,n){e.removeEventListener(t,r,n)}const jT=Symbol("_vei");function loe(e,t,r,n,i=null){const a=e[jT]||(e[jT]={}),s=a[t];if(n&&s)s.value=n;else{const[o,u]=coe(t);if(n){const l=a[t]=poe(n,i);Tl(e,o,l,u)}else s&&(uoe(e,o,s,u),a[t]=void 0)}}const VT=/(?:Once|Passive|Capture)$/;function coe(e){let t;if(VT.test(e)){t={};let n;for(;n=e.match(VT);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ls(e.slice(2)),t]}let gx=0;const foe=Promise.resolve(),doe=()=>gx||(foe.then(()=>gx=0),gx=Date.now());function poe(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;qs(moe(n,r.value),t,5,[n])};return r.value=e,r.attached=doe(),r}function moe(e,t){if(qt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const HT=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,hoe=(e,t,r,n,i,a,s,o,u)=>{const l=i==="svg";t==="class"?toe(e,n,l):t==="style"?ioe(e,r,n):tg(t)?I4(t)||loe(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):voe(e,t,n,l))?ooe(e,t,n,a,s,o,u):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),soe(e,t,n,l))};function voe(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&HT(t)&&pr(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return HT(t)&&ai(r)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function MF(e,t){const r=ft(e);class n extends p2{constructor(a){super(r,a,t)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const goe=e=>MF(e,VF),yoe=typeof HTMLElement<"u"?HTMLElement:class{};class p2 extends yoe{constructor(t,r={},n){super(),this._def=t,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),_f(()=>{this._connected||(b3(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const i of n)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(n,i=!1)=>{const{props:a,styles:s}=n;let o;if(a&&!qt(a))for(const u in a){const l=a[u];(l===Number||l&&l.type===Number)&&(u in this._props&&(this._props[u]=wb(this._props[u])),(o||(o=Object.create(null)))[Za(u)]=!0)}this._numberProps=o,i&&this._resolveProps(n),this._applyStyles(s),this._update()},r=this._def.__asyncLoader;r?r().then(n=>t(n,!0)):t(this._def)}_resolveProps(t){const{props:r}=t,n=qt(r)?r:Object.keys(r||{});for(const i of Object.keys(this))i[0]!=="_"&&n.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of n.map(Za))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(a){this._setProp(i,a)}})}_setAttr(t){let r=this.getAttribute(t);const n=Za(t);this._numberProps&&this._numberProps[n]&&(r=wb(r)),this._setProp(n,r,!1)}_getProp(t){return this._props[t]}_setProp(t,r,n=!0,i=!0){r!==this._props[t]&&(this._props[t]=r,i&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Ls(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Ls(t),r+""):r||this.removeAttribute(Ls(t))))}_update(){b3(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Fe(this._def,ii({},this._props));return this._instance||(t.ce=r=>{this._instance=r,r.isCE=!0;const n=(a,s)=>{this.dispatchEvent(new CustomEvent(a,{detail:s}))};r.emit=(a,...s)=>{n(a,s),Ls(a)!==a&&n(Ls(a),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof p2){r.parent=i._instance,r.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function boe(e="$style"){{const t=Ia();if(!t)return Nn;const r=t.type.__cssModules;if(!r)return Nn;const n=r[e];return n||Nn}}const PF=new WeakMap,BF=new WeakMap,Tb=Symbol("_moveCb"),GT=Symbol("_enterCb"),LF={name:"TransitionGroup",props:ii({},Xse,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ia(),n=Q4();let i,a;return c2(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Eoe(i[0].el,r.vnode.el,s))return;i.forEach(woe),i.forEach(xoe);const o=i.filter(Soe);kF(),o.forEach(u=>{const l=u.el,c=l.style;Sl(l,s),c.transform=c.webkitTransform=c.transitionDuration="";const f=l[Tb]=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",f),l[Tb]=null,kc(l,s))};l.addEventListener("transitionend",f)})}),()=>{const s=an(e),o=DF(s);let u=s.tag||tt;i=a,a=t.default?u2(t.default()):[];for(let l=0;l<a.length;l++){const c=a[l];c.key!=null&&Ld(c,Om(c,o,n,r))}if(i)for(let l=0;l<i.length;l++){const c=i[l];Ld(c,Om(c,o,n,r)),PF.set(c,c.el.getBoundingClientRect())}return Fe(u,null,a)}}},_oe=e=>delete e.mode;LF.props;const Aoe=LF;function woe(e){const t=e.el;t[Tb]&&t[Tb](),t[GT]&&t[GT]()}function xoe(e){BF.set(e,e.el.getBoundingClientRect())}function Soe(e){const t=PF.get(e),r=BF.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${i}px)`,a.transitionDuration="0s",e}}function Eoe(e,t,r){const n=e.cloneNode(),i=e[Mm];i&&i.forEach(o=>{o.split(/\s+/).forEach(u=>u&&n.classList.remove(u))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:s}=TF(n);return a.removeChild(n),s}const sf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return qt(t)?r=>bm(t,r):t};function Coe(e){e.target.composing=!0}function ZT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ho=Symbol("_assign"),gt={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[ho]=sf(i);const a=n||i.props&&i.props.type==="number";Tl(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;r&&(o=o.trim()),a&&(o=lv(o)),e[ho](o)}),r&&Tl(e,"change",()=>{e.value=e.value.trim()}),t||(Tl(e,"compositionstart",Coe),Tl(e,"compositionend",ZT),Tl(e,"change",ZT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},a){if(e[ho]=sf(a),e.composing)return;const s=i||e.type==="number"?lv(e.value):e.value,o=t??"";s!==o&&(document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===o)||(e.value=o))}},ys={deep:!0,created(e,t,r){e[ho]=sf(r),Tl(e,"change",()=>{const n=e._modelValue,i=Pm(e),a=e.checked,s=e[ho];if(qt(n)){const o=e2(n,i),u=o!==-1;if(a&&!u)s(n.concat(i));else if(!a&&u){const l=[...n];l.splice(o,1),s(l)}}else if(Qd(n)){const o=new Set(n);a?o.add(i):o.delete(i),s(o)}else s(FF(e,a))})},mounted:WT,beforeUpdate(e,t,r){e[ho]=sf(r),WT(e,t,r)}};function WT(e,{value:t,oldValue:r},n){e._modelValue=t,qt(t)?e.checked=e2(t,n.props.value)>-1:Qd(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=Hl(t,FF(e,!0)))}const lC={created(e,{value:t},r){e.checked=Hl(t,r.props.value),e[ho]=sf(r),Tl(e,"change",()=>{e[ho](Pm(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[ho]=sf(n),t!==r&&(e.checked=Hl(t,n.props.value))}},lr={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const i=Qd(t);Tl(e,"change",()=>{const a=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>r?lv(Pm(s)):Pm(s));e[ho](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,_f(()=>{e._assigning=!1})}),e[ho]=sf(n)},mounted(e,{value:t,oldValue:r,modifiers:{number:n}}){KT(e,t,r,n)},beforeUpdate(e,t,r){e[ho]=sf(r)},updated(e,{value:t,oldValue:r,modifiers:{number:n}}){e._assigning||KT(e,t,r,n)}};function KT(e,t,r,n){const i=e.multiple,a=qt(t);if(!(i&&!a&&!Qd(t))&&!(a&&Hl(t,r))){for(let s=0,o=e.options.length;s<o;s++){const u=e.options[s],l=Pm(u);if(i)if(a){const c=typeof l;c==="string"||c==="number"?u.selected=t.includes(n?lv(l):l):u.selected=e2(t,l)>-1}else u.selected=t.has(l);else if(Hl(Pm(u),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Pm(e){return"_value"in e?e._value:e.value}function FF(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const RF={created(e,t,r){ty(e,t,r,null,"created")},mounted(e,t,r){ty(e,t,r,null,"mounted")},beforeUpdate(e,t,r,n){ty(e,t,r,n,"beforeUpdate")},updated(e,t,r,n){ty(e,t,r,n,"updated")}};function UF(e,t){switch(e){case"SELECT":return lr;case"TEXTAREA":return gt;default:switch(t){case"checkbox":return ys;case"radio":return lC;default:return gt}}}function ty(e,t,r,n,i){const s=UF(e.tagName,r.props&&r.props.type)[i];s&&s(e,t,r,n)}function $oe(){gt.getSSRProps=({value:e})=>({value:e}),lC.getSSRProps=({value:e},t)=>{if(t.props&&Hl(t.props.value,e))return{checked:!0}},ys.getSSRProps=({value:e},t)=>{if(qt(e)){if(t.props&&e2(e,t.props.value)>-1)return{checked:!0}}else if(Qd(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},RF.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=UF(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const Noe=["ctrl","shift","alt","meta"],Doe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Noe.some(r=>e[`${r}Key`]&&!t.includes(r))},Qr=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...a)=>{for(let s=0;s<t.length;s++){const o=Doe[t[s]];if(o&&o(i,t))return}return e(i,...a)})},Toe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},m2=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const a=Ls(i.key);if(t.some(s=>s===a||Toe[s]===a))return e(i)})},zF=ii({patchProp:hoe},Yse);let Y0,JT=!1;function qF(){return Y0||(Y0=dF(zF))}function jF(){return Y0=JT?Y0:pF(zF),JT=!0,Y0}const b3=(...e)=>{qF().render(...e)},VF=(...e)=>{jF().hydrate(...e)},cC=(...e)=>{const t=qF().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=GF(n);if(!i)return;const a=t._component;!pr(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,HF(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},koe=(...e)=>{const t=jF().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=GF(n);if(i)return r(i,!0,HF(i))},t};function HF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function GF(e){return ai(e)?document.querySelector(e):e}let YT=!1;const Ioe=()=>{YT||(YT=!0,$oe(),roe())};/**
* vue v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ooe=()=>{},Moe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:GL,BaseTransitionPropsValidators:eC,Comment:Da,DeprecationTypes:Wse,EffectScope:B4,ErrorCodes:_ae,ErrorTypeStrings:zse,Fragment:tt,KeepAlive:Vae,ReactiveEffect:Im,Static:Od,Suspense:Oae,Teleport:aC,Text:nf,TrackOpTypes:gae,Transition:lg,TransitionGroup:Aoe,TriggerOpTypes:yae,VueElement:p2,assertNumber:bae,callWithAsyncErrorHandling:qs,callWithErrorHandling:Ul,camelize:Za,capitalize:rg,cloneVNode:Ku,compatUtils:Zse,compile:Ooe,computed:Oe,createApp:cC,createBlock:Yt,createCommentVNode:He,createElementBlock:ee,createElementVNode:M,createHydrationRenderer:pF,createPropsRestProxy:sse,createRenderer:dF,createSSRApp:koe,createSlots:Gae,createStaticVNode:Dse,createTextVNode:Xe,createVNode:Fe,customRef:DL,defineAsyncComponent:qae,defineComponent:ft,defineCustomElement:MF,defineEmits:Jae,defineExpose:Yae,defineModel:ese,defineOptions:Xae,defineProps:Kae,defineSSRCustomElement:goe,defineSlots:Qae,devtools:qse,effect:Uie,effectScope:t2,getCurrentInstance:Ia,getCurrentScope:L4,getTransitionRawChildren:u2,guardReactiveProps:sC,h:np,handleError:rp,hasInjectionContext:sF,hydrate:VF,initCustomFormatter:Fse,initDirectivesForSSR:Ioe,inject:js,isMemoSame:CF,isProxy:j4,isReactive:Rl,isReadonly:Bd,isRef:mi,isRuntimeOnly:Mse,isShallow:cv,isVNode:af,markRaw:ng,mergeDefaults:ise,mergeModels:ase,mergeProps:og,nextTick:_f,normalizeClass:Sr,normalizeProps:uL,normalizeStyle:Kc,onActivated:WL,onBeforeMount:tC,onBeforeUnmount:wh,onBeforeUpdate:YL,onDeactivated:KL,onErrorCaptured:tF,onMounted:wf,onRenderTracked:eF,onRenderTriggered:QL,onScopeDispose:dL,onServerPrefetch:XL,onUnmounted:sg,onUpdated:c2,openBlock:Z,popScopeId:Gi,provide:W0,proxyRefs:G4,pushScopeId:Hi,queuePostFlushCb:Sb,reactive:Gs,readonly:q4,ref:Pe,registerRuntimeCompiler:Ose,render:b3,renderList:wt,renderSlot:rf,resolveComponent:Wu,resolveDirective:Af,resolveDynamicComponent:J4,resolveFilter:Gse,resolveTransitionHooks:Om,setBlockTracking:c3,setDevtoolsHook:jse,setTransitionHooks:Ld,shallowReactive:z4,shallowReadonly:oae,shallowRef:Oi,ssrContextKey:zL,ssrUtils:Hse,stop:zie,toDisplayString:ne,toHandlerKey:G0,toHandlers:Zae,toRaw:an,toRef:vae,toRefs:TL,toValue:fae,transformVNodeArgs:$se,triggerRef:cae,unref:he,useAttrs:nse,useCssModule:boe,useCssVars:noe,useModel:Lse,useSSRContext:qL,useSlots:rse,useTransitionState:Q4,vModelCheckbox:ys,vModelDynamic:RF,vModelRadio:lC,vModelSelect:lr,vModelText:gt,vShow:IF,version:$F,warn:Use,watch:Xn,watchEffect:Rae,watchPostEffect:jL,watchSyncEffect:VL,withAsyncContext:ose,withCtx:Xr,withDefaults:tse,withDirectives:Ze,withKeys:m2,withMemo:Rse,withModifiers:Qr,withScopeId:LL},Symbol.toStringTag,{value:"Module"}));var Poe=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ZF;const h2=e=>ZF=e,WF=Symbol();function _3(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var X0;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(X0||(X0={}));function Boe(){const e=t2(!0),t=e.run(()=>Pe({}));let r=[],n=[];const i=ng({install(a){h2(i),i._a=a,a.provide(WF,i),a.config.globalProperties.$pinia=i,n.forEach(s=>r.push(s)),n=[]},use(a){return!this._a&&!Poe?n.push(a):r.push(a),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const KF=()=>{};function XT(e,t,r,n=KF){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),n())};return!r&&L4()&&dL(i),i}function Gp(e,...t){e.slice().forEach(r=>{r(...t)})}const Loe=e=>e();function A3(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];_3(i)&&_3(n)&&e.hasOwnProperty(r)&&!mi(n)&&!Rl(n)?e[r]=A3(i,n):e[r]=n}return e}const Foe=Symbol();function Roe(e){return!_3(e)||!e.hasOwnProperty(Foe)}const{assign:Ic}=Object;function Uoe(e){return!!(mi(e)&&e.effect)}function zoe(e,t,r,n){const{state:i,actions:a,getters:s}=t,o=r.state.value[e];let u;function l(){o||(r.state.value[e]=i?i():{});const c=TL(r.state.value[e]);return Ic(c,a,Object.keys(s||{}).reduce((f,d)=>(f[d]=ng(Oe(()=>{h2(r);const p=r._s.get(e);return s[d].call(p,p)})),f),{}))}return u=JF(e,l,t,r,n,!0),u}function JF(e,t,r={},n,i,a){let s;const o=Ic({actions:{}},r),u={deep:!0};let l,c,f=[],d=[],p;const m=n.state.value[e];!a&&!m&&(n.state.value[e]={}),Pe({});let h;function v(C){let $;l=c=!1,typeof C=="function"?(C(n.state.value[e]),$={type:X0.patchFunction,storeId:e,events:p}):(A3(n.state.value[e],C),$={type:X0.patchObject,payload:C,storeId:e,events:p});const D=h=Symbol();_f().then(()=>{h===D&&(l=!0)}),c=!0,Gp(f,$,n.state.value[e])}const y=a?function(){const{state:$}=r,D=$?$():{};this.$patch(N=>{Ic(N,D)})}:KF;function w(){s.stop(),f=[],d=[],n._s.delete(e)}function g(C,$){return function(){h2(n);const D=Array.from(arguments),N=[],k=[];function P(B){N.push(B)}function U(B){k.push(B)}Gp(d,{args:D,name:C,store:_,after:P,onError:U});let L;try{L=$.apply(this&&this.$id===e?this:_,D)}catch(B){throw Gp(k,B),B}return L instanceof Promise?L.then(B=>(Gp(N,B),B)).catch(B=>(Gp(k,B),Promise.reject(B))):(Gp(N,L),L)}}const b={_p:n,$id:e,$onAction:XT.bind(null,d),$patch:v,$reset:y,$subscribe(C,$={}){const D=XT(f,C,$.detached,()=>N()),N=s.run(()=>Xn(()=>n.state.value[e],k=>{($.flush==="sync"?c:l)&&C({storeId:e,type:X0.direct,events:p},k)},Ic({},u,$)));return D},$dispose:w},_=Gs(b);n._s.set(e,_);const E=(n._a&&n._a.runWithContext||Loe)(()=>n._e.run(()=>(s=t2()).run(t)));for(const C in E){const $=E[C];if(mi($)&&!Uoe($)||Rl($))a||(m&&Roe($)&&(mi($)?$.value=m[C]:A3($,m[C])),n.state.value[e][C]=$);else if(typeof $=="function"){const D=g(C,$);E[C]=D,o.actions[C]=$}}return Ic(_,E),Ic(an(_),E),Object.defineProperty(_,"$state",{get:()=>n.state.value[e],set:C=>{v($=>{Ic($,C)})}}),n._p.forEach(C=>{Ic(_,s.run(()=>C({store:_,app:n._a,pinia:n,options:o})))}),m&&a&&r.hydrate&&r.hydrate(_.$state,m),l=!0,c=!0,_}function hi(e,t,r){let n,i;const a=typeof t=="function";typeof e=="string"?(n=e,i=a?r:t):(i=e,n=e.id);function s(o,u){const l=sF();return o=o||(l?js(WF,null):null),o&&h2(o),o=ZF,o._s.has(n)||(a?JF(n,t,i,o):zoe(n,i,o)),o._s.get(n)}return s.$id=n,s}/*!
  * shared v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const kb=typeof window<"u",xf=(e,t=!1)=>t?Symbol.for(e):Symbol(e),qoe=(e,t,r)=>joe({l:e,k:t,s:r}),joe=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),xi=e=>typeof e=="number"&&isFinite(e),Voe=e=>XF(e)==="[object Date]",of=e=>XF(e)==="[object RegExp]",v2=e=>_r(e)&&Object.keys(e).length===0,ma=Object.assign,Hoe=Object.create,Bn=(e=null)=>Hoe(e);let QT;const kl=()=>QT||(QT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Bn());function ek(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Goe=Object.prototype.hasOwnProperty;function Vo(e,t){return Goe.call(e,t)}const Yn=Array.isArray,Gn=e=>typeof e=="function",Ot=e=>typeof e=="string",Zr=e=>typeof e=="boolean",mn=e=>e!==null&&typeof e=="object",Zoe=e=>mn(e)&&Gn(e.then)&&Gn(e.catch),YF=Object.prototype.toString,XF=e=>YF.call(e),_r=e=>{if(!mn(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Woe=e=>e==null?"":Yn(e)||_r(e)&&e.toString===YF?JSON.stringify(e,null,2):String(e);function Koe(e,t=""){return e.reduce((r,n,i)=>i===0?r+n:r+t+n,"")}function g2(e){let t=e;return()=>++t}function Joe(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const ry=e=>!mn(e)||Yn(e);function ib(e,t){if(ry(e)||ry(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(a=>{a!=="__proto__"&&(mn(n[a])&&!mn(i[a])&&(i[a]=Array.isArray(n[a])?[]:Bn()),ry(i[a])||ry(n[a])?i[a]=n[a]:r.push({src:n[a],des:i[a]}))})}}/*!
  * message-compiler v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Yoe(e,t,r){return{line:e,column:t,offset:r}}function Ib(e,t,r){const n={start:e,end:t};return r!=null&&(n.source=r),n}const Xoe=/\{([0-9a-zA-Z]+)\}/g;function QF(e,...t){return t.length===1&&Qoe(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Xoe,(r,n)=>t.hasOwnProperty(n)?t[n]:"")}const eR=Object.assign,tk=e=>typeof e=="string",Qoe=e=>e!==null&&typeof e=="object";function tR(e,t=""){return e.reduce((r,n,i)=>i===0?r+n:r+t+n,"")}const fC={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},eue={[fC.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function tue(e,t,...r){const n=QF(eue[e]||"",...r||[]),i={message:String(n),code:e};return t&&(i.location=t),i}const or={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},rue={[or.EXPECTED_TOKEN]:"Expected token: '{0}'",[or.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[or.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[or.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[or.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[or.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[or.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[or.EMPTY_PLACEHOLDER]:"Empty placeholder",[or.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[or.INVALID_LINKED_FORMAT]:"Invalid linked format",[or.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[or.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[or.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[or.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[or.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[or.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function xh(e,t,r={}){const{domain:n,messages:i,args:a}=r,s=QF((i||rue)[e]||"",...a||[]),o=new SyntaxError(String(s));return o.code=e,t&&(o.location=t),o.domain=n,o}function nue(e){throw e}const yl=" ",iue="\r",ja=`
`,aue=String.fromCharCode(8232),sue=String.fromCharCode(8233);function oue(e){const t=e;let r=0,n=1,i=1,a=0;const s=E=>t[E]===iue&&t[E+1]===ja,o=E=>t[E]===ja,u=E=>t[E]===sue,l=E=>t[E]===aue,c=E=>s(E)||o(E)||u(E)||l(E),f=()=>r,d=()=>n,p=()=>i,m=()=>a,h=E=>s(E)||u(E)||l(E)?ja:t[E],v=()=>h(r),y=()=>h(r+a);function w(){return a=0,c(r)&&(n++,i=0),s(r)&&r++,r++,i++,t[r]}function g(){return s(r+a)&&a++,a++,t[r+a]}function b(){r=0,n=1,i=1,a=0}function _(E=0){a=E}function x(){const E=r+a;for(;E!==r;)w();a=0}return{index:f,line:d,column:p,peekOffset:m,charAt:h,currentChar:v,currentPeek:y,next:w,peek:g,reset:b,resetPeek:_,skipToPeek:x}}const Nc=void 0,uue=".",rk="'",lue="tokenizer";function cue(e,t={}){const r=t.location!==!1,n=oue(e),i=()=>n.index(),a=()=>Yoe(n.line(),n.column(),n.index()),s=a(),o=i(),u={currentType:14,offset:o,startLoc:s,endLoc:s,lastType:14,lastOffset:o,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},l=()=>u,{onError:c}=t;function f(te,ce,pe,...Y){const be=l();if(ce.column+=pe,ce.offset+=pe,c){const ye=r?Ib(be.startLoc,ce):null,ge=xh(te,ye,{domain:lue,args:Y});c(ge)}}function d(te,ce,pe){te.endLoc=a(),te.currentType=ce;const Y={type:ce};return r&&(Y.loc=Ib(te.startLoc,te.endLoc)),pe!=null&&(Y.value=pe),Y}const p=te=>d(te,14);function m(te,ce){return te.currentChar()===ce?(te.next(),ce):(f(or.EXPECTED_TOKEN,a(),0,ce),"")}function h(te){let ce="";for(;te.currentPeek()===yl||te.currentPeek()===ja;)ce+=te.currentPeek(),te.peek();return ce}function v(te){const ce=h(te);return te.skipToPeek(),ce}function y(te){if(te===Nc)return!1;const ce=te.charCodeAt(0);return ce>=97&&ce<=122||ce>=65&&ce<=90||ce===95}function w(te){if(te===Nc)return!1;const ce=te.charCodeAt(0);return ce>=48&&ce<=57}function g(te,ce){const{currentType:pe}=ce;if(pe!==2)return!1;h(te);const Y=y(te.currentPeek());return te.resetPeek(),Y}function b(te,ce){const{currentType:pe}=ce;if(pe!==2)return!1;h(te);const Y=te.currentPeek()==="-"?te.peek():te.currentPeek(),be=w(Y);return te.resetPeek(),be}function _(te,ce){const{currentType:pe}=ce;if(pe!==2)return!1;h(te);const Y=te.currentPeek()===rk;return te.resetPeek(),Y}function x(te,ce){const{currentType:pe}=ce;if(pe!==8)return!1;h(te);const Y=te.currentPeek()===".";return te.resetPeek(),Y}function E(te,ce){const{currentType:pe}=ce;if(pe!==9)return!1;h(te);const Y=y(te.currentPeek());return te.resetPeek(),Y}function C(te,ce){const{currentType:pe}=ce;if(!(pe===8||pe===12))return!1;h(te);const Y=te.currentPeek()===":";return te.resetPeek(),Y}function $(te,ce){const{currentType:pe}=ce;if(pe!==10)return!1;const Y=()=>{const ye=te.currentPeek();return ye==="{"?y(te.peek()):ye==="@"||ye==="%"||ye==="|"||ye===":"||ye==="."||ye===yl||!ye?!1:ye===ja?(te.peek(),Y()):k(te,!1)},be=Y();return te.resetPeek(),be}function D(te){h(te);const ce=te.currentPeek()==="|";return te.resetPeek(),ce}function N(te){const ce=h(te),pe=te.currentPeek()==="%"&&te.peek()==="{";return te.resetPeek(),{isModulo:pe,hasSpace:ce.length>0}}function k(te,ce=!0){const pe=(be=!1,ye="",ge=!1)=>{const xe=te.currentPeek();return xe==="{"?ye==="%"?!1:be:xe==="@"||!xe?ye==="%"?!0:be:xe==="%"?(te.peek(),pe(be,"%",!0)):xe==="|"?ye==="%"||ge?!0:!(ye===yl||ye===ja):xe===yl?(te.peek(),pe(!0,yl,ge)):xe===ja?(te.peek(),pe(!0,ja,ge)):!0},Y=pe();return ce&&te.resetPeek(),Y}function P(te,ce){const pe=te.currentChar();return pe===Nc?Nc:ce(pe)?(te.next(),pe):null}function U(te){const ce=te.charCodeAt(0);return ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||ce===95||ce===36}function L(te){return P(te,U)}function B(te){const ce=te.charCodeAt(0);return ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||ce===95||ce===36||ce===45}function O(te){return P(te,B)}function T(te){const ce=te.charCodeAt(0);return ce>=48&&ce<=57}function j(te){return P(te,T)}function R(te){const ce=te.charCodeAt(0);return ce>=48&&ce<=57||ce>=65&&ce<=70||ce>=97&&ce<=102}function le(te){return P(te,R)}function re(te){let ce="",pe="";for(;ce=j(te);)pe+=ce;return pe}function F(te){v(te);const ce=te.currentChar();return ce!=="%"&&f(or.EXPECTED_TOKEN,a(),0,ce),te.next(),"%"}function H(te){let ce="";for(;;){const pe=te.currentChar();if(pe==="{"||pe==="}"||pe==="@"||pe==="|"||!pe)break;if(pe==="%")if(k(te))ce+=pe,te.next();else break;else if(pe===yl||pe===ja)if(k(te))ce+=pe,te.next();else{if(D(te))break;ce+=pe,te.next()}else ce+=pe,te.next()}return ce}function ve(te){v(te);let ce="",pe="";for(;ce=O(te);)pe+=ce;return te.currentChar()===Nc&&f(or.UNTERMINATED_CLOSING_BRACE,a(),0),pe}function ae(te){v(te);let ce="";return te.currentChar()==="-"?(te.next(),ce+=`-${re(te)}`):ce+=re(te),te.currentChar()===Nc&&f(or.UNTERMINATED_CLOSING_BRACE,a(),0),ce}function W(te){return te!==rk&&te!==ja}function Q(te){v(te),m(te,"'");let ce="",pe="";for(;ce=P(te,W);)ce==="\\"?pe+=J(te):pe+=ce;const Y=te.currentChar();return Y===ja||Y===Nc?(f(or.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),Y===ja&&(te.next(),m(te,"'")),pe):(m(te,"'"),pe)}function J(te){const ce=te.currentChar();switch(ce){case"\\":case"'":return te.next(),`\\${ce}`;case"u":return se(te,ce,4);case"U":return se(te,ce,6);default:return f(or.UNKNOWN_ESCAPE_SEQUENCE,a(),0,ce),""}}function se(te,ce,pe){m(te,ce);let Y="";for(let be=0;be<pe;be++){const ye=le(te);if(!ye){f(or.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${ce}${Y}${te.currentChar()}`);break}Y+=ye}return`\\${ce}${Y}`}function Ce(te){return te!=="{"&&te!=="}"&&te!==yl&&te!==ja}function Te(te){v(te);let ce="",pe="";for(;ce=P(te,Ce);)pe+=ce;return pe}function oe(te){let ce="",pe="";for(;ce=L(te);)pe+=ce;return pe}function q(te){const ce=pe=>{const Y=te.currentChar();return Y==="{"||Y==="%"||Y==="@"||Y==="|"||Y==="("||Y===")"||!Y||Y===yl?pe:(pe+=Y,te.next(),ce(pe))};return ce("")}function me(te){v(te);const ce=m(te,"|");return v(te),ce}function X(te,ce){let pe=null;switch(te.currentChar()){case"{":return ce.braceNest>=1&&f(or.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),te.next(),pe=d(ce,2,"{"),v(te),ce.braceNest++,pe;case"}":return ce.braceNest>0&&ce.currentType===2&&f(or.EMPTY_PLACEHOLDER,a(),0),te.next(),pe=d(ce,3,"}"),ce.braceNest--,ce.braceNest>0&&v(te),ce.inLinked&&ce.braceNest===0&&(ce.inLinked=!1),pe;case"@":return ce.braceNest>0&&f(or.UNTERMINATED_CLOSING_BRACE,a(),0),pe=K(te,ce)||p(ce),ce.braceNest=0,pe;default:{let be=!0,ye=!0,ge=!0;if(D(te))return ce.braceNest>0&&f(or.UNTERMINATED_CLOSING_BRACE,a(),0),pe=d(ce,1,me(te)),ce.braceNest=0,ce.inLinked=!1,pe;if(ce.braceNest>0&&(ce.currentType===5||ce.currentType===6||ce.currentType===7))return f(or.UNTERMINATED_CLOSING_BRACE,a(),0),ce.braceNest=0,de(te,ce);if(be=g(te,ce))return pe=d(ce,5,ve(te)),v(te),pe;if(ye=b(te,ce))return pe=d(ce,6,ae(te)),v(te),pe;if(ge=_(te,ce))return pe=d(ce,7,Q(te)),v(te),pe;if(!be&&!ye&&!ge)return pe=d(ce,13,Te(te)),f(or.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,pe.value),v(te),pe;break}}return pe}function K(te,ce){const{currentType:pe}=ce;let Y=null;const be=te.currentChar();switch((pe===8||pe===9||pe===12||pe===10)&&(be===ja||be===yl)&&f(or.INVALID_LINKED_FORMAT,a(),0),be){case"@":return te.next(),Y=d(ce,8,"@"),ce.inLinked=!0,Y;case".":return v(te),te.next(),d(ce,9,".");case":":return v(te),te.next(),d(ce,10,":");default:return D(te)?(Y=d(ce,1,me(te)),ce.braceNest=0,ce.inLinked=!1,Y):x(te,ce)||C(te,ce)?(v(te),K(te,ce)):E(te,ce)?(v(te),d(ce,12,oe(te))):$(te,ce)?(v(te),be==="{"?X(te,ce)||Y:d(ce,11,q(te))):(pe===8&&f(or.INVALID_LINKED_FORMAT,a(),0),ce.braceNest=0,ce.inLinked=!1,de(te,ce))}}function de(te,ce){let pe={type:14};if(ce.braceNest>0)return X(te,ce)||p(ce);if(ce.inLinked)return K(te,ce)||p(ce);switch(te.currentChar()){case"{":return X(te,ce)||p(ce);case"}":return f(or.UNBALANCED_CLOSING_BRACE,a(),0),te.next(),d(ce,3,"}");case"@":return K(te,ce)||p(ce);default:{if(D(te))return pe=d(ce,1,me(te)),ce.braceNest=0,ce.inLinked=!1,pe;const{isModulo:be,hasSpace:ye}=N(te);if(be)return ye?d(ce,0,H(te)):d(ce,4,F(te));if(k(te))return d(ce,0,H(te));break}}return pe}function Ee(){const{currentType:te,offset:ce,startLoc:pe,endLoc:Y}=u;return u.lastType=te,u.lastOffset=ce,u.lastStartLoc=pe,u.lastEndLoc=Y,u.offset=i(),u.startLoc=a(),n.currentChar()===Nc?d(u,14):de(n,u)}return{nextToken:Ee,currentOffset:i,currentPosition:a,context:l}}const fue="parser",due=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function pue(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(t||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function mue(e={}){const t=e.location!==!1,{onError:r,onWarn:n}=e;function i(g,b,_,x,...E){const C=g.currentPosition();if(C.offset+=x,C.column+=x,r){const $=t?Ib(_,C):null,D=xh(b,$,{domain:fue,args:E});r(D)}}function a(g,b,_,x,...E){const C=g.currentPosition();if(C.offset+=x,C.column+=x,n){const $=t?Ib(_,C):null;n(tue(b,$,E))}}function s(g,b,_){const x={type:g};return t&&(x.start=b,x.end=b,x.loc={start:_,end:_}),x}function o(g,b,_,x){x&&(g.type=x),t&&(g.end=b,g.loc&&(g.loc.end=_))}function u(g,b){const _=g.context(),x=s(3,_.offset,_.startLoc);return x.value=b,o(x,g.currentOffset(),g.currentPosition()),x}function l(g,b){const _=g.context(),{lastOffset:x,lastStartLoc:E}=_,C=s(5,x,E);return C.index=parseInt(b,10),g.nextToken(),o(C,g.currentOffset(),g.currentPosition()),C}function c(g,b,_){const x=g.context(),{lastOffset:E,lastStartLoc:C}=x,$=s(4,E,C);return $.key=b,_===!0&&($.modulo=!0),g.nextToken(),o($,g.currentOffset(),g.currentPosition()),$}function f(g,b){const _=g.context(),{lastOffset:x,lastStartLoc:E}=_,C=s(9,x,E);return C.value=b.replace(due,pue),g.nextToken(),o(C,g.currentOffset(),g.currentPosition()),C}function d(g){const b=g.nextToken(),_=g.context(),{lastOffset:x,lastStartLoc:E}=_,C=s(8,x,E);return b.type!==12?(i(g,or.UNEXPECTED_EMPTY_LINKED_MODIFIER,_.lastStartLoc,0),C.value="",o(C,x,E),{nextConsumeToken:b,node:C}):(b.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Fo(b)),C.value=b.value||"",o(C,g.currentOffset(),g.currentPosition()),{node:C})}function p(g,b){const _=g.context(),x=s(7,_.offset,_.startLoc);return x.value=b,o(x,g.currentOffset(),g.currentPosition()),x}function m(g){const b=g.context(),_=s(6,b.offset,b.startLoc);let x=g.nextToken();if(x.type===9){const E=d(g);_.modifier=E.node,x=E.nextConsumeToken||g.nextToken()}switch(x.type!==10&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(x)),x=g.nextToken(),x.type===2&&(x=g.nextToken()),x.type){case 11:x.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(x)),_.key=p(g,x.value||"");break;case 5:x.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(x)),_.key=c(g,x.value||"");break;case 6:x.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(x)),_.key=l(g,x.value||"");break;case 7:x.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(x)),_.key=f(g,x.value||"");break;default:{i(g,or.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const E=g.context(),C=s(7,E.offset,E.startLoc);return C.value="",o(C,E.offset,E.startLoc),_.key=C,o(_,E.offset,E.startLoc),{nextConsumeToken:x,node:_}}}return o(_,g.currentOffset(),g.currentPosition()),{node:_}}function h(g){const b=g.context(),_=b.currentType===1?g.currentOffset():b.offset,x=b.currentType===1?b.endLoc:b.startLoc,E=s(2,_,x);E.items=[];let C=null,$=null;do{const k=C||g.nextToken();switch(C=null,k.type){case 0:k.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(k)),E.items.push(u(g,k.value||""));break;case 6:k.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(k)),E.items.push(l(g,k.value||""));break;case 4:$=!0;break;case 5:k.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(k)),E.items.push(c(g,k.value||"",!!$)),$&&(a(g,fC.USE_MODULO_SYNTAX,b.lastStartLoc,0,Fo(k)),$=null);break;case 7:k.value==null&&i(g,or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Fo(k)),E.items.push(f(g,k.value||""));break;case 8:{const P=m(g);E.items.push(P.node),C=P.nextConsumeToken||null;break}}}while(b.currentType!==14&&b.currentType!==1);const D=b.currentType===1?b.lastOffset:g.currentOffset(),N=b.currentType===1?b.lastEndLoc:g.currentPosition();return o(E,D,N),E}function v(g,b,_,x){const E=g.context();let C=x.items.length===0;const $=s(1,b,_);$.cases=[],$.cases.push(x);do{const D=h(g);C||(C=D.items.length===0),$.cases.push(D)}while(E.currentType!==14);return C&&i(g,or.MUST_HAVE_MESSAGES_IN_PLURAL,_,0),o($,g.currentOffset(),g.currentPosition()),$}function y(g){const b=g.context(),{offset:_,startLoc:x}=b,E=h(g);return b.currentType===14?E:v(g,_,x,E)}function w(g){const b=cue(g,eR({},e)),_=b.context(),x=s(0,_.offset,_.startLoc);return t&&x.loc&&(x.loc.source=g),x.body=y(b),e.onCacheKey&&(x.cacheKey=e.onCacheKey(g)),_.currentType!==14&&i(b,or.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,g[_.offset]||""),o(x,b.currentOffset(),b.currentPosition()),x}return{parse:w}}function Fo(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function hue(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:a=>(r.helpers.add(a),a)}}function nk(e,t){for(let r=0;r<e.length;r++)dC(e[r],t)}function dC(e,t){switch(e.type){case 1:nk(e.cases,t),t.helper("plural");break;case 2:nk(e.items,t);break;case 6:{dC(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function vue(e,t={}){const r=hue(e);r.helper("normalize"),e.body&&dC(e.body,r);const n=r.context();e.helpers=Array.from(n.helpers)}function gue(e){const t=e.body;return t.type===2?ik(t):t.cases.forEach(r=>ik(r)),e}function ik(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const n=e.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;t.push(n.value)}if(t.length===e.items.length){e.static=tR(t);for(let r=0;r<e.items.length;r++){const n=e.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const yue="minifier";function sm(e){switch(e.t=e.type,e.type){case 0:{const t=e;sm(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let n=0;n<r.length;n++)sm(r[n]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let n=0;n<r.length;n++)sm(r[n]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;sm(t.key),t.k=t.key,delete t.key,t.modifier&&(sm(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw xh(or.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:yue,args:[e.type]})}delete e.type}const bue="parser";function _ue(e,t){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:a}=t,s=t.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:a,indentLevel:0};s&&e.loc&&(o.source=e.loc.source);const u=()=>o;function l(v,y){o.code+=v}function c(v,y=!0){const w=y?i:"";l(a?w+"  ".repeat(v):w)}function f(v=!0){const y=++o.indentLevel;v&&c(y)}function d(v=!0){const y=--o.indentLevel;v&&c(y)}function p(){c(o.indentLevel)}return{context:u,push:l,indent:f,deindent:d,newline:p,helper:v=>`_${v}`,needIndent:()=>o.needIndent}}function Aue(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),Bm(e,t.key),t.modifier?(e.push(", "),Bm(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function wue(e,t){const{helper:r,needIndent:n}=e;e.push(`${r("normalize")}([`),e.indent(n());const i=t.items.length;for(let a=0;a<i&&(Bm(e,t.items[a]),a!==i-1);a++)e.push(", ");e.deindent(n()),e.push("])")}function xue(e,t){const{helper:r,needIndent:n}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(n());const i=t.cases.length;for(let a=0;a<i&&(Bm(e,t.cases[a]),a!==i-1);a++)e.push(", ");e.deindent(n()),e.push("])")}}function Sue(e,t){t.body?Bm(e,t.body):e.push("null")}function Bm(e,t){const{helper:r}=e;switch(t.type){case 0:Sue(e,t);break;case 1:xue(e,t);break;case 2:wue(e,t);break;case 6:Aue(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw xh(or.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:bue,args:[t.type]})}}const Eue=(e,t={})=>{const r=tk(t.mode)?t.mode:"normal",n=tk(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,a=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,s=t.needIndent?t.needIndent:r!=="arrow",o=e.helpers||[],u=_ue(e,{mode:r,filename:n,sourceMap:i,breakLineCode:a,needIndent:s});u.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(s),o.length>0&&(u.push(`const { ${tR(o.map(f=>`${f}: _${f}`),", ")} } = ctx`),u.newline()),u.push("return "),Bm(u,e),u.deindent(s),u.push("}"),delete e.helpers;const{code:l,map:c}=u.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function Cue(e,t={}){const r=eR({},t),n=!!r.jit,i=!!r.minify,a=r.optimize==null?!0:r.optimize,o=mue(r).parse(e);return n?(a&&gue(o),i&&sm(o),{ast:o,code:""}):(vue(o,r),Eue(o,r))}/*!
  * core-base v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function $ue(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(kl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(kl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(kl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function qu(e){return mn(e)&&pC(e)===0&&(Vo(e,"b")||Vo(e,"body"))}const rR=["b","body"];function Nue(e){return Sf(e,rR)}const nR=["c","cases"];function Due(e){return Sf(e,nR,[])}const iR=["s","static"];function Tue(e){return Sf(e,iR)}const aR=["i","items"];function kue(e){return Sf(e,aR,[])}const sR=["t","type"];function pC(e){return Sf(e,sR)}const oR=["v","value"];function ny(e,t){const r=Sf(e,oR);if(r!=null)return r;throw yv(t)}const uR=["m","modifier"];function Iue(e){return Sf(e,uR)}const lR=["k","key"];function Oue(e){const t=Sf(e,lR);if(t)return t;throw yv(6)}function Sf(e,t,r){for(let n=0;n<t.length;n++){const i=t[n];if(Vo(e,i)&&e[i]!=null)return e[i]}return r}const cR=[...rR,...nR,...iR,...aR,...lR,...uR,...oR,...sR];function yv(e){return new Error(`unhandled node type: ${e}`)}const Ef=[];Ef[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ef[1]={w:[1],".":[2],"[":[4],o:[7]};Ef[2]={w:[2],i:[3,0],0:[3,0]};Ef[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ef[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ef[5]={"'":[4,0],o:8,l:[5,0]};Ef[6]={'"':[4,0],o:8,l:[6,0]};const Mue=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Pue(e){return Mue.test(e)}function Bue(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function Lue(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Fue(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Pue(t)?Bue(t):"*"+t}function Rue(e){const t=[];let r=-1,n=0,i=0,a,s,o,u,l,c,f;const d=[];d[0]=()=>{s===void 0?s=o:s+=o},d[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,n=4,d[0]();else{if(i=0,s===void 0||(s=Fue(s),s===!1))return!1;d[1]()}};function p(){const m=e[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,o="\\"+m,d[0](),!0}for(;n!==null;)if(r++,a=e[r],!(a==="\\"&&p())){if(u=Lue(a),f=Ef[n],l=f[u]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(c=d[l[1]],c&&(o=a,c()===!1))))return;if(n===7)return t}}const ak=new Map;function Uue(e,t){return mn(e)?e[t]:null}function zue(e,t){if(!mn(e))return null;let r=ak.get(t);if(r||(r=Rue(t),r&&ak.set(t,r)),!r)return null;const n=r.length;let i=e,a=0;for(;a<n;){const s=r[a];if(cR.includes(s)&&qu(i))return null;const o=i[s];if(o===void 0||Gn(i))return null;i=o,a++}return i}const que=e=>e,jue=e=>"",Vue="text",Hue=e=>e.length===0?"":Koe(e),Gue=Woe;function sk(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Zue(e){const t=xi(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(xi(e.named.count)||xi(e.named.n))?xi(e.named.count)?e.named.count:xi(e.named.n)?e.named.n:t:t}function Wue(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Kue(e={}){const t=e.locale,r=Zue(e),n=mn(e.pluralRules)&&Ot(t)&&Gn(e.pluralRules[t])?e.pluralRules[t]:sk,i=mn(e.pluralRules)&&Ot(t)&&Gn(e.pluralRules[t])?sk:void 0,a=y=>y[n(r,y.length,i)],s=e.list||[],o=y=>s[y],u=e.named||Bn();xi(e.pluralIndex)&&Wue(r,u);const l=y=>u[y];function c(y){const w=Gn(e.messages)?e.messages(y):mn(e.messages)?e.messages[y]:!1;return w||(e.parent?e.parent.message(y):jue)}const f=y=>e.modifiers?e.modifiers[y]:que,d=_r(e.processor)&&Gn(e.processor.normalize)?e.processor.normalize:Hue,p=_r(e.processor)&&Gn(e.processor.interpolate)?e.processor.interpolate:Gue,m=_r(e.processor)&&Ot(e.processor.type)?e.processor.type:Vue,v={list:o,named:l,plural:a,linked:(y,...w)=>{const[g,b]=w;let _="text",x="";w.length===1?mn(g)?(x=g.modifier||x,_=g.type||_):Ot(g)&&(x=g||x):w.length===2&&(Ot(g)&&(x=g||x),Ot(b)&&(_=b||_));const E=c(y)(v),C=_==="vnode"&&Yn(E)&&x?E[0]:E;return x?f(x)(C,_):C},message:c,type:m,interpolate:p,normalize:d,values:ma(Bn(),s,u)};return v}let bv=null;function Jue(e){bv=e}function Yue(e,t,r){bv&&bv.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const Xue=Que("function:translate");function Que(e){return t=>bv&&bv.emit(e,t)}const fR=fC.__EXTEND_POINT__,fd=g2(fR),ele={NOT_FOUND_KEY:fR,FALLBACK_TO_TRANSLATE:fd(),CANNOT_FORMAT_NUMBER:fd(),FALLBACK_TO_NUMBER_FORMAT:fd(),CANNOT_FORMAT_DATE:fd(),FALLBACK_TO_DATE_FORMAT:fd(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:fd(),__EXTEND_POINT__:fd()},dR=or.__EXTEND_POINT__,dd=g2(dR),Ho={INVALID_ARGUMENT:dR,INVALID_DATE_ARGUMENT:dd(),INVALID_ISO_DATE_ARGUMENT:dd(),NOT_SUPPORT_NON_STRING_MESSAGE:dd(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:dd(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:dd(),NOT_SUPPORT_LOCALE_TYPE:dd(),__EXTEND_POINT__:dd()};function zu(e){return xh(e,null,void 0)}function mC(e,t){return t.locale!=null?ok(t.locale):ok(e.locale)}let yx;function ok(e){if(Ot(e))return e;if(Gn(e)){if(e.resolvedOnce&&yx!=null)return yx;if(e.constructor.name==="Function"){const t=e();if(Zoe(t))throw zu(Ho.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return yx=t}else throw zu(Ho.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw zu(Ho.NOT_SUPPORT_LOCALE_TYPE)}function tle(e,t,r){return[...new Set([r,...Yn(t)?t:mn(t)?Object.keys(t):Ot(t)?[t]:[r]])]}function pR(e,t,r){const n=Ot(r)?r:Lm,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(n);if(!a){a=[];let s=[r];for(;Yn(s);)s=uk(a,s,t);const o=Yn(t)||!_r(t)?t:t.default?t.default:null;s=Ot(o)?[o]:o,Yn(s)&&uk(a,s,!1),i.__localeChainCache.set(n,a)}return a}function uk(e,t,r){let n=!0;for(let i=0;i<t.length&&Zr(n);i++){const a=t[i];Ot(a)&&(n=rle(e,t[i],r))}return n}function rle(e,t,r){let n;const i=t.split("-");do{const a=i.join("-");n=nle(e,a,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function nle(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Yn(r)||_r(r))&&r[i]&&(n=r[i])}return n}const ile="9.14.4",y2=-1,Lm="en-US",lk="",ck=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function ale(){return{upper:(e,t)=>t==="text"&&Ot(e)?e.toUpperCase():t==="vnode"&&mn(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Ot(e)?e.toLowerCase():t==="vnode"&&mn(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Ot(e)?ck(e):t==="vnode"&&mn(e)&&"__v_isVNode"in e?ck(e.children):e}}let mR;function fk(e){mR=e}let hR;function sle(e){hR=e}let vR;function ole(e){vR=e}let gR=null;const ule=e=>{gR=e},lle=()=>gR;let yR=null;const dk=e=>{yR=e},cle=()=>yR;let pk=0;function fle(e={}){const t=Gn(e.onWarn)?e.onWarn:Joe,r=Ot(e.version)?e.version:ile,n=Ot(e.locale)||Gn(e.locale)?e.locale:Lm,i=Gn(n)?Lm:n,a=Yn(e.fallbackLocale)||_r(e.fallbackLocale)||Ot(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,s=_r(e.messages)?e.messages:bx(i),o=_r(e.datetimeFormats)?e.datetimeFormats:bx(i),u=_r(e.numberFormats)?e.numberFormats:bx(i),l=ma(Bn(),e.modifiers,ale()),c=e.pluralRules||Bn(),f=Gn(e.missing)?e.missing:null,d=Zr(e.missingWarn)||of(e.missingWarn)?e.missingWarn:!0,p=Zr(e.fallbackWarn)||of(e.fallbackWarn)?e.fallbackWarn:!0,m=!!e.fallbackFormat,h=!!e.unresolving,v=Gn(e.postTranslation)?e.postTranslation:null,y=_r(e.processor)?e.processor:null,w=Zr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,g=!!e.escapeParameter,b=Gn(e.messageCompiler)?e.messageCompiler:mR,_=Gn(e.messageResolver)?e.messageResolver:hR||Uue,x=Gn(e.localeFallbacker)?e.localeFallbacker:vR||tle,E=mn(e.fallbackContext)?e.fallbackContext:void 0,C=e,$=mn(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,D=mn(C.__numberFormatters)?C.__numberFormatters:new Map,N=mn(C.__meta)?C.__meta:{};pk++;const k={version:r,cid:pk,locale:n,fallbackLocale:a,messages:s,modifiers:l,pluralRules:c,missing:f,missingWarn:d,fallbackWarn:p,fallbackFormat:m,unresolving:h,postTranslation:v,processor:y,warnHtmlMessage:w,escapeParameter:g,messageCompiler:b,messageResolver:_,localeFallbacker:x,fallbackContext:E,onWarn:t,__meta:N};return k.datetimeFormats=o,k.numberFormats=u,k.__datetimeFormatters=$,k.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&Yue(k,r,N),k}const bx=e=>({[e]:Bn()});function hC(e,t,r,n,i){const{missing:a,onWarn:s}=e;if(a!==null){const o=a(e,r,t,i);return Ot(o)?o:t}else return t}function C0(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function dle(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function ple(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let n=r+1;n<t.length;n++)if(dle(e,t[n]))return!0;return!1}function _x(e){return r=>mle(r,e)}function mle(e,t){const r=Nue(t);if(r==null)throw yv(0);if(pC(r)===1){const a=Due(r);return e.plural(a.reduce((s,o)=>[...s,mk(e,o)],[]))}else return mk(e,r)}function mk(e,t){const r=Tue(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const n=kue(t).reduce((i,a)=>[...i,w3(e,a)],[]);return e.normalize(n)}}function w3(e,t){const r=pC(t);switch(r){case 3:return ny(t,r);case 9:return ny(t,r);case 4:{const n=t;if(Vo(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(Vo(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw yv(r)}case 5:{const n=t;if(Vo(n,"i")&&xi(n.i))return e.interpolate(e.list(n.i));if(Vo(n,"index")&&xi(n.index))return e.interpolate(e.list(n.index));throw yv(r)}case 6:{const n=t,i=Iue(n),a=Oue(n);return e.linked(w3(e,a),i?w3(e,i):void 0,e.type)}case 7:return ny(t,r);case 8:return ny(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const bR=e=>e;let dm=Bn();function _R(e,t={}){let r=!1;const n=t.onError||nue;return t.onError=i=>{r=!0,n(i)},{...Cue(e,t),detectError:r}}const hle=(e,t)=>{if(!Ot(e))throw zu(Ho.NOT_SUPPORT_NON_STRING_MESSAGE);{Zr(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||bR)(e),i=dm[n];if(i)return i;const{code:a,detectError:s}=_R(e,t),o=new Function(`return ${a}`)();return s?o:dm[n]=o}};function vle(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ot(e)){Zr(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||bR)(e),i=dm[n];if(i)return i;const{ast:a,detectError:s}=_R(e,{...t,location:!1,jit:!0}),o=_x(a);return s?o:dm[n]=o}else{const r=e.cacheKey;if(r){const n=dm[r];return n||(dm[r]=_x(e))}else return _x(e)}}const hk=()=>"",uo=e=>Gn(e);function vk(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:a,fallbackLocale:s,messages:o}=e,[u,l]=x3(...t),c=Zr(l.missingWarn)?l.missingWarn:e.missingWarn,f=Zr(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,d=Zr(l.escapeParameter)?l.escapeParameter:e.escapeParameter,p=!!l.resolvedMessage,m=Ot(l.default)||Zr(l.default)?Zr(l.default)?a?u:()=>u:l.default:r?a?u:()=>u:"",h=r||m!=="",v=mC(e,l);d&&gle(l);let[y,w,g]=p?[u,v,o[v]||Bn()]:AR(e,u,v,s,f,c),b=y,_=u;if(!p&&!(Ot(b)||qu(b)||uo(b))&&h&&(b=m,_=b),!p&&(!(Ot(b)||qu(b)||uo(b))||!Ot(w)))return i?y2:u;let x=!1;const E=()=>{x=!0},C=uo(b)?b:wR(e,u,w,b,_,E);if(x)return b;const $=_le(e,w,g,l),D=Kue($),N=yle(e,C,D),k=n?n(N,u):N;if(__INTLIFY_PROD_DEVTOOLS__){const P={timestamp:Date.now(),key:Ot(u)?u:uo(b)?b.key:"",locale:w||(uo(b)?b.locale:""),format:Ot(b)?b:uo(b)?b.source:"",message:k};P.meta=ma({},e.__meta,lle()||{}),Xue(P)}return k}function gle(e){Yn(e.list)?e.list=e.list.map(t=>Ot(t)?ek(t):t):mn(e.named)&&Object.keys(e.named).forEach(t=>{Ot(e.named[t])&&(e.named[t]=ek(e.named[t]))})}function AR(e,t,r,n,i,a){const{messages:s,onWarn:o,messageResolver:u,localeFallbacker:l}=e,c=l(e,n,r);let f=Bn(),d,p=null;const m="translate";for(let h=0;h<c.length&&(d=c[h],f=s[d]||Bn(),(p=u(f,t))===null&&(p=f[t]),!(Ot(p)||qu(p)||uo(p)));h++)if(!ple(d,c)){const v=hC(e,t,d,a,m);v!==t&&(p=v)}return[p,d,f]}function wR(e,t,r,n,i,a){const{messageCompiler:s,warnHtmlMessage:o}=e;if(uo(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||t,l}if(s==null){const l=()=>n;return l.locale=r,l.key=t,l}const u=s(n,ble(e,r,i,n,o,a));return u.locale=r,u.key=t,u.source=n,u}function yle(e,t,r){return t(r)}function x3(...e){const[t,r,n]=e,i=Bn();if(!Ot(t)&&!xi(t)&&!uo(t)&&!qu(t))throw zu(Ho.INVALID_ARGUMENT);const a=xi(t)?String(t):(uo(t),t);return xi(r)?i.plural=r:Ot(r)?i.default=r:_r(r)&&!v2(r)?i.named=r:Yn(r)&&(i.list=r),xi(n)?i.plural=n:Ot(n)?i.default=n:_r(n)&&ma(i,n),[a,i]}function ble(e,t,r,n,i,a){return{locale:t,key:r,warnHtmlMessage:i,onError:s=>{throw a&&a(s),s},onCacheKey:s=>qoe(t,r,s)}}function _le(e,t,r,n){const{modifiers:i,pluralRules:a,messageResolver:s,fallbackLocale:o,fallbackWarn:u,missingWarn:l,fallbackContext:c}=e,d={locale:t,modifiers:i,pluralRules:a,messages:p=>{let m=s(r,p);if(m==null&&c){const[,,h]=AR(c,p,t,o,u,l);m=s(h,p)}if(Ot(m)||qu(m)){let h=!1;const y=wR(e,p,t,m,p,()=>{h=!0});return h?hk:y}else return uo(m)?m:hk}};return e.processor&&(d.processor=e.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),xi(n.plural)&&(d.pluralIndex=n.plural),d}function gk(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:a,localeFallbacker:s}=e,{__datetimeFormatters:o}=e,[u,l,c,f]=S3(...t),d=Zr(c.missingWarn)?c.missingWarn:e.missingWarn;Zr(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const p=!!c.part,m=mC(e,c),h=s(e,i,m);if(!Ot(u)||u==="")return new Intl.DateTimeFormat(m,f).format(l);let v={},y,w=null;const g="datetime format";for(let x=0;x<h.length&&(y=h[x],v=r[y]||{},w=v[u],!_r(w));x++)hC(e,u,y,d,g);if(!_r(w)||!Ot(y))return n?y2:u;let b=`${y}__${u}`;v2(f)||(b=`${b}__${JSON.stringify(f)}`);let _=o.get(b);return _||(_=new Intl.DateTimeFormat(y,ma({},w,f)),o.set(b,_)),p?_.formatToParts(l):_.format(l)}const xR=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function S3(...e){const[t,r,n,i]=e,a=Bn();let s=Bn(),o;if(Ot(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw zu(Ho.INVALID_ISO_DATE_ARGUMENT);const l=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();o=new Date(l);try{o.toISOString()}catch{throw zu(Ho.INVALID_ISO_DATE_ARGUMENT)}}else if(Voe(t)){if(isNaN(t.getTime()))throw zu(Ho.INVALID_DATE_ARGUMENT);o=t}else if(xi(t))o=t;else throw zu(Ho.INVALID_ARGUMENT);return Ot(r)?a.key=r:_r(r)&&Object.keys(r).forEach(u=>{xR.includes(u)?s[u]=r[u]:a[u]=r[u]}),Ot(n)?a.locale=n:_r(n)&&(s=n),_r(i)&&(s=i),[a.key||"",o,a,s]}function yk(e,t,r){const n=e;for(const i in r){const a=`${t}__${i}`;n.__datetimeFormatters.has(a)&&n.__datetimeFormatters.delete(a)}}function bk(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:a,localeFallbacker:s}=e,{__numberFormatters:o}=e,[u,l,c,f]=E3(...t),d=Zr(c.missingWarn)?c.missingWarn:e.missingWarn;Zr(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const p=!!c.part,m=mC(e,c),h=s(e,i,m);if(!Ot(u)||u==="")return new Intl.NumberFormat(m,f).format(l);let v={},y,w=null;const g="number format";for(let x=0;x<h.length&&(y=h[x],v=r[y]||{},w=v[u],!_r(w));x++)hC(e,u,y,d,g);if(!_r(w)||!Ot(y))return n?y2:u;let b=`${y}__${u}`;v2(f)||(b=`${b}__${JSON.stringify(f)}`);let _=o.get(b);return _||(_=new Intl.NumberFormat(y,ma({},w,f)),o.set(b,_)),p?_.formatToParts(l):_.format(l)}const SR=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function E3(...e){const[t,r,n,i]=e,a=Bn();let s=Bn();if(!xi(t))throw zu(Ho.INVALID_ARGUMENT);const o=t;return Ot(r)?a.key=r:_r(r)&&Object.keys(r).forEach(u=>{SR.includes(u)?s[u]=r[u]:a[u]=r[u]}),Ot(n)?a.locale=n:_r(n)&&(s=n),_r(i)&&(s=i),[a.key||"",o,a,s]}function _k(e,t,r){const n=e;for(const i in r){const a=`${t}__${i}`;n.__numberFormatters.has(a)&&n.__numberFormatters.delete(a)}}$ue();/*!
  * vue-i18n v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ale="9.14.4";function wle(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(kl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(kl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(kl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(kl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(kl().__INTLIFY_PROD_DEVTOOLS__=!1)}const ER=ele.__EXTEND_POINT__,bl=g2(ER);bl(),bl(),bl(),bl(),bl(),bl(),bl(),bl(),bl();const CR=Ho.__EXTEND_POINT__,ds=g2(CR),Vi={UNEXPECTED_RETURN_TYPE:CR,INVALID_ARGUMENT:ds(),MUST_BE_CALL_SETUP_TOP:ds(),NOT_INSTALLED:ds(),NOT_AVAILABLE_IN_LEGACY_MODE:ds(),REQUIRED_VALUE:ds(),INVALID_VALUE:ds(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ds(),NOT_INSTALLED_WITH_PROVIDE:ds(),UNEXPECTED_ERROR:ds(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ds(),BRIDGE_SUPPORT_VUE_2_ONLY:ds(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ds(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ds(),__EXTEND_POINT__:ds()};function ta(e,...t){return xh(e,null,void 0)}const C3=xf("__translateVNode"),$3=xf("__datetimeParts"),N3=xf("__numberParts"),$R=xf("__setPluralRules"),NR=xf("__injectWithOption"),D3=xf("__dispose");function _v(e){if(!mn(e)||qu(e))return e;for(const t in e)if(Vo(e,t))if(!t.includes("."))mn(e[t])&&_v(e[t]);else{const r=t.split("."),n=r.length-1;let i=e,a=!1;for(let s=0;s<n;s++){if(r[s]==="__proto__")throw new Error(`unsafe key: ${r[s]}`);if(r[s]in i||(i[r[s]]=Bn()),!mn(i[r[s]])){a=!0;break}i=i[r[s]]}if(a||(qu(i)?cR.includes(r[n])||delete e[t]:(i[r[n]]=e[t],delete e[t])),!qu(i)){const s=i[r[n]];mn(s)&&_v(s)}}return e}function b2(e,t){const{messages:r,__i18n:n,messageResolver:i,flatJson:a}=t,s=_r(r)?r:Yn(n)?Bn():{[e]:Bn()};if(Yn(n)&&n.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:u,resource:l}=o;u?(s[u]=s[u]||Bn(),ib(l,s[u])):ib(l,s)}else Ot(o)&&ib(JSON.parse(o),s)}),i==null&&a)for(const o in s)Vo(s,o)&&_v(s[o]);return s}function DR(e){return e.type}function TR(e,t,r){let n=mn(t.messages)?t.messages:Bn();"__i18nGlobal"in r&&(n=b2(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(a=>{e.mergeLocaleMessage(a,n[a])});{if(mn(t.datetimeFormats)){const a=Object.keys(t.datetimeFormats);a.length&&a.forEach(s=>{e.mergeDateTimeFormat(s,t.datetimeFormats[s])})}if(mn(t.numberFormats)){const a=Object.keys(t.numberFormats);a.length&&a.forEach(s=>{e.mergeNumberFormat(s,t.numberFormats[s])})}}}function Ak(e){return Fe(nf,null,e,0)}const wk="__INTLIFY_META__",xk=()=>[],xle=()=>!1;let Sk=0;function Ek(e){return(t,r,n,i)=>e(r,n,Ia()||void 0,i)}const Sle=()=>{const e=Ia();let t=null;return e&&(t=DR(e)[wk])?{[wk]:t}:null};function vC(e={},t){const{__root:r,__injectWithOption:n}=e,i=r===void 0,a=e.flatJson,s=kb?Pe:Oi,o=!!e.translateExistCompatible;let u=Zr(e.inheritLocale)?e.inheritLocale:!0;const l=s(r&&u?r.locale.value:Ot(e.locale)?e.locale:Lm),c=s(r&&u?r.fallbackLocale.value:Ot(e.fallbackLocale)||Yn(e.fallbackLocale)||_r(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:l.value),f=s(b2(l.value,e)),d=s(_r(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),p=s(_r(e.numberFormats)?e.numberFormats:{[l.value]:{}});let m=r?r.missingWarn:Zr(e.missingWarn)||of(e.missingWarn)?e.missingWarn:!0,h=r?r.fallbackWarn:Zr(e.fallbackWarn)||of(e.fallbackWarn)?e.fallbackWarn:!0,v=r?r.fallbackRoot:Zr(e.fallbackRoot)?e.fallbackRoot:!0,y=!!e.fallbackFormat,w=Gn(e.missing)?e.missing:null,g=Gn(e.missing)?Ek(e.missing):null,b=Gn(e.postTranslation)?e.postTranslation:null,_=r?r.warnHtmlMessage:Zr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const E=r?r.modifiers:_r(e.modifiers)?e.modifiers:{};let C=e.pluralRules||r&&r.pluralRules,$;$=(()=>{i&&dk(null);const ge={version:Ale,locale:l.value,fallbackLocale:c.value,messages:f.value,modifiers:E,pluralRules:C,missing:g===null?void 0:g,missingWarn:m,fallbackWarn:h,fallbackFormat:y,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:_,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};ge.datetimeFormats=d.value,ge.numberFormats=p.value,ge.__datetimeFormatters=_r($)?$.__datetimeFormatters:void 0,ge.__numberFormatters=_r($)?$.__numberFormatters:void 0;const xe=fle(ge);return i&&dk(xe),xe})(),C0($,l.value,c.value);function N(){return[l.value,c.value,f.value,d.value,p.value]}const k=Oe({get:()=>l.value,set:ge=>{l.value=ge,$.locale=l.value}}),P=Oe({get:()=>c.value,set:ge=>{c.value=ge,$.fallbackLocale=c.value,C0($,l.value,ge)}}),U=Oe(()=>f.value),L=Oe(()=>d.value),B=Oe(()=>p.value);function O(){return Gn(b)?b:null}function T(ge){b=ge,$.postTranslation=ge}function j(){return w}function R(ge){ge!==null&&(g=Ek(ge)),w=ge,$.missing=g}const le=(ge,xe,ke,Ke,Ue,rt)=>{N();let je;try{__INTLIFY_PROD_DEVTOOLS__,i||($.fallbackContext=r?cle():void 0),je=ge($)}finally{__INTLIFY_PROD_DEVTOOLS__,i||($.fallbackContext=void 0)}if(ke!=="translate exists"&&xi(je)&&je===y2||ke==="translate exists"&&!je){const[Rt,Pt]=xe();return r&&v?Ke(r):Ue(Rt)}else{if(rt(je))return je;throw ta(Vi.UNEXPECTED_RETURN_TYPE)}};function re(...ge){return le(xe=>Reflect.apply(vk,null,[xe,...ge]),()=>x3(...ge),"translate",xe=>Reflect.apply(xe.t,xe,[...ge]),xe=>xe,xe=>Ot(xe))}function F(...ge){const[xe,ke,Ke]=ge;if(Ke&&!mn(Ke))throw ta(Vi.INVALID_ARGUMENT);return re(xe,ke,ma({resolvedMessage:!0},Ke||{}))}function H(...ge){return le(xe=>Reflect.apply(gk,null,[xe,...ge]),()=>S3(...ge),"datetime format",xe=>Reflect.apply(xe.d,xe,[...ge]),()=>lk,xe=>Ot(xe))}function ve(...ge){return le(xe=>Reflect.apply(bk,null,[xe,...ge]),()=>E3(...ge),"number format",xe=>Reflect.apply(xe.n,xe,[...ge]),()=>lk,xe=>Ot(xe))}function ae(ge){return ge.map(xe=>Ot(xe)||xi(xe)||Zr(xe)?Ak(String(xe)):xe)}const Q={normalize:ae,interpolate:ge=>ge,type:"vnode"};function J(...ge){return le(xe=>{let ke;const Ke=xe;try{Ke.processor=Q,ke=Reflect.apply(vk,null,[Ke,...ge])}finally{Ke.processor=null}return ke},()=>x3(...ge),"translate",xe=>xe[C3](...ge),xe=>[Ak(xe)],xe=>Yn(xe))}function se(...ge){return le(xe=>Reflect.apply(bk,null,[xe,...ge]),()=>E3(...ge),"number format",xe=>xe[N3](...ge),xk,xe=>Ot(xe)||Yn(xe))}function Ce(...ge){return le(xe=>Reflect.apply(gk,null,[xe,...ge]),()=>S3(...ge),"datetime format",xe=>xe[$3](...ge),xk,xe=>Ot(xe)||Yn(xe))}function Te(ge){C=ge,$.pluralRules=C}function oe(ge,xe){return le(()=>{if(!ge)return!1;const ke=Ot(xe)?xe:l.value,Ke=X(ke),Ue=$.messageResolver(Ke,ge);return o?Ue!=null:qu(Ue)||uo(Ue)||Ot(Ue)},()=>[ge],"translate exists",ke=>Reflect.apply(ke.te,ke,[ge,xe]),xle,ke=>Zr(ke))}function q(ge){let xe=null;const ke=pR($,c.value,l.value);for(let Ke=0;Ke<ke.length;Ke++){const Ue=f.value[ke[Ke]]||{},rt=$.messageResolver(Ue,ge);if(rt!=null){xe=rt;break}}return xe}function me(ge){const xe=q(ge);return xe??(r?r.tm(ge)||{}:{})}function X(ge){return f.value[ge]||{}}function K(ge,xe){if(a){const ke={[ge]:xe};for(const Ke in ke)Vo(ke,Ke)&&_v(ke[Ke]);xe=ke[ge]}f.value[ge]=xe,$.messages=f.value}function de(ge,xe){f.value[ge]=f.value[ge]||{};const ke={[ge]:xe};if(a)for(const Ke in ke)Vo(ke,Ke)&&_v(ke[Ke]);xe=ke[ge],ib(xe,f.value[ge]),$.messages=f.value}function Ee(ge){return d.value[ge]||{}}function te(ge,xe){d.value[ge]=xe,$.datetimeFormats=d.value,yk($,ge,xe)}function ce(ge,xe){d.value[ge]=ma(d.value[ge]||{},xe),$.datetimeFormats=d.value,yk($,ge,xe)}function pe(ge){return p.value[ge]||{}}function Y(ge,xe){p.value[ge]=xe,$.numberFormats=p.value,_k($,ge,xe)}function be(ge,xe){p.value[ge]=ma(p.value[ge]||{},xe),$.numberFormats=p.value,_k($,ge,xe)}Sk++,r&&kb&&(Xn(r.locale,ge=>{u&&(l.value=ge,$.locale=ge,C0($,l.value,c.value))}),Xn(r.fallbackLocale,ge=>{u&&(c.value=ge,$.fallbackLocale=ge,C0($,l.value,c.value))}));const ye={id:Sk,locale:k,fallbackLocale:P,get inheritLocale(){return u},set inheritLocale(ge){u=ge,ge&&r&&(l.value=r.locale.value,c.value=r.fallbackLocale.value,C0($,l.value,c.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:U,get modifiers(){return E},get pluralRules(){return C||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ge){m=ge,$.missingWarn=m},get fallbackWarn(){return h},set fallbackWarn(ge){h=ge,$.fallbackWarn=h},get fallbackRoot(){return v},set fallbackRoot(ge){v=ge},get fallbackFormat(){return y},set fallbackFormat(ge){y=ge,$.fallbackFormat=y},get warnHtmlMessage(){return _},set warnHtmlMessage(ge){_=ge,$.warnHtmlMessage=ge},get escapeParameter(){return x},set escapeParameter(ge){x=ge,$.escapeParameter=ge},t:re,getLocaleMessage:X,setLocaleMessage:K,mergeLocaleMessage:de,getPostTranslationHandler:O,setPostTranslationHandler:T,getMissingHandler:j,setMissingHandler:R,[$R]:Te};return ye.datetimeFormats=L,ye.numberFormats=B,ye.rt=F,ye.te=oe,ye.tm=me,ye.d=H,ye.n=ve,ye.getDateTimeFormat=Ee,ye.setDateTimeFormat=te,ye.mergeDateTimeFormat=ce,ye.getNumberFormat=pe,ye.setNumberFormat=Y,ye.mergeNumberFormat=be,ye[NR]=n,ye[C3]=J,ye[$3]=Ce,ye[N3]=se,ye}function Ele(e){const t=Ot(e.locale)?e.locale:Lm,r=Ot(e.fallbackLocale)||Yn(e.fallbackLocale)||_r(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,n=Gn(e.missing)?e.missing:void 0,i=Zr(e.silentTranslationWarn)||of(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,a=Zr(e.silentFallbackWarn)||of(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,s=Zr(e.fallbackRoot)?e.fallbackRoot:!0,o=!!e.formatFallbackMessages,u=_r(e.modifiers)?e.modifiers:{},l=e.pluralizationRules,c=Gn(e.postTranslation)?e.postTranslation:void 0,f=Ot(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,d=!!e.escapeParameterHtml,p=Zr(e.sync)?e.sync:!0;let m=e.messages;if(_r(e.sharedMessages)){const x=e.sharedMessages;m=Object.keys(x).reduce((C,$)=>{const D=C[$]||(C[$]={});return ma(D,x[$]),C},m||{})}const{__i18n:h,__root:v,__injectWithOption:y}=e,w=e.datetimeFormats,g=e.numberFormats,b=e.flatJson,_=e.translateExistCompatible;return{locale:t,fallbackLocale:r,messages:m,flatJson:b,datetimeFormats:w,numberFormats:g,missing:n,missingWarn:i,fallbackWarn:a,fallbackRoot:s,fallbackFormat:o,modifiers:u,pluralRules:l,postTranslation:c,warnHtmlMessage:f,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:p,translateExistCompatible:_,__i18n:h,__root:v,__injectWithOption:y}}function T3(e={},t){{const r=vC(Ele(e)),{__extender:n}=e,i={id:r.id,get locale(){return r.locale.value},set locale(a){r.locale.value=a},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(a){r.fallbackLocale.value=a},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(a){},get missing(){return r.getMissingHandler()},set missing(a){r.setMissingHandler(a)},get silentTranslationWarn(){return Zr(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(a){r.missingWarn=Zr(a)?!a:a},get silentFallbackWarn(){return Zr(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(a){r.fallbackWarn=Zr(a)?!a:a},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(a){r.fallbackFormat=a},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(a){r.setPostTranslationHandler(a)},get sync(){return r.inheritLocale},set sync(a){r.inheritLocale=a},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){r.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(a){r.escapeParameter=a},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(a){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...a){const[s,o,u]=a,l={};let c=null,f=null;if(!Ot(s))throw ta(Vi.INVALID_ARGUMENT);const d=s;return Ot(o)?l.locale=o:Yn(o)?c=o:_r(o)&&(f=o),Yn(u)?c=u:_r(u)&&(f=u),Reflect.apply(r.t,r,[d,c||f||{},l])},rt(...a){return Reflect.apply(r.rt,r,[...a])},tc(...a){const[s,o,u]=a,l={plural:1};let c=null,f=null;if(!Ot(s))throw ta(Vi.INVALID_ARGUMENT);const d=s;return Ot(o)?l.locale=o:xi(o)?l.plural=o:Yn(o)?c=o:_r(o)&&(f=o),Ot(u)?l.locale=u:Yn(u)?c=u:_r(u)&&(f=u),Reflect.apply(r.t,r,[d,c||f||{},l])},te(a,s){return r.te(a,s)},tm(a){return r.tm(a)},getLocaleMessage(a){return r.getLocaleMessage(a)},setLocaleMessage(a,s){r.setLocaleMessage(a,s)},mergeLocaleMessage(a,s){r.mergeLocaleMessage(a,s)},d(...a){return Reflect.apply(r.d,r,[...a])},getDateTimeFormat(a){return r.getDateTimeFormat(a)},setDateTimeFormat(a,s){r.setDateTimeFormat(a,s)},mergeDateTimeFormat(a,s){r.mergeDateTimeFormat(a,s)},n(...a){return Reflect.apply(r.n,r,[...a])},getNumberFormat(a){return r.getNumberFormat(a)},setNumberFormat(a,s){r.setNumberFormat(a,s)},mergeNumberFormat(a,s){r.mergeNumberFormat(a,s)},getChoiceIndex(a,s){return-1}};return i.__extender=n,i}}const gC={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Cle({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,i)=>[...n,...i.type===tt?i.children:[i]],[]):t.reduce((r,n)=>{const i=e[n];return i&&(r[n]=i()),r},Bn())}function kR(e){return tt}const $le=ft({name:"i18n-t",props:ma({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>xi(e)||!isNaN(e)}},gC),setup(e,t){const{slots:r,attrs:n}=t,i=e.i18n||Bt({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(r).filter(f=>f!=="_"),s=Bn();e.locale&&(s.locale=e.locale),e.plural!==void 0&&(s.plural=Ot(e.plural)?+e.plural:e.plural);const o=Cle(t,a),u=i[C3](e.keypath,o,s),l=ma(Bn(),n),c=Ot(e.tag)||mn(e.tag)?e.tag:kR();return np(c,l,u)}}}),Ck=$le;function Nle(e){return Yn(e)&&!Ot(e[0])}function IR(e,t,r,n){const{slots:i,attrs:a}=t;return()=>{const s={part:!0};let o=Bn();e.locale&&(s.locale=e.locale),Ot(e.format)?s.key=e.format:mn(e.format)&&(Ot(e.format.key)&&(s.key=e.format.key),o=Object.keys(e.format).reduce((d,p)=>r.includes(p)?ma(Bn(),d,{[p]:e.format[p]}):d,Bn()));const u=n(e.value,s,o);let l=[s.key];Yn(u)?l=u.map((d,p)=>{const m=i[d.type],h=m?m({[d.type]:d.value,index:p,parts:u}):[d.value];return Nle(h)&&(h[0].key=`${d.type}-${p}`),h}):Ot(u)&&(l=[u]);const c=ma(Bn(),a),f=Ot(e.tag)||mn(e.tag)?e.tag:kR();return np(f,c,l)}}const Dle=ft({name:"i18n-n",props:ma({value:{type:Number,required:!0},format:{type:[String,Object]}},gC),setup(e,t){const r=e.i18n||Bt({useScope:e.scope,__useComponent:!0});return IR(e,t,SR,(...n)=>r[N3](...n))}}),$k=Dle,Tle=ft({name:"i18n-d",props:ma({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},gC),setup(e,t){const r=e.i18n||Bt({useScope:e.scope,__useComponent:!0});return IR(e,t,xR,(...n)=>r[$3](...n))}}),Nk=Tle;function kle(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function Ile(e){const t=s=>{const{instance:o,modifiers:u,value:l}=s;if(!o||!o.$)throw ta(Vi.UNEXPECTED_ERROR);const c=kle(e,o.$),f=Dk(l);return[Reflect.apply(c.t,c,[...Tk(f)]),c]};return{created:(s,o)=>{const[u,l]=t(o);kb&&e.global===l&&(s.__i18nWatcher=Xn(l.locale,()=>{o.instance&&o.instance.$forceUpdate()})),s.__composer=l,s.textContent=u},unmounted:s=>{kb&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:o})=>{if(s.__composer){const u=s.__composer,l=Dk(o);s.textContent=Reflect.apply(u.t,u,[...Tk(l)])}},getSSRProps:s=>{const[o]=t(s);return{textContent:o}}}}function Dk(e){if(Ot(e))return{path:e};if(_r(e)){if(!("path"in e))throw ta(Vi.REQUIRED_VALUE,"path");return e}else throw ta(Vi.INVALID_VALUE)}function Tk(e){const{path:t,locale:r,args:n,choice:i,plural:a}=e,s={},o=n||{};return Ot(r)&&(s.locale=r),xi(i)&&(s.plural=i),xi(a)&&(s.plural=a),[t,o,s]}function Ole(e,t,...r){const n=_r(r[0])?r[0]:{},i=!!n.useI18nComponentName;(Zr(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":Ck.name,"I18nT"].forEach(s=>e.component(s,Ck)),[$k.name,"I18nN"].forEach(s=>e.component(s,$k)),[Nk.name,"I18nD"].forEach(s=>e.component(s,Nk))),e.directive("t",Ile(t))}function Mle(e,t,r){return{beforeCreate(){const n=Ia();if(!n)throw ta(Vi.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const a=i.i18n;if(i.__i18n&&(a.__i18n=i.__i18n),a.__root=t,this===this.$root)this.$i18n=kk(e,a);else{a.__injectWithOption=!0,a.__extender=r.__vueI18nExtend,this.$i18n=T3(a);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=kk(e,i);else{this.$i18n=T3({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&TR(t,i,i),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$tc=(...a)=>this.$i18n.tc(...a),this.$te=(a,s)=>this.$i18n.te(a,s),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Ia();if(!n)throw ta(Vi.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function kk(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[$R](t.pluralizationRules||e.pluralizationRules);const r=b2(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(n=>e.mergeLocaleMessage(n,r[n])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const Ple=xf("global-vue-i18n");function Ble(e={},t){const r=__VUE_I18N_LEGACY_API__&&Zr(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=Zr(e.globalInjection)?e.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,a=new Map,[s,o]=Lle(e,r),u=xf("");function l(d){return a.get(d)||null}function c(d,p){a.set(d,p)}function f(d){a.delete(d)}{const d={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(p,...m){if(p.__VUE_I18N_SYMBOL__=u,p.provide(p.__VUE_I18N_SYMBOL__,d),_r(m[0])){const y=m[0];d.__composerExtend=y.__composerExtend,d.__vueI18nExtend=y.__vueI18nExtend}let h=null;!r&&n&&(h=Gle(p,d.global)),__VUE_I18N_FULL_INSTALL__&&Ole(p,d,...m),__VUE_I18N_LEGACY_API__&&r&&p.mixin(Mle(o,o.__composer,d));const v=p.unmount;p.unmount=()=>{h&&h(),d.dispose(),v()}},get global(){return o},dispose(){s.stop()},__instances:a,__getInstance:l,__setInstance:c,__deleteInstance:f};return d}}function Bt(e={}){const t=Ia();if(t==null)throw ta(Vi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ta(Vi.NOT_INSTALLED);const r=Fle(t),n=Ule(r),i=DR(t),a=Rle(e,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw ta(Vi.NOT_AVAILABLE_IN_LEGACY_MODE);return Vle(t,a,n,e)}if(a==="global")return TR(n,e,i),n;if(a==="parent"){let u=zle(r,t,e.__useComponent);return u==null&&(u=n),u}const s=r;let o=s.__getInstance(t);if(o==null){const u=ma({},e);"__i18n"in i&&(u.__i18n=i.__i18n),n&&(u.__root=n),o=vC(u),s.__composerExtend&&(o[D3]=s.__composerExtend(o)),jle(s,t,o),s.__setInstance(t,o)}return o}function Lle(e,t,r){const n=t2();{const i=__VUE_I18N_LEGACY_API__&&t?n.run(()=>T3(e)):n.run(()=>vC(e));if(i==null)throw ta(Vi.UNEXPECTED_ERROR);return[n,i]}}function Fle(e){{const t=js(e.isCE?Ple:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ta(e.isCE?Vi.NOT_INSTALLED_WITH_PROVIDE:Vi.UNEXPECTED_ERROR);return t}}function Rle(e,t){return v2(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Ule(e){return e.mode==="composition"?e.global:e.global.__composer}function zle(e,t,r=!1){let n=null;const i=t.root;let a=qle(t,r);for(;a!=null;){const s=e;if(e.mode==="composition")n=s.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const o=s.__getInstance(a);o!=null&&(n=o.__composer,r&&n&&!n[NR]&&(n=null))}if(n!=null||i===a)break;a=a.parent}return n}function qle(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function jle(e,t,r){wf(()=>{},t),sg(()=>{const n=r;e.__deleteInstance(t);const i=n[D3];i&&(i(),delete n[D3])},t)}function Vle(e,t,r,n={}){const i=t==="local",a=Oi(null);if(i&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw ta(Vi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=Zr(n.inheritLocale)?n.inheritLocale:!Ot(n.locale),o=Pe(!i||s?r.locale.value:Ot(n.locale)?n.locale:Lm),u=Pe(!i||s?r.fallbackLocale.value:Ot(n.fallbackLocale)||Yn(n.fallbackLocale)||_r(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:o.value),l=Pe(b2(o.value,n)),c=Pe(_r(n.datetimeFormats)?n.datetimeFormats:{[o.value]:{}}),f=Pe(_r(n.numberFormats)?n.numberFormats:{[o.value]:{}}),d=i?r.missingWarn:Zr(n.missingWarn)||of(n.missingWarn)?n.missingWarn:!0,p=i?r.fallbackWarn:Zr(n.fallbackWarn)||of(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:Zr(n.fallbackRoot)?n.fallbackRoot:!0,h=!!n.fallbackFormat,v=Gn(n.missing)?n.missing:null,y=Gn(n.postTranslation)?n.postTranslation:null,w=i?r.warnHtmlMessage:Zr(n.warnHtmlMessage)?n.warnHtmlMessage:!0,g=!!n.escapeParameter,b=i?r.modifiers:_r(n.modifiers)?n.modifiers:{},_=n.pluralRules||i&&r.pluralRules;function x(){return[o.value,u.value,l.value,c.value,f.value]}const E=Oe({get:()=>a.value?a.value.locale.value:o.value,set:q=>{a.value&&(a.value.locale.value=q),o.value=q}}),C=Oe({get:()=>a.value?a.value.fallbackLocale.value:u.value,set:q=>{a.value&&(a.value.fallbackLocale.value=q),u.value=q}}),$=Oe(()=>a.value?a.value.messages.value:l.value),D=Oe(()=>c.value),N=Oe(()=>f.value);function k(){return a.value?a.value.getPostTranslationHandler():y}function P(q){a.value&&a.value.setPostTranslationHandler(q)}function U(){return a.value?a.value.getMissingHandler():v}function L(q){a.value&&a.value.setMissingHandler(q)}function B(q){return x(),q()}function O(...q){return a.value?B(()=>Reflect.apply(a.value.t,null,[...q])):B(()=>"")}function T(...q){return a.value?Reflect.apply(a.value.rt,null,[...q]):""}function j(...q){return a.value?B(()=>Reflect.apply(a.value.d,null,[...q])):B(()=>"")}function R(...q){return a.value?B(()=>Reflect.apply(a.value.n,null,[...q])):B(()=>"")}function le(q){return a.value?a.value.tm(q):{}}function re(q,me){return a.value?a.value.te(q,me):!1}function F(q){return a.value?a.value.getLocaleMessage(q):{}}function H(q,me){a.value&&(a.value.setLocaleMessage(q,me),l.value[q]=me)}function ve(q,me){a.value&&a.value.mergeLocaleMessage(q,me)}function ae(q){return a.value?a.value.getDateTimeFormat(q):{}}function W(q,me){a.value&&(a.value.setDateTimeFormat(q,me),c.value[q]=me)}function Q(q,me){a.value&&a.value.mergeDateTimeFormat(q,me)}function J(q){return a.value?a.value.getNumberFormat(q):{}}function se(q,me){a.value&&(a.value.setNumberFormat(q,me),f.value[q]=me)}function Ce(q,me){a.value&&a.value.mergeNumberFormat(q,me)}const Te={get id(){return a.value?a.value.id:-1},locale:E,fallbackLocale:C,messages:$,datetimeFormats:D,numberFormats:N,get inheritLocale(){return a.value?a.value.inheritLocale:s},set inheritLocale(q){a.value&&(a.value.inheritLocale=q)},get availableLocales(){return a.value?a.value.availableLocales:Object.keys(l.value)},get modifiers(){return a.value?a.value.modifiers:b},get pluralRules(){return a.value?a.value.pluralRules:_},get isGlobal(){return a.value?a.value.isGlobal:!1},get missingWarn(){return a.value?a.value.missingWarn:d},set missingWarn(q){a.value&&(a.value.missingWarn=q)},get fallbackWarn(){return a.value?a.value.fallbackWarn:p},set fallbackWarn(q){a.value&&(a.value.missingWarn=q)},get fallbackRoot(){return a.value?a.value.fallbackRoot:m},set fallbackRoot(q){a.value&&(a.value.fallbackRoot=q)},get fallbackFormat(){return a.value?a.value.fallbackFormat:h},set fallbackFormat(q){a.value&&(a.value.fallbackFormat=q)},get warnHtmlMessage(){return a.value?a.value.warnHtmlMessage:w},set warnHtmlMessage(q){a.value&&(a.value.warnHtmlMessage=q)},get escapeParameter(){return a.value?a.value.escapeParameter:g},set escapeParameter(q){a.value&&(a.value.escapeParameter=q)},t:O,getPostTranslationHandler:k,setPostTranslationHandler:P,getMissingHandler:U,setMissingHandler:L,rt:T,d:j,n:R,tm:le,te:re,getLocaleMessage:F,setLocaleMessage:H,mergeLocaleMessage:ve,getDateTimeFormat:ae,setDateTimeFormat:W,mergeDateTimeFormat:Q,getNumberFormat:J,setNumberFormat:se,mergeNumberFormat:Ce};function oe(q){q.locale.value=o.value,q.fallbackLocale.value=u.value,Object.keys(l.value).forEach(me=>{q.mergeLocaleMessage(me,l.value[me])}),Object.keys(c.value).forEach(me=>{q.mergeDateTimeFormat(me,c.value[me])}),Object.keys(f.value).forEach(me=>{q.mergeNumberFormat(me,f.value[me])}),q.escapeParameter=g,q.fallbackFormat=h,q.fallbackRoot=m,q.fallbackWarn=p,q.missingWarn=d,q.warnHtmlMessage=w}return tC(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw ta(Vi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const q=a.value=e.proxy.$i18n.__composer;t==="global"?(o.value=q.locale.value,u.value=q.fallbackLocale.value,l.value=q.messages.value,c.value=q.datetimeFormats.value,f.value=q.numberFormats.value):i&&oe(q)}),Te}const Hle=["locale","fallbackLocale","availableLocales"],Ik=["t","rt","d","n","tm","te"];function Gle(e,t){const r=Object.create(null);return Hle.forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);if(!a)throw ta(Vi.UNEXPECTED_ERROR);const s=mi(a.value)?{get(){return a.value.value},set(o){a.value.value=o}}:{get(){return a.get&&a.get()}};Object.defineProperty(r,i,s)}),e.config.globalProperties.$i18n=r,Ik.forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);if(!a||!a.value)throw ta(Vi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,a)}),()=>{delete e.config.globalProperties.$i18n,Ik.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}wle();__INTLIFY_JIT_COMPILATION__?fk(vle):fk(hle);sle(zue);ole(pR);if(__INTLIFY_PROD_DEVTOOLS__){const e=kl();e.__INTLIFY__=!0,Jue(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Zle={ac:"AC",charisma:"CHA",constitution:"CON",dexterity:"DEX","difficulty-class":"DC","experience-points":"XP",hp:"HP",intelligence:"INT","measurement-unit":"ft",nr:"NR",pm:"PM","spell-components":{material:"M",somatic:"S",verbal:"V"},"spell-levels":{0:"Cantrip",1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th",6:"6th",7:"7th",8:"8th",9:"9th"},strength:"STR",t:"T",wisdom:"WIS","currency-types":{cp:"CP",sp:"SP",gp:"GP",ep:"EP",pp:"PP"}},Wle={add:"Add","add-action":"Add Action","add-class-placeholder":"Add a Class...","add-companion":"Add Companion","add-damage-roll":"Add Damage Roll","add-equipment":"Add Equipment","add-feature":"Add Feature","add-lair-action":"Add Lair Action","add-legendary-action":"Add Legendary Action","add-new-ancestry":"Add New Ancestry","add-new-background":"Add New Background","add-new-class":"Add New Class","add-new-skill":"Add New Skill","add-new-speed":"Add New Speed","add-npc":"Add NPC","add-resource":"Add Resources","add-skill":"Add Skill","add-spell":"Add Spell","add-spell-source":"Add Spell Source","add-tags":"Add Tags","apply-to-temp-hp":"Apply to Temporary HP first",back:" Back",cancel:"Cancel",clear:"Clear",close:"Close",collapse:"Collapse",confirm:"Confirm",damage:"Damage",delete:"Delete","delete-effect":"Delete Effect","disable-effect":"Disable Effect",duplicate:"Duplicate",edit:"Edit","edit-action":"Edit Action","edit-ancestry":"Edit Ancestry","edit-background":"Edit Background","edit-armor-class":"Edit Armor Class","edit-classes":"Edit Classes","edit-companion":"Edit Companion","edit-currency":"Edit Currency","edit-equipment":"Edit Equipment","edit-effect":"Edit Effect","edit-feature":"Edit Feature","edit-hit-points":"Edit Hit Points","edit-lair-action":"Edit Lair Action","edit-legendary-action":"Edit Legendary Action","edit-mode":"Edit Mode","edit-npc":"Edit NPC","edit-resource":"Edit Resources","edit-skill":"Edit Skill","edit-speed":"Edit Speed","edit-spell":"Edit Spell","edit-transformation":"Edit Transformation","enable-effect":"Enable Effect",expand:"Expand",heal:"Heal",remove:"Remove",reset:"Reset",roll:"Roll",save:"Save","save-action":"Save Action","save-feature":"Save Feature","select-source":"Select Source",subtract:"Subtract",sum:"Sum",upload:"Upload",view:"View"},Kle={"including-treasure":"Including treasure",or:"or","unlocks-at-level":"Unlocks at level {level}",conditions:{blinded:`A blinded creature can't see and automatically fails any ability check that requires sight.
Attack rolls against the creature have advantage, and the creature's attack rolls have disadvantage.`,charmed:`A charmed creature can't attack the charmer or target the charmer with harmful abilities or magical effects.
The charmer has advantage on any ability check to interact socially with the creature.`,deafened:"A deafened creature can't hear and automatically fails any ability check that requires hearing.",diseased:"A diseased creature is under the effect of a disease. The specifics of the disease's effects, transmission, and cure are determined by the specific disease.",exhaustion:`Exhaustion is measured in six levels. A creature suffers the effect of its current level of exhaustion as well as all lower levels.
Finishing a long rest reduces a creature's exhaustion level by 1, provided that the creature has also ingested some food and drink.`,frightened:`A frightened creature has disadvantage on ability checks and attack rolls while the source of its fear is within line of sight.
The creature can't willingly move closer to the source of its fear.`,grappled:`A grappled creature's speed becomes 0, and it can't benefit from any bonus to its speed.
The condition ends if the grappler is incapacitated or an effect removes the creature from the grappler's reach.`,incapacitated:"An incapacitated creature can't take actions or reactions.",invisible:`An invisible creature is impossible to see without the aid of magic or a special sense.
Attack rolls against the creature have disadvantage, and the creature's attack rolls have advantage.`,paralyzed:`A paralyzed creature is incapacitated and can't move or speak.
The creature automatically fails Strength and Dexterity saving throws.
Attack rolls against the creature have advantage.
Any attack that hits is a critical hit if the attacker is within 5 feet.`,petrified:`A petrified creature is transformed into a solid inanimate substance.
The creature is incapacitated, can't move or speak, and is unaware of its surroundings.
Attack rolls against the creature have advantage.
The creature automatically fails Strength and Dexterity saving throws.
The creature has resistance to all damage and is immune to poison and disease.`,poisoned:"A poisoned creature has disadvantage on attack rolls and ability checks.",prone:`A prone creature's only movement option is to crawl or stand.
The creature has disadvantage on attack rolls.
An attack roll against the creature has advantage if the attacker is within 5 feet, otherwise the attack roll has disadvantage.`,restrained:`A restrained creature's speed becomes 0.
Attack rolls against the creature have advantage, and the creature's attack rolls have disadvantage.
The creature has disadvantage on Dexterity saving throws.`,stunned:`A stunned creature is incapacitated, can't move, and can speak only falteringly.
The creature automatically fails Strength and Dexterity saving throws.
Attack rolls against the creature have advantage.`,unconscious:`An unconscious creature is incapacitated, can't move or speak, and is unaware of its surroundings.
The creature drops whatever it is holding and falls prone.
The creature automatically fails Strength and Dexterity saving throws.
Attack rolls against the creature have advantage.
Any attack that hits is a critical hit if the attacker is within 5 feet.`},"exhaustion-levels":{1:"Disadvantage on ability checks.",2:"Speed halved.",3:"Disadvantage on attack rolls and saving throws.",4:"Hit point maximum halved.",5:"Speed reduced to 0.",6:"Death."},resting:{long:"A long rest is a period of extended downtime, at least 8 hours long, during which a character sleeps or performs light activity: reading, talking, eating, or standing watch for no more than 2 hours. If the rest is interrupted by a period of strenuous activityat least 1 hour of walking, fighting, casting spells, or similar adventuring activitythe characters must begin the rest again to gain any benefit from it.",short:"A short rest is a period of downtime, at least 1 hour long, during which a character does nothing more strenuous than eating, drinking, reading, and tending to wounds."}},Jle={"ability-check":"Ability Check",advantage:"Advantage","attack-roll":"Attack Roll",crit:"Critical","crit-fail":"Critical Fail!","crit-success":"Critical Success!",details:"Details","damage-roll":"Damage Roll",disadvantage:"Disadvantage","hit-dice-roll":"Hit Dice Roll","hp-recovered":"HP Recovered","initiative-check":"Initiative Check",savings:"Saving Throw","default-skills":"Skill Check","roll-type":"Roll Type",tools:"Tool Check",normal:"Normal",restricted:"Restricted"},Yle={ability:"Ability","ability-bonus":"Bonus","ability-modifier":"Ability Modifier",ac:"AC",actions:"Actions",active:"Active","active-effects":"Active Effects","add-skill":"Add Skill","additional-bonus":"Additional Bonus",adjustment:"Adjustment",alignment:"Alignment",all:"All",ammo:"Ammo",ancestry:"Ancestry","armor-class":"Armor Class","at-higher-levels":"At Higher Levels",attack:"Attack","attack-ability":"Attack Ability","attack-bonus":"Attack Bonus","attack-type":"Attack Type",attunement:"Attunement","attunement-slots":"Attunement Slots",attuned:"Attuned","attunable-items":"Attunable Items","attuned-items":"Attuned Items",average:"Average",background:"Background","base-ac":"Base AC","base-score":"Base Score","base-speed":"Base Speed",bonus:"Bonus",calculation:"Calculation",cantrips:"Cantrips","casting-time":"Casting Time",challenge:"Challenge","character-class-and-level":"Class & Level","character-handle":"Handle",charisma:"Charisma",class:"Class",companions:"Companions",components:"Components",concentration:"Concentration",conditions:"Conditions","condition-immunities":"Condition Immunities",constitution:"Constitution",count:"Count",crit:"Crit Override","crit-range":"Crit Range",currency:"Currency",current:"Current","custom-skills":"Custom Skills",damage:"Damage","damage-immunities":"Damage Immunities","damage-resistances":"Damage Resistances","damage-type":"Type","damage-vulnerabilities":"Damage Vulnerabilities",defenses:"Defenses",dawn:"Dawn",dc:"DC",description:"Description",dexterity:"Dexterity","difficulty-class":"Difficulty Class",duration:"Duration","edit-skill":"Edit Skill",effects:"Effects",empty:"Empty",equipment:"Equipment",equipped:"Equipped",exhaustion:"Exhaustion","experience-points":"Experience Points",failures:"Failures",features:"Features","fixed-value":"Fixed Value",gender:"Gender",group:"Group",heal:"Heal","hit-die":"Hit Die","hit-dice":"Hit Dice","hit-points":"Hit Points","hit-points-max":"Max",hp:"HP","hp-formula":"HP Formula",initiative:"Initiative",innate:"Innate","innate-spellcasting":"Innate Spellcasting","innate-usage":"Innate Usage (e.g., 1/Day)",inspiration:"Inspiration",intelligence:"Intelligence","invalid-json":"Invalid JSON","is-attack":"Is attack?","is-attuned":"Is Attuned","lair-actions":"Lair Actions",languages:"Languages","legendary-actions":"Legendary Actions","legendary-cost":"Legendary Cost","legendary-cost-label":"Costs {cost} Actions",level:"Level","level-header":"Level {level}","long-rest":"Long Rest",manual:"Manual","material-optional":"Material (optional)",max:"Max","measurement-unit":"feet",mods:"Mods",name:"Name","new-class":"New Class",none:"None","npc-sheet":"NPC Sheet","other-skills":"Other Skills","pact-slots":"Pact Slots","passive-insight":"Passive Insight","passive-investigation":"Passive Investigation","passive-perception":"Passive Perception",permanent:"Permanent",proficiency:"Proficiency","proficiency-bonus":"Proficiency Bonus",spellcasting:"Spellcasting","spells-slots":"Spell Slots",transformation:"Transformation",condition:{blinded:"Blinded",charmed:"Charmed",deafened:"Deafened",diseased:"Diseased",exhaustion:"Exhaustion",frightened:"Frightened",grappled:"Grappled",incapacitated:"Incapacitated",invisible:"Invisible",paralyzed:"Paralyzed",petrified:"Petrified",poisoned:"Poisoned",prone:"Prone",restrained:"Restrained",stunned:"Stunned",unconscious:"Unconscious"},language:{common:"Common",dwarvish:"Dwarvish",elvish:"Elvish",giant:"Giant",gnomish:"Gnomish",goblin:"Goblin",halfling:"Halfling",orc:"Orc",abyssal:"Abyssal",celestial:"Celestial",draconic:"Draconic",infernal:"Infernal",primordial:"Primordial",sylvan:"Sylvan",undercommon:"Undercommon"},"proficiency-types":{"other-proficiencies":"Other Proficiencies","armor-proficiencies":"Armor Proficiencies","weapon-proficiencies":"Weapon Proficiencies","tool-proficiencies":"Tool Proficiencies"},"proficiency-type":{"armor-proficiencies":{"light-armor":"Light Armor","medium-armor":"Medium Armor","heavy-armor":"Heavy Armor",shields:"Shields"},"weapon-proficiencies":{"simple-weapons":"Simple Weapons","martial-weapons":"Martial Weapons","simple-firearms":"Simple Firearms","martial-firearms":"Martial Firearms","improvised-weapons":"Improvised Weapons","thrown-weapons":"Thrown Weapons","hand-crossbow":"Hand Crossbow",shortsword:"Shortsword",longsword:"Longsword",rapier:"Rapier",greatsword:"Greatsword",greataxe:"Greataxe","blackpowder-pistols":"Blackpowder Pistols"}},properties:"Properties","props-mods":"Properties",quantity:"Quantity",race:"Race",range:"Range","refresh-options":"Refresh Options","requires-attunement":"Requires Attunement",resources:"Resources",result:"Result",ritual:"Ritual",rolled:"Rolled","save-dc":"Save DC","saving-throw":"Saving Throw","saving-throws":"Saving Throws",school:"School",senses:"Senses",sense:{blindsight:"Blindsight",darkvision:"Darkvision",tremorsense:"Tremorsense",truesight:"Truesight"},"short-rest":"Short Rest",size:"Size",skill:"Skills",skills:"Skills",slots:"Slots: ",source:"Source","source-type":"Source Type",speed:"Speed","spell-attack-bonus":"Spell Attack Bonus","spell-save-dc":"Spell Save DC","spell-slots":"Spell Slots","spell-source":"Spell Source","spellcasting-ability":"Spellcasting Ability","standard-slots":"Standard Slots",strength:"Strength",subclass:"Subclass",subrace:"Subrace",successes:"Successes",tags:"Tags",tag:{equipment:{attunement:"Attunement",magical:"Magical",treasure:"Treasure"}},target:"Target","temporary-hit-points":"Temporary",tools:"Tools",total:"Total","total-weight":"Total Weight",treasure:"Treasure",trigger:"Trigger",type:"Type",used:"Used","unit-lbs":"lbs","upcast-description":"Upcast Description",value:"Value",weight:"Weight",wisdom:"Wisdom",abilities:{charisma:"Charisma",constitution:"Constitution","death-saving":"Death Saving",dexterity:"Dexterity",initiative:"Initiative",intelligence:"Intelligence",strength:"Strength",wisdom:"Wisdom"},"action-groups":{actions:"Actions","bonus-actions":"Bonus Actions","free-actions":"Free Actions",reactions:"Reactions"},"attack-types":{melee:"Melee",ranged:"Ranged"},"currency-types":{cp:"Copper (CP)",sp:"Silver (SP)",gp:"Gold (GP)",ep:"Electrum (EP)",pp:"Platinum (PP)"},"damage-application":{quarter:"Quarter Damage",half:"Half Damage",normal:"Normal Damage",double:"Double Damage"},"damage-types":{ability:"Ability",acid:"Acid",bludgeoning:"Bludgeoning",cold:"Cold",fire:"Fire",force:"Force",lightning:"Lightning",necrotic:"Necrotic",piercing:"Piercing",poison:"Poison",psychic:"Psychic",radiant:"Radiant",slashing:"Slashing",thunder:"Thunder",untyped:"Untyped"},"default-skills":{acrobatics:"Acrobatics","animal-handling":"Animal Handling",arcana:"Arcana",athletics:"Athletics",deception:"Deception",history:"History",insight:"Insight",intimidation:"Intimidation",investigation:"Investigation",medicine:"Medicine",nature:"Nature",perception:"Perception",performance:"Performance",persuasion:"Persuasion",religion:"Religion","sleight-of-hand":"Sleight of Hand",stealth:"Stealth",survival:"Survival"},"dice-pool-types":{ability:"Ability",acid:"Acid",bludgeoning:"Bludgeoning",cold:"Cold",fire:"Fire",force:"Force",lightning:"Lightning",necrotic:"Necrotic",piercing:"Piercing",poison:"Poison",psychic:"Psychic",radiant:"Radiant",slashing:"Slashing",thunder:"Thunder",untyped:"Untyped",healing:"Healing","temporary-hit-points":"Temporary HP"},"effects-status":{active:"Active",inactive:"Inactive","inactive-parent":"Inactive (Parent Disabled)","inactive-requires":"Inactive (Requires: {state})","modified-by-effect":"Modified by Effect","added-by-effect":"Added by Effect from:"},"encumbrance-status":{encumbered:"Encumbered","heavily-encumbered":"Heavily Encumbered",normal:"Normal"},"equipment-types":{ammunition:"Ammunition",armor:"Armor",equipment:"Equipment","magic-item-consumable":"Magic Item - Consumable","magic-item-miscellaneous":"Magic Item - Miscellaneous","magic-item-weapon":"Magic Item - Weapon","magic-item-armor":"Magic Item - Armor","magic-item-wondrous":"Magic Item - Wondrous","survival-gear":"Survival Gear",vehicle:"Vehicle",weapon:"Weapon",tool:"Tool"},"feature-groups":{"ancestry-features":"Ancestry Features","class-features":"Class Features",feats:"Feats",others:"Others","background-features":"Background Features",traits:"Traits","transformation-features":"Transformation Features"},icons:{config:"Config",refresh:"Refresh",skull:"Failure",heart:"Success",delete:"Delete",close:"Close",chat:"Send to Chat",lock:"Added by an effect and cannot be edited or removed.",upload:"Upload Image",untrained:"Untrained","half-proficient":"Half-proficient",proficient:"Proficient",expert:"Expertise",add:"Add",info:"Info","send-to-chat":"Send to Chat"},"proficiency-levels":{automatic:"Automatic",expert:"Expertise","half-proficient":"Half-Proficient",proficient:"Proficient",untrained:"Untrained"},savings:{"charisma-saving":"Charisma","constitution-saving":"Constitution","dexterity-saving":"Dexterity","intelligence-saving":"Intelligence","strength-saving":"Strength","wisdom-saving":"Wisdom"},sizes:{gargantuan:"Gargantuan",huge:"Huge",large:"Large",medium:"Medium",small:"Small",tiny:"Tiny"},"source-types":{spell:"Spell",weapon:"Weapon"},speeds:{walk:"Walk",swim:"Swim",fly:"Fly",climb:"Climb",burrow:"Burrow"},"spell-components":{material:"Material",somatic:"Somatic",verbal:"Verbal"},"spell-levels":{0:"Cantrip",1:"1st-level",2:"2nd-level",3:"3rd-level",4:"4th-level",5:"5th-level",6:"6th-level",7:"7th-level",8:"8th-level",9:"9th-level"},"spell-schools":{abjuration:"Abjuration",conjuration:"Conjuration",divination:"Divination",enchantment:"Enchantment",evocation:"Evocation",illusion:"Illusion",necromancy:"Necromancy",transmutation:"Transmutation"},"spellcasting-types":{full:"Full","full-examples":"(Druid, Wizard...)",half:"Half","half-examples":"(Artificer, Paladin...)",third:"Third",pact:"Pact","pact-examples":"(Warlock)"},tabs:{core:"Core",spells:"Spells"}},Xle={"confirm-delete-effect":'Are you sure you want to delete the "{label}" effect? This cannot be undone.',"confirm-delete-npc":"Are you sure you want to delete {name}? This cannot be undone.",encumbrance:{encumbered:"Your speed is reduced by 10 feet.","heavily-encumbered":`Your speed is reduced by 20 feet.
You have disadvantage on ability checks, attack rolls, and saving throws that use STR, DEX, or CON.`},"no-classes-for-hp":"Please add a class to the character before editing Hit Points.","no-spell-sources":"No spell sources available. Please add a spell source first."},Qle={abbreviations:Zle,actions:Wle,descriptions:Kle,rolls:Jle,titles:Yle,warnings:Xle},ece="nome",tce="profisso",rce="raa",nce={name:ece,background:tce,race:rce},ice=Ble({legacy:!1,locale:"en",fallbackLocale:"en",messages:{en:Qle,es:nce}});var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function el(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Ob={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ob.exports;(function(e,t){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,d=2,p=4,m=1,h=2,v=1,y=2,w=4,g=8,b=16,_=32,x=64,E=128,C=256,$=512,D=30,N="...",k=800,P=16,U=1,L=2,B=3,O=1/0,T=9007199254740991,j=17976931348623157e292,R=0/0,le=4294967295,re=le-1,F=le>>>1,H=[["ary",E],["bind",v],["bindKey",y],["curry",g],["curryRight",b],["flip",$],["partial",_],["partialRight",x],["rearg",C]],ve="[object Arguments]",ae="[object Array]",W="[object AsyncFunction]",Q="[object Boolean]",J="[object Date]",se="[object DOMException]",Ce="[object Error]",Te="[object Function]",oe="[object GeneratorFunction]",q="[object Map]",me="[object Number]",X="[object Null]",K="[object Object]",de="[object Promise]",Ee="[object Proxy]",te="[object RegExp]",ce="[object Set]",pe="[object String]",Y="[object Symbol]",be="[object Undefined]",ye="[object WeakMap]",ge="[object WeakSet]",xe="[object ArrayBuffer]",ke="[object DataView]",Ke="[object Float32Array]",Ue="[object Float64Array]",rt="[object Int8Array]",je="[object Int16Array]",Rt="[object Int32Array]",Pt="[object Uint8Array]",cr="[object Uint8ClampedArray]",G="[object Uint16Array]",Ne="[object Uint32Array]",Ge=/\b__p \+= '';/g,ot=/\b(__p \+=) '' \+/g,Ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xt=/&(?:amp|lt|gt|quot|#39);/g,oi=/[&<>"']/g,bu=RegExp(Xt.source),ol=RegExp(oi.source),oc=/<%-([\s\S]+?)%>/g,uc=/<%([\s\S]+?)%>/g,_u=/<%=([\s\S]+?)%>/g,lc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rf=/^\w*$/,Uf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Au=/[\\^$.*+?()[\]{}|]/g,Ks=RegExp(Au.source),wu=/^\s+/,zf=/\s/,qf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ia=/\{\n\/\* \[wrapped with (.+)\] \*/,ti=/,? & /,jf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xu=/[()=,{}\[\]\/\s]/,as=/\\(\\)?/g,Su=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cs=/\w*$/,Vf=/^[-+]0x[0-9a-f]+$/i,Hf=/^0b[01]+$/i,Gf=/^\[object .+?Constructor\]$/,Zf=/^0o[0-7]+$/i,Wf=/^(?:0|[1-9]\d*)$/,Kf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eu=/($^)/,Do=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",$i="\\u0300-\\u036f",Jf="\\ufe20-\\ufe2f",Cu="\\u20d0-\\u20ff",$s=$i+Jf+Cu,cc="\\u2700-\\u27bf",Cp="a-z\\xdf-\\xf6\\xf8-\\xff",fc="\\xac\\xb1\\xd7\\xf7",Qh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",e0="\\u2000-\\u206f",t0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fa="A-Z\\xc0-\\xd6\\xd8-\\xde",dc="\\ufe0e\\ufe0f",Yf=fc+Qh+e0+t0,pc="[']",r0="["+jr+"]",Js="["+Yf+"]",To="["+$s+"]",$p="\\d+",Xf="["+cc+"]",Np="["+Cp+"]",Dp="[^"+jr+Yf+$p+cc+Cp+Fa+"]",z="\\ud83c[\\udffb-\\udfff]",ie="(?:"+To+"|"+z+")",$e="[^"+jr+"]",Re="(?:\\ud83c[\\udde6-\\uddff]){2}",at="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="["+Fa+"]",$r="\\u200d",fn="(?:"+Np+"|"+Dp+")",gi="(?:"+Et+"|"+Dp+")",ui="(?:"+pc+"(?:d|ll|m|re|s|t|ve))?",Zg="(?:"+pc+"(?:D|LL|M|RE|S|T|VE))?",Wg=ie+"?",Kg="["+dc+"]?",HA="(?:"+$r+"(?:"+[$e,Re,at].join("|")+")"+Kg+Wg+")*",GA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ZA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jg=Kg+Wg+HA,WA="(?:"+[Xf,Re,at].join("|")+")"+Jg,KA="(?:"+[$e+To+"?",To,Re,at,r0].join("|")+")",JA=RegExp(pc,"g"),YA=RegExp(To,"g"),n0=RegExp(z+"(?="+z+")|"+KA+Jg,"g"),XA=RegExp([Et+"?"+Np+"+"+ui+"(?="+[Js,Et,"$"].join("|")+")",gi+"+"+Zg+"(?="+[Js,Et+fn,"$"].join("|")+")",Et+"?"+fn+"+"+ui,Et+"+"+Zg,ZA,GA,$p,WA].join("|"),"g"),QA=RegExp("["+$r+jr+$s+dc+"]"),ew=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rw=-1,Un={};Un[Ke]=Un[Ue]=Un[rt]=Un[je]=Un[Rt]=Un[Pt]=Un[cr]=Un[G]=Un[Ne]=!0,Un[ve]=Un[ae]=Un[xe]=Un[Q]=Un[ke]=Un[J]=Un[Ce]=Un[Te]=Un[q]=Un[me]=Un[K]=Un[te]=Un[ce]=Un[pe]=Un[ye]=!1;var On={};On[ve]=On[ae]=On[xe]=On[ke]=On[Q]=On[J]=On[Ke]=On[Ue]=On[rt]=On[je]=On[Rt]=On[q]=On[me]=On[K]=On[te]=On[ce]=On[pe]=On[Y]=On[Pt]=On[cr]=On[G]=On[Ne]=!0,On[Ce]=On[Te]=On[ye]=!1;var nw={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},iw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ow=parseFloat,uw=parseInt,we=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,dn=typeof self=="object"&&self&&self.Object===Object&&self,ci=we||dn||Function("return this")(),ss=t&&!t.nodeType&&t,ko=ss&&!0&&e&&!e.nodeType&&e,dt=ko&&ko.exports===ss,mc=dt&&we.process,aa=function(){try{var ze=ko&&ko.require&&ko.require("util").types;return ze||mc&&mc.binding&&mc.binding("util")}catch{}}(),Gt=aa&&aa.isArrayBuffer,Io=aa&&aa.isDate,Yg=aa&&aa.isMap,Xg=aa&&aa.isRegExp,Tp=aa&&aa.isSet,i0=aa&&aa.isTypedArray;function _a(ze,st,Qe){switch(Qe.length){case 0:return ze.call(st);case 1:return ze.call(st,Qe[0]);case 2:return ze.call(st,Qe[0],Qe[1]);case 3:return ze.call(st,Qe[0],Qe[1],Qe[2])}return ze.apply(st,Qe)}function _t(ze,st,Qe,Lt){for(var xr=-1,vn=ze==null?0:ze.length;++xr<vn;){var Pi=ze[xr];st(Lt,Pi,Qe(Pi),ze)}return Lt}function os(ze,st){for(var Qe=-1,Lt=ze==null?0:ze.length;++Qe<Lt&&st(ze[Qe],Qe,ze)!==!1;);return ze}function Qg(ze,st){for(var Qe=ze==null?0:ze.length;Qe--&&st(ze[Qe],Qe,ze)!==!1;);return ze}function e1(ze,st){for(var Qe=-1,Lt=ze==null?0:ze.length;++Qe<Lt;)if(!st(ze[Qe],Qe,ze))return!1;return!0}function $u(ze,st){for(var Qe=-1,Lt=ze==null?0:ze.length,xr=0,vn=[];++Qe<Lt;){var Pi=ze[Qe];st(Pi,Qe,ze)&&(vn[xr++]=Pi)}return vn}function kp(ze,st){var Qe=ze==null?0:ze.length;return!!Qe&&hc(ze,st,0)>-1}function a0(ze,st,Qe){for(var Lt=-1,xr=ze==null?0:ze.length;++Lt<xr;)if(Qe(st,ze[Lt]))return!0;return!1}function jn(ze,st){for(var Qe=-1,Lt=ze==null?0:ze.length,xr=Array(Lt);++Qe<Lt;)xr[Qe]=st(ze[Qe],Qe,ze);return xr}function Ns(ze,st){for(var Qe=-1,Lt=st.length,xr=ze.length;++Qe<Lt;)ze[xr+Qe]=st[Qe];return ze}function s0(ze,st,Qe,Lt){var xr=-1,vn=ze==null?0:ze.length;for(Lt&&vn&&(Qe=ze[++xr]);++xr<vn;)Qe=st(Qe,ze[xr],xr,ze);return Qe}function lw(ze,st,Qe,Lt){var xr=ze==null?0:ze.length;for(Lt&&xr&&(Qe=ze[--xr]);xr--;)Qe=st(Qe,ze[xr],xr,ze);return Qe}function o0(ze,st){for(var Qe=-1,Lt=ze==null?0:ze.length;++Qe<Lt;)if(st(ze[Qe],Qe,ze))return!0;return!1}var cw=Oo("length");function fw(ze){return ze.split("")}function dw(ze){return ze.match(jf)||[]}function t1(ze,st,Qe){var Lt;return Qe(ze,function(xr,vn,Pi){if(st(xr,vn,Pi))return Lt=vn,!1}),Lt}function Ip(ze,st,Qe,Lt){for(var xr=ze.length,vn=Qe+(Lt?1:-1);Lt?vn--:++vn<xr;)if(st(ze[vn],vn,ze))return vn;return-1}function hc(ze,st,Qe){return st===st?yc(ze,st,Qe):Ip(ze,r1,Qe)}function pw(ze,st,Qe,Lt){for(var xr=Qe-1,vn=ze.length;++xr<vn;)if(Lt(ze[xr],st))return xr;return-1}function r1(ze){return ze!==ze}function n1(ze,st){var Qe=ze==null?0:ze.length;return Qe?ed(ze,st)/Qe:R}function Oo(ze){return function(st){return st==null?r:st[ze]}}function u0(ze){return function(st){return ze==null?r:ze[st]}}function Qf(ze,st,Qe,Lt,xr){return xr(ze,function(vn,Pi,zn){Qe=Lt?(Lt=!1,vn):st(Qe,vn,Pi,zn)}),Qe}function Nu(ze,st){var Qe=ze.length;for(ze.sort(st);Qe--;)ze[Qe]=ze[Qe].value;return ze}function ed(ze,st){for(var Qe,Lt=-1,xr=ze.length;++Lt<xr;){var vn=st(ze[Lt]);vn!==r&&(Qe=Qe===r?vn:Qe+vn)}return Qe}function l0(ze,st){for(var Qe=-1,Lt=Array(ze);++Qe<ze;)Lt[Qe]=st(Qe);return Lt}function ul(ze,st){return jn(st,function(Qe){return[Qe,ze[Qe]]})}function Op(ze){return ze&&ze.slice(0,AD(ze)+1).replace(wu,"")}function Aa(ze){return function(st){return ze(st)}}function vc(ze,st){return jn(st,function(Qe){return ze[Qe]})}function gc(ze,st){return ze.has(st)}function i1(ze,st){for(var Qe=-1,Lt=ze.length;++Qe<Lt&&hc(st,ze[Qe],0)>-1;);return Qe}function a1(ze,st){for(var Qe=ze.length;Qe--&&hc(st,ze[Qe],0)>-1;);return Qe}function s1(ze,st){for(var Qe=ze.length,Lt=0;Qe--;)ze[Qe]===st&&++Lt;return Lt}var Mp=u0(nw),Vn=u0(iw);function o1(ze){return"\\"+sw[ze]}function ue(ze,st){return ze==null?r:ze[st]}function Ie(ze){return QA.test(ze)}function Ve(ze){return ew.test(ze)}function Ye(ze){for(var st,Qe=[];!(st=ze.next()).done;)Qe.push(st.value);return Qe}function ht(ze){var st=-1,Qe=Array(ze.size);return ze.forEach(function(Lt,xr){Qe[++st]=[xr,Lt]}),Qe}function $t(ze,st){return function(Qe){return ze(st(Qe))}}function Vr(ze,st){for(var Qe=-1,Lt=ze.length,xr=0,vn=[];++Qe<Lt;){var Pi=ze[Qe];(Pi===st||Pi===c)&&(ze[Qe]=c,vn[xr++]=Qe)}return vn}function wn(ze){var st=-1,Qe=Array(ze.size);return ze.forEach(function(Lt){Qe[++st]=Lt}),Qe}function Ds(ze){var st=-1,Qe=Array(ze.size);return ze.forEach(function(Lt){Qe[++st]=[Lt,Lt]}),Qe}function yc(ze,st,Qe){for(var Lt=Qe-1,xr=ze.length;++Lt<xr;)if(ze[Lt]===st)return Lt;return-1}function fX(ze,st,Qe){for(var Lt=Qe+1;Lt--;)if(ze[Lt]===st)return Lt;return Lt}function Pp(ze){return Ie(ze)?pX(ze):cw(ze)}function Mo(ze){return Ie(ze)?mX(ze):fw(ze)}function AD(ze){for(var st=ze.length;st--&&zf.test(ze.charAt(st)););return st}var dX=u0(aw);function pX(ze){for(var st=n0.lastIndex=0;n0.test(ze);)++st;return st}function mX(ze){return ze.match(n0)||[]}function hX(ze){return ze.match(XA)||[]}var vX=function ze(st){st=st==null?ci:Bp.defaults(ci.Object(),st,Bp.pick(ci,tw));var Qe=st.Array,Lt=st.Date,xr=st.Error,vn=st.Function,Pi=st.Math,zn=st.Object,mw=st.RegExp,gX=st.String,Ys=st.TypeError,u1=Qe.prototype,yX=vn.prototype,Lp=zn.prototype,l1=st["__core-js_shared__"],c1=yX.toString,xn=Lp.hasOwnProperty,bX=0,wD=function(){var A=/[^.]+$/.exec(l1&&l1.keys&&l1.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),f1=Lp.toString,_X=c1.call(zn),AX=ci._,wX=mw("^"+c1.call(xn).replace(Au,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d1=dt?st.Buffer:r,bc=st.Symbol,p1=st.Uint8Array,xD=d1?d1.allocUnsafe:r,m1=$t(zn.getPrototypeOf,zn),SD=zn.create,ED=Lp.propertyIsEnumerable,h1=u1.splice,CD=bc?bc.isConcatSpreadable:r,c0=bc?bc.iterator:r,td=bc?bc.toStringTag:r,v1=function(){try{var A=sd(zn,"defineProperty");return A({},"",{}),A}catch{}}(),xX=st.clearTimeout!==ci.clearTimeout&&st.clearTimeout,SX=Lt&&Lt.now!==ci.Date.now&&Lt.now,EX=st.setTimeout!==ci.setTimeout&&st.setTimeout,g1=Pi.ceil,y1=Pi.floor,hw=zn.getOwnPropertySymbols,CX=d1?d1.isBuffer:r,$D=st.isFinite,$X=u1.join,NX=$t(zn.keys,zn),Bi=Pi.max,wa=Pi.min,DX=Lt.now,TX=st.parseInt,ND=Pi.random,kX=u1.reverse,vw=sd(st,"DataView"),f0=sd(st,"Map"),gw=sd(st,"Promise"),Fp=sd(st,"Set"),d0=sd(st,"WeakMap"),p0=sd(zn,"create"),b1=d0&&new d0,Rp={},IX=od(vw),OX=od(f0),MX=od(gw),PX=od(Fp),BX=od(d0),_1=bc?bc.prototype:r,m0=_1?_1.valueOf:r,DD=_1?_1.toString:r;function _e(A){if(fi(A)&&!Nr(A)&&!(A instanceof tn)){if(A instanceof Xs)return A;if(xn.call(A,"__wrapped__"))return T8(A)}return new Xs(A)}var Up=function(){function A(){}return function(S){if(!li(S))return{};if(SD)return SD(S);A.prototype=S;var I=new A;return A.prototype=r,I}}();function A1(){}function Xs(A,S){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=r}_e.templateSettings={escape:oc,evaluate:uc,interpolate:_u,variable:"",imports:{_:_e}},_e.prototype=A1.prototype,_e.prototype.constructor=_e,Xs.prototype=Up(A1.prototype),Xs.prototype.constructor=Xs;function tn(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function LX(){var A=new tn(this.__wrapped__);return A.__actions__=us(this.__actions__),A.__dir__=this.__dir__,A.__filtered__=this.__filtered__,A.__iteratees__=us(this.__iteratees__),A.__takeCount__=this.__takeCount__,A.__views__=us(this.__views__),A}function FX(){if(this.__filtered__){var A=new tn(this);A.__dir__=-1,A.__filtered__=!0}else A=this.clone(),A.__dir__*=-1;return A}function RX(){var A=this.__wrapped__.value(),S=this.__dir__,I=Nr(A),V=S<0,fe=I?A.length:0,Se=YQ(0,fe,this.__views__),Me=Se.start,Le=Se.end,qe=Le-Me,ut=V?Le:Me-1,lt=this.__iteratees__,vt=lt.length,It=0,jt=wa(qe,this.__takeCount__);if(!I||!V&&fe==qe&&jt==qe)return QD(A,this.__actions__);var nr=[];e:for(;qe--&&It<jt;){ut+=S;for(var Fr=-1,ir=A[ut];++Fr<vt;){var Wr=lt[Fr],sn=Wr.iteratee,Is=Wr.type,za=sn(ir);if(Is==L)ir=za;else if(!za){if(Is==U)continue e;break e}}nr[It++]=ir}return nr}tn.prototype=Up(A1.prototype),tn.prototype.constructor=tn;function rd(A){var S=-1,I=A==null?0:A.length;for(this.clear();++S<I;){var V=A[S];this.set(V[0],V[1])}}function UX(){this.__data__=p0?p0(null):{},this.size=0}function zX(A){var S=this.has(A)&&delete this.__data__[A];return this.size-=S?1:0,S}function qX(A){var S=this.__data__;if(p0){var I=S[A];return I===u?r:I}return xn.call(S,A)?S[A]:r}function jX(A){var S=this.__data__;return p0?S[A]!==r:xn.call(S,A)}function VX(A,S){var I=this.__data__;return this.size+=this.has(A)?0:1,I[A]=p0&&S===r?u:S,this}rd.prototype.clear=UX,rd.prototype.delete=zX,rd.prototype.get=qX,rd.prototype.has=jX,rd.prototype.set=VX;function ll(A){var S=-1,I=A==null?0:A.length;for(this.clear();++S<I;){var V=A[S];this.set(V[0],V[1])}}function HX(){this.__data__=[],this.size=0}function GX(A){var S=this.__data__,I=w1(S,A);if(I<0)return!1;var V=S.length-1;return I==V?S.pop():h1.call(S,I,1),--this.size,!0}function ZX(A){var S=this.__data__,I=w1(S,A);return I<0?r:S[I][1]}function WX(A){return w1(this.__data__,A)>-1}function KX(A,S){var I=this.__data__,V=w1(I,A);return V<0?(++this.size,I.push([A,S])):I[V][1]=S,this}ll.prototype.clear=HX,ll.prototype.delete=GX,ll.prototype.get=ZX,ll.prototype.has=WX,ll.prototype.set=KX;function cl(A){var S=-1,I=A==null?0:A.length;for(this.clear();++S<I;){var V=A[S];this.set(V[0],V[1])}}function JX(){this.size=0,this.__data__={hash:new rd,map:new(f0||ll),string:new rd}}function YX(A){var S=M1(this,A).delete(A);return this.size-=S?1:0,S}function XX(A){return M1(this,A).get(A)}function QX(A){return M1(this,A).has(A)}function eQ(A,S){var I=M1(this,A),V=I.size;return I.set(A,S),this.size+=I.size==V?0:1,this}cl.prototype.clear=JX,cl.prototype.delete=YX,cl.prototype.get=XX,cl.prototype.has=QX,cl.prototype.set=eQ;function nd(A){var S=-1,I=A==null?0:A.length;for(this.__data__=new cl;++S<I;)this.add(A[S])}function tQ(A){return this.__data__.set(A,u),this}function rQ(A){return this.__data__.has(A)}nd.prototype.add=nd.prototype.push=tQ,nd.prototype.has=rQ;function Po(A){var S=this.__data__=new ll(A);this.size=S.size}function nQ(){this.__data__=new ll,this.size=0}function iQ(A){var S=this.__data__,I=S.delete(A);return this.size=S.size,I}function aQ(A){return this.__data__.get(A)}function sQ(A){return this.__data__.has(A)}function oQ(A,S){var I=this.__data__;if(I instanceof ll){var V=I.__data__;if(!f0||V.length<i-1)return V.push([A,S]),this.size=++I.size,this;I=this.__data__=new cl(V)}return I.set(A,S),this.size=I.size,this}Po.prototype.clear=nQ,Po.prototype.delete=iQ,Po.prototype.get=aQ,Po.prototype.has=sQ,Po.prototype.set=oQ;function TD(A,S){var I=Nr(A),V=!I&&ud(A),fe=!I&&!V&&Sc(A),Se=!I&&!V&&!fe&&Vp(A),Me=I||V||fe||Se,Le=Me?l0(A.length,gX):[],qe=Le.length;for(var ut in A)(S||xn.call(A,ut))&&!(Me&&(ut=="length"||fe&&(ut=="offset"||ut=="parent")||Se&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||ml(ut,qe)))&&Le.push(ut);return Le}function kD(A){var S=A.length;return S?A[Nw(0,S-1)]:r}function uQ(A,S){return P1(us(A),id(S,0,A.length))}function lQ(A){return P1(us(A))}function yw(A,S,I){(I!==r&&!Bo(A[S],I)||I===r&&!(S in A))&&fl(A,S,I)}function h0(A,S,I){var V=A[S];(!(xn.call(A,S)&&Bo(V,I))||I===r&&!(S in A))&&fl(A,S,I)}function w1(A,S){for(var I=A.length;I--;)if(Bo(A[I][0],S))return I;return-1}function cQ(A,S,I,V){return _c(A,function(fe,Se,Me){S(V,fe,I(fe),Me)}),V}function ID(A,S){return A&&Tu(S,Ji(S),A)}function fQ(A,S){return A&&Tu(S,cs(S),A)}function fl(A,S,I){S=="__proto__"&&v1?v1(A,S,{configurable:!0,enumerable:!0,value:I,writable:!0}):A[S]=I}function bw(A,S){for(var I=-1,V=S.length,fe=Qe(V),Se=A==null;++I<V;)fe[I]=Se?r:Qw(A,S[I]);return fe}function id(A,S,I){return A===A&&(I!==r&&(A=A<=I?A:I),S!==r&&(A=A>=S?A:S)),A}function Qs(A,S,I,V,fe,Se){var Me,Le=S&f,qe=S&d,ut=S&p;if(I&&(Me=fe?I(A,V,fe,Se):I(A)),Me!==r)return Me;if(!li(A))return A;var lt=Nr(A);if(lt){if(Me=QQ(A),!Le)return us(A,Me)}else{var vt=xa(A),It=vt==Te||vt==oe;if(Sc(A))return r8(A,Le);if(vt==K||vt==ve||It&&!fe){if(Me=qe||It?{}:A8(A),!Le)return qe?qQ(A,fQ(Me,A)):zQ(A,ID(Me,A))}else{if(!On[vt])return fe?A:{};Me=eee(A,vt,Le)}}Se||(Se=new Po);var jt=Se.get(A);if(jt)return jt;Se.set(A,Me),J8(A)?A.forEach(function(ir){Me.add(Qs(ir,S,I,ir,A,Se))}):W8(A)&&A.forEach(function(ir,Wr){Me.set(Wr,Qs(ir,S,I,Wr,A,Se))});var nr=ut?qe?Rw:Fw:qe?cs:Ji,Fr=lt?r:nr(A);return os(Fr||A,function(ir,Wr){Fr&&(Wr=ir,ir=A[Wr]),h0(Me,Wr,Qs(ir,S,I,Wr,A,Se))}),Me}function dQ(A){var S=Ji(A);return function(I){return OD(I,A,S)}}function OD(A,S,I){var V=I.length;if(A==null)return!V;for(A=zn(A);V--;){var fe=I[V],Se=S[fe],Me=A[fe];if(Me===r&&!(fe in A)||!Se(Me))return!1}return!0}function MD(A,S,I){if(typeof A!="function")throw new Ys(s);return w0(function(){A.apply(r,I)},S)}function v0(A,S,I,V){var fe=-1,Se=kp,Me=!0,Le=A.length,qe=[],ut=S.length;if(!Le)return qe;I&&(S=jn(S,Aa(I))),V?(Se=a0,Me=!1):S.length>=i&&(Se=gc,Me=!1,S=new nd(S));e:for(;++fe<Le;){var lt=A[fe],vt=I==null?lt:I(lt);if(lt=V||lt!==0?lt:0,Me&&vt===vt){for(var It=ut;It--;)if(S[It]===vt)continue e;qe.push(lt)}else Se(S,vt,V)||qe.push(lt)}return qe}var _c=o8(Du),PD=o8(Aw,!0);function pQ(A,S){var I=!0;return _c(A,function(V,fe,Se){return I=!!S(V,fe,Se),I}),I}function x1(A,S,I){for(var V=-1,fe=A.length;++V<fe;){var Se=A[V],Me=S(Se);if(Me!=null&&(Le===r?Me===Me&&!ks(Me):I(Me,Le)))var Le=Me,qe=Se}return qe}function mQ(A,S,I,V){var fe=A.length;for(I=Lr(I),I<0&&(I=-I>fe?0:fe+I),V=V===r||V>fe?fe:Lr(V),V<0&&(V+=fe),V=I>V?0:X8(V);I<V;)A[I++]=S;return A}function BD(A,S){var I=[];return _c(A,function(V,fe,Se){S(V,fe,Se)&&I.push(V)}),I}function sa(A,S,I,V,fe){var Se=-1,Me=A.length;for(I||(I=ree),fe||(fe=[]);++Se<Me;){var Le=A[Se];S>0&&I(Le)?S>1?sa(Le,S-1,I,V,fe):Ns(fe,Le):V||(fe[fe.length]=Le)}return fe}var _w=u8(),LD=u8(!0);function Du(A,S){return A&&_w(A,S,Ji)}function Aw(A,S){return A&&LD(A,S,Ji)}function S1(A,S){return $u(S,function(I){return hl(A[I])})}function ad(A,S){S=wc(S,A);for(var I=0,V=S.length;A!=null&&I<V;)A=A[ku(S[I++])];return I&&I==V?A:r}function FD(A,S,I){var V=S(A);return Nr(A)?V:Ns(V,I(A))}function Ra(A){return A==null?A===r?be:X:td&&td in zn(A)?JQ(A):lee(A)}function ww(A,S){return A>S}function hQ(A,S){return A!=null&&xn.call(A,S)}function vQ(A,S){return A!=null&&S in zn(A)}function gQ(A,S,I){return A>=wa(S,I)&&A<Bi(S,I)}function xw(A,S,I){for(var V=I?a0:kp,fe=A[0].length,Se=A.length,Me=Se,Le=Qe(Se),qe=1/0,ut=[];Me--;){var lt=A[Me];Me&&S&&(lt=jn(lt,Aa(S))),qe=wa(lt.length,qe),Le[Me]=!I&&(S||fe>=120&&lt.length>=120)?new nd(Me&&lt):r}lt=A[0];var vt=-1,It=Le[0];e:for(;++vt<fe&&ut.length<qe;){var jt=lt[vt],nr=S?S(jt):jt;if(jt=I||jt!==0?jt:0,!(It?gc(It,nr):V(ut,nr,I))){for(Me=Se;--Me;){var Fr=Le[Me];if(!(Fr?gc(Fr,nr):V(A[Me],nr,I)))continue e}It&&It.push(nr),ut.push(jt)}}return ut}function yQ(A,S,I,V){return Du(A,function(fe,Se,Me){S(V,I(fe),Se,Me)}),V}function g0(A,S,I){S=wc(S,A),A=E8(A,S);var V=A==null?A:A[ku(to(S))];return V==null?r:_a(V,A,I)}function RD(A){return fi(A)&&Ra(A)==ve}function bQ(A){return fi(A)&&Ra(A)==xe}function _Q(A){return fi(A)&&Ra(A)==J}function y0(A,S,I,V,fe){return A===S?!0:A==null||S==null||!fi(A)&&!fi(S)?A!==A&&S!==S:AQ(A,S,I,V,y0,fe)}function AQ(A,S,I,V,fe,Se){var Me=Nr(A),Le=Nr(S),qe=Me?ae:xa(A),ut=Le?ae:xa(S);qe=qe==ve?K:qe,ut=ut==ve?K:ut;var lt=qe==K,vt=ut==K,It=qe==ut;if(It&&Sc(A)){if(!Sc(S))return!1;Me=!0,lt=!1}if(It&&!lt)return Se||(Se=new Po),Me||Vp(A)?y8(A,S,I,V,fe,Se):WQ(A,S,qe,I,V,fe,Se);if(!(I&m)){var jt=lt&&xn.call(A,"__wrapped__"),nr=vt&&xn.call(S,"__wrapped__");if(jt||nr){var Fr=jt?A.value():A,ir=nr?S.value():S;return Se||(Se=new Po),fe(Fr,ir,I,V,Se)}}return It?(Se||(Se=new Po),KQ(A,S,I,V,fe,Se)):!1}function wQ(A){return fi(A)&&xa(A)==q}function Sw(A,S,I,V){var fe=I.length,Se=fe,Me=!V;if(A==null)return!Se;for(A=zn(A);fe--;){var Le=I[fe];if(Me&&Le[2]?Le[1]!==A[Le[0]]:!(Le[0]in A))return!1}for(;++fe<Se;){Le=I[fe];var qe=Le[0],ut=A[qe],lt=Le[1];if(Me&&Le[2]){if(ut===r&&!(qe in A))return!1}else{var vt=new Po;if(V)var It=V(ut,lt,qe,A,S,vt);if(!(It===r?y0(lt,ut,m|h,V,vt):It))return!1}}return!0}function UD(A){if(!li(A)||iee(A))return!1;var S=hl(A)?wX:Gf;return S.test(od(A))}function xQ(A){return fi(A)&&Ra(A)==te}function SQ(A){return fi(A)&&xa(A)==ce}function EQ(A){return fi(A)&&z1(A.length)&&!!Un[Ra(A)]}function zD(A){return typeof A=="function"?A:A==null?fs:typeof A=="object"?Nr(A)?VD(A[0],A[1]):jD(A):lT(A)}function Ew(A){if(!A0(A))return NX(A);var S=[];for(var I in zn(A))xn.call(A,I)&&I!="constructor"&&S.push(I);return S}function CQ(A){if(!li(A))return uee(A);var S=A0(A),I=[];for(var V in A)V=="constructor"&&(S||!xn.call(A,V))||I.push(V);return I}function Cw(A,S){return A<S}function qD(A,S){var I=-1,V=ls(A)?Qe(A.length):[];return _c(A,function(fe,Se,Me){V[++I]=S(fe,Se,Me)}),V}function jD(A){var S=zw(A);return S.length==1&&S[0][2]?x8(S[0][0],S[0][1]):function(I){return I===A||Sw(I,A,S)}}function VD(A,S){return jw(A)&&w8(S)?x8(ku(A),S):function(I){var V=Qw(I,A);return V===r&&V===S?ex(I,A):y0(S,V,m|h)}}function E1(A,S,I,V,fe){A!==S&&_w(S,function(Se,Me){if(fe||(fe=new Po),li(Se))$Q(A,S,Me,I,E1,V,fe);else{var Le=V?V(Hw(A,Me),Se,Me+"",A,S,fe):r;Le===r&&(Le=Se),yw(A,Me,Le)}},cs)}function $Q(A,S,I,V,fe,Se,Me){var Le=Hw(A,I),qe=Hw(S,I),ut=Me.get(qe);if(ut){yw(A,I,ut);return}var lt=Se?Se(Le,qe,I+"",A,S,Me):r,vt=lt===r;if(vt){var It=Nr(qe),jt=!It&&Sc(qe),nr=!It&&!jt&&Vp(qe);lt=qe,It||jt||nr?Nr(Le)?lt=Le:yi(Le)?lt=us(Le):jt?(vt=!1,lt=r8(qe,!0)):nr?(vt=!1,lt=n8(qe,!0)):lt=[]:x0(qe)||ud(qe)?(lt=Le,ud(Le)?lt=Q8(Le):(!li(Le)||hl(Le))&&(lt=A8(qe))):vt=!1}vt&&(Me.set(qe,lt),fe(lt,qe,V,Se,Me),Me.delete(qe)),yw(A,I,lt)}function HD(A,S){var I=A.length;if(I)return S+=S<0?I:0,ml(S,I)?A[S]:r}function GD(A,S,I){S.length?S=jn(S,function(Se){return Nr(Se)?function(Me){return ad(Me,Se.length===1?Se[0]:Se)}:Se}):S=[fs];var V=-1;S=jn(S,Aa(Qt()));var fe=qD(A,function(Se,Me,Le){var qe=jn(S,function(ut){return ut(Se)});return{criteria:qe,index:++V,value:Se}});return Nu(fe,function(Se,Me){return UQ(Se,Me,I)})}function NQ(A,S){return ZD(A,S,function(I,V){return ex(A,V)})}function ZD(A,S,I){for(var V=-1,fe=S.length,Se={};++V<fe;){var Me=S[V],Le=ad(A,Me);I(Le,Me)&&b0(Se,wc(Me,A),Le)}return Se}function DQ(A){return function(S){return ad(S,A)}}function $w(A,S,I,V){var fe=V?pw:hc,Se=-1,Me=S.length,Le=A;for(A===S&&(S=us(S)),I&&(Le=jn(A,Aa(I)));++Se<Me;)for(var qe=0,ut=S[Se],lt=I?I(ut):ut;(qe=fe(Le,lt,qe,V))>-1;)Le!==A&&h1.call(Le,qe,1),h1.call(A,qe,1);return A}function WD(A,S){for(var I=A?S.length:0,V=I-1;I--;){var fe=S[I];if(I==V||fe!==Se){var Se=fe;ml(fe)?h1.call(A,fe,1):kw(A,fe)}}return A}function Nw(A,S){return A+y1(ND()*(S-A+1))}function TQ(A,S,I,V){for(var fe=-1,Se=Bi(g1((S-A)/(I||1)),0),Me=Qe(Se);Se--;)Me[V?Se:++fe]=A,A+=I;return Me}function Dw(A,S){var I="";if(!A||S<1||S>T)return I;do S%2&&(I+=A),S=y1(S/2),S&&(A+=A);while(S);return I}function zr(A,S){return Gw(S8(A,S,fs),A+"")}function kQ(A){return kD(Hp(A))}function IQ(A,S){var I=Hp(A);return P1(I,id(S,0,I.length))}function b0(A,S,I,V){if(!li(A))return A;S=wc(S,A);for(var fe=-1,Se=S.length,Me=Se-1,Le=A;Le!=null&&++fe<Se;){var qe=ku(S[fe]),ut=I;if(qe==="__proto__"||qe==="constructor"||qe==="prototype")return A;if(fe!=Me){var lt=Le[qe];ut=V?V(lt,qe,Le):r,ut===r&&(ut=li(lt)?lt:ml(S[fe+1])?[]:{})}h0(Le,qe,ut),Le=Le[qe]}return A}var KD=b1?function(A,S){return b1.set(A,S),A}:fs,OQ=v1?function(A,S){return v1(A,"toString",{configurable:!0,enumerable:!1,value:rx(S),writable:!0})}:fs;function MQ(A){return P1(Hp(A))}function eo(A,S,I){var V=-1,fe=A.length;S<0&&(S=-S>fe?0:fe+S),I=I>fe?fe:I,I<0&&(I+=fe),fe=S>I?0:I-S>>>0,S>>>=0;for(var Se=Qe(fe);++V<fe;)Se[V]=A[V+S];return Se}function PQ(A,S){var I;return _c(A,function(V,fe,Se){return I=S(V,fe,Se),!I}),!!I}function C1(A,S,I){var V=0,fe=A==null?V:A.length;if(typeof S=="number"&&S===S&&fe<=F){for(;V<fe;){var Se=V+fe>>>1,Me=A[Se];Me!==null&&!ks(Me)&&(I?Me<=S:Me<S)?V=Se+1:fe=Se}return fe}return Tw(A,S,fs,I)}function Tw(A,S,I,V){var fe=0,Se=A==null?0:A.length;if(Se===0)return 0;S=I(S);for(var Me=S!==S,Le=S===null,qe=ks(S),ut=S===r;fe<Se;){var lt=y1((fe+Se)/2),vt=I(A[lt]),It=vt!==r,jt=vt===null,nr=vt===vt,Fr=ks(vt);if(Me)var ir=V||nr;else ut?ir=nr&&(V||It):Le?ir=nr&&It&&(V||!jt):qe?ir=nr&&It&&!jt&&(V||!Fr):jt||Fr?ir=!1:ir=V?vt<=S:vt<S;ir?fe=lt+1:Se=lt}return wa(Se,re)}function JD(A,S){for(var I=-1,V=A.length,fe=0,Se=[];++I<V;){var Me=A[I],Le=S?S(Me):Me;if(!I||!Bo(Le,qe)){var qe=Le;Se[fe++]=Me===0?0:Me}}return Se}function YD(A){return typeof A=="number"?A:ks(A)?R:+A}function Ts(A){if(typeof A=="string")return A;if(Nr(A))return jn(A,Ts)+"";if(ks(A))return DD?DD.call(A):"";var S=A+"";return S=="0"&&1/A==-O?"-0":S}function Ac(A,S,I){var V=-1,fe=kp,Se=A.length,Me=!0,Le=[],qe=Le;if(I)Me=!1,fe=a0;else if(Se>=i){var ut=S?null:GQ(A);if(ut)return wn(ut);Me=!1,fe=gc,qe=new nd}else qe=S?[]:Le;e:for(;++V<Se;){var lt=A[V],vt=S?S(lt):lt;if(lt=I||lt!==0?lt:0,Me&&vt===vt){for(var It=qe.length;It--;)if(qe[It]===vt)continue e;S&&qe.push(vt),Le.push(lt)}else fe(qe,vt,I)||(qe!==Le&&qe.push(vt),Le.push(lt))}return Le}function kw(A,S){return S=wc(S,A),A=E8(A,S),A==null||delete A[ku(to(S))]}function XD(A,S,I,V){return b0(A,S,I(ad(A,S)),V)}function $1(A,S,I,V){for(var fe=A.length,Se=V?fe:-1;(V?Se--:++Se<fe)&&S(A[Se],Se,A););return I?eo(A,V?0:Se,V?Se+1:fe):eo(A,V?Se+1:0,V?fe:Se)}function QD(A,S){var I=A;return I instanceof tn&&(I=I.value()),s0(S,function(V,fe){return fe.func.apply(fe.thisArg,Ns([V],fe.args))},I)}function Iw(A,S,I){var V=A.length;if(V<2)return V?Ac(A[0]):[];for(var fe=-1,Se=Qe(V);++fe<V;)for(var Me=A[fe],Le=-1;++Le<V;)Le!=fe&&(Se[fe]=v0(Se[fe]||Me,A[Le],S,I));return Ac(sa(Se,1),S,I)}function e8(A,S,I){for(var V=-1,fe=A.length,Se=S.length,Me={};++V<fe;){var Le=V<Se?S[V]:r;I(Me,A[V],Le)}return Me}function Ow(A){return yi(A)?A:[]}function Mw(A){return typeof A=="function"?A:fs}function wc(A,S){return Nr(A)?A:jw(A,S)?[A]:D8(yn(A))}var BQ=zr;function xc(A,S,I){var V=A.length;return I=I===r?V:I,!S&&I>=V?A:eo(A,S,I)}var t8=xX||function(A){return ci.clearTimeout(A)};function r8(A,S){if(S)return A.slice();var I=A.length,V=xD?xD(I):new A.constructor(I);return A.copy(V),V}function Pw(A){var S=new A.constructor(A.byteLength);return new p1(S).set(new p1(A)),S}function LQ(A,S){var I=S?Pw(A.buffer):A.buffer;return new A.constructor(I,A.byteOffset,A.byteLength)}function FQ(A){var S=new A.constructor(A.source,Cs.exec(A));return S.lastIndex=A.lastIndex,S}function RQ(A){return m0?zn(m0.call(A)):{}}function n8(A,S){var I=S?Pw(A.buffer):A.buffer;return new A.constructor(I,A.byteOffset,A.length)}function i8(A,S){if(A!==S){var I=A!==r,V=A===null,fe=A===A,Se=ks(A),Me=S!==r,Le=S===null,qe=S===S,ut=ks(S);if(!Le&&!ut&&!Se&&A>S||Se&&Me&&qe&&!Le&&!ut||V&&Me&&qe||!I&&qe||!fe)return 1;if(!V&&!Se&&!ut&&A<S||ut&&I&&fe&&!V&&!Se||Le&&I&&fe||!Me&&fe||!qe)return-1}return 0}function UQ(A,S,I){for(var V=-1,fe=A.criteria,Se=S.criteria,Me=fe.length,Le=I.length;++V<Me;){var qe=i8(fe[V],Se[V]);if(qe){if(V>=Le)return qe;var ut=I[V];return qe*(ut=="desc"?-1:1)}}return A.index-S.index}function a8(A,S,I,V){for(var fe=-1,Se=A.length,Me=I.length,Le=-1,qe=S.length,ut=Bi(Se-Me,0),lt=Qe(qe+ut),vt=!V;++Le<qe;)lt[Le]=S[Le];for(;++fe<Me;)(vt||fe<Se)&&(lt[I[fe]]=A[fe]);for(;ut--;)lt[Le++]=A[fe++];return lt}function s8(A,S,I,V){for(var fe=-1,Se=A.length,Me=-1,Le=I.length,qe=-1,ut=S.length,lt=Bi(Se-Le,0),vt=Qe(lt+ut),It=!V;++fe<lt;)vt[fe]=A[fe];for(var jt=fe;++qe<ut;)vt[jt+qe]=S[qe];for(;++Me<Le;)(It||fe<Se)&&(vt[jt+I[Me]]=A[fe++]);return vt}function us(A,S){var I=-1,V=A.length;for(S||(S=Qe(V));++I<V;)S[I]=A[I];return S}function Tu(A,S,I,V){var fe=!I;I||(I={});for(var Se=-1,Me=S.length;++Se<Me;){var Le=S[Se],qe=V?V(I[Le],A[Le],Le,I,A):r;qe===r&&(qe=A[Le]),fe?fl(I,Le,qe):h0(I,Le,qe)}return I}function zQ(A,S){return Tu(A,qw(A),S)}function qQ(A,S){return Tu(A,b8(A),S)}function N1(A,S){return function(I,V){var fe=Nr(I)?_t:cQ,Se=S?S():{};return fe(I,A,Qt(V,2),Se)}}function zp(A){return zr(function(S,I){var V=-1,fe=I.length,Se=fe>1?I[fe-1]:r,Me=fe>2?I[2]:r;for(Se=A.length>3&&typeof Se=="function"?(fe--,Se):r,Me&&Ua(I[0],I[1],Me)&&(Se=fe<3?r:Se,fe=1),S=zn(S);++V<fe;){var Le=I[V];Le&&A(S,Le,V,Se)}return S})}function o8(A,S){return function(I,V){if(I==null)return I;if(!ls(I))return A(I,V);for(var fe=I.length,Se=S?fe:-1,Me=zn(I);(S?Se--:++Se<fe)&&V(Me[Se],Se,Me)!==!1;);return I}}function u8(A){return function(S,I,V){for(var fe=-1,Se=zn(S),Me=V(S),Le=Me.length;Le--;){var qe=Me[A?Le:++fe];if(I(Se[qe],qe,Se)===!1)break}return S}}function jQ(A,S,I){var V=S&v,fe=_0(A);function Se(){var Me=this&&this!==ci&&this instanceof Se?fe:A;return Me.apply(V?I:this,arguments)}return Se}function l8(A){return function(S){S=yn(S);var I=Ie(S)?Mo(S):r,V=I?I[0]:S.charAt(0),fe=I?xc(I,1).join(""):S.slice(1);return V[A]()+fe}}function qp(A){return function(S){return s0(oT(sT(S).replace(JA,"")),A,"")}}function _0(A){return function(){var S=arguments;switch(S.length){case 0:return new A;case 1:return new A(S[0]);case 2:return new A(S[0],S[1]);case 3:return new A(S[0],S[1],S[2]);case 4:return new A(S[0],S[1],S[2],S[3]);case 5:return new A(S[0],S[1],S[2],S[3],S[4]);case 6:return new A(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new A(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var I=Up(A.prototype),V=A.apply(I,S);return li(V)?V:I}}function VQ(A,S,I){var V=_0(A);function fe(){for(var Se=arguments.length,Me=Qe(Se),Le=Se,qe=jp(fe);Le--;)Me[Le]=arguments[Le];var ut=Se<3&&Me[0]!==qe&&Me[Se-1]!==qe?[]:Vr(Me,qe);if(Se-=ut.length,Se<I)return m8(A,S,D1,fe.placeholder,r,Me,ut,r,r,I-Se);var lt=this&&this!==ci&&this instanceof fe?V:A;return _a(lt,this,Me)}return fe}function c8(A){return function(S,I,V){var fe=zn(S);if(!ls(S)){var Se=Qt(I,3);S=Ji(S),I=function(Le){return Se(fe[Le],Le,fe)}}var Me=A(S,I,V);return Me>-1?fe[Se?S[Me]:Me]:r}}function f8(A){return pl(function(S){var I=S.length,V=I,fe=Xs.prototype.thru;for(A&&S.reverse();V--;){var Se=S[V];if(typeof Se!="function")throw new Ys(s);if(fe&&!Me&&O1(Se)=="wrapper")var Me=new Xs([],!0)}for(V=Me?V:I;++V<I;){Se=S[V];var Le=O1(Se),qe=Le=="wrapper"?Uw(Se):r;qe&&Vw(qe[0])&&qe[1]==(E|g|_|C)&&!qe[4].length&&qe[9]==1?Me=Me[O1(qe[0])].apply(Me,qe[3]):Me=Se.length==1&&Vw(Se)?Me[Le]():Me.thru(Se)}return function(){var ut=arguments,lt=ut[0];if(Me&&ut.length==1&&Nr(lt))return Me.plant(lt).value();for(var vt=0,It=I?S[vt].apply(this,ut):lt;++vt<I;)It=S[vt].call(this,It);return It}})}function D1(A,S,I,V,fe,Se,Me,Le,qe,ut){var lt=S&E,vt=S&v,It=S&y,jt=S&(g|b),nr=S&$,Fr=It?r:_0(A);function ir(){for(var Wr=arguments.length,sn=Qe(Wr),Is=Wr;Is--;)sn[Is]=arguments[Is];if(jt)var za=jp(ir),Os=s1(sn,za);if(V&&(sn=a8(sn,V,fe,jt)),Se&&(sn=s8(sn,Se,Me,jt)),Wr-=Os,jt&&Wr<ut){var bi=Vr(sn,za);return m8(A,S,D1,ir.placeholder,I,sn,bi,Le,qe,ut-Wr)}var Lo=vt?I:this,gl=It?Lo[A]:A;return Wr=sn.length,Le?sn=cee(sn,Le):nr&&Wr>1&&sn.reverse(),lt&&qe<Wr&&(sn.length=qe),this&&this!==ci&&this instanceof ir&&(gl=Fr||_0(gl)),gl.apply(Lo,sn)}return ir}function d8(A,S){return function(I,V){return yQ(I,A,S(V),{})}}function T1(A,S){return function(I,V){var fe;if(I===r&&V===r)return S;if(I!==r&&(fe=I),V!==r){if(fe===r)return V;typeof I=="string"||typeof V=="string"?(I=Ts(I),V=Ts(V)):(I=YD(I),V=YD(V)),fe=A(I,V)}return fe}}function Bw(A){return pl(function(S){return S=jn(S,Aa(Qt())),zr(function(I){var V=this;return A(S,function(fe){return _a(fe,V,I)})})})}function k1(A,S){S=S===r?" ":Ts(S);var I=S.length;if(I<2)return I?Dw(S,A):S;var V=Dw(S,g1(A/Pp(S)));return Ie(S)?xc(Mo(V),0,A).join(""):V.slice(0,A)}function HQ(A,S,I,V){var fe=S&v,Se=_0(A);function Me(){for(var Le=-1,qe=arguments.length,ut=-1,lt=V.length,vt=Qe(lt+qe),It=this&&this!==ci&&this instanceof Me?Se:A;++ut<lt;)vt[ut]=V[ut];for(;qe--;)vt[ut++]=arguments[++Le];return _a(It,fe?I:this,vt)}return Me}function p8(A){return function(S,I,V){return V&&typeof V!="number"&&Ua(S,I,V)&&(I=V=r),S=vl(S),I===r?(I=S,S=0):I=vl(I),V=V===r?S<I?1:-1:vl(V),TQ(S,I,V,A)}}function I1(A){return function(S,I){return typeof S=="string"&&typeof I=="string"||(S=ro(S),I=ro(I)),A(S,I)}}function m8(A,S,I,V,fe,Se,Me,Le,qe,ut){var lt=S&g,vt=lt?Me:r,It=lt?r:Me,jt=lt?Se:r,nr=lt?r:Se;S|=lt?_:x,S&=~(lt?x:_),S&w||(S&=~(v|y));var Fr=[A,S,fe,jt,vt,nr,It,Le,qe,ut],ir=I.apply(r,Fr);return Vw(A)&&C8(ir,Fr),ir.placeholder=V,$8(ir,A,S)}function Lw(A){var S=Pi[A];return function(I,V){if(I=ro(I),V=V==null?0:wa(Lr(V),292),V&&$D(I)){var fe=(yn(I)+"e").split("e"),Se=S(fe[0]+"e"+(+fe[1]+V));return fe=(yn(Se)+"e").split("e"),+(fe[0]+"e"+(+fe[1]-V))}return S(I)}}var GQ=Fp&&1/wn(new Fp([,-0]))[1]==O?function(A){return new Fp(A)}:ax;function h8(A){return function(S){var I=xa(S);return I==q?ht(S):I==ce?Ds(S):ul(S,A(S))}}function dl(A,S,I,V,fe,Se,Me,Le){var qe=S&y;if(!qe&&typeof A!="function")throw new Ys(s);var ut=V?V.length:0;if(ut||(S&=~(_|x),V=fe=r),Me=Me===r?Me:Bi(Lr(Me),0),Le=Le===r?Le:Lr(Le),ut-=fe?fe.length:0,S&x){var lt=V,vt=fe;V=fe=r}var It=qe?r:Uw(A),jt=[A,S,I,V,fe,lt,vt,Se,Me,Le];if(It&&oee(jt,It),A=jt[0],S=jt[1],I=jt[2],V=jt[3],fe=jt[4],Le=jt[9]=jt[9]===r?qe?0:A.length:Bi(jt[9]-ut,0),!Le&&S&(g|b)&&(S&=~(g|b)),!S||S==v)var nr=jQ(A,S,I);else S==g||S==b?nr=VQ(A,S,Le):(S==_||S==(v|_))&&!fe.length?nr=HQ(A,S,I,V):nr=D1.apply(r,jt);var Fr=It?KD:C8;return $8(Fr(nr,jt),A,S)}function v8(A,S,I,V){return A===r||Bo(A,Lp[I])&&!xn.call(V,I)?S:A}function g8(A,S,I,V,fe,Se){return li(A)&&li(S)&&(Se.set(S,A),E1(A,S,r,g8,Se),Se.delete(S)),A}function ZQ(A){return x0(A)?r:A}function y8(A,S,I,V,fe,Se){var Me=I&m,Le=A.length,qe=S.length;if(Le!=qe&&!(Me&&qe>Le))return!1;var ut=Se.get(A),lt=Se.get(S);if(ut&&lt)return ut==S&&lt==A;var vt=-1,It=!0,jt=I&h?new nd:r;for(Se.set(A,S),Se.set(S,A);++vt<Le;){var nr=A[vt],Fr=S[vt];if(V)var ir=Me?V(Fr,nr,vt,S,A,Se):V(nr,Fr,vt,A,S,Se);if(ir!==r){if(ir)continue;It=!1;break}if(jt){if(!o0(S,function(Wr,sn){if(!gc(jt,sn)&&(nr===Wr||fe(nr,Wr,I,V,Se)))return jt.push(sn)})){It=!1;break}}else if(!(nr===Fr||fe(nr,Fr,I,V,Se))){It=!1;break}}return Se.delete(A),Se.delete(S),It}function WQ(A,S,I,V,fe,Se,Me){switch(I){case ke:if(A.byteLength!=S.byteLength||A.byteOffset!=S.byteOffset)return!1;A=A.buffer,S=S.buffer;case xe:return!(A.byteLength!=S.byteLength||!Se(new p1(A),new p1(S)));case Q:case J:case me:return Bo(+A,+S);case Ce:return A.name==S.name&&A.message==S.message;case te:case pe:return A==S+"";case q:var Le=ht;case ce:var qe=V&m;if(Le||(Le=wn),A.size!=S.size&&!qe)return!1;var ut=Me.get(A);if(ut)return ut==S;V|=h,Me.set(A,S);var lt=y8(Le(A),Le(S),V,fe,Se,Me);return Me.delete(A),lt;case Y:if(m0)return m0.call(A)==m0.call(S)}return!1}function KQ(A,S,I,V,fe,Se){var Me=I&m,Le=Fw(A),qe=Le.length,ut=Fw(S),lt=ut.length;if(qe!=lt&&!Me)return!1;for(var vt=qe;vt--;){var It=Le[vt];if(!(Me?It in S:xn.call(S,It)))return!1}var jt=Se.get(A),nr=Se.get(S);if(jt&&nr)return jt==S&&nr==A;var Fr=!0;Se.set(A,S),Se.set(S,A);for(var ir=Me;++vt<qe;){It=Le[vt];var Wr=A[It],sn=S[It];if(V)var Is=Me?V(sn,Wr,It,S,A,Se):V(Wr,sn,It,A,S,Se);if(!(Is===r?Wr===sn||fe(Wr,sn,I,V,Se):Is)){Fr=!1;break}ir||(ir=It=="constructor")}if(Fr&&!ir){var za=A.constructor,Os=S.constructor;za!=Os&&"constructor"in A&&"constructor"in S&&!(typeof za=="function"&&za instanceof za&&typeof Os=="function"&&Os instanceof Os)&&(Fr=!1)}return Se.delete(A),Se.delete(S),Fr}function pl(A){return Gw(S8(A,r,O8),A+"")}function Fw(A){return FD(A,Ji,qw)}function Rw(A){return FD(A,cs,b8)}var Uw=b1?function(A){return b1.get(A)}:ax;function O1(A){for(var S=A.name+"",I=Rp[S],V=xn.call(Rp,S)?I.length:0;V--;){var fe=I[V],Se=fe.func;if(Se==null||Se==A)return fe.name}return S}function jp(A){var S=xn.call(_e,"placeholder")?_e:A;return S.placeholder}function Qt(){var A=_e.iteratee||nx;return A=A===nx?zD:A,arguments.length?A(arguments[0],arguments[1]):A}function M1(A,S){var I=A.__data__;return nee(S)?I[typeof S=="string"?"string":"hash"]:I.map}function zw(A){for(var S=Ji(A),I=S.length;I--;){var V=S[I],fe=A[V];S[I]=[V,fe,w8(fe)]}return S}function sd(A,S){var I=ue(A,S);return UD(I)?I:r}function JQ(A){var S=xn.call(A,td),I=A[td];try{A[td]=r;var V=!0}catch{}var fe=f1.call(A);return V&&(S?A[td]=I:delete A[td]),fe}var qw=hw?function(A){return A==null?[]:(A=zn(A),$u(hw(A),function(S){return ED.call(A,S)}))}:sx,b8=hw?function(A){for(var S=[];A;)Ns(S,qw(A)),A=m1(A);return S}:sx,xa=Ra;(vw&&xa(new vw(new ArrayBuffer(1)))!=ke||f0&&xa(new f0)!=q||gw&&xa(gw.resolve())!=de||Fp&&xa(new Fp)!=ce||d0&&xa(new d0)!=ye)&&(xa=function(A){var S=Ra(A),I=S==K?A.constructor:r,V=I?od(I):"";if(V)switch(V){case IX:return ke;case OX:return q;case MX:return de;case PX:return ce;case BX:return ye}return S});function YQ(A,S,I){for(var V=-1,fe=I.length;++V<fe;){var Se=I[V],Me=Se.size;switch(Se.type){case"drop":A+=Me;break;case"dropRight":S-=Me;break;case"take":S=wa(S,A+Me);break;case"takeRight":A=Bi(A,S-Me);break}}return{start:A,end:S}}function XQ(A){var S=A.match(ia);return S?S[1].split(ti):[]}function _8(A,S,I){S=wc(S,A);for(var V=-1,fe=S.length,Se=!1;++V<fe;){var Me=ku(S[V]);if(!(Se=A!=null&&I(A,Me)))break;A=A[Me]}return Se||++V!=fe?Se:(fe=A==null?0:A.length,!!fe&&z1(fe)&&ml(Me,fe)&&(Nr(A)||ud(A)))}function QQ(A){var S=A.length,I=new A.constructor(S);return S&&typeof A[0]=="string"&&xn.call(A,"index")&&(I.index=A.index,I.input=A.input),I}function A8(A){return typeof A.constructor=="function"&&!A0(A)?Up(m1(A)):{}}function eee(A,S,I){var V=A.constructor;switch(S){case xe:return Pw(A);case Q:case J:return new V(+A);case ke:return LQ(A,I);case Ke:case Ue:case rt:case je:case Rt:case Pt:case cr:case G:case Ne:return n8(A,I);case q:return new V;case me:case pe:return new V(A);case te:return FQ(A);case ce:return new V;case Y:return RQ(A)}}function tee(A,S){var I=S.length;if(!I)return A;var V=I-1;return S[V]=(I>1?"& ":"")+S[V],S=S.join(I>2?", ":" "),A.replace(qf,`{
/* [wrapped with `+S+`] */
`)}function ree(A){return Nr(A)||ud(A)||!!(CD&&A&&A[CD])}function ml(A,S){var I=typeof A;return S=S??T,!!S&&(I=="number"||I!="symbol"&&Wf.test(A))&&A>-1&&A%1==0&&A<S}function Ua(A,S,I){if(!li(I))return!1;var V=typeof S;return(V=="number"?ls(I)&&ml(S,I.length):V=="string"&&S in I)?Bo(I[S],A):!1}function jw(A,S){if(Nr(A))return!1;var I=typeof A;return I=="number"||I=="symbol"||I=="boolean"||A==null||ks(A)?!0:Rf.test(A)||!lc.test(A)||S!=null&&A in zn(S)}function nee(A){var S=typeof A;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?A!=="__proto__":A===null}function Vw(A){var S=O1(A),I=_e[S];if(typeof I!="function"||!(S in tn.prototype))return!1;if(A===I)return!0;var V=Uw(I);return!!V&&A===V[0]}function iee(A){return!!wD&&wD in A}var aee=l1?hl:ox;function A0(A){var S=A&&A.constructor,I=typeof S=="function"&&S.prototype||Lp;return A===I}function w8(A){return A===A&&!li(A)}function x8(A,S){return function(I){return I==null?!1:I[A]===S&&(S!==r||A in zn(I))}}function see(A){var S=R1(A,function(V){return I.size===l&&I.clear(),V}),I=S.cache;return S}function oee(A,S){var I=A[1],V=S[1],fe=I|V,Se=fe<(v|y|E),Me=V==E&&I==g||V==E&&I==C&&A[7].length<=S[8]||V==(E|C)&&S[7].length<=S[8]&&I==g;if(!(Se||Me))return A;V&v&&(A[2]=S[2],fe|=I&v?0:w);var Le=S[3];if(Le){var qe=A[3];A[3]=qe?a8(qe,Le,S[4]):Le,A[4]=qe?Vr(A[3],c):S[4]}return Le=S[5],Le&&(qe=A[5],A[5]=qe?s8(qe,Le,S[6]):Le,A[6]=qe?Vr(A[5],c):S[6]),Le=S[7],Le&&(A[7]=Le),V&E&&(A[8]=A[8]==null?S[8]:wa(A[8],S[8])),A[9]==null&&(A[9]=S[9]),A[0]=S[0],A[1]=fe,A}function uee(A){var S=[];if(A!=null)for(var I in zn(A))S.push(I);return S}function lee(A){return f1.call(A)}function S8(A,S,I){return S=Bi(S===r?A.length-1:S,0),function(){for(var V=arguments,fe=-1,Se=Bi(V.length-S,0),Me=Qe(Se);++fe<Se;)Me[fe]=V[S+fe];fe=-1;for(var Le=Qe(S+1);++fe<S;)Le[fe]=V[fe];return Le[S]=I(Me),_a(A,this,Le)}}function E8(A,S){return S.length<2?A:ad(A,eo(S,0,-1))}function cee(A,S){for(var I=A.length,V=wa(S.length,I),fe=us(A);V--;){var Se=S[V];A[V]=ml(Se,I)?fe[Se]:r}return A}function Hw(A,S){if(!(S==="constructor"&&typeof A[S]=="function")&&S!="__proto__")return A[S]}var C8=N8(KD),w0=EX||function(A,S){return ci.setTimeout(A,S)},Gw=N8(OQ);function $8(A,S,I){var V=S+"";return Gw(A,tee(V,fee(XQ(V),I)))}function N8(A){var S=0,I=0;return function(){var V=DX(),fe=P-(V-I);if(I=V,fe>0){if(++S>=k)return arguments[0]}else S=0;return A.apply(r,arguments)}}function P1(A,S){var I=-1,V=A.length,fe=V-1;for(S=S===r?V:S;++I<S;){var Se=Nw(I,fe),Me=A[Se];A[Se]=A[I],A[I]=Me}return A.length=S,A}var D8=see(function(A){var S=[];return A.charCodeAt(0)===46&&S.push(""),A.replace(Uf,function(I,V,fe,Se){S.push(fe?Se.replace(as,"$1"):V||I)}),S});function ku(A){if(typeof A=="string"||ks(A))return A;var S=A+"";return S=="0"&&1/A==-O?"-0":S}function od(A){if(A!=null){try{return c1.call(A)}catch{}try{return A+""}catch{}}return""}function fee(A,S){return os(H,function(I){var V="_."+I[0];S&I[1]&&!kp(A,V)&&A.push(V)}),A.sort()}function T8(A){if(A instanceof tn)return A.clone();var S=new Xs(A.__wrapped__,A.__chain__);return S.__actions__=us(A.__actions__),S.__index__=A.__index__,S.__values__=A.__values__,S}function dee(A,S,I){(I?Ua(A,S,I):S===r)?S=1:S=Bi(Lr(S),0);var V=A==null?0:A.length;if(!V||S<1)return[];for(var fe=0,Se=0,Me=Qe(g1(V/S));fe<V;)Me[Se++]=eo(A,fe,fe+=S);return Me}function pee(A){for(var S=-1,I=A==null?0:A.length,V=0,fe=[];++S<I;){var Se=A[S];Se&&(fe[V++]=Se)}return fe}function mee(){var A=arguments.length;if(!A)return[];for(var S=Qe(A-1),I=arguments[0],V=A;V--;)S[V-1]=arguments[V];return Ns(Nr(I)?us(I):[I],sa(S,1))}var hee=zr(function(A,S){return yi(A)?v0(A,sa(S,1,yi,!0)):[]}),vee=zr(function(A,S){var I=to(S);return yi(I)&&(I=r),yi(A)?v0(A,sa(S,1,yi,!0),Qt(I,2)):[]}),gee=zr(function(A,S){var I=to(S);return yi(I)&&(I=r),yi(A)?v0(A,sa(S,1,yi,!0),r,I):[]});function yee(A,S,I){var V=A==null?0:A.length;return V?(S=I||S===r?1:Lr(S),eo(A,S<0?0:S,V)):[]}function bee(A,S,I){var V=A==null?0:A.length;return V?(S=I||S===r?1:Lr(S),S=V-S,eo(A,0,S<0?0:S)):[]}function _ee(A,S){return A&&A.length?$1(A,Qt(S,3),!0,!0):[]}function Aee(A,S){return A&&A.length?$1(A,Qt(S,3),!0):[]}function wee(A,S,I,V){var fe=A==null?0:A.length;return fe?(I&&typeof I!="number"&&Ua(A,S,I)&&(I=0,V=fe),mQ(A,S,I,V)):[]}function k8(A,S,I){var V=A==null?0:A.length;if(!V)return-1;var fe=I==null?0:Lr(I);return fe<0&&(fe=Bi(V+fe,0)),Ip(A,Qt(S,3),fe)}function I8(A,S,I){var V=A==null?0:A.length;if(!V)return-1;var fe=V-1;return I!==r&&(fe=Lr(I),fe=I<0?Bi(V+fe,0):wa(fe,V-1)),Ip(A,Qt(S,3),fe,!0)}function O8(A){var S=A==null?0:A.length;return S?sa(A,1):[]}function xee(A){var S=A==null?0:A.length;return S?sa(A,O):[]}function See(A,S){var I=A==null?0:A.length;return I?(S=S===r?1:Lr(S),sa(A,S)):[]}function Eee(A){for(var S=-1,I=A==null?0:A.length,V={};++S<I;){var fe=A[S];V[fe[0]]=fe[1]}return V}function M8(A){return A&&A.length?A[0]:r}function Cee(A,S,I){var V=A==null?0:A.length;if(!V)return-1;var fe=I==null?0:Lr(I);return fe<0&&(fe=Bi(V+fe,0)),hc(A,S,fe)}function $ee(A){var S=A==null?0:A.length;return S?eo(A,0,-1):[]}var Nee=zr(function(A){var S=jn(A,Ow);return S.length&&S[0]===A[0]?xw(S):[]}),Dee=zr(function(A){var S=to(A),I=jn(A,Ow);return S===to(I)?S=r:I.pop(),I.length&&I[0]===A[0]?xw(I,Qt(S,2)):[]}),Tee=zr(function(A){var S=to(A),I=jn(A,Ow);return S=typeof S=="function"?S:r,S&&I.pop(),I.length&&I[0]===A[0]?xw(I,r,S):[]});function kee(A,S){return A==null?"":$X.call(A,S)}function to(A){var S=A==null?0:A.length;return S?A[S-1]:r}function Iee(A,S,I){var V=A==null?0:A.length;if(!V)return-1;var fe=V;return I!==r&&(fe=Lr(I),fe=fe<0?Bi(V+fe,0):wa(fe,V-1)),S===S?fX(A,S,fe):Ip(A,r1,fe,!0)}function Oee(A,S){return A&&A.length?HD(A,Lr(S)):r}var Mee=zr(P8);function P8(A,S){return A&&A.length&&S&&S.length?$w(A,S):A}function Pee(A,S,I){return A&&A.length&&S&&S.length?$w(A,S,Qt(I,2)):A}function Bee(A,S,I){return A&&A.length&&S&&S.length?$w(A,S,r,I):A}var Lee=pl(function(A,S){var I=A==null?0:A.length,V=bw(A,S);return WD(A,jn(S,function(fe){return ml(fe,I)?+fe:fe}).sort(i8)),V});function Fee(A,S){var I=[];if(!(A&&A.length))return I;var V=-1,fe=[],Se=A.length;for(S=Qt(S,3);++V<Se;){var Me=A[V];S(Me,V,A)&&(I.push(Me),fe.push(V))}return WD(A,fe),I}function Zw(A){return A==null?A:kX.call(A)}function Ree(A,S,I){var V=A==null?0:A.length;return V?(I&&typeof I!="number"&&Ua(A,S,I)?(S=0,I=V):(S=S==null?0:Lr(S),I=I===r?V:Lr(I)),eo(A,S,I)):[]}function Uee(A,S){return C1(A,S)}function zee(A,S,I){return Tw(A,S,Qt(I,2))}function qee(A,S){var I=A==null?0:A.length;if(I){var V=C1(A,S);if(V<I&&Bo(A[V],S))return V}return-1}function jee(A,S){return C1(A,S,!0)}function Vee(A,S,I){return Tw(A,S,Qt(I,2),!0)}function Hee(A,S){var I=A==null?0:A.length;if(I){var V=C1(A,S,!0)-1;if(Bo(A[V],S))return V}return-1}function Gee(A){return A&&A.length?JD(A):[]}function Zee(A,S){return A&&A.length?JD(A,Qt(S,2)):[]}function Wee(A){var S=A==null?0:A.length;return S?eo(A,1,S):[]}function Kee(A,S,I){return A&&A.length?(S=I||S===r?1:Lr(S),eo(A,0,S<0?0:S)):[]}function Jee(A,S,I){var V=A==null?0:A.length;return V?(S=I||S===r?1:Lr(S),S=V-S,eo(A,S<0?0:S,V)):[]}function Yee(A,S){return A&&A.length?$1(A,Qt(S,3),!1,!0):[]}function Xee(A,S){return A&&A.length?$1(A,Qt(S,3)):[]}var Qee=zr(function(A){return Ac(sa(A,1,yi,!0))}),ete=zr(function(A){var S=to(A);return yi(S)&&(S=r),Ac(sa(A,1,yi,!0),Qt(S,2))}),tte=zr(function(A){var S=to(A);return S=typeof S=="function"?S:r,Ac(sa(A,1,yi,!0),r,S)});function rte(A){return A&&A.length?Ac(A):[]}function nte(A,S){return A&&A.length?Ac(A,Qt(S,2)):[]}function ite(A,S){return S=typeof S=="function"?S:r,A&&A.length?Ac(A,r,S):[]}function Ww(A){if(!(A&&A.length))return[];var S=0;return A=$u(A,function(I){if(yi(I))return S=Bi(I.length,S),!0}),l0(S,function(I){return jn(A,Oo(I))})}function B8(A,S){if(!(A&&A.length))return[];var I=Ww(A);return S==null?I:jn(I,function(V){return _a(S,r,V)})}var ate=zr(function(A,S){return yi(A)?v0(A,S):[]}),ste=zr(function(A){return Iw($u(A,yi))}),ote=zr(function(A){var S=to(A);return yi(S)&&(S=r),Iw($u(A,yi),Qt(S,2))}),ute=zr(function(A){var S=to(A);return S=typeof S=="function"?S:r,Iw($u(A,yi),r,S)}),lte=zr(Ww);function cte(A,S){return e8(A||[],S||[],h0)}function fte(A,S){return e8(A||[],S||[],b0)}var dte=zr(function(A){var S=A.length,I=S>1?A[S-1]:r;return I=typeof I=="function"?(A.pop(),I):r,B8(A,I)});function L8(A){var S=_e(A);return S.__chain__=!0,S}function pte(A,S){return S(A),A}function B1(A,S){return S(A)}var mte=pl(function(A){var S=A.length,I=S?A[0]:0,V=this.__wrapped__,fe=function(Se){return bw(Se,A)};return S>1||this.__actions__.length||!(V instanceof tn)||!ml(I)?this.thru(fe):(V=V.slice(I,+I+(S?1:0)),V.__actions__.push({func:B1,args:[fe],thisArg:r}),new Xs(V,this.__chain__).thru(function(Se){return S&&!Se.length&&Se.push(r),Se}))});function hte(){return L8(this)}function vte(){return new Xs(this.value(),this.__chain__)}function gte(){this.__values__===r&&(this.__values__=Y8(this.value()));var A=this.__index__>=this.__values__.length,S=A?r:this.__values__[this.__index__++];return{done:A,value:S}}function yte(){return this}function bte(A){for(var S,I=this;I instanceof A1;){var V=T8(I);V.__index__=0,V.__values__=r,S?fe.__wrapped__=V:S=V;var fe=V;I=I.__wrapped__}return fe.__wrapped__=A,S}function _te(){var A=this.__wrapped__;if(A instanceof tn){var S=A;return this.__actions__.length&&(S=new tn(this)),S=S.reverse(),S.__actions__.push({func:B1,args:[Zw],thisArg:r}),new Xs(S,this.__chain__)}return this.thru(Zw)}function Ate(){return QD(this.__wrapped__,this.__actions__)}var wte=N1(function(A,S,I){xn.call(A,I)?++A[I]:fl(A,I,1)});function xte(A,S,I){var V=Nr(A)?e1:pQ;return I&&Ua(A,S,I)&&(S=r),V(A,Qt(S,3))}function Ste(A,S){var I=Nr(A)?$u:BD;return I(A,Qt(S,3))}var Ete=c8(k8),Cte=c8(I8);function $te(A,S){return sa(L1(A,S),1)}function Nte(A,S){return sa(L1(A,S),O)}function Dte(A,S,I){return I=I===r?1:Lr(I),sa(L1(A,S),I)}function F8(A,S){var I=Nr(A)?os:_c;return I(A,Qt(S,3))}function R8(A,S){var I=Nr(A)?Qg:PD;return I(A,Qt(S,3))}var Tte=N1(function(A,S,I){xn.call(A,I)?A[I].push(S):fl(A,I,[S])});function kte(A,S,I,V){A=ls(A)?A:Hp(A),I=I&&!V?Lr(I):0;var fe=A.length;return I<0&&(I=Bi(fe+I,0)),q1(A)?I<=fe&&A.indexOf(S,I)>-1:!!fe&&hc(A,S,I)>-1}var Ite=zr(function(A,S,I){var V=-1,fe=typeof S=="function",Se=ls(A)?Qe(A.length):[];return _c(A,function(Me){Se[++V]=fe?_a(S,Me,I):g0(Me,S,I)}),Se}),Ote=N1(function(A,S,I){fl(A,I,S)});function L1(A,S){var I=Nr(A)?jn:qD;return I(A,Qt(S,3))}function Mte(A,S,I,V){return A==null?[]:(Nr(S)||(S=S==null?[]:[S]),I=V?r:I,Nr(I)||(I=I==null?[]:[I]),GD(A,S,I))}var Pte=N1(function(A,S,I){A[I?0:1].push(S)},function(){return[[],[]]});function Bte(A,S,I){var V=Nr(A)?s0:Qf,fe=arguments.length<3;return V(A,Qt(S,4),I,fe,_c)}function Lte(A,S,I){var V=Nr(A)?lw:Qf,fe=arguments.length<3;return V(A,Qt(S,4),I,fe,PD)}function Fte(A,S){var I=Nr(A)?$u:BD;return I(A,U1(Qt(S,3)))}function Rte(A){var S=Nr(A)?kD:kQ;return S(A)}function Ute(A,S,I){(I?Ua(A,S,I):S===r)?S=1:S=Lr(S);var V=Nr(A)?uQ:IQ;return V(A,S)}function zte(A){var S=Nr(A)?lQ:MQ;return S(A)}function qte(A){if(A==null)return 0;if(ls(A))return q1(A)?Pp(A):A.length;var S=xa(A);return S==q||S==ce?A.size:Ew(A).length}function jte(A,S,I){var V=Nr(A)?o0:PQ;return I&&Ua(A,S,I)&&(S=r),V(A,Qt(S,3))}var Vte=zr(function(A,S){if(A==null)return[];var I=S.length;return I>1&&Ua(A,S[0],S[1])?S=[]:I>2&&Ua(S[0],S[1],S[2])&&(S=[S[0]]),GD(A,sa(S,1),[])}),F1=SX||function(){return ci.Date.now()};function Hte(A,S){if(typeof S!="function")throw new Ys(s);return A=Lr(A),function(){if(--A<1)return S.apply(this,arguments)}}function U8(A,S,I){return S=I?r:S,S=A&&S==null?A.length:S,dl(A,E,r,r,r,r,S)}function z8(A,S){var I;if(typeof S!="function")throw new Ys(s);return A=Lr(A),function(){return--A>0&&(I=S.apply(this,arguments)),A<=1&&(S=r),I}}var Kw=zr(function(A,S,I){var V=v;if(I.length){var fe=Vr(I,jp(Kw));V|=_}return dl(A,V,S,I,fe)}),q8=zr(function(A,S,I){var V=v|y;if(I.length){var fe=Vr(I,jp(q8));V|=_}return dl(S,V,A,I,fe)});function j8(A,S,I){S=I?r:S;var V=dl(A,g,r,r,r,r,r,S);return V.placeholder=j8.placeholder,V}function V8(A,S,I){S=I?r:S;var V=dl(A,b,r,r,r,r,r,S);return V.placeholder=V8.placeholder,V}function H8(A,S,I){var V,fe,Se,Me,Le,qe,ut=0,lt=!1,vt=!1,It=!0;if(typeof A!="function")throw new Ys(s);S=ro(S)||0,li(I)&&(lt=!!I.leading,vt="maxWait"in I,Se=vt?Bi(ro(I.maxWait)||0,S):Se,It="trailing"in I?!!I.trailing:It);function jt(bi){var Lo=V,gl=fe;return V=fe=r,ut=bi,Me=A.apply(gl,Lo),Me}function nr(bi){return ut=bi,Le=w0(Wr,S),lt?jt(bi):Me}function Fr(bi){var Lo=bi-qe,gl=bi-ut,cT=S-Lo;return vt?wa(cT,Se-gl):cT}function ir(bi){var Lo=bi-qe,gl=bi-ut;return qe===r||Lo>=S||Lo<0||vt&&gl>=Se}function Wr(){var bi=F1();if(ir(bi))return sn(bi);Le=w0(Wr,Fr(bi))}function sn(bi){return Le=r,It&&V?jt(bi):(V=fe=r,Me)}function Is(){Le!==r&&t8(Le),ut=0,V=qe=fe=Le=r}function za(){return Le===r?Me:sn(F1())}function Os(){var bi=F1(),Lo=ir(bi);if(V=arguments,fe=this,qe=bi,Lo){if(Le===r)return nr(qe);if(vt)return t8(Le),Le=w0(Wr,S),jt(qe)}return Le===r&&(Le=w0(Wr,S)),Me}return Os.cancel=Is,Os.flush=za,Os}var Gte=zr(function(A,S){return MD(A,1,S)}),Zte=zr(function(A,S,I){return MD(A,ro(S)||0,I)});function Wte(A){return dl(A,$)}function R1(A,S){if(typeof A!="function"||S!=null&&typeof S!="function")throw new Ys(s);var I=function(){var V=arguments,fe=S?S.apply(this,V):V[0],Se=I.cache;if(Se.has(fe))return Se.get(fe);var Me=A.apply(this,V);return I.cache=Se.set(fe,Me)||Se,Me};return I.cache=new(R1.Cache||cl),I}R1.Cache=cl;function U1(A){if(typeof A!="function")throw new Ys(s);return function(){var S=arguments;switch(S.length){case 0:return!A.call(this);case 1:return!A.call(this,S[0]);case 2:return!A.call(this,S[0],S[1]);case 3:return!A.call(this,S[0],S[1],S[2])}return!A.apply(this,S)}}function Kte(A){return z8(2,A)}var Jte=BQ(function(A,S){S=S.length==1&&Nr(S[0])?jn(S[0],Aa(Qt())):jn(sa(S,1),Aa(Qt()));var I=S.length;return zr(function(V){for(var fe=-1,Se=wa(V.length,I);++fe<Se;)V[fe]=S[fe].call(this,V[fe]);return _a(A,this,V)})}),Jw=zr(function(A,S){var I=Vr(S,jp(Jw));return dl(A,_,r,S,I)}),G8=zr(function(A,S){var I=Vr(S,jp(G8));return dl(A,x,r,S,I)}),Yte=pl(function(A,S){return dl(A,C,r,r,r,S)});function Xte(A,S){if(typeof A!="function")throw new Ys(s);return S=S===r?S:Lr(S),zr(A,S)}function Qte(A,S){if(typeof A!="function")throw new Ys(s);return S=S==null?0:Bi(Lr(S),0),zr(function(I){var V=I[S],fe=xc(I,0,S);return V&&Ns(fe,V),_a(A,this,fe)})}function ere(A,S,I){var V=!0,fe=!0;if(typeof A!="function")throw new Ys(s);return li(I)&&(V="leading"in I?!!I.leading:V,fe="trailing"in I?!!I.trailing:fe),H8(A,S,{leading:V,maxWait:S,trailing:fe})}function tre(A){return U8(A,1)}function rre(A,S){return Jw(Mw(S),A)}function nre(){if(!arguments.length)return[];var A=arguments[0];return Nr(A)?A:[A]}function ire(A){return Qs(A,p)}function are(A,S){return S=typeof S=="function"?S:r,Qs(A,p,S)}function sre(A){return Qs(A,f|p)}function ore(A,S){return S=typeof S=="function"?S:r,Qs(A,f|p,S)}function ure(A,S){return S==null||OD(A,S,Ji(S))}function Bo(A,S){return A===S||A!==A&&S!==S}var lre=I1(ww),cre=I1(function(A,S){return A>=S}),ud=RD(function(){return arguments}())?RD:function(A){return fi(A)&&xn.call(A,"callee")&&!ED.call(A,"callee")},Nr=Qe.isArray,fre=Gt?Aa(Gt):bQ;function ls(A){return A!=null&&z1(A.length)&&!hl(A)}function yi(A){return fi(A)&&ls(A)}function dre(A){return A===!0||A===!1||fi(A)&&Ra(A)==Q}var Sc=CX||ox,pre=Io?Aa(Io):_Q;function mre(A){return fi(A)&&A.nodeType===1&&!x0(A)}function hre(A){if(A==null)return!0;if(ls(A)&&(Nr(A)||typeof A=="string"||typeof A.splice=="function"||Sc(A)||Vp(A)||ud(A)))return!A.length;var S=xa(A);if(S==q||S==ce)return!A.size;if(A0(A))return!Ew(A).length;for(var I in A)if(xn.call(A,I))return!1;return!0}function vre(A,S){return y0(A,S)}function gre(A,S,I){I=typeof I=="function"?I:r;var V=I?I(A,S):r;return V===r?y0(A,S,r,I):!!V}function Yw(A){if(!fi(A))return!1;var S=Ra(A);return S==Ce||S==se||typeof A.message=="string"&&typeof A.name=="string"&&!x0(A)}function yre(A){return typeof A=="number"&&$D(A)}function hl(A){if(!li(A))return!1;var S=Ra(A);return S==Te||S==oe||S==W||S==Ee}function Z8(A){return typeof A=="number"&&A==Lr(A)}function z1(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=T}function li(A){var S=typeof A;return A!=null&&(S=="object"||S=="function")}function fi(A){return A!=null&&typeof A=="object"}var W8=Yg?Aa(Yg):wQ;function bre(A,S){return A===S||Sw(A,S,zw(S))}function _re(A,S,I){return I=typeof I=="function"?I:r,Sw(A,S,zw(S),I)}function Are(A){return K8(A)&&A!=+A}function wre(A){if(aee(A))throw new xr(a);return UD(A)}function xre(A){return A===null}function Sre(A){return A==null}function K8(A){return typeof A=="number"||fi(A)&&Ra(A)==me}function x0(A){if(!fi(A)||Ra(A)!=K)return!1;var S=m1(A);if(S===null)return!0;var I=xn.call(S,"constructor")&&S.constructor;return typeof I=="function"&&I instanceof I&&c1.call(I)==_X}var Xw=Xg?Aa(Xg):xQ;function Ere(A){return Z8(A)&&A>=-T&&A<=T}var J8=Tp?Aa(Tp):SQ;function q1(A){return typeof A=="string"||!Nr(A)&&fi(A)&&Ra(A)==pe}function ks(A){return typeof A=="symbol"||fi(A)&&Ra(A)==Y}var Vp=i0?Aa(i0):EQ;function Cre(A){return A===r}function $re(A){return fi(A)&&xa(A)==ye}function Nre(A){return fi(A)&&Ra(A)==ge}var Dre=I1(Cw),Tre=I1(function(A,S){return A<=S});function Y8(A){if(!A)return[];if(ls(A))return q1(A)?Mo(A):us(A);if(c0&&A[c0])return Ye(A[c0]());var S=xa(A),I=S==q?ht:S==ce?wn:Hp;return I(A)}function vl(A){if(!A)return A===0?A:0;if(A=ro(A),A===O||A===-O){var S=A<0?-1:1;return S*j}return A===A?A:0}function Lr(A){var S=vl(A),I=S%1;return S===S?I?S-I:S:0}function X8(A){return A?id(Lr(A),0,le):0}function ro(A){if(typeof A=="number")return A;if(ks(A))return R;if(li(A)){var S=typeof A.valueOf=="function"?A.valueOf():A;A=li(S)?S+"":S}if(typeof A!="string")return A===0?A:+A;A=Op(A);var I=Hf.test(A);return I||Zf.test(A)?uw(A.slice(2),I?2:8):Vf.test(A)?R:+A}function Q8(A){return Tu(A,cs(A))}function kre(A){return A?id(Lr(A),-T,T):A===0?A:0}function yn(A){return A==null?"":Ts(A)}var Ire=zp(function(A,S){if(A0(S)||ls(S)){Tu(S,Ji(S),A);return}for(var I in S)xn.call(S,I)&&h0(A,I,S[I])}),eT=zp(function(A,S){Tu(S,cs(S),A)}),j1=zp(function(A,S,I,V){Tu(S,cs(S),A,V)}),Ore=zp(function(A,S,I,V){Tu(S,Ji(S),A,V)}),Mre=pl(bw);function Pre(A,S){var I=Up(A);return S==null?I:ID(I,S)}var Bre=zr(function(A,S){A=zn(A);var I=-1,V=S.length,fe=V>2?S[2]:r;for(fe&&Ua(S[0],S[1],fe)&&(V=1);++I<V;)for(var Se=S[I],Me=cs(Se),Le=-1,qe=Me.length;++Le<qe;){var ut=Me[Le],lt=A[ut];(lt===r||Bo(lt,Lp[ut])&&!xn.call(A,ut))&&(A[ut]=Se[ut])}return A}),Lre=zr(function(A){return A.push(r,g8),_a(tT,r,A)});function Fre(A,S){return t1(A,Qt(S,3),Du)}function Rre(A,S){return t1(A,Qt(S,3),Aw)}function Ure(A,S){return A==null?A:_w(A,Qt(S,3),cs)}function zre(A,S){return A==null?A:LD(A,Qt(S,3),cs)}function qre(A,S){return A&&Du(A,Qt(S,3))}function jre(A,S){return A&&Aw(A,Qt(S,3))}function Vre(A){return A==null?[]:S1(A,Ji(A))}function Hre(A){return A==null?[]:S1(A,cs(A))}function Qw(A,S,I){var V=A==null?r:ad(A,S);return V===r?I:V}function Gre(A,S){return A!=null&&_8(A,S,hQ)}function ex(A,S){return A!=null&&_8(A,S,vQ)}var Zre=d8(function(A,S,I){S!=null&&typeof S.toString!="function"&&(S=f1.call(S)),A[S]=I},rx(fs)),Wre=d8(function(A,S,I){S!=null&&typeof S.toString!="function"&&(S=f1.call(S)),xn.call(A,S)?A[S].push(I):A[S]=[I]},Qt),Kre=zr(g0);function Ji(A){return ls(A)?TD(A):Ew(A)}function cs(A){return ls(A)?TD(A,!0):CQ(A)}function Jre(A,S){var I={};return S=Qt(S,3),Du(A,function(V,fe,Se){fl(I,S(V,fe,Se),V)}),I}function Yre(A,S){var I={};return S=Qt(S,3),Du(A,function(V,fe,Se){fl(I,fe,S(V,fe,Se))}),I}var Xre=zp(function(A,S,I){E1(A,S,I)}),tT=zp(function(A,S,I,V){E1(A,S,I,V)}),Qre=pl(function(A,S){var I={};if(A==null)return I;var V=!1;S=jn(S,function(Se){return Se=wc(Se,A),V||(V=Se.length>1),Se}),Tu(A,Rw(A),I),V&&(I=Qs(I,f|d|p,ZQ));for(var fe=S.length;fe--;)kw(I,S[fe]);return I});function ene(A,S){return rT(A,U1(Qt(S)))}var tne=pl(function(A,S){return A==null?{}:NQ(A,S)});function rT(A,S){if(A==null)return{};var I=jn(Rw(A),function(V){return[V]});return S=Qt(S),ZD(A,I,function(V,fe){return S(V,fe[0])})}function rne(A,S,I){S=wc(S,A);var V=-1,fe=S.length;for(fe||(fe=1,A=r);++V<fe;){var Se=A==null?r:A[ku(S[V])];Se===r&&(V=fe,Se=I),A=hl(Se)?Se.call(A):Se}return A}function nne(A,S,I){return A==null?A:b0(A,S,I)}function ine(A,S,I,V){return V=typeof V=="function"?V:r,A==null?A:b0(A,S,I,V)}var nT=h8(Ji),iT=h8(cs);function ane(A,S,I){var V=Nr(A),fe=V||Sc(A)||Vp(A);if(S=Qt(S,4),I==null){var Se=A&&A.constructor;fe?I=V?new Se:[]:li(A)?I=hl(Se)?Up(m1(A)):{}:I={}}return(fe?os:Du)(A,function(Me,Le,qe){return S(I,Me,Le,qe)}),I}function sne(A,S){return A==null?!0:kw(A,S)}function one(A,S,I){return A==null?A:XD(A,S,Mw(I))}function une(A,S,I,V){return V=typeof V=="function"?V:r,A==null?A:XD(A,S,Mw(I),V)}function Hp(A){return A==null?[]:vc(A,Ji(A))}function lne(A){return A==null?[]:vc(A,cs(A))}function cne(A,S,I){return I===r&&(I=S,S=r),I!==r&&(I=ro(I),I=I===I?I:0),S!==r&&(S=ro(S),S=S===S?S:0),id(ro(A),S,I)}function fne(A,S,I){return S=vl(S),I===r?(I=S,S=0):I=vl(I),A=ro(A),gQ(A,S,I)}function dne(A,S,I){if(I&&typeof I!="boolean"&&Ua(A,S,I)&&(S=I=r),I===r&&(typeof S=="boolean"?(I=S,S=r):typeof A=="boolean"&&(I=A,A=r)),A===r&&S===r?(A=0,S=1):(A=vl(A),S===r?(S=A,A=0):S=vl(S)),A>S){var V=A;A=S,S=V}if(I||A%1||S%1){var fe=ND();return wa(A+fe*(S-A+ow("1e-"+((fe+"").length-1))),S)}return Nw(A,S)}var pne=qp(function(A,S,I){return S=S.toLowerCase(),A+(I?aT(S):S)});function aT(A){return tx(yn(A).toLowerCase())}function sT(A){return A=yn(A),A&&A.replace(Kf,Mp).replace(YA,"")}function mne(A,S,I){A=yn(A),S=Ts(S);var V=A.length;I=I===r?V:id(Lr(I),0,V);var fe=I;return I-=S.length,I>=0&&A.slice(I,fe)==S}function hne(A){return A=yn(A),A&&ol.test(A)?A.replace(oi,Vn):A}function vne(A){return A=yn(A),A&&Ks.test(A)?A.replace(Au,"\\$&"):A}var gne=qp(function(A,S,I){return A+(I?"-":"")+S.toLowerCase()}),yne=qp(function(A,S,I){return A+(I?" ":"")+S.toLowerCase()}),bne=l8("toLowerCase");function _ne(A,S,I){A=yn(A),S=Lr(S);var V=S?Pp(A):0;if(!S||V>=S)return A;var fe=(S-V)/2;return k1(y1(fe),I)+A+k1(g1(fe),I)}function Ane(A,S,I){A=yn(A),S=Lr(S);var V=S?Pp(A):0;return S&&V<S?A+k1(S-V,I):A}function wne(A,S,I){A=yn(A),S=Lr(S);var V=S?Pp(A):0;return S&&V<S?k1(S-V,I)+A:A}function xne(A,S,I){return I||S==null?S=0:S&&(S=+S),TX(yn(A).replace(wu,""),S||0)}function Sne(A,S,I){return(I?Ua(A,S,I):S===r)?S=1:S=Lr(S),Dw(yn(A),S)}function Ene(){var A=arguments,S=yn(A[0]);return A.length<3?S:S.replace(A[1],A[2])}var Cne=qp(function(A,S,I){return A+(I?"_":"")+S.toLowerCase()});function $ne(A,S,I){return I&&typeof I!="number"&&Ua(A,S,I)&&(S=I=r),I=I===r?le:I>>>0,I?(A=yn(A),A&&(typeof S=="string"||S!=null&&!Xw(S))&&(S=Ts(S),!S&&Ie(A))?xc(Mo(A),0,I):A.split(S,I)):[]}var Nne=qp(function(A,S,I){return A+(I?" ":"")+tx(S)});function Dne(A,S,I){return A=yn(A),I=I==null?0:id(Lr(I),0,A.length),S=Ts(S),A.slice(I,I+S.length)==S}function Tne(A,S,I){var V=_e.templateSettings;I&&Ua(A,S,I)&&(S=r),A=yn(A),S=j1({},S,V,v8);var fe=j1({},S.imports,V.imports,v8),Se=Ji(fe),Me=vc(fe,Se),Le,qe,ut=0,lt=S.interpolate||Eu,vt="__p += '",It=mw((S.escape||Eu).source+"|"+lt.source+"|"+(lt===_u?Su:Eu).source+"|"+(S.evaluate||Eu).source+"|$","g"),jt="//# sourceURL="+(xn.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rw+"]")+`
`;A.replace(It,function(ir,Wr,sn,Is,za,Os){return sn||(sn=Is),vt+=A.slice(ut,Os).replace(Do,o1),Wr&&(Le=!0,vt+=`' +
__e(`+Wr+`) +
'`),za&&(qe=!0,vt+=`';
`+za+`;
__p += '`),sn&&(vt+=`' +
((__t = (`+sn+`)) == null ? '' : __t) +
'`),ut=Os+ir.length,ir}),vt+=`';
`;var nr=xn.call(S,"variable")&&S.variable;if(!nr)vt=`with (obj) {
`+vt+`
}
`;else if(xu.test(nr))throw new xr(o);vt=(qe?vt.replace(Ge,""):vt).replace(ot,"$1").replace(Ht,"$1;"),vt="function("+(nr||"obj")+`) {
`+(nr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(qe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vt+`return __p
}`;var Fr=uT(function(){return vn(Se,jt+"return "+vt).apply(r,Me)});if(Fr.source=vt,Yw(Fr))throw Fr;return Fr}function kne(A){return yn(A).toLowerCase()}function Ine(A){return yn(A).toUpperCase()}function One(A,S,I){if(A=yn(A),A&&(I||S===r))return Op(A);if(!A||!(S=Ts(S)))return A;var V=Mo(A),fe=Mo(S),Se=i1(V,fe),Me=a1(V,fe)+1;return xc(V,Se,Me).join("")}function Mne(A,S,I){if(A=yn(A),A&&(I||S===r))return A.slice(0,AD(A)+1);if(!A||!(S=Ts(S)))return A;var V=Mo(A),fe=a1(V,Mo(S))+1;return xc(V,0,fe).join("")}function Pne(A,S,I){if(A=yn(A),A&&(I||S===r))return A.replace(wu,"");if(!A||!(S=Ts(S)))return A;var V=Mo(A),fe=i1(V,Mo(S));return xc(V,fe).join("")}function Bne(A,S){var I=D,V=N;if(li(S)){var fe="separator"in S?S.separator:fe;I="length"in S?Lr(S.length):I,V="omission"in S?Ts(S.omission):V}A=yn(A);var Se=A.length;if(Ie(A)){var Me=Mo(A);Se=Me.length}if(I>=Se)return A;var Le=I-Pp(V);if(Le<1)return V;var qe=Me?xc(Me,0,Le).join(""):A.slice(0,Le);if(fe===r)return qe+V;if(Me&&(Le+=qe.length-Le),Xw(fe)){if(A.slice(Le).search(fe)){var ut,lt=qe;for(fe.global||(fe=mw(fe.source,yn(Cs.exec(fe))+"g")),fe.lastIndex=0;ut=fe.exec(lt);)var vt=ut.index;qe=qe.slice(0,vt===r?Le:vt)}}else if(A.indexOf(Ts(fe),Le)!=Le){var It=qe.lastIndexOf(fe);It>-1&&(qe=qe.slice(0,It))}return qe+V}function Lne(A){return A=yn(A),A&&bu.test(A)?A.replace(Xt,dX):A}var Fne=qp(function(A,S,I){return A+(I?" ":"")+S.toUpperCase()}),tx=l8("toUpperCase");function oT(A,S,I){return A=yn(A),S=I?r:S,S===r?Ve(A)?hX(A):dw(A):A.match(S)||[]}var uT=zr(function(A,S){try{return _a(A,r,S)}catch(I){return Yw(I)?I:new xr(I)}}),Rne=pl(function(A,S){return os(S,function(I){I=ku(I),fl(A,I,Kw(A[I],A))}),A});function Une(A){var S=A==null?0:A.length,I=Qt();return A=S?jn(A,function(V){if(typeof V[1]!="function")throw new Ys(s);return[I(V[0]),V[1]]}):[],zr(function(V){for(var fe=-1;++fe<S;){var Se=A[fe];if(_a(Se[0],this,V))return _a(Se[1],this,V)}})}function zne(A){return dQ(Qs(A,f))}function rx(A){return function(){return A}}function qne(A,S){return A==null||A!==A?S:A}var jne=f8(),Vne=f8(!0);function fs(A){return A}function nx(A){return zD(typeof A=="function"?A:Qs(A,f))}function Hne(A){return jD(Qs(A,f))}function Gne(A,S){return VD(A,Qs(S,f))}var Zne=zr(function(A,S){return function(I){return g0(I,A,S)}}),Wne=zr(function(A,S){return function(I){return g0(A,I,S)}});function ix(A,S,I){var V=Ji(S),fe=S1(S,V);I==null&&!(li(S)&&(fe.length||!V.length))&&(I=S,S=A,A=this,fe=S1(S,Ji(S)));var Se=!(li(I)&&"chain"in I)||!!I.chain,Me=hl(A);return os(fe,function(Le){var qe=S[Le];A[Le]=qe,Me&&(A.prototype[Le]=function(){var ut=this.__chain__;if(Se||ut){var lt=A(this.__wrapped__),vt=lt.__actions__=us(this.__actions__);return vt.push({func:qe,args:arguments,thisArg:A}),lt.__chain__=ut,lt}return qe.apply(A,Ns([this.value()],arguments))})}),A}function Kne(){return ci._===this&&(ci._=AX),this}function ax(){}function Jne(A){return A=Lr(A),zr(function(S){return HD(S,A)})}var Yne=Bw(jn),Xne=Bw(e1),Qne=Bw(o0);function lT(A){return jw(A)?Oo(ku(A)):DQ(A)}function eie(A){return function(S){return A==null?r:ad(A,S)}}var tie=p8(),rie=p8(!0);function sx(){return[]}function ox(){return!1}function nie(){return{}}function iie(){return""}function aie(){return!0}function sie(A,S){if(A=Lr(A),A<1||A>T)return[];var I=le,V=wa(A,le);S=Qt(S),A-=le;for(var fe=l0(V,S);++I<A;)S(I);return fe}function oie(A){return Nr(A)?jn(A,ku):ks(A)?[A]:us(D8(yn(A)))}function uie(A){var S=++bX;return yn(A)+S}var lie=T1(function(A,S){return A+S},0),cie=Lw("ceil"),fie=T1(function(A,S){return A/S},1),die=Lw("floor");function pie(A){return A&&A.length?x1(A,fs,ww):r}function mie(A,S){return A&&A.length?x1(A,Qt(S,2),ww):r}function hie(A){return n1(A,fs)}function vie(A,S){return n1(A,Qt(S,2))}function gie(A){return A&&A.length?x1(A,fs,Cw):r}function yie(A,S){return A&&A.length?x1(A,Qt(S,2),Cw):r}var bie=T1(function(A,S){return A*S},1),_ie=Lw("round"),Aie=T1(function(A,S){return A-S},0);function wie(A){return A&&A.length?ed(A,fs):0}function xie(A,S){return A&&A.length?ed(A,Qt(S,2)):0}return _e.after=Hte,_e.ary=U8,_e.assign=Ire,_e.assignIn=eT,_e.assignInWith=j1,_e.assignWith=Ore,_e.at=Mre,_e.before=z8,_e.bind=Kw,_e.bindAll=Rne,_e.bindKey=q8,_e.castArray=nre,_e.chain=L8,_e.chunk=dee,_e.compact=pee,_e.concat=mee,_e.cond=Une,_e.conforms=zne,_e.constant=rx,_e.countBy=wte,_e.create=Pre,_e.curry=j8,_e.curryRight=V8,_e.debounce=H8,_e.defaults=Bre,_e.defaultsDeep=Lre,_e.defer=Gte,_e.delay=Zte,_e.difference=hee,_e.differenceBy=vee,_e.differenceWith=gee,_e.drop=yee,_e.dropRight=bee,_e.dropRightWhile=_ee,_e.dropWhile=Aee,_e.fill=wee,_e.filter=Ste,_e.flatMap=$te,_e.flatMapDeep=Nte,_e.flatMapDepth=Dte,_e.flatten=O8,_e.flattenDeep=xee,_e.flattenDepth=See,_e.flip=Wte,_e.flow=jne,_e.flowRight=Vne,_e.fromPairs=Eee,_e.functions=Vre,_e.functionsIn=Hre,_e.groupBy=Tte,_e.initial=$ee,_e.intersection=Nee,_e.intersectionBy=Dee,_e.intersectionWith=Tee,_e.invert=Zre,_e.invertBy=Wre,_e.invokeMap=Ite,_e.iteratee=nx,_e.keyBy=Ote,_e.keys=Ji,_e.keysIn=cs,_e.map=L1,_e.mapKeys=Jre,_e.mapValues=Yre,_e.matches=Hne,_e.matchesProperty=Gne,_e.memoize=R1,_e.merge=Xre,_e.mergeWith=tT,_e.method=Zne,_e.methodOf=Wne,_e.mixin=ix,_e.negate=U1,_e.nthArg=Jne,_e.omit=Qre,_e.omitBy=ene,_e.once=Kte,_e.orderBy=Mte,_e.over=Yne,_e.overArgs=Jte,_e.overEvery=Xne,_e.overSome=Qne,_e.partial=Jw,_e.partialRight=G8,_e.partition=Pte,_e.pick=tne,_e.pickBy=rT,_e.property=lT,_e.propertyOf=eie,_e.pull=Mee,_e.pullAll=P8,_e.pullAllBy=Pee,_e.pullAllWith=Bee,_e.pullAt=Lee,_e.range=tie,_e.rangeRight=rie,_e.rearg=Yte,_e.reject=Fte,_e.remove=Fee,_e.rest=Xte,_e.reverse=Zw,_e.sampleSize=Ute,_e.set=nne,_e.setWith=ine,_e.shuffle=zte,_e.slice=Ree,_e.sortBy=Vte,_e.sortedUniq=Gee,_e.sortedUniqBy=Zee,_e.split=$ne,_e.spread=Qte,_e.tail=Wee,_e.take=Kee,_e.takeRight=Jee,_e.takeRightWhile=Yee,_e.takeWhile=Xee,_e.tap=pte,_e.throttle=ere,_e.thru=B1,_e.toArray=Y8,_e.toPairs=nT,_e.toPairsIn=iT,_e.toPath=oie,_e.toPlainObject=Q8,_e.transform=ane,_e.unary=tre,_e.union=Qee,_e.unionBy=ete,_e.unionWith=tte,_e.uniq=rte,_e.uniqBy=nte,_e.uniqWith=ite,_e.unset=sne,_e.unzip=Ww,_e.unzipWith=B8,_e.update=one,_e.updateWith=une,_e.values=Hp,_e.valuesIn=lne,_e.without=ate,_e.words=oT,_e.wrap=rre,_e.xor=ste,_e.xorBy=ote,_e.xorWith=ute,_e.zip=lte,_e.zipObject=cte,_e.zipObjectDeep=fte,_e.zipWith=dte,_e.entries=nT,_e.entriesIn=iT,_e.extend=eT,_e.extendWith=j1,ix(_e,_e),_e.add=lie,_e.attempt=uT,_e.camelCase=pne,_e.capitalize=aT,_e.ceil=cie,_e.clamp=cne,_e.clone=ire,_e.cloneDeep=sre,_e.cloneDeepWith=ore,_e.cloneWith=are,_e.conformsTo=ure,_e.deburr=sT,_e.defaultTo=qne,_e.divide=fie,_e.endsWith=mne,_e.eq=Bo,_e.escape=hne,_e.escapeRegExp=vne,_e.every=xte,_e.find=Ete,_e.findIndex=k8,_e.findKey=Fre,_e.findLast=Cte,_e.findLastIndex=I8,_e.findLastKey=Rre,_e.floor=die,_e.forEach=F8,_e.forEachRight=R8,_e.forIn=Ure,_e.forInRight=zre,_e.forOwn=qre,_e.forOwnRight=jre,_e.get=Qw,_e.gt=lre,_e.gte=cre,_e.has=Gre,_e.hasIn=ex,_e.head=M8,_e.identity=fs,_e.includes=kte,_e.indexOf=Cee,_e.inRange=fne,_e.invoke=Kre,_e.isArguments=ud,_e.isArray=Nr,_e.isArrayBuffer=fre,_e.isArrayLike=ls,_e.isArrayLikeObject=yi,_e.isBoolean=dre,_e.isBuffer=Sc,_e.isDate=pre,_e.isElement=mre,_e.isEmpty=hre,_e.isEqual=vre,_e.isEqualWith=gre,_e.isError=Yw,_e.isFinite=yre,_e.isFunction=hl,_e.isInteger=Z8,_e.isLength=z1,_e.isMap=W8,_e.isMatch=bre,_e.isMatchWith=_re,_e.isNaN=Are,_e.isNative=wre,_e.isNil=Sre,_e.isNull=xre,_e.isNumber=K8,_e.isObject=li,_e.isObjectLike=fi,_e.isPlainObject=x0,_e.isRegExp=Xw,_e.isSafeInteger=Ere,_e.isSet=J8,_e.isString=q1,_e.isSymbol=ks,_e.isTypedArray=Vp,_e.isUndefined=Cre,_e.isWeakMap=$re,_e.isWeakSet=Nre,_e.join=kee,_e.kebabCase=gne,_e.last=to,_e.lastIndexOf=Iee,_e.lowerCase=yne,_e.lowerFirst=bne,_e.lt=Dre,_e.lte=Tre,_e.max=pie,_e.maxBy=mie,_e.mean=hie,_e.meanBy=vie,_e.min=gie,_e.minBy=yie,_e.stubArray=sx,_e.stubFalse=ox,_e.stubObject=nie,_e.stubString=iie,_e.stubTrue=aie,_e.multiply=bie,_e.nth=Oee,_e.noConflict=Kne,_e.noop=ax,_e.now=F1,_e.pad=_ne,_e.padEnd=Ane,_e.padStart=wne,_e.parseInt=xne,_e.random=dne,_e.reduce=Bte,_e.reduceRight=Lte,_e.repeat=Sne,_e.replace=Ene,_e.result=rne,_e.round=_ie,_e.runInContext=ze,_e.sample=Rte,_e.size=qte,_e.snakeCase=Cne,_e.some=jte,_e.sortedIndex=Uee,_e.sortedIndexBy=zee,_e.sortedIndexOf=qee,_e.sortedLastIndex=jee,_e.sortedLastIndexBy=Vee,_e.sortedLastIndexOf=Hee,_e.startCase=Nne,_e.startsWith=Dne,_e.subtract=Aie,_e.sum=wie,_e.sumBy=xie,_e.template=Tne,_e.times=sie,_e.toFinite=vl,_e.toInteger=Lr,_e.toLength=X8,_e.toLower=kne,_e.toNumber=ro,_e.toSafeInteger=kre,_e.toString=yn,_e.toUpper=Ine,_e.trim=One,_e.trimEnd=Mne,_e.trimStart=Pne,_e.truncate=Bne,_e.unescape=Lne,_e.uniqueId=uie,_e.upperCase=Fne,_e.upperFirst=tx,_e.each=F8,_e.eachRight=R8,_e.first=M8,ix(_e,function(){var A={};return Du(_e,function(S,I){xn.call(_e.prototype,I)||(A[I]=S)}),A}(),{chain:!1}),_e.VERSION=n,os(["bind","bindKey","curry","curryRight","partial","partialRight"],function(A){_e[A].placeholder=_e}),os(["drop","take"],function(A,S){tn.prototype[A]=function(I){I=I===r?1:Bi(Lr(I),0);var V=this.__filtered__&&!S?new tn(this):this.clone();return V.__filtered__?V.__takeCount__=wa(I,V.__takeCount__):V.__views__.push({size:wa(I,le),type:A+(V.__dir__<0?"Right":"")}),V},tn.prototype[A+"Right"]=function(I){return this.reverse()[A](I).reverse()}}),os(["filter","map","takeWhile"],function(A,S){var I=S+1,V=I==U||I==B;tn.prototype[A]=function(fe){var Se=this.clone();return Se.__iteratees__.push({iteratee:Qt(fe,3),type:I}),Se.__filtered__=Se.__filtered__||V,Se}}),os(["head","last"],function(A,S){var I="take"+(S?"Right":"");tn.prototype[A]=function(){return this[I](1).value()[0]}}),os(["initial","tail"],function(A,S){var I="drop"+(S?"":"Right");tn.prototype[A]=function(){return this.__filtered__?new tn(this):this[I](1)}}),tn.prototype.compact=function(){return this.filter(fs)},tn.prototype.find=function(A){return this.filter(A).head()},tn.prototype.findLast=function(A){return this.reverse().find(A)},tn.prototype.invokeMap=zr(function(A,S){return typeof A=="function"?new tn(this):this.map(function(I){return g0(I,A,S)})}),tn.prototype.reject=function(A){return this.filter(U1(Qt(A)))},tn.prototype.slice=function(A,S){A=Lr(A);var I=this;return I.__filtered__&&(A>0||S<0)?new tn(I):(A<0?I=I.takeRight(-A):A&&(I=I.drop(A)),S!==r&&(S=Lr(S),I=S<0?I.dropRight(-S):I.take(S-A)),I)},tn.prototype.takeRightWhile=function(A){return this.reverse().takeWhile(A).reverse()},tn.prototype.toArray=function(){return this.take(le)},Du(tn.prototype,function(A,S){var I=/^(?:filter|find|map|reject)|While$/.test(S),V=/^(?:head|last)$/.test(S),fe=_e[V?"take"+(S=="last"?"Right":""):S],Se=V||/^find/.test(S);fe&&(_e.prototype[S]=function(){var Me=this.__wrapped__,Le=V?[1]:arguments,qe=Me instanceof tn,ut=Le[0],lt=qe||Nr(Me),vt=function(Wr){var sn=fe.apply(_e,Ns([Wr],Le));return V&&It?sn[0]:sn};lt&&I&&typeof ut=="function"&&ut.length!=1&&(qe=lt=!1);var It=this.__chain__,jt=!!this.__actions__.length,nr=Se&&!It,Fr=qe&&!jt;if(!Se&&lt){Me=Fr?Me:new tn(this);var ir=A.apply(Me,Le);return ir.__actions__.push({func:B1,args:[vt],thisArg:r}),new Xs(ir,It)}return nr&&Fr?A.apply(this,Le):(ir=this.thru(vt),nr?V?ir.value()[0]:ir.value():ir)})}),os(["pop","push","shift","sort","splice","unshift"],function(A){var S=u1[A],I=/^(?:push|sort|unshift)$/.test(A)?"tap":"thru",V=/^(?:pop|shift)$/.test(A);_e.prototype[A]=function(){var fe=arguments;if(V&&!this.__chain__){var Se=this.value();return S.apply(Nr(Se)?Se:[],fe)}return this[I](function(Me){return S.apply(Nr(Me)?Me:[],fe)})}}),Du(tn.prototype,function(A,S){var I=_e[S];if(I){var V=I.name+"";xn.call(Rp,V)||(Rp[V]=[]),Rp[V].push({name:S,func:I})}}),Rp[D1(r,y).name]=[{name:"wrapper",func:r}],tn.prototype.clone=LX,tn.prototype.reverse=FX,tn.prototype.value=RX,_e.prototype.at=mte,_e.prototype.chain=hte,_e.prototype.commit=vte,_e.prototype.next=gte,_e.prototype.plant=bte,_e.prototype.reverse=_te,_e.prototype.toJSON=_e.prototype.valueOf=_e.prototype.value=Ate,_e.prototype.first=_e.prototype.head,c0&&(_e.prototype[c0]=yte),_e},Bp=vX();ko?((ko.exports=Bp)._=Bp,ss._=Bp):ci._=Bp}).call(Ut)})(Ob,Ob.exports);var ace=Ob.exports;const Ax=Oi(!1),wx=Oi(null),xx=Oi({}),Sx=Oi(""),Ex=Oi(!1),Cx=Oi(!1),$x=Oi(!1),Nx=Oi(!1),Dx=Oi(""),Ok=Oi(!1),Mk=Oi(""),Pk=Oi(!1),Bk=Oi(""),Lk=Oi(null),sce=()=>{const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const r=e.offsetWidth-t.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),r};function en(){function e(r,n={},i={}){wx.value=r,xx.value=n,Sx.value=i.title??"",Ex.value=i.hasSave??!1,Cx.value=i.hasClose??!1,$x.value=i.hasDelete??!1,Nx.value=i.hasAdd??!1,Dx.value=i.addLabel??"",Ok.value=i.hasSum??!1,Mk.value=i.sumLabel??"",Pk.value=i.hasSubtract??!1,Bk.value=i.subtractLabel??"",Ax.value=!0,window.innerWidth>document.documentElement.clientWidth&&(document.body.style.paddingRight=`${sce()}px`)}function t(){Ax.value=!1,wx.value=null,xx.value={},Sx.value="",Ex.value=!1,Cx.value=!1,$x.value=!1,Nx.value=!1,Dx.value="",Lk.value=null,document.body.style.paddingRight="0"}return{showSidebar:Ax,currentComponent:wx,currentProps:xx,sidebarTitle:Sx,hasSave:Ex,hasClose:Cx,hasDelete:$x,componentInstance:Lk,hasAdd:Nx,addLabel:Dx,hasSum:Ok,sumLabel:Mk,hasSubtract:Pk,subtractLabel:Bk,open:e,close:t}}const na=e=>(Hi("data-v-c5525a39"),e=e(),Gi(),e),oce=["title"],uce={key:0,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},lce=na(()=>M("path",{d:"M384,352l96-109.3h-66.1C407.1,141.8,325,64,223.2,64C117.8,64,32,150.1,32,256s85.8,192,191.2,192  c43.1,0,83.8-14.1,117.7-40.7l7.5-5.9l-43.2-46.2l-6.2,4.6c-22.1,16.3-48.3,24.9-75.8,24.9C152.6,384.7,95.1,327,95.1,256  c0-71,57.5-128.7,128.1-128.7c66.4,0,120.7,50,127.4,115.3h-74.1L384,352z"},null,-1)),cce=[lce],fce={key:1,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},dce=na(()=>M("path",{d:"M437.333,0H74.667C33.493,0,0,33.493,0,74.667v256c0,41.173,33.493,74.667,74.667,74.667h32v96 c0,4.139,2.389,7.915,6.144,9.664c1.429,0.683,2.987,1.003,4.523,1.003c2.453,0,4.885-0.853,6.827-2.475l125.013-104.192h188.16 c41.173,0,74.667-33.493,74.667-74.667v-256C512,33.493,478.507,0,437.333,0z"},null,-1)),pce=[dce],mce={key:2,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},hce=na(()=>M("path",{d:"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"},null,-1)),vce=[hce],gce={key:3,viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},yce=na(()=>M("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"},null,-1)),bce=[yce],_ce={key:4,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Ace=na(()=>M("path",{d:"M256 0C114.6 0 0 100.3 0 224c0 70.09 36.91 132.6 94.5 173.7c9.594 6.906 15.19 18.11 13.5 29.89l-11.83 66.2C94.77 503.4 102.2 512 111.9 512H192v-56C192 451.6 195.6 448 200 448h16C220.4 448 224 451.6 224 456V512h64v-56c0-4.406 3.594-8 8-8h16c4.406 0 8 3.594 8 8V512h80.11c9.719 0 17.12-8.594 15.72-18.19l-11.8-66.2c-1.688-11.69 3.812-22.98 13.5-29.89C475.1 356.6 512 294.1 512 224C512 100.3 397.4 0 256 0zM160 320c-35.31 0-64-28.69-64-64s28.69-64 64-64s64 28.69 64 64S195.3 320 160 320zM352 320c-35.31 0-64-28.69-64-64s28.69-64 64-64s64 28.69 64 64S387.3 320 352 320z"},null,-1)),wce=[Ace],xce={key:5,viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Sce=na(()=>M("path",{class:"st0",d:"M6.2,3.5L3.5,6.2c-0.7,0.7-0.7,1.9,0,2.7l9.2,9.2l-9.2,9.2c-0.7,0.7-0.7,1.9,0,2.7l2.6,2.6   c0.7,0.7,1.9,0.7,2.7,0l9.2-9.2l9.2,9.2c0.7,0.7,1.9,0.7,2.7,0l2.6-2.6c0.7-0.7,0.7-1.9,0-2.7L23.3,18l9.2-9.2   c0.7-0.7,0.7-1.9,0-2.7l-2.6-2.6c-0.7-0.7-1.9-0.7-2.7,0L18,12.7L8.8,3.5C8.1,2.8,6.9,2.8,6.2,3.5z"},null,-1)),Ece=[Sce],Cce={key:6,viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},$ce=na(()=>M("path",{class:"st0",d:"M6.2,3.5L3.5,6.2c-0.7,0.7-0.7,1.9,0,2.7l9.2,9.2l-9.2,9.2c-0.7,0.7-0.7,1.9,0,2.7l2.6,2.6   c0.7,0.7,1.9,0.7,2.7,0l9.2-9.2l9.2,9.2c0.7,0.7,1.9,0.7,2.7,0l2.6-2.6c0.7-0.7,0.7-1.9,0-2.7L23.3,18l9.2-9.2   c0.7-0.7,0.7-1.9,0-2.7l-2.6-2.6c-0.7-0.7-1.9-0.7-2.7,0L18,12.7L8.8,3.5C8.1,2.8,6.9,2.8,6.2,3.5z"},null,-1)),Nce=[$ce],Dce={key:7,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Tce=na(()=>M("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 6V4C4 1.79086 5.79086 0 8 0C10.2091 0 12 1.79086 12 4V6H14V16H2V6H4ZM6 4C6 2.89543 6.89543 2 8 2C9.10457 2 10 2.89543 10 4V6H6V4ZM7 13V9H9V13H7Z",fill:"currentColor"},null,-1)),kce=[Tce],Ice={key:8,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Oce=na(()=>M("path",{d:"M14.2647 15.9377L12.5473 14.2346C11.758 13.4519 11.3633 13.0605 10.9089 12.9137C10.5092 12.7845 10.079 12.7845 9.67922 12.9137C9.22485 13.0605 8.83017 13.4519 8.04082 14.2346L4.04193 18.2622M14.2647 15.9377L14.606 15.5991C15.412 14.7999 15.8149 14.4003 16.2773 14.2545C16.6839 14.1262 17.1208 14.1312 17.5244 14.2688C17.9832 14.4253 18.3769 14.834 19.1642 15.6515L20 16.5001M14.2647 15.9377L18.22 19.9628M18.22 19.9628C17.8703 20 17.4213 20 16.8 20H7.2C6.07989 20 5.51984 20 5.09202 19.782C4.7157 19.5903 4.40973 19.2843 4.21799 18.908C4.12583 18.7271 4.07264 18.5226 4.04193 18.2622M18.22 19.9628C18.5007 19.9329 18.7175 19.8791 18.908 19.782C19.2843 19.5903 19.5903 19.2843 19.782 18.908C20 18.4802 20 17.9201 20 16.8V13M11 4H7.2C6.07989 4 5.51984 4 5.09202 4.21799C4.7157 4.40973 4.40973 4.71569 4.21799 5.09202C4 5.51984 4 6.0799 4 7.2V16.8C4 17.4466 4 17.9066 4.04193 18.2622M18 9V6M18 6V3M18 6H21M18 6H15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),Mce=[Oce],Pce={key:9,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve"},Bce=na(()=>M("path",{d:"M3.706,10.562C3.258,9.812 3,8.936 3,8C3,7.85 3.007,7.702 3.02,7.555L3.914,7.455L4.025,8.449C4.059,8.751 4.126,9.043 4.223,9.321L4.554,10.265L3.706,10.562ZM5.243,3.829L5.879,4.465L5.172,5.172C4.961,5.384 4.773,5.619 4.613,5.873L4.079,6.719L3.319,6.24C3.693,5.248 4.372,4.406 5.243,3.829ZM9.542,3.243L9.443,4.136L8.449,4.025C8.302,4.008 8.152,4 8,4C7.848,4 7.698,4.008 7.551,4.025L6.557,4.136L6.458,3.243C6.943,3.085 7.462,3 8,3C8.538,3 9.057,3.085 9.542,3.243ZM12.681,6.24L11.921,6.719L11.387,5.873C11.227,5.619 11.039,5.384 10.828,5.172L10.121,4.465L10.757,3.829C11.628,4.406 12.307,5.248 12.681,6.24ZM12.294,10.562L11.446,10.265L11.777,9.321C11.874,9.043 11.941,8.751 11.975,8.449L12.086,7.455L12.98,7.555C12.993,7.702 13,7.85 13,8C13,8.936 12.742,9.812 12.294,10.562ZM8.674,12.955L8.377,12.107L9.321,11.777C9.606,11.677 9.876,11.546 10.127,11.387L10.973,10.854L11.452,11.615C10.708,12.327 9.745,12.81 8.674,12.955ZM4.548,11.615L5.027,10.854L5.873,11.387C6.124,11.546 6.394,11.677 6.679,11.777L7.623,12.107L7.326,12.955C6.255,12.81 5.292,12.327 4.548,11.615Z"},null,-1)),Lce=[Bce],Fce={key:10,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Rce=na(()=>M("circle",{cx:"8",cy:"8",r:"2"},null,-1)),Uce=na(()=>M("path",{d:"M3.706,10.562C3.258,9.812 3,8.936 3,8C3,7.85 3.007,7.702 3.02,7.555L3.914,7.455L4.025,8.449C4.059,8.751 4.126,9.043 4.223,9.321L4.554,10.265L3.706,10.562ZM5.243,3.829L5.879,4.465L5.172,5.172C4.961,5.384 4.773,5.619 4.613,5.873L4.079,6.719L3.319,6.24C3.693,5.248 4.372,4.406 5.243,3.829ZM9.542,3.243L9.443,4.136L8.449,4.025C8.302,4.008 8.152,4 8,4C7.848,4 7.698,4.008 7.551,4.025L6.557,4.136L6.458,3.243C6.943,3.085 7.462,3 8,3C8.538,3 9.057,3.085 9.542,3.243ZM12.681,6.24L11.921,6.719L11.387,5.873C11.227,5.619 11.039,5.384 10.828,5.172L10.121,4.465L10.757,3.829C11.628,4.406 12.307,5.248 12.681,6.24ZM12.294,10.562L11.446,10.265L11.777,9.321C11.874,9.043 11.941,8.751 11.975,8.449L12.086,7.455L12.98,7.555C12.993,7.702 13,7.85 13,8C13,8.936 12.742,9.812 12.294,10.562ZM8.674,12.955L8.377,12.107L9.321,11.777C9.606,11.677 9.876,11.546 10.127,11.387L10.973,10.854L11.452,11.615C10.708,12.327 9.745,12.81 8.674,12.955ZM4.548,11.615L5.027,10.854L5.873,11.387C6.124,11.546 6.394,11.677 6.679,11.777L7.623,12.107L7.326,12.955C6.255,12.81 5.292,12.327 4.548,11.615Z"},null,-1)),zce=[Rce,Uce],qce={key:11,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},jce=na(()=>M("circle",{cx:"8",cy:"8",r:"5"},null,-1)),Vce=[jce],Hce={key:12,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Gce=na(()=>M("path",{d:"M8,0C12.415,0 16,3.585 16,8C16,12.415 12.415,16 8,16C3.585,16 0,12.415 0,8C0,3.585 3.585,0 8,0ZM8,2C4.689,2 2,4.689 2,8C2,11.311 4.689,14 8,14C11.311,14 14,11.311 14,8C14,4.689 11.311,2 8,2Z"},null,-1)),Zce=na(()=>M("circle",{cx:"8",cy:"8.027",r:"4"},null,-1)),Wce=[Gce,Zce],Kce={key:13,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Jce=na(()=>M("path",{d:"M8,12L0,12L0,8L8,8L8,0L12,0L12,8L20,8L20,12L12,12L12,20L8,20L8,12Z"},null,-1)),Yce=[Jce],Xce={key:14,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},Qce=na(()=>M("path",{d:"M18,30L22,30L22,18L18,18L18,30ZM20,0C8.95,0 0,8.95 0,20C0,31.05 8.95,40 20,40C31.05,40 40,31.05 40,20C40,8.95 31.05,0 20,0ZM20,36C11.18,36 4,28.82 4,20C4,11.18 11.18,4 20,4C28.82,4 36,11.18 36,20C36,28.82 28.82,36 20,36ZM18,14L22,14L22,10L18,10L18,14Z"},null,-1)),efe=[Qce],tfe={key:15,viewBox:"0 0 77 50",xmlns:"http://www.w3.org/2000/svg"},rfe=na(()=>M("path",{d:"M53.356,37.806C56.362,38.634 60.252,39.364 63.676,37.666C67.526,35.756 72.496,32.33 73.54,31.068C74.646,29.732 76.448,26.888 76.706,25.922C76.866,25.326 76.824,24.686 76.772,24.292C75.966,25.196 73.374,27.834 69.484,29.202C65.11,30.742 60.064,31.738 59.324,30.288C58.618,28.904 59.28,27.528 59.598,27C59.84,26.598 61.36,24.322 62.702,22.314C63.59,20.984 64.404,19.764 64.724,19.276C65.514,18.064 67.128,14.162 67.426,13.332C67.506,13.11 67.564,12.9 67.616,12.71C67.758,12.194 67.882,11.748 68.34,11.586C68.42,11.518 68.646,10.874 68.604,9.802C68.564,8.764 68.194,6.166 65.656,4.466C63.416,2.966 61.728,1.99 60.61,1.344C59.808,0.882 59.324,0.602 59.12,0.408C58.804,0.104 58.08,0.012 57.79,-0L55.748,0.55C55.584,0.628 55.02,0.836 54.678,0.96C54.058,1.184 51.928,2.224 48.832,3.812C48.438,4.014 48.1,4.07 47.802,4.118C47.518,4.166 47.294,4.202 47.1,4.354C46.696,4.674 46.568,4.948 46.568,4.95L46.49,5.12L46.316,5.044C46.284,5.03 43.154,3.668 38.872,3.732C34.59,3.782 30.138,5.79 30.094,5.81L29.98,5.862L28.882,4.904C28.668,4.462 28.394,4.028 28.292,3.976C28.188,3.942 27.93,3.808 27.486,3.574C27.036,3.336 26.422,3.01 26.226,2.958C25.854,2.856 22.146,1.114 21.608,0.862C21.52,0.846 21.242,0.794 20.984,0.704C20.766,0.628 19.56,0.378 19.014,0.268C18.524,0.638 15.704,2.744 14.37,3.526C11.44,5.242 9.544,6.846 9.168,7.928L9.124,8.054C8.6,9.556 8.188,10.742 8.52,11.424C8.674,11.742 8.81,11.984 8.954,12.238C9.154,12.594 9.36,12.962 9.642,13.574C10.038,14.438 10.426,15.72 10.562,16.186C10.654,16.176 10.764,16.184 10.864,16.244C11.02,16.336 11.098,16.512 11.098,16.766C11.098,17.308 11.61,18.418 11.616,18.43C12.164,19.552 12.816,20.796 12.956,20.926C13.186,21.12 13.628,21.42 13.634,21.424L13.74,21.496L13.706,21.616C13.704,21.624 13.514,22.366 13.892,22.594C14.41,22.908 15.382,24.726 15.546,25.042L17.192,26.618L17.086,27.336C17.342,27.604 18.236,28.614 18.086,29.622C17.924,30.712 17.836,31.296 16.158,31.462C14.806,31.596 11.512,31.4 7.74,29.812C4.344,28.384 2.18,27.066 1.54,26.394C1.192,26.03 0.478,25.354 -0,24.906C0.374,26.26 1.308,29.438 2.094,30.404C3.008,31.528 5.098,33.356 6.222,34.34L6.608,34.678C7.11,35.118 8.886,36.618 10.72,37.406C12.292,38.08 15.718,39.194 16.344,39.338C17.01,39.49 19.974,39.572 21.396,39.386C22.316,39.266 24.358,38.78 24.934,38.348C25.38,38.014 26.468,36.81 26.984,36.23C26.478,36.24 25.69,36.22 25.364,35.986C24.924,35.668 22.702,33.48 21.336,32.016C19.996,30.582 19.426,30.036 19.422,30.03L19.28,29.896L19.428,29.768C19.426,29.768 19.64,29.5 19.686,28.362C19.704,27.924 19.668,27.44 19.574,26.878C19.392,26.744 18.616,26.288 18.228,26.062C17.592,25.69 17.592,25.69 17.668,25.538L17.74,25.392L17.902,25.444C18.784,25.736 19.186,25.806 19.358,25.822C19.284,25.492 19.218,25.254 19.15,25.004C19.114,24.866 19.074,24.724 19.032,24.558C18.854,24.408 17.932,23.792 17.476,23.488C17.22,23.318 17.058,23.208 16.96,23.134L16.96,23.132C16.796,23.006 16.818,22.97 16.874,22.878L16.96,22.734L17.12,22.806C17.784,23.108 18.356,23.306 18.67,23.396C18.656,23.36 18.644,23.326 18.63,23.29C18.44,22.776 18.224,22.194 18.11,21.604C17.94,21.38 16.526,20.164 15.944,19.676C15.93,19.664 15.914,19.652 15.9,19.64L16.148,19.368C16.164,19.382 16.178,19.394 16.194,19.406C16.912,19.996 17.76,20.144 18.082,20.152C18.088,19.986 18.114,19.924 18.194,19.804C18.224,19.76 18.264,19.7 18.32,19.598C18.646,18.984 19.222,19.256 19.634,19.182C20.05,19.104 20.668,19.876 20.68,19.886L22.08,20.726C22.276,20.834 23.438,21.502 23.832,22.256C24.232,23.022 24.828,24.548 24.852,24.612L24.874,24.666L24.86,24.72C24.764,25.082 24.512,26.086 24.492,26.388C24.484,26.48 24.492,26.628 24.5,26.802C24.534,27.604 24.534,28.232 24.184,28.424C23.66,28.71 23.106,28.248 22.738,27.942C22.372,27.638 21.84,26.806 21.446,26.138C21.608,27.12 21.834,28.504 21.902,28.902C22.034,29.694 22.704,31.826 22.95,32.01C23.07,32.096 23.226,32.23 23.412,32.392C23.766,32.698 24.252,33.118 24.81,33.486C25.326,33.826 25.822,34.362 26.186,34.756C26.378,34.964 26.618,35.222 26.694,35.256C26.736,35.254 26.85,35.204 26.95,35.16C27.298,35.01 27.88,34.76 28.746,34.94C29.972,35.196 30.922,35.548 30.962,35.562L31.022,35.584L32.004,37.172L31.158,37.658C31.216,37.93 31.326,38.57 31.238,39.034C31.164,39.42 30.976,39.644 30.832,39.764C31.168,40.248 32.252,41.778 32.726,42.19L33.358,42.742L33.372,42.798C33.378,42.824 33.962,45.404 35.04,46.658C35.816,47.56 37.348,48.706 38.176,49.298C37.902,48.632 37.536,47.536 37.588,46.508C37.652,45.274 37.682,44.84 37.692,44.708C37.622,44.558 37.464,44.16 37.592,43.88C37.646,43.76 37.746,43.674 37.88,43.634C38.104,43.568 38.158,43.46 38.17,43.412C37.998,42.882 37.51,41.324 37.592,40.958C37.63,40.786 37.526,39.824 37.45,39.122C37.374,38.43 37.308,37.83 37.322,37.612L37.326,37.548C37.35,37.12 37.376,36.714 37.016,36.432C36.934,36.366 36.682,36.168 36.74,35.93C36.77,35.8 36.882,35.72 36.984,35.682C37.044,35.624 37.202,35.452 37.274,35.176C37.344,34.904 37.366,34.704 37.372,34.61C36.948,34.062 38.828,35.014 39.058,35.382C39.396,35.92 39.8,35.958 39.816,35.96L39.87,35.964L40.32,36.282L40.34,36.33C40.346,36.342 40.402,36.43 40.59,36.42C41.058,36.382 41.318,37.178 41.388,37.42L41.396,37.468L41.396,38.26C41.396,38.354 41.412,40.568 41.396,40.802C41.382,40.978 41.39,41.706 41.396,42.066L41.396,42.126L40.628,43.156L40.458,44.942C40.728,44.744 41.124,44.464 41.516,44.218C41.944,43.95 42.13,43.672 42.192,43.58C42.282,43.446 42.38,43.45 42.448,43.476C42.598,43.536 42.564,43.682 42.548,43.744C42.528,43.832 42.53,44.068 42.538,44.31C42.804,43.988 43.17,43.496 43.306,43.086C43.548,42.37 43.836,41.764 43.848,41.738L43.928,41.574L44.726,41.93C44.866,41.624 45.08,41.124 45.114,40.916C45.148,40.706 44.974,40.106 44.856,39.776L44.824,39.688L44.88,39.612C45.058,39.376 45.494,38.644 45.186,38.4C44.56,37.9 44.938,37.218 45.302,36.56C45.708,35.83 47.472,35.066 47.792,35.04C48.066,35.014 49.334,35.034 49.584,35.038C49.834,34.932 51.314,34.278 51.866,33.482C52.508,32.562 53.788,30.772 53.788,30.772L54.474,29.914C54.572,29.686 55.414,27.714 55.782,26.476C54.904,27.524 53.98,28.554 53.708,28.598C53.314,28.66 52.956,28.386 52.916,28.354L52.864,28.312L52.852,28.246C52.6,26.852 52.034,23.564 52.226,23.172C52.314,22.992 52.588,22.538 52.906,22.01C53.278,21.396 53.7,20.698 53.872,20.354C54.22,19.662 56.186,18.338 56.718,18.338C56.76,18.338 56.814,18.332 56.876,18.324C57.166,18.29 57.652,18.234 58.036,18.574C58.396,18.892 58.568,19.472 58.562,20.346C58.974,20.188 59.906,19.768 60.664,19.37L60.814,19.292L60.912,19.428C61.094,19.682 59.96,20.604 59.73,20.786C59.36,21.08 58.946,21.332 58.672,21.498C58.59,21.548 58.524,21.588 58.482,21.616C58.464,21.746 58.45,21.822 58.422,21.978C58.354,22.35 58.278,22.708 58.192,23.062C58.376,23.01 58.656,22.922 58.99,22.798C59.346,22.666 59.78,22.456 60.012,22.342C60.214,22.244 60.326,22.19 60.42,22.322L60.514,22.454L60.39,22.562C59.13,23.634 58.388,23.942 58.03,24.092C57.982,24.112 57.93,24.134 57.9,24.148C57.636,25.026 57.35,25.79 57.118,26.404C56.78,27.304 56.512,28.012 56.628,28.306C56.906,29.01 57.238,29.432 57.242,29.436L57.33,29.546L57.24,29.658C57.094,29.832 53.678,33.948 53.196,34.41C52.772,34.818 51.036,35.658 50.476,35.922C50.698,36.294 51.444,37.28 53.356,37.806M18.866,36.772C20.438,37.088 23.724,37.32 23.756,37.322L24.97,37.406L23.786,37.676C23.678,37.702 21.296,38.244 20.334,38.244C20.262,38.244 20.198,38.242 20.144,38.236L19.83,38.198C19.082,38.114 18.056,37.998 17.06,37.672C15.94,37.306 10.648,35.088 10.422,34.994L10.548,34.654L11.772,34.976C11.826,34.992 17.288,36.454 18.866,36.772M21.288,16.782C20.89,16.596 20.258,16.776 19.66,16.422C19.012,16.038 18.344,15.642 18.036,15.528C17.75,15.42 16.7,14.834 15.59,14.212C15.092,13.934 14.532,13.622 14.08,13.376C14.282,13.596 14.504,13.844 14.746,14.124C15.482,14.972 16.724,15.818 16.736,15.826L16.542,16.132C15.648,15.686 14.132,14.902 13.992,14.688C13.896,14.54 13.216,13.928 12.106,13.29C11.032,12.674 10.848,12.288 10.882,11.794C10.898,11.562 11.056,11.41 11.182,11.286C11.34,11.132 11.414,11.05 11.368,10.882C11.216,10.326 11.766,9.628 11.828,9.55L12.098,9.216L12.316,10.616L12.748,11.324L14.564,12.012C14.482,11.71 14.396,11.272 14.446,10.89C14.536,10.192 15.18,9.848 15.208,9.834L15.578,9.64L15.482,10.034C15.48,10.038 15.356,10.554 15.406,11.206C15.452,11.79 15.72,12.306 15.8,12.444L18.252,13.902C18.294,13.736 18.352,13.5 18.394,13.26C18.482,12.76 19.214,11.998 19.296,11.914L19.82,11.378L19.616,12.084C19.614,12.092 19.386,12.878 19.272,13.426C19.206,13.742 19.362,14.406 19.448,14.708C19.902,14.982 22.57,16.618 23.374,17.462C24.264,18.392 22.022,17.122 21.288,16.782M60.726,15.72L59.026,16.16L60.59,15.386C61.062,15.152 62.274,14.496 62.706,14.032C62.082,14.114 60.186,14.82 59.54,15.694L59.336,15.97L59.21,15.654C59.176,15.566 58.992,15.416 58.81,15.388C58.676,15.368 58.612,15.426 58.574,15.47C58.434,15.642 58.234,15.678 58.006,15.718C57.602,15.788 57.264,15.612 56.172,16.616C55.998,16.736 55.386,16.848 55.174,17.066C54.834,17.42 54.988,17.36 54.804,17.59C54.782,17.618 54.554,17.172 54.554,17.172C54.558,17.368 54.496,17.318 54.554,17.172L54.772,16.65L56.854,14.694C57.142,14.348 57.568,13.652 57.426,13.334C57.198,12.826 56.892,12.43 56.888,12.426L56.454,11.87L57.116,12.154C57.204,12.192 57.98,12.534 58.174,13.02C58.324,13.39 58.318,13.754 58.278,14.022C58.894,13.716 60.054,13.148 60.284,13.068C60.51,12.966 61.246,11.742 61.2,11.34C61.148,10.876 61.022,10.264 61.02,10.258L60.876,9.57L61.348,10.106C61.416,10.184 62.016,10.878 62.016,11.364C62.016,11.532 62.022,11.686 62.026,11.826C62.03,11.962 62.034,12.08 62.032,12.182C62.142,12.144 62.288,12.084 62.408,12.036C62.762,11.892 63.13,11.742 63.378,11.73C63.68,11.712 63.936,11.694 64.072,11.686C64.22,11.408 64.49,10.85 64.508,10.56C64.532,10.16 64.33,9.406 64.326,9.398L64.19,8.9L64.622,9.208C64.714,9.274 65.52,9.872 65.488,10.462C65.47,10.826 65.424,11.17 65.398,11.348C65.478,11.366 65.652,11.38 65.974,11.294C66.022,11.282 66.064,11.276 66.108,11.274C66.182,11.268 66.274,11.262 66.596,11.038C67.022,10.744 67.224,10.26 67.226,10.254L67.588,10.352C67.58,10.394 67.386,11.388 66.848,11.746C66.442,12.016 65.826,12.184 65.584,12.242C65.458,12.552 65.012,13.538 64.286,13.956C63.908,14.172 63.664,14.356 63.43,14.532C63.17,14.728 62.924,14.912 62.53,15.124C62.07,15.372 60.78,15.706 60.726,15.72M53.774,36.332C53.814,36.332 57.834,36.274 59.332,35.724C60.82,35.178 63.304,34.734 63.582,34.686L65.05,34.074L68.216,32.566L67.318,33.39C67.224,33.474 65.026,35.468 63.054,35.964C62.206,36.178 61.218,36.504 60.348,36.794C59.094,37.208 58.284,37.47 57.896,37.47C57.876,37.47 57.854,37.468 57.836,37.466C57.23,37.416 53.878,36.718 53.736,36.688L52.124,36.354L53.774,36.332Z"},null,-1)),nfe=[rfe],ife=ft({__name:"SvgIcon",props:{icon:{}},setup(e){return(t,r)=>(Z(),ee("div",{class:Sr(["svg-icon",`svg-icon--${t.icon}`]),title:t.$t(`titles.icons.${t.icon}`)},[t.icon==="refresh"?(Z(),ee("svg",uce,cce)):He("",!0),t.icon==="chat"?(Z(),ee("svg",fce,pce)):He("",!0),t.icon==="config"?(Z(),ee("svg",mce,vce)):He("",!0),t.icon==="heart"?(Z(),ee("svg",gce,bce)):He("",!0),t.icon==="skull"?(Z(),ee("svg",_ce,wce)):He("",!0),t.icon==="delete"?(Z(),ee("svg",xce,Ece)):He("",!0),t.icon==="close"?(Z(),ee("svg",Cce,Nce)):He("",!0),t.icon==="lock"?(Z(),ee("svg",Dce,kce)):He("",!0),t.icon==="upload"?(Z(),ee("svg",Ice,Mce)):He("",!0),t.icon==="untrained"?(Z(),ee("svg",Pce,Lce)):He("",!0),t.icon==="half-proficient"?(Z(),ee("svg",Fce,zce)):He("",!0),t.icon==="proficient"?(Z(),ee("svg",qce,Vce)):He("",!0),t.icon==="expert"?(Z(),ee("svg",Hce,Wce)):He("",!0),t.icon==="add"?(Z(),ee("svg",Kce,Yce)):He("",!0),t.icon==="info"?(Z(),ee("svg",Xce,efe)):He("",!0),t.icon==="grim"?(Z(),ee("svg",tfe,nfe)):He("",!0)],10,oce))}});const xt=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},Qn=xt(ife,[["__scopeId","data-v-c5525a39"]]),afe={class:"sidebar-header"},sfe={class:"sidebar-header__title"},ofe=ft({__name:"SidebarHeader",setup(e){const{sidebarTitle:t,close:r}=en();function n(i){i.key==="Escape"&&r()}return wf(()=>{window.addEventListener("keydown",n)}),wh(()=>{window.removeEventListener("keydown",n)}),(i,a)=>(Z(),ee("div",afe,[M("h2",sfe,ne(he(t)),1),M("button",{onClick:a[0]||(a[0]=(...s)=>he(r)&&he(r)(...s)),class:"sidebar-header__close-button",title:"Close"},[Fe(Qn,{icon:"close"})])]))}});const ufe=xt(ofe,[["__scopeId","data-v-3fbbcf03"]]),lfe={key:0,class:"sidebar"},cfe={class:"sidebar__panel"},ffe={class:"sidebar__content"},dfe={key:0,class:"sidebar__footer"},pfe=ft({__name:"SidebarModal",setup(e){const{t}=Bt(),{showSidebar:r,currentComponent:n,currentProps:i,close:a,componentInstance:s,hasSave:o,hasClose:u,hasDelete:l,hasAdd:c,addLabel:f,hasSum:d,sumLabel:p,hasSubtract:m,subtractLabel:h}=en(),v=Oe(()=>f.value?f.value:t("actions.add")),y=()=>{s.value&&s.value.save&&s.value.save()},w=()=>{en().close()},g=Pe(!1),b=Pe(3);let _=null;const x=Oe(()=>{const k=["button","button--big","button--negative"];return g.value&&k.push("button--negative-confirm"),k}),E=()=>{g.value?(C(),g.value=!1,_&&(clearInterval(_),_=null)):(g.value=!0,b.value=3,_=setInterval(()=>{b.value-=1,b.value<=0&&(g.value=!1,clearInterval(_),_=null)},1e3))},C=()=>{s.value&&s.value.remove&&s.value.remove()},$=()=>{s.value&&s.value.add&&s.value.add()},D=()=>{s.value&&s.value.subtract&&s.value.subtract()},N=()=>{s.value&&s.value.sum&&s.value.sum()};return(k,P)=>(Z(),Yt(aC,{to:"body"},[he(r)?(Z(),ee("div",lfe,[Fe(lg,{name:"slide-sidebar",mode:"out-in"},{default:Xr(()=>[M("div",cfe,[Fe(ufe),M("div",ffe,[(Z(),Yt(J4(he(n)),og(he(i),{key:JSON.stringify(he(i)),ref_key:"componentInstance",ref:s,onClose:he(a)}),null,16,["onClose"]))]),he(o)||he(l)||he(c)||he(d)||he(m)?(Z(),ee("div",dfe,[he(l)?(Z(),ee("button",{key:0,class:Sr(x.value),onClick:E},[g.value?(Z(),ee(tt,{key:1},[Xe(ne(k.$t("actions.confirm"))+" ("+ne(b.value)+") ",1)],64)):(Z(),ee(tt,{key:0},[Xe(ne(k.$t("actions.delete")),1)],64))],2)):He("",!0),he(c)?(Z(),ee("button",{key:1,class:"button button--big button--secondary",onClick:$},ne(v.value),1)):He("",!0),he(o)?(Z(),ee("button",{key:2,class:"button button--big button--primary",onClick:y},ne(k.$t("actions.save")),1)):He("",!0),he(u)?(Z(),ee("button",{key:3,class:"button button--big button--primary",onClick:w},ne(k.$t("actions.close")),1)):He("",!0),he(m)?(Z(),ee("button",{key:4,class:"button button--big button--subtract",onClick:D},[he(h)?(Z(),ee(tt,{key:0},[Xe(ne(k.$t(`actions.${he(h)}`)),1)],64)):(Z(),ee(tt,{key:1},[Xe(ne(k.$t("actions.subtract")),1)],64))])):He("",!0),he(d)?(Z(),ee("button",{key:5,class:"button button--big button--sum",onClick:N},[he(p)?(Z(),ee(tt,{key:0},[Xe(ne(k.$t(`actions.${he(p)}`)),1)],64)):(Z(),ee(tt,{key:1},[Xe(ne(k.$t("actions.sum")),1)],64))])):He("",!0)])):He("",!0)])]),_:1})])):He("",!0)]))}});const mfe=xt(pfe,[["__scopeId","data-v-3d453e8d"]]);function iy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var MR={exports:{}};/*! jsonpath 1.1.1 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function s(l,c){if(!i[l]){if(!n[l]){var f=typeof iy=="function"&&iy;if(!c&&f)return f(l,!0);if(o)return o(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(m){var h=n[l][1][m];return s(h||m)},p,p.exports,r,n,i,a)}return i[l].exports}for(var o=typeof iy=="function"&&iy,u=0;u<a.length;u++)s(a[u]);return s}({"./aesprim":[function(r,n,i){(function(a,s){s(typeof i<"u"?i:a.esprima={})})(this,function(a){var s,o,u,l,c,f,d,p,m,h,v,y,w,g,b,_,x,E;s={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},o={},o[s.BooleanLiteral]="Boolean",o[s.EOF]="<end>",o[s.Identifier]="Identifier",o[s.Keyword]="Keyword",o[s.NullLiteral]="Null",o[s.NumericLiteral]="Numeric",o[s.Punctuator]="Punctuator",o[s.StringLiteral]="String",o[s.RegularExpression]="RegularExpression",u=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],l={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},c={Data:1,Get:2,Set:4},f={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},d={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")};function C(z,ie){if(!z)throw new Error("ASSERT: "+ie)}function $(z){return z>=48&&z<=57}function D(z){return"0123456789abcdefABCDEF".indexOf(z)>=0}function N(z){return"01234567".indexOf(z)>=0}function k(z){return z===32||z===9||z===11||z===12||z===160||z>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(z)>=0}function P(z){return z===10||z===13||z===8232||z===8233}function U(z){return z==64||z===36||z===95||z>=65&&z<=90||z>=97&&z<=122||z===92||z>=128&&d.NonAsciiIdentifierStart.test(String.fromCharCode(z))}function L(z){return z===36||z===95||z>=65&&z<=90||z>=97&&z<=122||z>=48&&z<=57||z===92||z>=128&&d.NonAsciiIdentifierPart.test(String.fromCharCode(z))}function B(z){switch(z){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function O(z){switch(z){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function T(z){return z==="eval"||z==="arguments"}function j(z){if(h&&O(z))return!0;switch(z.length){case 2:return z==="if"||z==="in"||z==="do";case 3:return z==="var"||z==="for"||z==="new"||z==="try"||z==="let";case 4:return z==="this"||z==="else"||z==="case"||z==="void"||z==="with"||z==="enum";case 5:return z==="while"||z==="break"||z==="catch"||z==="throw"||z==="const"||z==="yield"||z==="class"||z==="super";case 6:return z==="return"||z==="typeof"||z==="delete"||z==="switch"||z==="export"||z==="import";case 7:return z==="default"||z==="finally"||z==="extends";case 8:return z==="function"||z==="continue"||z==="debugger";case 10:return z==="instanceof";default:return!1}}function R(z,ie,$e,Re,at){var Et;C(typeof $e=="number","Comment must have valid position"),!(x.lastCommentStart>=$e)&&(x.lastCommentStart=$e,Et={type:z,value:ie},E.range&&(Et.range=[$e,Re]),E.loc&&(Et.loc=at),E.comments.push(Et),E.attachComment&&(E.leadingComments.push(Et),E.trailingComments.push(Et)))}function le(z){var ie,$e,Re,at;for(ie=v-z,$e={start:{line:y,column:v-w-z}};v<g;)if(Re=m.charCodeAt(v),++v,P(Re)){E.comments&&(at=m.slice(ie+z,v-1),$e.end={line:y,column:v-w-1},R("Line",at,ie,v-1,$e)),Re===13&&m.charCodeAt(v)===10&&++v,++y,w=v;return}E.comments&&(at=m.slice(ie+z,v),$e.end={line:y,column:v-w},R("Line",at,ie,v,$e))}function re(){var z,ie,$e,Re;for(E.comments&&(z=v-2,ie={start:{line:y,column:v-w-2}});v<g;)if($e=m.charCodeAt(v),P($e))$e===13&&m.charCodeAt(v+1)===10&&++v,++y,++v,w=v,v>=g&&xe({},f.UnexpectedToken,"ILLEGAL");else if($e===42){if(m.charCodeAt(v+1)===47){++v,++v,E.comments&&(Re=m.slice(z+2,v-2),ie.end={line:y,column:v-w},R("Block",Re,z,v,ie));return}++v}else++v;xe({},f.UnexpectedToken,"ILLEGAL")}function F(){var z,ie;for(ie=v===0;v<g;)if(z=m.charCodeAt(v),k(z))++v;else if(P(z))++v,z===13&&m.charCodeAt(v)===10&&++v,++y,w=v,ie=!0;else if(z===47)if(z=m.charCodeAt(v+1),z===47)++v,++v,le(2),ie=!0;else if(z===42)++v,++v,re();else break;else if(ie&&z===45)if(m.charCodeAt(v+1)===45&&m.charCodeAt(v+2)===62)v+=3,le(3);else break;else if(z===60)if(m.slice(v+1,v+4)==="!--")++v,++v,++v,++v,le(4);else break;else break}function H(z){var ie,$e,Re,at=0;for($e=z==="u"?4:2,ie=0;ie<$e;++ie)if(v<g&&D(m[v]))Re=m[v++],at=at*16+"0123456789abcdef".indexOf(Re.toLowerCase());else return"";return String.fromCharCode(at)}function ve(){var z,ie;for(z=m.charCodeAt(v++),ie=String.fromCharCode(z),z===92&&(m.charCodeAt(v)!==117&&xe({},f.UnexpectedToken,"ILLEGAL"),++v,z=H("u"),(!z||z==="\\"||!U(z.charCodeAt(0)))&&xe({},f.UnexpectedToken,"ILLEGAL"),ie=z);v<g&&(z=m.charCodeAt(v),!!L(z));)++v,ie+=String.fromCharCode(z),z===92&&(ie=ie.substr(0,ie.length-1),m.charCodeAt(v)!==117&&xe({},f.UnexpectedToken,"ILLEGAL"),++v,z=H("u"),(!z||z==="\\"||!L(z.charCodeAt(0)))&&xe({},f.UnexpectedToken,"ILLEGAL"),ie+=z);return ie}function ae(){var z,ie;for(z=v++;v<g;){if(ie=m.charCodeAt(v),ie===92)return v=z,ve();if(L(ie))++v;else break}return m.slice(z,v)}function W(){var z,ie,$e;return z=v,ie=m.charCodeAt(v)===92?ve():ae(),ie.length===1?$e=s.Identifier:j(ie)?$e=s.Keyword:ie==="null"?$e=s.NullLiteral:ie==="true"||ie==="false"?$e=s.BooleanLiteral:$e=s.Identifier,{type:$e,value:ie,lineNumber:y,lineStart:w,start:z,end:v}}function Q(){var z=v,ie=m.charCodeAt(v),$e,Re=m[v],at,Et,$r;switch(ie){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++v,E.tokenize&&(ie===40?E.openParenToken=E.tokens.length:ie===123&&(E.openCurlyToken=E.tokens.length)),{type:s.Punctuator,value:String.fromCharCode(ie),lineNumber:y,lineStart:w,start:z,end:v};default:if($e=m.charCodeAt(v+1),$e===61)switch(ie){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return v+=2,{type:s.Punctuator,value:String.fromCharCode(ie)+String.fromCharCode($e),lineNumber:y,lineStart:w,start:z,end:v};case 33:case 61:return v+=2,m.charCodeAt(v)===61&&++v,{type:s.Punctuator,value:m.slice(z,v),lineNumber:y,lineStart:w,start:z,end:v}}}if($r=m.substr(v,4),$r===">>>=")return v+=4,{type:s.Punctuator,value:$r,lineNumber:y,lineStart:w,start:z,end:v};if(Et=$r.substr(0,3),Et===">>>"||Et==="<<="||Et===">>=")return v+=3,{type:s.Punctuator,value:Et,lineNumber:y,lineStart:w,start:z,end:v};if(at=Et.substr(0,2),Re===at[1]&&"+-<>&|".indexOf(Re)>=0||at==="=>")return v+=2,{type:s.Punctuator,value:at,lineNumber:y,lineStart:w,start:z,end:v};if("<>=!+-*%&|^/".indexOf(Re)>=0)return++v,{type:s.Punctuator,value:Re,lineNumber:y,lineStart:w,start:z,end:v};xe({},f.UnexpectedToken,"ILLEGAL")}function J(z){for(var ie="";v<g&&D(m[v]);)ie+=m[v++];return ie.length===0&&xe({},f.UnexpectedToken,"ILLEGAL"),U(m.charCodeAt(v))&&xe({},f.UnexpectedToken,"ILLEGAL"),{type:s.NumericLiteral,value:parseInt("0x"+ie,16),lineNumber:y,lineStart:w,start:z,end:v}}function se(z){for(var ie="0"+m[v++];v<g&&N(m[v]);)ie+=m[v++];return(U(m.charCodeAt(v))||$(m.charCodeAt(v)))&&xe({},f.UnexpectedToken,"ILLEGAL"),{type:s.NumericLiteral,value:parseInt(ie,8),octal:!0,lineNumber:y,lineStart:w,start:z,end:v}}function Ce(){var z,ie,$e;if($e=m[v],C($($e.charCodeAt(0))||$e===".","Numeric literal must start with a decimal digit or a decimal point"),ie=v,z="",$e!=="."){if(z=m[v++],$e=m[v],z==="0"){if($e==="x"||$e==="X")return++v,J(ie);if(N($e))return se(ie);$e&&$($e.charCodeAt(0))&&xe({},f.UnexpectedToken,"ILLEGAL")}for(;$(m.charCodeAt(v));)z+=m[v++];$e=m[v]}if($e==="."){for(z+=m[v++];$(m.charCodeAt(v));)z+=m[v++];$e=m[v]}if($e==="e"||$e==="E")if(z+=m[v++],$e=m[v],($e==="+"||$e==="-")&&(z+=m[v++]),$(m.charCodeAt(v)))for(;$(m.charCodeAt(v));)z+=m[v++];else xe({},f.UnexpectedToken,"ILLEGAL");return U(m.charCodeAt(v))&&xe({},f.UnexpectedToken,"ILLEGAL"),{type:s.NumericLiteral,value:parseFloat(z),lineNumber:y,lineStart:w,start:ie,end:v}}function Te(){var z="",ie,$e,Re,at,Et,$r,fn=!1,gi,ui;for(gi=y,ui=w,ie=m[v],C(ie==="'"||ie==='"',"String literal must starts with a quote"),$e=v,++v;v<g;)if(Re=m[v++],Re===ie){ie="";break}else if(Re==="\\")if(Re=m[v++],!Re||!P(Re.charCodeAt(0)))switch(Re){case"u":case"x":$r=v,Et=H(Re),Et?z+=Et:(v=$r,z+=Re);break;case"n":z+=`
`;break;case"r":z+="\r";break;case"t":z+="	";break;case"b":z+="\b";break;case"f":z+="\f";break;case"v":z+="\v";break;default:N(Re)?(at="01234567".indexOf(Re),at!==0&&(fn=!0),v<g&&N(m[v])&&(fn=!0,at=at*8+"01234567".indexOf(m[v++]),"0123".indexOf(Re)>=0&&v<g&&N(m[v])&&(at=at*8+"01234567".indexOf(m[v++]))),z+=String.fromCharCode(at)):z+=Re;break}else++y,Re==="\r"&&m[v]===`
`&&++v,w=v;else{if(P(Re.charCodeAt(0)))break;z+=Re}return ie!==""&&xe({},f.UnexpectedToken,"ILLEGAL"),{type:s.StringLiteral,value:z,octal:fn,startLineNumber:gi,startLineStart:ui,lineNumber:y,lineStart:w,start:$e,end:v}}function oe(z,ie){var $e;try{$e=new RegExp(z,ie)}catch{xe({},f.InvalidRegExp)}return $e}function q(){var z,ie,$e,Re,at;for(z=m[v],C(z==="/","Regular expression literal must start with a slash"),ie=m[v++],$e=!1,Re=!1;v<g;)if(z=m[v++],ie+=z,z==="\\")z=m[v++],P(z.charCodeAt(0))&&xe({},f.UnterminatedRegExp),ie+=z;else if(P(z.charCodeAt(0)))xe({},f.UnterminatedRegExp);else if($e)z==="]"&&($e=!1);else if(z==="/"){Re=!0;break}else z==="["&&($e=!0);return Re||xe({},f.UnterminatedRegExp),at=ie.substr(1,ie.length-2),{value:at,literal:ie}}function me(){var z,ie,$e,Re;for(ie="",$e="";v<g&&(z=m[v],!!L(z.charCodeAt(0)));)if(++v,z==="\\"&&v<g)if(z=m[v],z==="u"){if(++v,Re=v,z=H("u"),z)for($e+=z,ie+="\\u";Re<v;++Re)ie+=m[Re];else v=Re,$e+="u",ie+="\\u";ke({},f.UnexpectedToken,"ILLEGAL")}else ie+="\\",ke({},f.UnexpectedToken,"ILLEGAL");else $e+=z,ie+=z;return{value:$e,literal:ie}}function X(){var z,ie,$e,Re;return _=null,F(),z=v,ie=q(),$e=me(),Re=oe(ie.value,$e.value),E.tokenize?{type:s.RegularExpression,value:Re,lineNumber:y,lineStart:w,start:z,end:v}:{literal:ie.literal+$e.literal,value:Re,start:z,end:v}}function K(){var z,ie,$e,Re;return F(),z=v,ie={start:{line:y,column:v-w}},$e=X(),ie.end={line:y,column:v-w},E.tokenize||(E.tokens.length>0&&(Re=E.tokens[E.tokens.length-1],Re.range[0]===z&&Re.type==="Punctuator"&&(Re.value==="/"||Re.value==="/=")&&E.tokens.pop()),E.tokens.push({type:"RegularExpression",value:$e.literal,range:[z,v],loc:ie})),$e}function de(z){return z.type===s.Identifier||z.type===s.Keyword||z.type===s.BooleanLiteral||z.type===s.NullLiteral}function Ee(){var z,ie;if(z=E.tokens[E.tokens.length-1],!z)return K();if(z.type==="Punctuator"){if(z.value==="]")return Q();if(z.value===")")return ie=E.tokens[E.openParenToken-1],ie&&ie.type==="Keyword"&&(ie.value==="if"||ie.value==="while"||ie.value==="for"||ie.value==="with")?K():Q();if(z.value==="}"){if(E.tokens[E.openCurlyToken-3]&&E.tokens[E.openCurlyToken-3].type==="Keyword"){if(ie=E.tokens[E.openCurlyToken-4],!ie)return Q()}else if(E.tokens[E.openCurlyToken-4]&&E.tokens[E.openCurlyToken-4].type==="Keyword"){if(ie=E.tokens[E.openCurlyToken-5],!ie)return K()}else return Q();return u.indexOf(ie.value)>=0?Q():K()}return K()}return z.type==="Keyword"?K():Q()}function te(){var z;return F(),v>=g?{type:s.EOF,lineNumber:y,lineStart:w,start:v,end:v}:(z=m.charCodeAt(v),U(z)?W():z===40||z===41||z===59?Q():z===39||z===34?Te():z===46?$(m.charCodeAt(v+1))?Ce():Q():$(z)?Ce():E.tokenize&&z===47?Ee():Q())}function ce(){var z,ie,$e;return F(),z={start:{line:y,column:v-w}},ie=te(),z.end={line:y,column:v-w},ie.type!==s.EOF&&($e=m.slice(ie.start,ie.end),E.tokens.push({type:o[ie.type],value:$e,range:[ie.start,ie.end],loc:z})),ie}function pe(){var z;return z=_,v=z.end,y=z.lineNumber,w=z.lineStart,_=typeof E.tokens<"u"?ce():te(),v=z.end,y=z.lineNumber,w=z.lineStart,z}function Y(){var z,ie,$e;z=v,ie=y,$e=w,_=typeof E.tokens<"u"?ce():te(),v=z,y=ie,w=$e}function be(z,ie){this.line=z,this.column=ie}function ye(z,ie,$e,Re){this.start=new be(z,ie),this.end=new be($e,Re)}p={name:"SyntaxTree",processComment:function(z){var ie,$e;if(!(z.type===l.Program&&z.body.length>0)){for(E.trailingComments.length>0?E.trailingComments[0].range[0]>=z.range[1]?($e=E.trailingComments,E.trailingComments=[]):E.trailingComments.length=0:E.bottomRightStack.length>0&&E.bottomRightStack[E.bottomRightStack.length-1].trailingComments&&E.bottomRightStack[E.bottomRightStack.length-1].trailingComments[0].range[0]>=z.range[1]&&($e=E.bottomRightStack[E.bottomRightStack.length-1].trailingComments,delete E.bottomRightStack[E.bottomRightStack.length-1].trailingComments);E.bottomRightStack.length>0&&E.bottomRightStack[E.bottomRightStack.length-1].range[0]>=z.range[0];)ie=E.bottomRightStack.pop();ie?ie.leadingComments&&ie.leadingComments[ie.leadingComments.length-1].range[1]<=z.range[0]&&(z.leadingComments=ie.leadingComments,delete ie.leadingComments):E.leadingComments.length>0&&E.leadingComments[E.leadingComments.length-1].range[1]<=z.range[0]&&(z.leadingComments=E.leadingComments,E.leadingComments=[]),$e&&(z.trailingComments=$e),E.bottomRightStack.push(z)}},markEnd:function(z,ie){return E.range&&(z.range=[ie.start,v]),E.loc&&(z.loc=new ye(ie.startLineNumber===void 0?ie.lineNumber:ie.startLineNumber,ie.start-(ie.startLineStart===void 0?ie.lineStart:ie.startLineStart),y,v-w),this.postProcess(z)),E.attachComment&&this.processComment(z),z},postProcess:function(z){return E.source&&(z.loc.source=E.source),z},createArrayExpression:function(z){return{type:l.ArrayExpression,elements:z}},createAssignmentExpression:function(z,ie,$e){return{type:l.AssignmentExpression,operator:z,left:ie,right:$e}},createBinaryExpression:function(z,ie,$e){var Re=z==="||"||z==="&&"?l.LogicalExpression:l.BinaryExpression;return{type:Re,operator:z,left:ie,right:$e}},createBlockStatement:function(z){return{type:l.BlockStatement,body:z}},createBreakStatement:function(z){return{type:l.BreakStatement,label:z}},createCallExpression:function(z,ie){return{type:l.CallExpression,callee:z,arguments:ie}},createCatchClause:function(z,ie){return{type:l.CatchClause,param:z,body:ie}},createConditionalExpression:function(z,ie,$e){return{type:l.ConditionalExpression,test:z,consequent:ie,alternate:$e}},createContinueStatement:function(z){return{type:l.ContinueStatement,label:z}},createDebuggerStatement:function(){return{type:l.DebuggerStatement}},createDoWhileStatement:function(z,ie){return{type:l.DoWhileStatement,body:z,test:ie}},createEmptyStatement:function(){return{type:l.EmptyStatement}},createExpressionStatement:function(z){return{type:l.ExpressionStatement,expression:z}},createForStatement:function(z,ie,$e,Re){return{type:l.ForStatement,init:z,test:ie,update:$e,body:Re}},createForInStatement:function(z,ie,$e){return{type:l.ForInStatement,left:z,right:ie,body:$e,each:!1}},createFunctionDeclaration:function(z,ie,$e,Re){return{type:l.FunctionDeclaration,id:z,params:ie,defaults:$e,body:Re,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(z,ie,$e,Re){return{type:l.FunctionExpression,id:z,params:ie,defaults:$e,body:Re,rest:null,generator:!1,expression:!1}},createIdentifier:function(z){return{type:l.Identifier,name:z}},createIfStatement:function(z,ie,$e){return{type:l.IfStatement,test:z,consequent:ie,alternate:$e}},createLabeledStatement:function(z,ie){return{type:l.LabeledStatement,label:z,body:ie}},createLiteral:function(z){return{type:l.Literal,value:z.value,raw:m.slice(z.start,z.end)}},createMemberExpression:function(z,ie,$e){return{type:l.MemberExpression,computed:z==="[",object:ie,property:$e}},createNewExpression:function(z,ie){return{type:l.NewExpression,callee:z,arguments:ie}},createObjectExpression:function(z){return{type:l.ObjectExpression,properties:z}},createPostfixExpression:function(z,ie){return{type:l.UpdateExpression,operator:z,argument:ie,prefix:!1}},createProgram:function(z){return{type:l.Program,body:z}},createProperty:function(z,ie,$e){return{type:l.Property,key:ie,value:$e,kind:z}},createReturnStatement:function(z){return{type:l.ReturnStatement,argument:z}},createSequenceExpression:function(z){return{type:l.SequenceExpression,expressions:z}},createSwitchCase:function(z,ie){return{type:l.SwitchCase,test:z,consequent:ie}},createSwitchStatement:function(z,ie){return{type:l.SwitchStatement,discriminant:z,cases:ie}},createThisExpression:function(){return{type:l.ThisExpression}},createThrowStatement:function(z){return{type:l.ThrowStatement,argument:z}},createTryStatement:function(z,ie,$e,Re){return{type:l.TryStatement,block:z,guardedHandlers:ie,handlers:$e,finalizer:Re}},createUnaryExpression:function(z,ie){return z==="++"||z==="--"?{type:l.UpdateExpression,operator:z,argument:ie,prefix:!0}:{type:l.UnaryExpression,operator:z,argument:ie,prefix:!0}},createVariableDeclaration:function(z,ie){return{type:l.VariableDeclaration,declarations:z,kind:ie}},createVariableDeclarator:function(z,ie){return{type:l.VariableDeclarator,id:z,init:ie}},createWhileStatement:function(z,ie){return{type:l.WhileStatement,test:z,body:ie}},createWithStatement:function(z,ie){return{type:l.WithStatement,object:z,body:ie}}};function ge(){var z,ie,$e,Re;return z=v,ie=y,$e=w,F(),Re=y!==ie,v=z,y=ie,w=$e,Re}function xe(z,ie){var $e,Re=Array.prototype.slice.call(arguments,2),at=ie.replace(/%(\d)/g,function(Et,$r){return C($r<Re.length,"Message reference must be in range"),Re[$r]});throw typeof z.lineNumber=="number"?($e=new Error("Line "+z.lineNumber+": "+at),$e.index=z.start,$e.lineNumber=z.lineNumber,$e.column=z.start-w+1):($e=new Error("Line "+y+": "+at),$e.index=v,$e.lineNumber=y,$e.column=v-w+1),$e.description=at,$e}function ke(){try{xe.apply(null,arguments)}catch(z){if(E.errors)E.errors.push(z);else throw z}}function Ke(z){if(z.type===s.EOF&&xe(z,f.UnexpectedEOS),z.type===s.NumericLiteral&&xe(z,f.UnexpectedNumber),z.type===s.StringLiteral&&xe(z,f.UnexpectedString),z.type===s.Identifier&&xe(z,f.UnexpectedIdentifier),z.type===s.Keyword){if(B(z.value))xe(z,f.UnexpectedReserved);else if(h&&O(z.value)){ke(z,f.StrictReservedWord);return}xe(z,f.UnexpectedToken,z.value)}xe(z,f.UnexpectedToken,z.value)}function Ue(z){var ie=pe();(ie.type!==s.Punctuator||ie.value!==z)&&Ke(ie)}function rt(z){var ie=pe();(ie.type!==s.Keyword||ie.value!==z)&&Ke(ie)}function je(z){return _.type===s.Punctuator&&_.value===z}function Rt(z){return _.type===s.Keyword&&_.value===z}function Pt(){var z;return _.type!==s.Punctuator?!1:(z=_.value,z==="="||z==="*="||z==="/="||z==="%="||z==="+="||z==="-="||z==="<<="||z===">>="||z===">>>="||z==="&="||z==="^="||z==="|=")}function cr(){var z;if(m.charCodeAt(v)===59||je(";")){pe();return}z=y,F(),y===z&&_.type!==s.EOF&&!je("}")&&Ke(_)}function G(z){return z.type===l.Identifier||z.type===l.MemberExpression}function Ne(){var z=[],ie;for(ie=_,Ue("[");!je("]");)je(",")?(pe(),z.push(null)):(z.push(ia()),je("]")||Ue(","));return pe(),b.markEnd(b.createArrayExpression(z),ie)}function Ge(z,ie){var $e,Re,at;return $e=h,at=_,Re=dc(),ie&&h&&T(z[0].name)&&ke(ie,f.StrictParamName),h=$e,b.markEnd(b.createFunctionExpression(null,z,[],Re),at)}function ot(){var z,ie;return ie=_,z=pe(),z.type===s.StringLiteral||z.type===s.NumericLiteral?(h&&z.octal&&ke(z,f.StrictOctalLiteral),b.markEnd(b.createLiteral(z),ie)):b.markEnd(b.createIdentifier(z.value),ie)}function Ht(){var z,ie,$e,Re,at,Et;if(z=_,Et=_,z.type===s.Identifier)return $e=ot(),z.value==="get"&&!je(":")?(ie=ot(),Ue("("),Ue(")"),Re=Ge([]),b.markEnd(b.createProperty("get",ie,Re),Et)):z.value==="set"&&!je(":")?(ie=ot(),Ue("("),z=_,z.type!==s.Identifier?(Ue(")"),ke(z,f.UnexpectedToken,z.value),Re=Ge([])):(at=[as()],Ue(")"),Re=Ge(at,z)),b.markEnd(b.createProperty("set",ie,Re),Et)):(Ue(":"),Re=ia(),b.markEnd(b.createProperty("init",$e,Re),Et));if(z.type===s.EOF||z.type===s.Punctuator)Ke(z);else return ie=ot(),Ue(":"),Re=ia(),b.markEnd(b.createProperty("init",ie,Re),Et)}function Xt(){var z=[],ie,$e,Re,at,Et={},$r=String,fn;for(fn=_,Ue("{");!je("}");)ie=Ht(),ie.key.type===l.Identifier?$e=ie.key.name:$e=$r(ie.key.value),at=ie.kind==="init"?c.Data:ie.kind==="get"?c.Get:c.Set,Re="$"+$e,Object.prototype.hasOwnProperty.call(Et,Re)?(Et[Re]===c.Data?h&&at===c.Data?ke({},f.StrictDuplicateProperty):at!==c.Data&&ke({},f.AccessorDataProperty):at===c.Data?ke({},f.AccessorDataProperty):Et[Re]&at&&ke({},f.AccessorGetSet),Et[Re]|=at):Et[Re]=at,z.push(ie),je("}")||Ue(",");return Ue("}"),b.markEnd(b.createObjectExpression(z),fn)}function oi(){var z;return Ue("("),z=ti(),Ue(")"),z}function bu(){var z,ie,$e,Re;if(je("("))return oi();if(je("["))return Ne();if(je("{"))return Xt();if(z=_.type,Re=_,z===s.Identifier)$e=b.createIdentifier(pe().value);else if(z===s.StringLiteral||z===s.NumericLiteral)h&&_.octal&&ke(_,f.StrictOctalLiteral),$e=b.createLiteral(pe());else if(z===s.Keyword){if(Rt("function"))return r0();Rt("this")?(pe(),$e=b.createThisExpression()):Ke(pe())}else z===s.BooleanLiteral?(ie=pe(),ie.value=ie.value==="true",$e=b.createLiteral(ie)):z===s.NullLiteral?(ie=pe(),ie.value=null,$e=b.createLiteral(ie)):je("/")||je("/=")?(typeof E.tokens<"u"?$e=b.createLiteral(K()):$e=b.createLiteral(X()),Y()):Ke(pe());return b.markEnd($e,Re)}function ol(){var z=[];if(Ue("("),!je(")"))for(;v<g&&(z.push(ia()),!je(")"));)Ue(",");return Ue(")"),z}function oc(){var z,ie;return ie=_,z=pe(),de(z)||Ke(z),b.markEnd(b.createIdentifier(z.value),ie)}function uc(){return Ue("."),oc()}function _u(){var z;return Ue("["),z=ti(),Ue("]"),z}function lc(){var z,ie,$e;return $e=_,rt("new"),z=Uf(),ie=je("(")?ol():[],b.markEnd(b.createNewExpression(z,ie),$e)}function Rf(){var z,ie,$e,Re,at;for(at=_,z=x.allowIn,x.allowIn=!0,ie=Rt("new")?lc():bu(),x.allowIn=z;;){if(je("."))Re=uc(),ie=b.createMemberExpression(".",ie,Re);else if(je("("))$e=ol(),ie=b.createCallExpression(ie,$e);else if(je("["))Re=_u(),ie=b.createMemberExpression("[",ie,Re);else break;b.markEnd(ie,at)}return ie}function Uf(){var z,ie,$e,Re;for(Re=_,z=x.allowIn,ie=Rt("new")?lc():bu(),x.allowIn=z;je(".")||je("[");)je("[")?($e=_u(),ie=b.createMemberExpression("[",ie,$e)):($e=uc(),ie=b.createMemberExpression(".",ie,$e)),b.markEnd(ie,Re);return ie}function Au(){var z,ie,$e=_;return z=Rf(),_.type===s.Punctuator&&(je("++")||je("--"))&&!ge()&&(h&&z.type===l.Identifier&&T(z.name)&&ke({},f.StrictLHSPostfix),G(z)||ke({},f.InvalidLHSInAssignment),ie=pe(),z=b.markEnd(b.createPostfixExpression(ie.value,z),$e)),z}function Ks(){var z,ie,$e;return _.type!==s.Punctuator&&_.type!==s.Keyword?ie=Au():je("++")||je("--")?($e=_,z=pe(),ie=Ks(),h&&ie.type===l.Identifier&&T(ie.name)&&ke({},f.StrictLHSPrefix),G(ie)||ke({},f.InvalidLHSInAssignment),ie=b.createUnaryExpression(z.value,ie),ie=b.markEnd(ie,$e)):je("+")||je("-")||je("~")||je("!")?($e=_,z=pe(),ie=Ks(),ie=b.createUnaryExpression(z.value,ie),ie=b.markEnd(ie,$e)):Rt("delete")||Rt("void")||Rt("typeof")?($e=_,z=pe(),ie=Ks(),ie=b.createUnaryExpression(z.value,ie),ie=b.markEnd(ie,$e),h&&ie.operator==="delete"&&ie.argument.type===l.Identifier&&ke({},f.StrictDelete)):ie=Au(),ie}function wu(z,ie){var $e=0;if(z.type!==s.Punctuator&&z.type!==s.Keyword)return 0;switch(z.value){case"||":$e=1;break;case"&&":$e=2;break;case"|":$e=3;break;case"^":$e=4;break;case"&":$e=5;break;case"==":case"!=":case"===":case"!==":$e=6;break;case"<":case">":case"<=":case">=":case"instanceof":$e=7;break;case"in":$e=ie?7:0;break;case"<<":case">>":case">>>":$e=8;break;case"+":case"-":$e=9;break;case"*":case"/":case"%":$e=11;break}return $e}function zf(){var z,ie,$e,Re,at,Et,$r,fn,gi,ui;if(z=_,gi=Ks(),Re=_,at=wu(Re,x.allowIn),at===0)return gi;for(Re.prec=at,pe(),ie=[z,_],$r=Ks(),Et=[gi,Re,$r];(at=wu(_,x.allowIn))>0;){for(;Et.length>2&&at<=Et[Et.length-2].prec;)$r=Et.pop(),fn=Et.pop().value,gi=Et.pop(),$e=b.createBinaryExpression(fn,gi,$r),ie.pop(),z=ie[ie.length-1],b.markEnd($e,z),Et.push($e);Re=pe(),Re.prec=at,Et.push(Re),ie.push(_),$e=Ks(),Et.push($e)}for(ui=Et.length-1,$e=Et[ui],ie.pop();ui>1;)$e=b.createBinaryExpression(Et[ui-1].value,Et[ui-2],$e),ui-=2,z=ie.pop(),b.markEnd($e,z);return $e}function qf(){var z,ie,$e,Re,at;return at=_,z=zf(),je("?")&&(pe(),ie=x.allowIn,x.allowIn=!0,$e=ia(),x.allowIn=ie,Ue(":"),Re=ia(),z=b.createConditionalExpression(z,$e,Re),b.markEnd(z,at)),z}function ia(){var z,ie,$e,Re,at;return z=_,at=_,Re=ie=qf(),Pt()&&(G(ie)||ke({},f.InvalidLHSInAssignment),h&&ie.type===l.Identifier&&T(ie.name)&&ke(z,f.StrictLHSAssignment),z=pe(),$e=ia(),Re=b.markEnd(b.createAssignmentExpression(z.value,ie,$e),at)),Re}function ti(){var z,ie=_;if(z=ia(),je(",")){for(z=b.createSequenceExpression([z]);v<g&&je(",");)pe(),z.expressions.push(ia());b.markEnd(z,ie)}return z}function jf(){for(var z=[],ie;v<g&&!(je("}")||(ie=Js(),typeof ie>"u"));)z.push(ie);return z}function xu(){var z,ie;return ie=_,Ue("{"),z=jf(),Ue("}"),b.markEnd(b.createBlockStatement(z),ie)}function as(){var z,ie;return ie=_,z=pe(),z.type!==s.Identifier&&Ke(z),b.markEnd(b.createIdentifier(z.value),ie)}function Su(z){var ie=null,$e,Re;return Re=_,$e=as(),h&&T($e.name)&&ke({},f.StrictVarName),z==="const"?(Ue("="),ie=ia()):je("=")&&(pe(),ie=ia()),b.markEnd(b.createVariableDeclarator($e,ie),Re)}function Cs(z){var ie=[];do{if(ie.push(Su(z)),!je(","))break;pe()}while(v<g);return ie}function Vf(){var z;return rt("var"),z=Cs(),cr(),b.createVariableDeclaration(z,"var")}function Hf(z){var ie,$e;return $e=_,rt(z),ie=Cs(z),cr(),b.markEnd(b.createVariableDeclaration(ie,z),$e)}function Gf(){return Ue(";"),b.createEmptyStatement()}function Zf(){var z=ti();return cr(),b.createExpressionStatement(z)}function Wf(){var z,ie,$e;return rt("if"),Ue("("),z=ti(),Ue(")"),ie=Fa(),Rt("else")?(pe(),$e=Fa()):$e=null,b.createIfStatement(z,ie,$e)}function Kf(){var z,ie,$e;return rt("do"),$e=x.inIteration,x.inIteration=!0,z=Fa(),x.inIteration=$e,rt("while"),Ue("("),ie=ti(),Ue(")"),je(";")&&pe(),b.createDoWhileStatement(z,ie)}function Eu(){var z,ie,$e;return rt("while"),Ue("("),z=ti(),Ue(")"),$e=x.inIteration,x.inIteration=!0,ie=Fa(),x.inIteration=$e,b.createWhileStatement(z,ie)}function Do(){var z,ie,$e;return $e=_,z=pe(),ie=Cs(),b.markEnd(b.createVariableDeclaration(ie,z.value),$e)}function jr(){var z,ie,$e,Re,at,Et,$r;return z=ie=$e=null,rt("for"),Ue("("),je(";")?pe():(Rt("var")||Rt("let")?(x.allowIn=!1,z=Do(),x.allowIn=!0,z.declarations.length===1&&Rt("in")&&(pe(),Re=z,at=ti(),z=null)):(x.allowIn=!1,z=ti(),x.allowIn=!0,Rt("in")&&(G(z)||ke({},f.InvalidLHSInForIn),pe(),Re=z,at=ti(),z=null)),typeof Re>"u"&&Ue(";")),typeof Re>"u"&&(je(";")||(ie=ti()),Ue(";"),je(")")||($e=ti())),Ue(")"),$r=x.inIteration,x.inIteration=!0,Et=Fa(),x.inIteration=$r,typeof Re>"u"?b.createForStatement(z,ie,$e,Et):b.createForInStatement(Re,at,Et)}function $i(){var z=null,ie;return rt("continue"),m.charCodeAt(v)===59?(pe(),x.inIteration||xe({},f.IllegalContinue),b.createContinueStatement(null)):ge()?(x.inIteration||xe({},f.IllegalContinue),b.createContinueStatement(null)):(_.type===s.Identifier&&(z=as(),ie="$"+z.name,Object.prototype.hasOwnProperty.call(x.labelSet,ie)||xe({},f.UnknownLabel,z.name)),cr(),z===null&&!x.inIteration&&xe({},f.IllegalContinue),b.createContinueStatement(z))}function Jf(){var z=null,ie;return rt("break"),m.charCodeAt(v)===59?(pe(),x.inIteration||x.inSwitch||xe({},f.IllegalBreak),b.createBreakStatement(null)):ge()?(x.inIteration||x.inSwitch||xe({},f.IllegalBreak),b.createBreakStatement(null)):(_.type===s.Identifier&&(z=as(),ie="$"+z.name,Object.prototype.hasOwnProperty.call(x.labelSet,ie)||xe({},f.UnknownLabel,z.name)),cr(),z===null&&!(x.inIteration||x.inSwitch)&&xe({},f.IllegalBreak),b.createBreakStatement(z))}function Cu(){var z=null;return rt("return"),x.inFunctionBody||ke({},f.IllegalReturn),m.charCodeAt(v)===32&&U(m.charCodeAt(v+1))?(z=ti(),cr(),b.createReturnStatement(z)):ge()?b.createReturnStatement(null):(je(";")||!je("}")&&_.type!==s.EOF&&(z=ti()),cr(),b.createReturnStatement(z))}function $s(){var z,ie;return h&&(F(),ke({},f.StrictModeWith)),rt("with"),Ue("("),z=ti(),Ue(")"),ie=Fa(),b.createWithStatement(z,ie)}function cc(){var z,ie=[],$e,Re;for(Re=_,Rt("default")?(pe(),z=null):(rt("case"),z=ti()),Ue(":");v<g&&!(je("}")||Rt("default")||Rt("case"));)$e=Fa(),ie.push($e);return b.markEnd(b.createSwitchCase(z,ie),Re)}function Cp(){var z,ie,$e,Re,at;if(rt("switch"),Ue("("),z=ti(),Ue(")"),Ue("{"),ie=[],je("}"))return pe(),b.createSwitchStatement(z,ie);for(Re=x.inSwitch,x.inSwitch=!0,at=!1;v<g&&!je("}");)$e=cc(),$e.test===null&&(at&&xe({},f.MultipleDefaultsInSwitch),at=!0),ie.push($e);return x.inSwitch=Re,Ue("}"),b.createSwitchStatement(z,ie)}function fc(){var z;return rt("throw"),ge()&&xe({},f.NewlineAfterThrow),z=ti(),cr(),b.createThrowStatement(z)}function Qh(){var z,ie,$e;return $e=_,rt("catch"),Ue("("),je(")")&&Ke(_),z=as(),h&&T(z.name)&&ke({},f.StrictCatchVariable),Ue(")"),ie=xu(),b.markEnd(b.createCatchClause(z,ie),$e)}function e0(){var z,ie=[],$e=null;return rt("try"),z=xu(),Rt("catch")&&ie.push(Qh()),Rt("finally")&&(pe(),$e=xu()),ie.length===0&&!$e&&xe({},f.NoCatchOrFinally),b.createTryStatement(z,[],ie,$e)}function t0(){return rt("debugger"),cr(),b.createDebuggerStatement()}function Fa(){var z=_.type,ie,$e,Re,at;if(z===s.EOF&&Ke(_),z===s.Punctuator&&_.value==="{")return xu();if(at=_,z===s.Punctuator)switch(_.value){case";":return b.markEnd(Gf(),at);case"(":return b.markEnd(Zf(),at)}if(z===s.Keyword)switch(_.value){case"break":return b.markEnd(Jf(),at);case"continue":return b.markEnd($i(),at);case"debugger":return b.markEnd(t0(),at);case"do":return b.markEnd(Kf(),at);case"for":return b.markEnd(jr(),at);case"function":return b.markEnd(pc(),at);case"if":return b.markEnd(Wf(),at);case"return":return b.markEnd(Cu(),at);case"switch":return b.markEnd(Cp(),at);case"throw":return b.markEnd(fc(),at);case"try":return b.markEnd(e0(),at);case"var":return b.markEnd(Vf(),at);case"while":return b.markEnd(Eu(),at);case"with":return b.markEnd($s(),at)}return ie=ti(),ie.type===l.Identifier&&je(":")?(pe(),Re="$"+ie.name,Object.prototype.hasOwnProperty.call(x.labelSet,Re)&&xe({},f.Redeclaration,"Label",ie.name),x.labelSet[Re]=!0,$e=Fa(),delete x.labelSet[Re],b.markEnd(b.createLabeledStatement(ie,$e),at)):(cr(),b.markEnd(b.createExpressionStatement(ie),at))}function dc(){var z,ie=[],$e,Re,at,Et,$r,fn,gi,ui;for(ui=_,Ue("{");v<g&&!(_.type!==s.StringLiteral||($e=_,z=Js(),ie.push(z),z.expression.type!==l.Literal));)Re=m.slice($e.start+1,$e.end-1),Re==="use strict"?(h=!0,at&&ke(at,f.StrictOctalLiteral)):!at&&$e.octal&&(at=$e);for(Et=x.labelSet,$r=x.inIteration,fn=x.inSwitch,gi=x.inFunctionBody,x.labelSet={},x.inIteration=!1,x.inSwitch=!1,x.inFunctionBody=!0;v<g&&!(je("}")||(z=Js(),typeof z>"u"));)ie.push(z);return Ue("}"),x.labelSet=Et,x.inIteration=$r,x.inSwitch=fn,x.inFunctionBody=gi,b.markEnd(b.createBlockStatement(ie),ui)}function Yf(z){var ie,$e=[],Re,at,Et,$r,fn;if(Ue("("),!je(")"))for(Et={};v<g&&(Re=_,ie=as(),$r="$"+Re.value,h?(T(Re.value)&&(at=Re,fn=f.StrictParamName),Object.prototype.hasOwnProperty.call(Et,$r)&&(at=Re,fn=f.StrictParamDupe)):z||(T(Re.value)?(z=Re,fn=f.StrictParamName):O(Re.value)?(z=Re,fn=f.StrictReservedWord):Object.prototype.hasOwnProperty.call(Et,$r)&&(z=Re,fn=f.StrictParamDupe)),$e.push(ie),Et[$r]=!0,!je(")"));)Ue(",");return Ue(")"),{params:$e,stricted:at,firstRestricted:z,message:fn}}function pc(){var z,ie=[],$e,Re,at,Et,$r,fn,gi,ui;return ui=_,rt("function"),Re=_,z=as(),h?T(Re.value)&&ke(Re,f.StrictFunctionName):T(Re.value)?($r=Re,fn=f.StrictFunctionName):O(Re.value)&&($r=Re,fn=f.StrictReservedWord),Et=Yf($r),ie=Et.params,at=Et.stricted,$r=Et.firstRestricted,Et.message&&(fn=Et.message),gi=h,$e=dc(),h&&$r&&xe($r,fn),h&&at&&ke(at,fn),h=gi,b.markEnd(b.createFunctionDeclaration(z,ie,[],$e),ui)}function r0(){var z,ie=null,$e,Re,at,Et,$r=[],fn,gi,ui;return ui=_,rt("function"),je("(")||(z=_,ie=as(),h?T(z.value)&&ke(z,f.StrictFunctionName):T(z.value)?(Re=z,at=f.StrictFunctionName):O(z.value)&&(Re=z,at=f.StrictReservedWord)),Et=Yf(Re),$r=Et.params,$e=Et.stricted,Re=Et.firstRestricted,Et.message&&(at=Et.message),gi=h,fn=dc(),h&&Re&&xe(Re,at),h&&$e&&ke($e,at),h=gi,b.markEnd(b.createFunctionExpression(ie,$r,[],fn),ui)}function Js(){if(_.type===s.Keyword)switch(_.value){case"const":case"let":return Hf(_.value);case"function":return pc();default:return Fa()}if(_.type!==s.EOF)return Fa()}function To(){for(var z,ie=[],$e,Re,at;v<g&&($e=_,!($e.type!==s.StringLiteral||(z=Js(),ie.push(z),z.expression.type!==l.Literal)));)Re=m.slice($e.start+1,$e.end-1),Re==="use strict"?(h=!0,at&&ke(at,f.StrictOctalLiteral)):!at&&$e.octal&&(at=$e);for(;v<g&&(z=Js(),!(typeof z>"u"));)ie.push(z);return ie}function $p(){var z,ie;return F(),Y(),ie=_,h=!1,z=To(),b.markEnd(b.createProgram(z),ie)}function Xf(){var z,ie,$e,Re=[];for(z=0;z<E.tokens.length;++z)ie=E.tokens[z],$e={type:ie.type,value:ie.value},E.range&&($e.range=ie.range),E.loc&&($e.loc=ie.loc),Re.push($e);E.tokens=Re}function Np(z,ie){var $e,Re,at;$e=String,typeof z!="string"&&!(z instanceof String)&&(z=$e(z)),b=p,m=z,v=0,y=m.length>0?1:0,w=0,g=m.length,_=null,x={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},E={},ie=ie||{},ie.tokens=!0,E.tokens=[],E.tokenize=!0,E.openParenToken=-1,E.openCurlyToken=-1,E.range=typeof ie.range=="boolean"&&ie.range,E.loc=typeof ie.loc=="boolean"&&ie.loc,typeof ie.comment=="boolean"&&ie.comment&&(E.comments=[]),typeof ie.tolerant=="boolean"&&ie.tolerant&&(E.errors=[]);try{if(Y(),_.type===s.EOF)return E.tokens;for(Re=pe();_.type!==s.EOF;)try{Re=pe()}catch(Et){if(Re=_,E.errors){E.errors.push(Et);break}else throw Et}Xf(),at=E.tokens,typeof E.comments<"u"&&(at.comments=E.comments),typeof E.errors<"u"&&(at.errors=E.errors)}catch(Et){throw Et}finally{E={}}return at}function Dp(z,ie){var $e,Re;Re=String,typeof z!="string"&&!(z instanceof String)&&(z=Re(z)),b=p,m=z,v=0,y=m.length>0?1:0,w=0,g=m.length,_=null,x={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},E={},typeof ie<"u"&&(E.range=typeof ie.range=="boolean"&&ie.range,E.loc=typeof ie.loc=="boolean"&&ie.loc,E.attachComment=typeof ie.attachComment=="boolean"&&ie.attachComment,E.loc&&ie.source!==null&&ie.source!==void 0&&(E.source=Re(ie.source)),typeof ie.tokens=="boolean"&&ie.tokens&&(E.tokens=[]),typeof ie.comment=="boolean"&&ie.comment&&(E.comments=[]),typeof ie.tolerant=="boolean"&&ie.tolerant&&(E.errors=[]),E.attachComment&&(E.range=!0,E.comments=[],E.bottomRightStack=[],E.trailingComments=[],E.leadingComments=[]));try{$e=$p(),typeof E.comments<"u"&&($e.comments=E.comments),typeof E.tokens<"u"&&(Xf(),$e.tokens=E.tokens),typeof E.errors<"u"&&($e.errors=E.errors)}catch(at){throw at}finally{E={}}return $e}a.version="1.2.2",a.tokenize=Np,a.parse=Dp,a.Syntax=function(){var z,ie={};typeof Object.create=="function"&&(ie=Object.create(null));for(z in l)l.hasOwnProperty(z)&&(ie[z]=l[z]);return typeof Object.freeze=="function"&&Object.freeze(ie),ie}()})},{}],1:[function(r,n,i){(function(a){var s=function(){var o={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(d,p,m,h,v,y,w){h.ast||(h.ast=u,u.initialize());var g=y.length-1;switch(v){case 1:return h.ast.set({expression:{type:"root",value:y[g]}}),h.ast.unshift(),h.ast.yield();case 2:return h.ast.set({expression:{type:"root",value:y[g-1]}}),h.ast.unshift(),h.ast.yield();case 3:return h.ast.unshift(),h.ast.yield();case 4:return h.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:y[g-1]}}),h.ast.unshift(),h.ast.yield();case 5:break;case 6:break;case 7:h.ast.set({operation:"member"}),h.ast.push();break;case 8:h.ast.set({operation:"subscript"}),h.ast.push();break;case 9:h.ast.set({scope:"child"});break;case 10:h.ast.set({scope:"descendant"});break;case 11:break;case 12:h.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:h.ast.set({expression:{type:"wildcard",value:y[g]}});break;case 15:h.ast.set({expression:{type:"identifier",value:y[g]}});break;case 16:h.ast.set({expression:{type:"script_expression",value:y[g]}});break;case 17:h.ast.set({expression:{type:"numeric_literal",value:parseInt(y[g])}});break;case 18:break;case 19:h.ast.set({scope:"child"});break;case 20:h.ast.set({scope:"descendant"});break;case 21:break;case 22:break;case 23:break;case 24:y[g].length>1?h.ast.set({expression:{type:"union",value:y[g]}}):this.$=y[g];break;case 25:this.$=[y[g]];break;case 26:this.$=y[g-2].concat(y[g]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(y[g])}},h.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:y[g]}},h.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:y[g]}},h.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:y[g]}},h.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:y[g]}},h.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:y[g]}},h.ast.set(this.$);break;case 33:this.$=y[g];break;case 34:this.$=y[g];break}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(d,p){if(p.recoverable)this.trace(d);else throw new Error(d)},parse:function(d){var p=this,m=[0],h=[null],v=[],y=this.table,w="",g=0,b=0,_=2,x=1,E=v.slice.call(arguments,1);this.lexer.setInput(d),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var C=this.lexer.yylloc;v.push(C);var $=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(){var le;return le=p.lexer.lex()||x,typeof le!="number"&&(le=p.symbols_[le]||le),le}for(var N,k,P,U,L={},B,O,T,j;;){if(k=m[m.length-1],this.defaultActions[k]?P=this.defaultActions[k]:((N===null||typeof N>"u")&&(N=D()),P=y[k]&&y[k][N]),typeof P>"u"||!P.length||!P[0]){var R="";j=[];for(B in y[k])this.terminals_[B]&&B>_&&j.push("'"+this.terminals_[B]+"'");this.lexer.showPosition?R="Parse error on line "+(g+1)+`:
`+this.lexer.showPosition()+`
Expecting `+j.join(", ")+", got '"+(this.terminals_[N]||N)+"'":R="Parse error on line "+(g+1)+": Unexpected "+(N==x?"end of input":"'"+(this.terminals_[N]||N)+"'"),this.parseError(R,{text:this.lexer.match,token:this.terminals_[N]||N,line:this.lexer.yylineno,loc:C,expected:j})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+N);switch(P[0]){case 1:m.push(N),h.push(this.lexer.yytext),v.push(this.lexer.yylloc),m.push(P[1]),N=null,b=this.lexer.yyleng,w=this.lexer.yytext,g=this.lexer.yylineno,C=this.lexer.yylloc;break;case 2:if(O=this.productions_[P[1]][1],L.$=h[h.length-O],L._$={first_line:v[v.length-(O||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(O||1)].first_column,last_column:v[v.length-1].last_column},$&&(L._$.range=[v[v.length-(O||1)].range[0],v[v.length-1].range[1]]),U=this.performAction.apply(L,[w,b,g,this.yy,P[1],h,v].concat(E)),typeof U<"u")return U;O&&(m=m.slice(0,-1*O*2),h=h.slice(0,-1*O),v=v.slice(0,-1*O)),m.push(this.productions_[P[1]][0]),h.push(L.$),v.push(L._$),T=y[m[m.length-2]][m[m.length-1]],m.push(T);break;case 3:return!0}}return!0}},u={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(f){for(var d in f)this._node[d]=f[d];return this._node},node:function(f){return arguments.length&&(this._node=f),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var f=this._nodes;return this.initialize(),f}},l=function(){var f={EOF:1,parseError:function(p,m){if(this.yy.parser)this.yy.parser.parseError(p,m);else throw new Error(p)},setInput:function(d){return this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var p=d.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},unput:function(d){var p=d.length,m=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p-1),this.offset-=p;var h=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===h.length?this.yylloc.first_column:0)+h[h.length-m.length].length-m[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(d){this.unput(this.match.slice(d))},pastInput:function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var d=this.pastInput(),p=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+p+"^"},test_match:function(d,p){var m,h,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),h=d[0].match(/(?:\r\n?|\n).*/g),h&&(this.yylineno+=h.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:h?h[h.length-1].length-h[h.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],m=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var y in v)this[y]=v[y];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,p,m,h;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),y=0;y<v.length;y++)if(m=this._input.match(this.rules[v[y]]),m&&(!p||m[0].length>p[0].length)){if(p=m,h=y,this.options.backtrack_lexer){if(d=this.test_match(m,v[y]),d!==!1)return d;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(d=this.test_match(p,v[h]),d!==!1?d:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var p=this.next();return p||this.lex()},begin:function(p){this.conditionStack.push(p)},popState:function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},pushState:function(p){this.begin(p)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(p,m,h,v){switch(h){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return m.yytext=m.yytext.substr(1,m.yyleng-2),32;case 11:return m.yytext=m.yytext.substr(1,m.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return f}();o.lexer=l;function c(){this.yy={}}return c.prototype=o,o.Parser=c,new c}();typeof r<"u"&&typeof i<"u"&&(i.parser=s,i.Parser=s.Parser,i.parse=function(){return s.parse.apply(s,arguments)},i.main=function(u){u[1]||(console.log("Usage: "+u[0]+" FILE"),a.exit(1));var l=r("fs").readFileSync(r("path").normalize(u[1]),"utf8");return i.parser.parse(l)},typeof n<"u"&&r.main===n&&i.main(a.argv.slice(1)))}).call(this,r("_process"))},{_process:14,fs:12,path:13}],2:[function(r,n,i){n.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(r,n,i){var a=r("./dict"),s=r("fs"),o={lex:{macros:{esc:"\\\\",int:a.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[a.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[a.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[a.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};s.readFileSync&&(o.moduleInclude=s.readFileSync(r.resolve("../include/module.js")),o.actionInclude=s.readFileSync(r.resolve("../include/action.js"))),n.exports=o},{"./dict":2,fs:12}],4:[function(r,n,i){var a=r("./aesprim"),s=r("./slice"),o=r("static-eval"),u=r("underscore").uniq,l=function(){return this.initialize.apply(this,arguments)};l.prototype.initialize=function(){this.traverse=p(!0),this.descend=p()},l.prototype.keys=Object.keys,l.prototype.resolve=function(g){var b=[g.operation,g.scope,g.expression.type].join("-"),_=this._fns[b];if(!_)throw new Error("couldn't resolve key: "+b);return _.bind(this)},l.prototype.register=function(g,b){if(!b instanceof Function)throw new Error("handler must be a function");this._fns[g]=b},l.prototype._fns={"member-child-identifier":function(g,b){var _=g.expression.value,x=b.value;if(x instanceof Object&&_ in x)return[{value:x[_],path:b.path.concat(_)}]},"member-descendant-identifier":h(function(g,b,_){return g==_}),"subscript-child-numeric_literal":m(function(g,b,_){return g===_}),"member-child-numeric_literal":m(function(g,b,_){return String(g)===String(_)}),"subscript-descendant-numeric_literal":h(function(g,b,_){return g===_}),"member-child-wildcard":m(function(){return!0}),"member-descendant-wildcard":h(function(){return!0}),"subscript-descendant-wildcard":h(function(){return!0}),"subscript-child-wildcard":m(function(){return!0}),"subscript-child-slice":function(g,b){if(f(b.value)){var _=g.expression.value.split(":").map(w),x=b.value.map(function(E,C){return{value:E,path:b.path.concat(C)}});return s.apply(null,[x].concat(_))}},"subscript-child-union":function(g,b){var _=[];return g.expression.value.forEach(function(x){var E={operation:"subscript",scope:"child",expression:x.expression},C=this.resolve(E),$=C(E,b);$&&(_=_.concat($))},this),y(_)},"subscript-descendant-union":function(g,b,_){var x=r(".."),E=this,C=[],$=x.nodes(b,"$..*").slice(1);return $.forEach(function(D){C.length>=_||g.expression.value.forEach(function(N){var k={operation:"subscript",scope:"child",expression:N.expression},P=E.resolve(k),U=P(k,D);C=C.concat(U)})}),y(C)},"subscript-child-filter_expression":function(g,b,_){var x=g.expression.value.slice(2,-1),E=a.parse(x).body[0].expression,C=function($,D){return v(E,{"@":D})};return this.descend(b,null,C,_)},"subscript-descendant-filter_expression":function(g,b,_){var x=g.expression.value.slice(2,-1),E=a.parse(x).body[0].expression,C=function($,D){return v(E,{"@":D})};return this.traverse(b,null,C,_)},"subscript-child-script_expression":function(g,b){var _=g.expression.value.slice(1,-1);return c(b,_,"$[{{value}}]")},"member-child-script_expression":function(g,b){var _=g.expression.value.slice(1,-1);return c(b,_,"$.{{value}}")},"member-descendant-script_expression":function(g,b){var _=g.expression.value.slice(1,-1);return c(b,_,"$..value")}},l.prototype._fns["subscript-child-string_literal"]=l.prototype._fns["member-child-identifier"],l.prototype._fns["member-descendant-numeric_literal"]=l.prototype._fns["subscript-descendant-string_literal"]=l.prototype._fns["member-descendant-identifier"];function c(g,b,_){var x=r("./index"),E=a.parse(b).body[0].expression,C=v(E,{"@":g.value}),$=_.replace(/\{\{\s*value\s*\}\}/g,C),D=x.nodes(g.value,$);return D.forEach(function(N){N.path=g.path.concat(N.path.slice(1))}),D}function f(g){return Array.isArray(g)}function d(g){return g&&!(g instanceof Array)&&g instanceof Object}function p(g){return function(b,_,x,E){var C=b.value,$=b.path,D=[],N=function(k,P){f(k)?(k.forEach(function(U,L){D.length>=E||x(L,U,_)&&D.push({path:P.concat(L),value:U})}),k.forEach(function(U,L){D.length>=E||g&&N(U,P.concat(L))})):d(k)&&(this.keys(k).forEach(function(U){D.length>=E||x(U,k[U],_)&&D.push({path:P.concat(U),value:k[U]})}),this.keys(k).forEach(function(U){D.length>=E||g&&N(k[U],P.concat(U))}))}.bind(this);return N(C,$),D}}function m(g){return function(b,_,x){return this.descend(_,b.expression.value,g,x)}}function h(g){return function(b,_,x){return this.traverse(_,b.expression.value,g,x)}}function v(){try{return o.apply(this,arguments)}catch{}}function y(g){return g=g.filter(function(b){return b}),u(g,function(b){return b.path.map(function(_){return String(_).replace("-","--")}).join("-")})}function w(g){var b=String(g);return b.match(/^-?[0-9]+$/)?parseInt(b):null}n.exports=l},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(r,n,i){var a=r("assert"),s=r("./dict"),o=r("./parser"),u=r("./handlers"),l=function(){this.initialize.apply(this,arguments)};l.prototype.initialize=function(){this.parser=new o,this.handlers=new u},l.prototype.parse=function(d){return a.ok(c(d),"we need a path"),this.parser.parse(d)},l.prototype.parent=function(d,p){a.ok(d instanceof Object,"obj needs to be an object"),a.ok(p,"we need a path");var m=this.nodes(d,p)[0];return m.path.pop(),this.value(d,m.path)},l.prototype.apply=function(d,p,m){a.ok(d instanceof Object,"obj needs to be an object"),a.ok(p,"we need a path"),a.equal(typeof m,"function","fn needs to be function");var h=this.nodes(d,p).sort(function(v,y){return y.path.length-v.path.length});return h.forEach(function(v){var y=v.path.pop(),w=this.value(d,this.stringify(v.path)),g=v.value=m.call(d,w[y]);w[y]=g},this),h},l.prototype.value=function(d,p,m){if(a.ok(d instanceof Object,"obj needs to be an object"),a.ok(p,"we need a path"),arguments.length>=3){var h=this.nodes(d,p).shift();if(!h)return this._vivify(d,p,m);var v=h.path.slice(-1).shift(),y=this.parent(d,this.stringify(h.path));y[v]=m}return this.query(d,this.stringify(p),1).shift()},l.prototype._vivify=function(d,p,m){var h=this;a.ok(d instanceof Object,"obj needs to be an object"),a.ok(p,"we need a path");var v=this.parser.parse(p).map(function(w){return w.expression.value}),y=function(w,g){var b=w.pop(),_=h.value(d,w);_||(y(w.concat(),typeof b=="string"?{}:[]),_=h.value(d,w)),_[b]=g};return y(v,m),this.query(d,p)[0]},l.prototype.query=function(d,p,m){a.ok(d instanceof Object,"obj needs to be an object"),a.ok(c(p),"we need a path");var h=this.nodes(d,p,m).map(function(v){return v.value});return h},l.prototype.paths=function(d,p,m){a.ok(d instanceof Object,"obj needs to be an object"),a.ok(p,"we need a path");var h=this.nodes(d,p,m).map(function(v){return v.path});return h},l.prototype.nodes=function(d,p,m){if(a.ok(d instanceof Object,"obj needs to be an object"),a.ok(p,"we need a path"),m===0)return[];var h=this.parser.parse(p),v=this.handlers,y=[{path:["$"],value:d}],w=[];return h.length&&h[0].expression.type=="root"&&h.shift(),h.length?(h.forEach(function(g,b){if(!(w.length>=m)){var _=v.resolve(g),x=[];y.forEach(function(E){if(!(w.length>=m)){var C=_(g,E,m);b==h.length-1?w=w.concat(C||[]):x=x.concat(C||[])}}),y=x}}),m?w.slice(0,m):w):y},l.prototype.stringify=function(d){a.ok(d,"we need a path");var p="$",m={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return d=this._normalize(d),d.forEach(function(h){if(h.expression.type!="root"){var v=[h.scope,h.operation].join("-"),y=m[v],w;if(h.expression.type=="string_literal"?w=JSON.stringify(h.expression.value):w=h.expression.value,!y)throw new Error("couldn't find template "+v);p+=y.replace(/{{value}}/,w)}}),p},l.prototype._normalize=function(d){if(a.ok(d,"we need a path"),typeof d=="string")return this.parser.parse(d);if(Array.isArray(d)&&typeof d[0]=="string"){var p=[{expression:{type:"root",value:"$"}}];return d.forEach(function(m,h){if(!(m=="$"&&h===0))if(typeof m=="string"&&m.match("^"+s.identifier+"$"))p.push({operation:"member",scope:"child",expression:{value:m,type:"identifier"}});else{var v=typeof m=="number"?"numeric_literal":"string_literal";p.push({operation:"subscript",scope:"child",expression:{value:m,type:v}})}}),p}else if(Array.isArray(d)&&typeof d[0]=="object")return d;throw new Error("couldn't understand path "+d)};function c(d){return Object.prototype.toString.call(d)=="[object String]"}l.Handlers=u,l.Parser=o;var f=new l;f.JSONPath=l,n.exports=f},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(r,n,i){var a=r("./grammar"),s=r("../generated/parser"),o=function(){var u=new s.Parser,l=u.parseError;return u.yy.parseError=function(){u.yy.ast&&u.yy.ast.initialize(),l.apply(u,arguments)},u};o.grammar=a,n.exports=o},{"../generated/parser":1,"./grammar":3}],7:[function(r,n,i){n.exports=function(s,o,u,l){if(typeof o=="string")throw new Error("start cannot be a string");if(typeof u=="string")throw new Error("end cannot be a string");if(typeof l=="string")throw new Error("step cannot be a string");var c=s.length;if(l===0)throw new Error("step cannot be zero");if(l=l?a(l):1,o=o<0?c+o:o,u=u<0?c+u:u,o=a(o===0?0:o||(l>0?0:c-1)),u=a(u===0?0:u||(l>0?c:-1)),o=l>0?Math.max(0,o):Math.min(c,o),u=l>0?Math.min(u,c):Math.max(-1,u),l>0&&u<=o)return[];if(l<0&&o<=u)return[];for(var f=[],d=o;d!=u&&!(l<0&&d<=u||l>0&&d>=u);d+=l)f.push(s[d]);return f};function a(s){return String(s).match(/^[0-9]+$/)?parseInt(s):Number.isFinite(s)?parseInt(s,10):0}},{}],8:[function(r,n,i){var a=r("util/"),s=Array.prototype.slice,o=Object.prototype.hasOwnProperty,u=n.exports=p;u.AssertionError=function(_){this.name="AssertionError",this.actual=_.actual,this.expected=_.expected,this.operator=_.operator,_.message?(this.message=_.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var x=_.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var E=new Error;if(E.stack){var C=E.stack,$=x.name,D=C.indexOf(`
`+$);if(D>=0){var N=C.indexOf(`
`,D+1);C=C.substring(N+1)}this.stack=C}}},a.inherits(u.AssertionError,Error);function l(b,_){return a.isUndefined(_)?""+_:a.isNumber(_)&&!isFinite(_)||a.isFunction(_)||a.isRegExp(_)?_.toString():_}function c(b,_){return a.isString(b)?b.length<_?b:b.slice(0,_):b}function f(b){return c(JSON.stringify(b.actual,l),128)+" "+b.operator+" "+c(JSON.stringify(b.expected,l),128)}function d(b,_,x,E,C){throw new u.AssertionError({message:x,actual:b,expected:_,operator:E,stackStartFunction:C})}u.fail=d;function p(b,_){b||d(b,!0,_,"==",u.ok)}u.ok=p,u.equal=function(_,x,E){_!=x&&d(_,x,E,"==",u.equal)},u.notEqual=function(_,x,E){_==x&&d(_,x,E,"!=",u.notEqual)},u.deepEqual=function(_,x,E){m(_,x)||d(_,x,E,"deepEqual",u.deepEqual)};function m(b,_){if(b===_)return!0;if(a.isBuffer(b)&&a.isBuffer(_)){if(b.length!=_.length)return!1;for(var x=0;x<b.length;x++)if(b[x]!==_[x])return!1;return!0}else return a.isDate(b)&&a.isDate(_)?b.getTime()===_.getTime():a.isRegExp(b)&&a.isRegExp(_)?b.source===_.source&&b.global===_.global&&b.multiline===_.multiline&&b.lastIndex===_.lastIndex&&b.ignoreCase===_.ignoreCase:!a.isObject(b)&&!a.isObject(_)?b==_:v(b,_)}function h(b){return Object.prototype.toString.call(b)=="[object Arguments]"}function v(b,_){if(a.isNullOrUndefined(b)||a.isNullOrUndefined(_)||b.prototype!==_.prototype)return!1;if(a.isPrimitive(b)||a.isPrimitive(_))return b===_;var x=h(b),E=h(_);if(x&&!E||!x&&E)return!1;if(x)return b=s.call(b),_=s.call(_),m(b,_);var C=g(b),$=g(_),D,N;if(C.length!=$.length)return!1;for(C.sort(),$.sort(),N=C.length-1;N>=0;N--)if(C[N]!=$[N])return!1;for(N=C.length-1;N>=0;N--)if(D=C[N],!m(b[D],_[D]))return!1;return!0}u.notDeepEqual=function(_,x,E){m(_,x)&&d(_,x,E,"notDeepEqual",u.notDeepEqual)},u.strictEqual=function(_,x,E){_!==x&&d(_,x,E,"===",u.strictEqual)},u.notStrictEqual=function(_,x,E){_===x&&d(_,x,E,"!==",u.notStrictEqual)};function y(b,_){return!b||!_?!1:Object.prototype.toString.call(_)=="[object RegExp]"?_.test(b):b instanceof _?!0:_.call({},b)===!0}function w(b,_,x,E){var C;a.isString(x)&&(E=x,x=null);try{_()}catch($){C=$}if(E=(x&&x.name?" ("+x.name+").":".")+(E?" "+E:"."),b&&!C&&d(C,x,"Missing expected exception"+E),!b&&y(C,x)&&d(C,x,"Got unwanted exception"+E),b&&C&&x&&!y(C,x)||!b&&C)throw C}u.throws=function(b,_,x){w.apply(this,[!0].concat(s.call(arguments)))},u.doesNotThrow=function(b,_){w.apply(this,[!1].concat(s.call(arguments)))},u.ifError=function(b){if(b)throw b};var g=Object.keys||function(b){var _=[];for(var x in b)o.call(b,x)&&_.push(x);return _}},{"util/":11}],9:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var u=function(){};u.prototype=o.prototype,s.prototype=new u,s.prototype.constructor=s}},{}],10:[function(r,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],11:[function(r,n,i){(function(a,s){var o=/%[sdj%]/g;i.format=function(F){if(!$(F)){for(var H=[],ve=0;ve<arguments.length;ve++)H.push(c(arguments[ve]));return H.join(" ")}for(var ve=1,ae=arguments,W=ae.length,Q=String(F).replace(o,function(se){if(se==="%%")return"%";if(ve>=W)return se;switch(se){case"%s":return String(ae[ve++]);case"%d":return Number(ae[ve++]);case"%j":try{return JSON.stringify(ae[ve++])}catch{return"[Circular]"}default:return se}}),J=ae[ve];ve<W;J=ae[++ve])x(J)||!P(J)?Q+=" "+J:Q+=" "+c(J);return Q},i.deprecate=function(F,H){if(N(s.process))return function(){return i.deprecate(F,H).apply(this,arguments)};if(a.noDeprecation===!0)return F;var ve=!1;function ae(){if(!ve){if(a.throwDeprecation)throw new Error(H);a.traceDeprecation?console.trace(H):console.error(H),ve=!0}return F.apply(this,arguments)}return ae};var u={},l;i.debuglog=function(F){if(N(l)&&(l={}.NODE_DEBUG||""),F=F.toUpperCase(),!u[F])if(new RegExp("\\b"+F+"\\b","i").test(l)){var H=a.pid;u[F]=function(){var ve=i.format.apply(i,arguments);console.error("%s %d: %s",F,H,ve)}}else u[F]=function(){};return u[F]};function c(F,H){var ve={seen:[],stylize:d};return arguments.length>=3&&(ve.depth=arguments[2]),arguments.length>=4&&(ve.colors=arguments[3]),_(H)?ve.showHidden=H:H&&i._extend(ve,H),N(ve.showHidden)&&(ve.showHidden=!1),N(ve.depth)&&(ve.depth=2),N(ve.colors)&&(ve.colors=!1),N(ve.customInspect)&&(ve.customInspect=!0),ve.colors&&(ve.stylize=f),m(ve,F,ve.depth)}i.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(F,H){var ve=c.styles[H];return ve?"\x1B["+c.colors[ve][0]+"m"+F+"\x1B["+c.colors[ve][1]+"m":F}function d(F,H){return F}function p(F){var H={};return F.forEach(function(ve,ae){H[ve]=!0}),H}function m(F,H,ve){if(F.customInspect&&H&&B(H.inspect)&&H.inspect!==i.inspect&&!(H.constructor&&H.constructor.prototype===H)){var ae=H.inspect(ve,F);return $(ae)||(ae=m(F,ae,ve)),ae}var W=h(F,H);if(W)return W;var Q=Object.keys(H),J=p(Q);if(F.showHidden&&(Q=Object.getOwnPropertyNames(H)),L(H)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return v(H);if(Q.length===0){if(B(H)){var se=H.name?": "+H.name:"";return F.stylize("[Function"+se+"]","special")}if(k(H))return F.stylize(RegExp.prototype.toString.call(H),"regexp");if(U(H))return F.stylize(Date.prototype.toString.call(H),"date");if(L(H))return v(H)}var Ce="",Te=!1,oe=["{","}"];if(b(H)&&(Te=!0,oe=["[","]"]),B(H)){var q=H.name?": "+H.name:"";Ce=" [Function"+q+"]"}if(k(H)&&(Ce=" "+RegExp.prototype.toString.call(H)),U(H)&&(Ce=" "+Date.prototype.toUTCString.call(H)),L(H)&&(Ce=" "+v(H)),Q.length===0&&(!Te||H.length==0))return oe[0]+Ce+oe[1];if(ve<0)return k(H)?F.stylize(RegExp.prototype.toString.call(H),"regexp"):F.stylize("[Object]","special");F.seen.push(H);var me;return Te?me=y(F,H,ve,J,Q):me=Q.map(function(X){return w(F,H,ve,J,X,Te)}),F.seen.pop(),g(me,Ce,oe)}function h(F,H){if(N(H))return F.stylize("undefined","undefined");if($(H)){var ve="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(ve,"string")}if(C(H))return F.stylize(""+H,"number");if(_(H))return F.stylize(""+H,"boolean");if(x(H))return F.stylize("null","null")}function v(F){return"["+Error.prototype.toString.call(F)+"]"}function y(F,H,ve,ae,W){for(var Q=[],J=0,se=H.length;J<se;++J)re(H,String(J))?Q.push(w(F,H,ve,ae,String(J),!0)):Q.push("");return W.forEach(function(Ce){Ce.match(/^\d+$/)||Q.push(w(F,H,ve,ae,Ce,!0))}),Q}function w(F,H,ve,ae,W,Q){var J,se,Ce;if(Ce=Object.getOwnPropertyDescriptor(H,W)||{value:H[W]},Ce.get?Ce.set?se=F.stylize("[Getter/Setter]","special"):se=F.stylize("[Getter]","special"):Ce.set&&(se=F.stylize("[Setter]","special")),re(ae,W)||(J="["+W+"]"),se||(F.seen.indexOf(Ce.value)<0?(x(ve)?se=m(F,Ce.value,null):se=m(F,Ce.value,ve-1),se.indexOf(`
`)>-1&&(Q?se=se.split(`
`).map(function(Te){return"  "+Te}).join(`
`).substr(2):se=`
`+se.split(`
`).map(function(Te){return"   "+Te}).join(`
`))):se=F.stylize("[Circular]","special")),N(J)){if(Q&&W.match(/^\d+$/))return se;J=JSON.stringify(""+W),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=F.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=F.stylize(J,"string"))}return J+": "+se}function g(F,H,ve){var ae=F.reduce(function(W,Q){return Q.indexOf(`
`)>=0,W+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?ve[0]+(H===""?"":H+`
 `)+" "+F.join(`,
  `)+" "+ve[1]:ve[0]+H+" "+F.join(", ")+" "+ve[1]}function b(F){return Array.isArray(F)}i.isArray=b;function _(F){return typeof F=="boolean"}i.isBoolean=_;function x(F){return F===null}i.isNull=x;function E(F){return F==null}i.isNullOrUndefined=E;function C(F){return typeof F=="number"}i.isNumber=C;function $(F){return typeof F=="string"}i.isString=$;function D(F){return typeof F=="symbol"}i.isSymbol=D;function N(F){return F===void 0}i.isUndefined=N;function k(F){return P(F)&&T(F)==="[object RegExp]"}i.isRegExp=k;function P(F){return typeof F=="object"&&F!==null}i.isObject=P;function U(F){return P(F)&&T(F)==="[object Date]"}i.isDate=U;function L(F){return P(F)&&(T(F)==="[object Error]"||F instanceof Error)}i.isError=L;function B(F){return typeof F=="function"}i.isFunction=B;function O(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}i.isPrimitive=O,i.isBuffer=r("./support/isBuffer");function T(F){return Object.prototype.toString.call(F)}function j(F){return F<10?"0"+F.toString(10):F.toString(10)}var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var F=new Date,H=[j(F.getHours()),j(F.getMinutes()),j(F.getSeconds())].join(":");return[F.getDate(),R[F.getMonth()],H].join(" ")}i.log=function(){console.log("%s - %s",le(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(F,H){if(!H||!P(H))return F;for(var ve=Object.keys(H),ae=ve.length;ae--;)F[ve[ae]]=H[ve[ae]];return F};function re(F,H){return Object.prototype.hasOwnProperty.call(F,H)}}).call(this,r("_process"),typeof Ut<"u"?Ut:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(r,n,i){},{}],13:[function(r,n,i){(function(a){function s(c,f){for(var d=0,p=c.length-1;p>=0;p--){var m=c[p];m==="."?c.splice(p,1):m===".."?(c.splice(p,1),d++):d&&(c.splice(p,1),d--)}if(f)for(;d--;d)c.unshift("..");return c}i.resolve=function(){for(var c="",f=!1,d=arguments.length-1;d>=-1&&!f;d--){var p=d>=0?arguments[d]:a.cwd();if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!p)continue;c=p+"/"+c,f=p.charAt(0)==="/"}return c=s(u(c.split("/"),function(m){return!!m}),!f).join("/"),(f?"/":"")+c||"."},i.normalize=function(c){var f=i.isAbsolute(c),d=l(c,-1)==="/";return c=s(u(c.split("/"),function(p){return!!p}),!f).join("/"),!c&&!f&&(c="."),c&&d&&(c+="/"),(f?"/":"")+c},i.isAbsolute=function(c){return c.charAt(0)==="/"},i.join=function(){var c=Array.prototype.slice.call(arguments,0);return i.normalize(u(c,function(f,d){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},i.relative=function(c,f){c=i.resolve(c).substr(1),f=i.resolve(f).substr(1);function d(g){for(var b=0;b<g.length&&g[b]==="";b++);for(var _=g.length-1;_>=0&&g[_]==="";_--);return b>_?[]:g.slice(b,_-b+1)}for(var p=d(c.split("/")),m=d(f.split("/")),h=Math.min(p.length,m.length),v=h,y=0;y<h;y++)if(p[y]!==m[y]){v=y;break}for(var w=[],y=v;y<p.length;y++)w.push("..");return w=w.concat(m.slice(v)),w.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(c){if(typeof c!="string"&&(c=c+""),c.length===0)return".";for(var f=c.charCodeAt(0),d=f===47,p=-1,m=!0,h=c.length-1;h>=1;--h)if(f=c.charCodeAt(h),f===47){if(!m){p=h;break}}else m=!1;return p===-1?d?"/":".":d&&p===1?"/":c.slice(0,p)};function o(c){typeof c!="string"&&(c=c+"");var f=0,d=-1,p=!0,m;for(m=c.length-1;m>=0;--m)if(c.charCodeAt(m)===47){if(!p){f=m+1;break}}else d===-1&&(p=!1,d=m+1);return d===-1?"":c.slice(f,d)}i.basename=function(c,f){var d=o(c);return f&&d.substr(-1*f.length)===f&&(d=d.substr(0,d.length-f.length)),d},i.extname=function(c){typeof c!="string"&&(c=c+"");for(var f=-1,d=0,p=-1,m=!0,h=0,v=c.length-1;v>=0;--v){var y=c.charCodeAt(v);if(y===47){if(!m){d=v+1;break}continue}p===-1&&(m=!1,p=v+1),y===46?f===-1?f=v:h!==1&&(h=1):f!==-1&&(h=-1)}return f===-1||p===-1||h===0||h===1&&f===p-1&&f===d+1?"":c.slice(f,p)};function u(c,f){if(c.filter)return c.filter(f);for(var d=[],p=0;p<c.length;p++)f(c[p],p,c)&&d.push(c[p]);return d}var l="ab".substr(-1)==="b"?function(c,f,d){return c.substr(f,d)}:function(c,f,d){return f<0&&(f=c.length+f),c.substr(f,d)}}).call(this,r("_process"))},{_process:14}],14:[function(r,n,i){var a=n.exports={},s,o;function u(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=u}catch{s=u}try{typeof clearTimeout=="function"?o=clearTimeout:o=l}catch{o=l}})();function c(b){if(s===setTimeout)return setTimeout(b,0);if((s===u||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}function f(b){if(o===clearTimeout)return clearTimeout(b);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(b);try{return o(b)}catch{try{return o.call(null,b)}catch{return o.call(this,b)}}}var d=[],p=!1,m,h=-1;function v(){!p||!m||(p=!1,m.length?d=m.concat(d):h=-1,d.length&&y())}function y(){if(!p){var b=c(v);p=!0;for(var _=d.length;_;){for(m=d,d=[];++h<_;)m&&m[h].run();h=-1,_=d.length}m=null,p=!1,f(b)}}a.nextTick=function(b){var _=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)_[x-1]=arguments[x];d.push(new w(b,_)),d.length===1&&!p&&c(y)};function w(b,_){this.fun=b,this.array=_}w.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function g(){}a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(b){return[]},a.binding=function(b){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(b){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],15:[function(r,n,i){var a=r("escodegen").generate;n.exports=function(s,o){o||(o={});var u={},l=function c(f,d){if(f.type==="Literal")return f.value;if(f.type==="UnaryExpression"){var p=c(f.argument);return f.operator==="+"?+p:f.operator==="-"?-p:f.operator==="~"?~p:f.operator==="!"?!p:u}else if(f.type==="ArrayExpression"){for(var m=[],h=0,v=f.elements.length;h<v;h++){var y=c(f.elements[h]);if(y===u)return u;m.push(y)}return m}else if(f.type==="ObjectExpression"){for(var w={},h=0;h<f.properties.length;h++){var g=f.properties[h],b=g.value===null?g.value:c(g.value);if(b===u)return u;w[g.key.value||g.key.name]=b}return w}else if(f.type==="BinaryExpression"||f.type==="LogicalExpression"){var v=c(f.left);if(v===u)return u;var _=c(f.right);if(_===u)return u;var x=f.operator;return x==="=="?v==_:x==="==="?v===_:x==="!="?v!=_:x==="!=="?v!==_:x==="+"?v+_:x==="-"?v-_:x==="*"?v*_:x==="/"?v/_:x==="%"?v%_:x==="<"?v<_:x==="<="?v<=_:x===">"?v>_:x===">="?v>=_:x==="|"?v|_:x==="&"?v&_:x==="^"?v^_:x==="&&"?v&&_:x==="||"?v||_:u}else{if(f.type==="Identifier")return{}.hasOwnProperty.call(o,f.name)?o[f.name]:u;if(f.type==="ThisExpression")return{}.hasOwnProperty.call(o,"this")?o.this:u;if(f.type==="CallExpression"){var E=c(f.callee);if(E===u||typeof E!="function")return u;var C=f.callee.object?c(f.callee.object):u;C===u&&(C=null);for(var $=[],h=0,v=f.arguments.length;h<v;h++){var y=c(f.arguments[h]);if(y===u)return u;$.push(y)}return E.apply(C,$)}else if(f.type==="MemberExpression"){var w=c(f.object);if(w===u||typeof w=="function")return u;if(f.property.type==="Identifier")return w[f.property.name];var g=c(f.property);return g===u?u:w[g]}else if(f.type==="ConditionalExpression"){var p=c(f.test);return p===u?u:c(p?f.consequent:f.alternate)}else if(f.type==="ExpressionStatement"){var p=c(f.expression);return p===u?u:p}else{if(f.type==="ReturnStatement")return c(f.argument);if(f.type==="FunctionExpression"){var D=f.body.body,N={};Object.keys(o).forEach(function(R){N[R]=o[R]});for(var h=0;h<f.params.length;h++){var k=f.params[h];if(k.type=="Identifier")o[k.name]=null;else return u}for(var h in D)if(c(D[h])===u)return u;o=N;var P=Object.keys(o),U=P.map(function(R){return o[R]});return Function(P.join(", "),"return "+a(f)).apply(null,U)}else if(f.type==="TemplateLiteral"){for(var L="",h=0;h<f.expressions.length;h++)L+=c(f.quasis[h]),L+=c(f.expressions[h]);return L+=c(f.quasis[h]),L}else if(f.type==="TaggedTemplateExpression"){var B=c(f.tag),O=f.quasi,T=O.quasis.map(c),j=O.expressions.map(c);return B.apply(null,[T].concat(j))}else return f.type==="TemplateElement"?f.value.cooked:u}}}(s);return l===u?void 0:l}},{escodegen:12}],jsonpath:[function(r,n,i){n.exports=r("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")})})(MR);var hfe=MR.exports;const Tx=el(hfe),yo=hi("meta",()=>{const e=Pe(""),t=Pe(""),r=Pe(""),n=Pe(""),i=Pe(""),a=Pe({}),s=Pe(),o=Gs({isOwner:!1,isGM:!1});return{id:e,name:t,avatar:r,bio:n,gmNotes:i,token:a,permissions:o,campaignId:s,dehydrate:()=>({name:t.value,avatar:r.value,bio:n.value,gmNotes:i.value,campaignId:s.value}),hydrate:c=>{c&&(e.value=c.id??e.value,t.value=c.name??t.value,r.value=c.avatar??r.value,n.value=c.bio??n.value,i.value=c.gmNotes??i.value,a.value=c.token??a.value)}}}),rn=e=>{if(!e.every(n=>"_id"in n))throw new Error("Tried to objectify an array, but not every item had ids");const r={};return e.forEach((n,i)=>{const{_id:a,...s}=n;r[a]={...s,arrayPosition:i}}),r},Hr=e=>{if(!e)return[];const t=[];return Object.keys(e).forEach(n=>{if(e[n]){const i=e[n].arrayPosition,a={_id:n,...e[n],arrayPosition:void 0};t[i]=a}}),t.filter(n=>n)},ur=e=>e.reduce((t,r,n)=>(t[n]=r,t),{}),ar=e=>e?Object.keys(e).map(t=>[parseInt(t),e[t]]).sort((t,r)=>t[0]-r[0]).map(([,t])=>t):[];let ay;const vfe=new Uint8Array(16);function gfe(){if(!ay&&(ay=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ay))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ay(vfe)}const oa=[];for(let e=0;e<256;++e)oa.push((e+256).toString(16).slice(1));function yfe(e,t=0){return oa[e[t+0]]+oa[e[t+1]]+oa[e[t+2]]+oa[e[t+3]]+"-"+oa[e[t+4]]+oa[e[t+5]]+"-"+oa[e[t+6]]+oa[e[t+7]]+"-"+oa[e[t+8]]+oa[e[t+9]]+"-"+oa[e[t+10]]+oa[e[t+11]]+oa[e[t+12]]+oa[e[t+13]]+oa[e[t+14]]+oa[e[t+15]]}const bfe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fk={randomUUID:bfe};function Ct(e,t,r){if(Fk.randomUUID&&!t&&!e)return Fk.randomUUID();e=e||{};const n=e.random||(e.rng||gfe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return yfe(n)}const _fe=["strength","dexterity","constitution","intelligence","wisdom","charisma"],Afe=["ammunition","weapon","magic-item-consumable","magic-item-miscellaneous","magic-item-weapon","magic-item-armor","magic-item-wondrous","armor","survival-gear","vehicle","equipment","tool"],wfe=["blinded","charmed","deafened","diseased","exhaustion","frightened","grappled","incapacitated","invisible","paralyzed","petrified","poisoned","prone","restrained","stunned","unconscious"],xfe=["common","dwarvish","elvish","giant","gnomish","goblin","halfling","orc","abyssal","celestial","draconic","infernal","primordial","sylvan","undercommon"],Sfe=["light-armor","medium-armor","heavy-armor","shields"],Efe=["simple-weapons","martial-weapons","simple-firearms","martial-firearms","improvised-weapons","thrown-weapons","hand-crossbow","rapier","shortsword","longsword","blackpowder-pistols"],Cfe=["alchemist-supplies","brewer-supplies","calligrapher-supplies","carpenter-tools","cartographer-tools","cobbler-tools","cook-utensils","glassblower-tools","jeweler-tools","leatherworker-tools","mason-tools","painter-supplies","potter-tools","smith-tools","tinker-tools","weaver-tools","woodcarver-tools","dice-set","playing-card-set","bagpipes","drum","dulcimer","flute","lute","lyre","horn","pan-flute","shawm","viol","navigator-tools","thieves-tools"],$fe=[{text:"attunement",isDefault:!0},{text:"magical",isDefault:!0},{text:"treasure",isDefault:!0}],Nfe=["cp","sp","gp","ep","pp"],Mb=["acid","bludgeoning","cold","fire","force","lightning","necrotic","piercing","poison","psychic","radiant","slashing","thunder","ability","untyped"],Dfe=[...Mb,"healing","temporary-hit-points"],Je={abilities:_fe,baseDC:8,currencyTypes:Nfe,equipmentTypes:Afe,challengeRatingPB:{0:2,"1/8":2,"1/4":2,"1/2":2,1:2,2:2,3:2,4:2,5:3,6:3,7:3,8:3,9:4,10:4,11:4,12:4,13:5,14:5,15:5,16:5,17:6,18:6,19:6,20:6,21:7,22:7,23:7,24:7,25:8,26:8,27:8,28:8,29:9,30:9},challengeRatingXP:{0:10,"1/8":25,"1/4":50,"1/2":100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},hitDieSize:["1d4","1d6","1d8","1d10","1d12"],sizes:["tiny","small","medium","large","huge","gargantuan"],senses:["blindsight","darkvision","tremorsense","truesight"],skills:{acrobatics:{ability:"dexterity"},"animal-handling":{ability:"wisdom"},arcana:{ability:"intelligence"},athletics:{ability:"strength"},deception:{ability:"charisma"},history:{ability:"intelligence"},insight:{ability:"wisdom"},intimidation:{ability:"charisma"},investigation:{ability:"intelligence"},medicine:{ability:"wisdom"},nature:{ability:"intelligence"},perception:{ability:"wisdom"},performance:{ability:"charisma"},persuasion:{ability:"charisma"},religion:{ability:"intelligence"},"sleight-of-hand":{ability:"dexterity"},stealth:{ability:"dexterity"},survival:{ability:"wisdom"}},speeds:["walk","burrow","swim","climb","fly"],spellComponents:["verbal","somatic","material"],spellLevels:[0,1,2,3,4,5,6,7,8,9],spellSchools:["abjuration","conjuration","divination","enchantment","evocation","illusion","necromancy","transmutation"],casterTypes:{full:{multiclassMultiplier:1,slots:[[2,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,3,0,0,0,0,0,0],[4,3,3,1,0,0,0,0,0],[4,3,3,2,0,0,0,0,0],[4,3,3,3,1,0,0,0,0],[4,3,3,3,2,0,0,0,0],[4,3,3,3,2,1,0,0,0],[4,3,3,3,2,1,0,0,0],[4,3,3,3,2,1,1,0,0],[4,3,3,3,2,1,1,0,0],[4,3,3,3,2,1,1,1,0],[4,3,3,3,2,1,1,1,0],[4,3,3,3,2,1,1,1,1],[4,3,3,3,3,1,1,1,1],[4,3,3,3,3,2,1,1,1],[4,3,3,3,3,2,2,1,1]]},half:{multiclassMultiplier:.5,slots:[[0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,3,0,0,0,0,0,0],[4,3,3,0,0,0,0,0,0],[4,3,3,1,0,0,0,0,0],[4,3,3,1,0,0,0,0,0],[4,3,3,2,0,0,0,0,0],[4,3,3,2,0,0,0,0,0],[4,3,3,3,1,0,0,0,0],[4,3,3,3,1,0,0,0,0],[4,3,3,3,2,0,0,0,0],[4,3,3,3,2,0,0,0,0]]},pact:{slots:[[1,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,0,0,0],[0,2,0,0,0,0,0,0,0],[0,2,0,0,0,0,0,0,0],[0,0,2,0,0,0,0,0,0],[0,0,2,0,0,0,0,0,0],[0,0,0,2,0,0,0,0,0],[0,0,0,2,0,0,0,0,0],[0,0,0,0,2,0,0,0,0],[0,0,0,0,2,0,0,0,0],[0,0,0,0,3,0,0,0,0],[0,0,0,0,3,0,0,0,0],[0,0,0,0,3,0,0,0,0],[0,0,0,0,3,0,0,0,0],[0,0,0,0,3,0,0,0,0],[0,0,0,0,3,0,0,0,0],[0,0,0,0,4,0,0,0,0],[0,0,0,0,4,0,0,0,0],[0,0,0,0,4,0,0,0,0],[0,0,0,0,4,0,0,0,0]]},third:{multiclassMultiplier:.3333333333333333,slots:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,3,0,0,0,0,0,0],[4,3,3,0,0,0,0,0,0],[4,3,3,1,0,0,0,0,0],[4,3,3,1,0,0,0,0,0]]}},casterMulticlassing:[[2,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0],[4,2,0,0,0,0,0,0,0],[4,3,0,0,0,0,0,0,0],[4,3,2,0,0,0,0,0,0],[4,3,3,0,0,0,0,0,0],[4,3,3,1,0,0,0,0,0],[4,3,3,2,0,0,0,0,0],[4,3,3,3,1,0,0,0,0],[4,3,3,3,2,0,0,0,0],[4,3,3,3,2,1,0,0,0],[4,3,3,3,2,1,0,0,0],[4,3,3,3,2,1,1,0,0],[4,3,3,3,2,1,1,0,0],[4,3,3,3,2,1,1,1,0],[4,3,3,3,2,1,1,1,0],[4,3,3,3,2,1,1,1,1],[4,3,3,3,3,1,1,1,1],[4,3,3,3,3,2,1,1,1],[4,3,3,3,3,2,2,1,1]],damageTypes:Mb,dicePoolTypes:Dfe,autocomplete:{conditions:wfe,damageTypes:Mb,languages:xfe,armorProficiencies:Sfe,weaponProficiencies:Efe,toolProficiencies:Cfe,equipmentTags:$fe}},PR=(e,t,r)=>{const i=Array.isArray(r[0])?r:[r];for(const a of i){const s=a.find(o=>o[e]===t);if(s)return s}},Ud=(e,t)=>PR("_id",e,t),Ga=(e,t)=>PR("label",e,t),ki=hi("tags",()=>{const e=Pe([]),t=Oe(()=>{const u=new Map;return e.value.forEach(l=>{if(l.category){u.has(l.category)||u.set(l.category,new Set);const c=u.get(l.category);l.tags.forEach(f=>c.add(f.text))}}),u}),r=(u,l)=>{const c=e.value.find(f=>f._id===u);return c?c.tags.some(f=>f.text.toLowerCase()===l.toLowerCase()):!1},n=(u,l)=>{let c=e.value.find(f=>f._id===u);return c?l&&!c.category&&(c.category=l):(c={_id:u,tags:[],category:l},e.value.push(c)),c};return{tagGroups:e,tagsByCategory:t,getExistingOrCreate:n,update:u=>{const l=e.value.findIndex(c=>c._id===u._id);if(l===-1){const c=n(u._id,u.category);Object.assign(c,u)}else{const c={...e.value[l],...u};e.value[l]=c}},remove:u=>{const l=e.value.findIndex(c=>c._id===u);l>-1&&e.value.splice(l,1)},dehydrate:()=>{const u=e.value.map(l=>({...l,tags:rn(l.tags)}));return{tagGroups:rn(u)}},hydrate:u=>{u?.tagGroups&&(e.value=Hr(u.tagGroups).map(l=>({...l,tags:Hr(l.tags)})))},groupHasTag:r}}),BR=Object.freeze({status:"aborted"});function We(e,t,r){function n(o,u){var l;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(l=o._zod).traits??(l.traits=new Set),o._zod.traits.add(e),t(o,u);for(const c in s.prototype)c in o||Object.defineProperty(o,c,{value:s.prototype[c].bind(o)});o._zod.constr=s,o._zod.def=u}const i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(o){var u;const l=r?.Parent?new a:this;n(l,o),(u=l._zod).deferred??(u.deferred=[]);for(const c of l._zod.deferred)c();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}const LR=Symbol("zod_brand");class Fm extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Pb={};function Xa(e){return e&&Object.assign(Pb,e),Pb}function Tfe(e){return e}function kfe(e){return e}function Ife(e){}function Ofe(e){throw new Error}function Mfe(e){}function yC(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function Dt(e,t="|"){return e.map(r=>Ur(r)).join(t)}function FR(e,t){return typeof t=="bigint"?t.toString():t}function _2(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ip(e){return e==null}function A2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function RR(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}function _n(e,t,r){Object.defineProperty(e,t,{get(){{const n=r();return e[t]=n,n}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Sh(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Pfe(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}function Bfe(e){const t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{const i={};for(let a=0;a<t.length;a++)i[t[a]]=n[a];return i})}function bC(e=10){const t="abcdefghijklmnopqrstuvwxyz";let r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function om(e){return JSON.stringify(e)}const _C=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Av(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const UR=_2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function wv(e){if(Av(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Av(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Lfe(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}const Ffe=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},Bb=new Set(["string","number","symbol"]),zR=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ap(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tl(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function pt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Rfe(e){let t;return new Proxy({},{get(r,n,i){return t??(t=e()),Reflect.get(t,n,i)},set(r,n,i,a){return t??(t=e()),Reflect.set(t,n,i,a)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,i){return t??(t=e()),Reflect.defineProperty(t,n,i)}})}function Ur(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function qR(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const jR={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},VR={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function HR(e,t){const r={},n=e._zod.def;for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(r[i]=n.shape[i])}return tl(e,{...e._zod.def,shape:r,checks:[]})}function GR(e,t){const r={...e._zod.def.shape},n=e._zod.def;for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete r[i]}return tl(e,{...e._zod.def,shape:r,checks:[]})}function ZR(e,t){if(!wv(t))throw new Error("Invalid input to extend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Sh(this,"shape",n),n},checks:[]};return tl(e,r)}function WR(e,t){return tl(e,{...e._zod.def,get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Sh(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function KR(e,t,r){const n=t._zod.def.shape,i={...n};if(r)for(const a in r){if(!(a in n))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=e?new e({type:"optional",innerType:n[a]}):n[a])}else for(const a in n)i[a]=e?new e({type:"optional",innerType:n[a]}):n[a];return tl(t,{...t._zod.def,shape:i,checks:[]})}function JR(e,t,r){const n=t._zod.def.shape,i={...n};if(r)for(const a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=new e({type:"nonoptional",innerType:n[a]}))}else for(const a in n)i[a]=new e({type:"nonoptional",innerType:n[a]});return tl(t,{...t._zod.def,shape:i,checks:[]})}function xm(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function fo(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function q0(e){return typeof e=="string"?e:e?.message}function nu(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=q0(e.inst?._zod.def?.error?.(e))??q0(t?.error?.(e))??q0(r.customError?.(e))??q0(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function w2(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function x2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Rm(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}function Ufe(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}class zfe{constructor(...t){}}const qfe=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:VR,Class:zfe,NUMBER_FORMAT_RANGES:jR,aborted:xm,allowsEval:UR,assert:Mfe,assertEqual:Tfe,assertIs:Ife,assertNever:Ofe,assertNotEqual:kfe,assignProp:Sh,cached:_2,captureStackTrace:_C,cleanEnum:Ufe,cleanRegex:A2,clone:tl,createTransparentProxy:Rfe,defineLazy:_n,esc:om,escapeRegex:ap,extend:ZR,finalizeIssue:nu,floatSafeRemainder:RR,getElementAtPath:Pfe,getEnumValues:yC,getLengthableOrigin:x2,getParsedType:Ffe,getSizableOrigin:w2,isObject:Av,isPlainObject:wv,issue:Rm,joinValues:Dt,jsonStringifyReplacer:FR,merge:WR,normalizeParams:pt,nullish:ip,numKeys:Lfe,omit:GR,optionalKeys:qR,partial:KR,pick:HR,prefixIssues:fo,primitiveTypes:zR,promiseAllObject:Bfe,propertyKeyTypes:Bb,randomString:bC,required:JR,stringifyPrimitive:Ur,unwrapMessage:q0},Symbol.toStringTag,{value:"Module"})),YR=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,FR,2)},enumerable:!0})},AC=We("$ZodError",YR),cg=We("$ZodError",YR,{Parent:Error});function wC(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function xC(e,t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>i({issues:o}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const l=s.path[u];u===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(s))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return i(e),n}function XR(e,t){const r=t||function(a){return a.message},n={errors:[]},i=(a,s=[])=>{var o,u;for(const l of a.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>i({issues:c},l.path));else if(l.code==="invalid_key")i({issues:l.issues},l.path);else if(l.code==="invalid_element")i({issues:l.issues},l.path);else{const c=[...s,...l.path];if(c.length===0){n.errors.push(r(l));continue}let f=n,d=0;for(;d<c.length;){const p=c[d],m=d===c.length-1;typeof p=="string"?(f.properties??(f.properties={}),(o=f.properties)[p]??(o[p]={errors:[]}),f=f.properties[p]):(f.items??(f.items=[]),(u=f.items)[p]??(u[p]={errors:[]}),f=f.items[p]),m&&f.errors.push(r(l)),d++}}};return i(e),n}function QR(e){const t=[];for(const r of e)typeof r=="number"?t.push(`[${r}]`):typeof r=="symbol"?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function eU(e){const t=[],r=[...e.issues].sort((n,i)=>n.path.length-i.path.length);for(const n of r)t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${QR(n.path)}`);return t.join(`
`)}const SC=e=>(t,r,n,i)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new Fm;if(s.issues.length){const o=new(i?.Err??e)(s.issues.map(u=>nu(u,a,Xa())));throw _C(o,i?.callee),o}return s.value},k3=SC(cg),EC=e=>async(t,r,n,i)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(i?.Err??e)(s.issues.map(u=>nu(u,a,Xa())));throw _C(o,i?.callee),o}return s.value},I3=EC(cg),CC=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new Fm;return a.issues.length?{success:!1,error:new(e??AC)(a.issues.map(s=>nu(s,i,Xa())))}:{success:!0,data:a.value}},tU=CC(cg),$C=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>nu(s,i,Xa())))}:{success:!0,data:a.value}},rU=$C(cg),nU=/^[cC][^\s-]{8,}$/,iU=/^[0-9a-z]+$/,aU=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,sU=/^[0-9a-vA-V]{20}$/,oU=/^[A-Za-z0-9]{27}$/,uU=/^[a-zA-Z0-9_-]{21}$/,lU=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,jfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cU=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Um=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Vfe=Um(4),Hfe=Um(6),Gfe=Um(7),fU=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Zfe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wfe=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Kfe=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Jfe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function pU(){return new RegExp(dU,"u")}const mU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hU=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,vU=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,gU=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yU=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,NC=/^[A-Za-z0-9_-]*$/,bU=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Yfe=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,_U=/^\+(?:[0-9]){6,14}[0-9]$/,AU="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wU=new RegExp(`^${AU}$`);function xU(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function SU(e){return new RegExp(`^${xU(e)}$`)}function EU(e){const t=xU({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${AU}T(?:${n})$`)}const CU=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},$U=/^\d+n?$/,NU=/^\d+$/,DU=/^-?\d+(?:\.\d+)?/i,TU=/true|false/i,kU=/null/i,IU=/undefined/i,OU=/^[^A-Z]*$/,MU=/^[^a-z]*$/,PU=Object.freeze(Object.defineProperty({__proto__:null,_emoji:dU,base64:yU,base64url:NC,bigint:$U,boolean:TU,browserEmail:Jfe,cidrv4:vU,cidrv6:gU,cuid:nU,cuid2:iU,date:wU,datetime:EU,domain:Yfe,duration:lU,e164:_U,email:fU,emoji:pU,extendedDuration:jfe,guid:cU,hostname:bU,html5Email:Zfe,integer:NU,ipv4:mU,ipv6:hU,ksuid:oU,lowercase:OU,nanoid:uU,null:kU,number:DU,rfc5322Email:Wfe,string:CU,time:SU,ulid:aU,undefined:IU,unicodeEmail:Kfe,uppercase:MU,uuid:Um,uuid4:Vfe,uuid6:Hfe,uuid7:Gfe,xid:sU},Symbol.toStringTag,{value:"Module"})),Ei=We("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),BU={number:"number",bigint:"bigint",object:"date"},DC=We("$ZodCheckLessThan",(e,t)=>{Ei.init(e,t);const r=BU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),TC=We("$ZodCheckGreaterThan",(e,t)=>{Ei.init(e,t);const r=BU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),LU=We("$ZodCheckMultipleOf",(e,t)=>{Ei.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):RR(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),FU=We("$ZodCheckNumberFormat",(e,t)=>{Ei.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[i,a]=jR[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=i,o.maximum=a,r&&(o.pattern=NU)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),RU=We("$ZodCheckBigIntFormat",(e,t)=>{Ei.init(e,t);const[r,n]=VR[t.format];e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,a.minimum=r,a.maximum=n}),e._zod.check=i=>{const a=i.value;a<r&&i.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>n&&i.issues.push({origin:"bigint",input:a,code:"too_big",maximum:n,inst:e})}}),UU=We("$ZodCheckMaxSize",(e,t)=>{Ei.init(e,t),e._zod.when=r=>{const n=r.value;return!ip(n)&&n.size!==void 0},e._zod.onattach.push(r=>{const n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const n=r.value;n.size<=t.maximum||r.issues.push({origin:w2(n),code:"too_big",maximum:t.maximum,input:n,inst:e,continue:!t.abort})}}),zU=We("$ZodCheckMinSize",(e,t)=>{Ei.init(e,t),e._zod.when=r=>{const n=r.value;return!ip(n)&&n.size!==void 0},e._zod.onattach.push(r=>{const n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const n=r.value;n.size>=t.minimum||r.issues.push({origin:w2(n),code:"too_small",minimum:t.minimum,input:n,inst:e,continue:!t.abort})}}),qU=We("$ZodCheckSizeEquals",(e,t)=>{Ei.init(e,t),e._zod.when=r=>{const n=r.value;return!ip(n)&&n.size!==void 0},e._zod.onattach.push(r=>{const n=r._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=r=>{const n=r.value,i=n.size;if(i===t.size)return;const a=i>t.size;r.issues.push({origin:w2(n),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),jU=We("$ZodCheckMaxLength",(e,t)=>{Ei.init(e,t),e._zod.when=r=>{const n=r.value;return!ip(n)&&n.length!==void 0},e._zod.onattach.push(r=>{const n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const n=r.value;if(n.length<=t.maximum)return;const a=x2(n);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),VU=We("$ZodCheckMinLength",(e,t)=>{Ei.init(e,t),e._zod.when=r=>{const n=r.value;return!ip(n)&&n.length!==void 0},e._zod.onattach.push(r=>{const n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const n=r.value;if(n.length>=t.minimum)return;const a=x2(n);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),HU=We("$ZodCheckLengthEquals",(e,t)=>{Ei.init(e,t),e._zod.when=r=>{const n=r.value;return!ip(n)&&n.length!==void 0},e._zod.onattach.push(r=>{const n=r._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=r=>{const n=r.value,i=n.length;if(i===t.length)return;const a=x2(n),s=i>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),fg=We("$ZodCheckStringFormat",(e,t)=>{var r,n;Ei.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),GU=We("$ZodCheckRegex",(e,t)=>{fg.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ZU=We("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=OU),fg.init(e,t)}),WU=We("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=MU),fg.init(e,t)}),KU=We("$ZodCheckIncludes",(e,t)=>{Ei.init(e,t);const r=ap(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),JU=We("$ZodCheckStartsWith",(e,t)=>{Ei.init(e,t);const r=new RegExp(`^${ap(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),YU=We("$ZodCheckEndsWith",(e,t)=>{Ei.init(e,t);const r=new RegExp(`.*${ap(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function Rk(e,t,r){e.issues.length&&t.issues.push(...fo(r,e.issues))}const XU=We("$ZodCheckProperty",(e,t)=>{Ei.init(e,t),e._zod.check=r=>{const n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>Rk(i,r,t.property));Rk(n,r,t.property)}}),QU=We("$ZodCheckMimeType",(e,t)=>{Ei.init(e,t);const r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e})}}),ez=We("$ZodCheckOverwrite",(e,t)=>{Ei.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class tz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),a=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,i.join(`
`))}}const rz={major:4,minor:0,patch:0},Er=We("$ZodType",(e,t)=>{var r;e??(e={}),_n(e._zod,"id",()=>t.type+"_"+bC(10)),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=rz;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const a of i._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(a,s,o)=>{let u=xm(a),l;for(const c of s){if(c._zod.when){if(!c._zod.when(a))continue}else if(u)continue;const f=a.issues.length,d=c._zod.check(a);if(d instanceof Promise&&o?.async===!1)throw new Fm;if(l||d instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await d,a.issues.length!==f&&(u||(u=xm(a,f)))});else{if(a.issues.length===f)continue;u||(u=xm(a,f))}}return l?l.then(()=>a):a};e._zod.run=(a,s)=>{const o=e._zod.parse(a,s);if(o instanceof Promise){if(s.async===!1)throw new Fm;return o.then(u=>i(u,n,s))}return i(o,n,s)}}e["~standard"]={validate:i=>{try{const a=tU(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return rU(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),dg=We("$ZodString",(e,t)=>{Er.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??CU(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Zn=We("$ZodStringFormat",(e,t)=>{fg.init(e,t),dg.init(e,t)}),nz=We("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=cU),Zn.init(e,t)}),iz=We("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Um(n))}else t.pattern??(t.pattern=Um());Zn.init(e,t)}),az=We("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=fU),Zn.init(e,t)}),sz=We("$ZodURL",(e,t)=>{Zn.init(e,t),e._zod.check=r=>{try{const n=new URL(r.value);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:bU.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort}));return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),oz=We("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=pU()),Zn.init(e,t)}),uz=We("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=uU),Zn.init(e,t)}),lz=We("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=nU),Zn.init(e,t)}),cz=We("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=iU),Zn.init(e,t)}),fz=We("$ZodULID",(e,t)=>{t.pattern??(t.pattern=aU),Zn.init(e,t)}),dz=We("$ZodXID",(e,t)=>{t.pattern??(t.pattern=sU),Zn.init(e,t)}),pz=We("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=oU),Zn.init(e,t)}),mz=We("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=EU(t)),Zn.init(e,t)}),hz=We("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wU),Zn.init(e,t)}),vz=We("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=SU(t)),Zn.init(e,t)}),gz=We("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=lU),Zn.init(e,t)}),yz=We("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=mU),Zn.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),bz=We("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=hU),Zn.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),_z=We("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=vU),Zn.init(e,t)}),Az=We("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=gU),Zn.init(e,t),e._zod.check=r=>{const[n,i]=r.value.split("/");try{if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function kC(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const wz=We("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=yU),Zn.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{kC(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function xz(e){if(!NC.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return kC(r)}const Sz=We("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=NC),Zn.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{xz(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Ez=We("$ZodE164",(e,t)=>{t.pattern??(t.pattern=_U),Zn.init(e,t)});function Cz(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const $z=We("$ZodJWT",(e,t)=>{Zn.init(e,t),e._zod.check=r=>{Cz(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Nz=We("$ZodCustomStringFormat",(e,t)=>{Zn.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),IC=We("$ZodNumber",(e,t)=>{Er.init(e,t),e._zod.pattern=e._zod.bag.pattern??DU,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),Dz=We("$ZodNumber",(e,t)=>{FU.init(e,t),IC.init(e,t)}),OC=We("$ZodBoolean",(e,t)=>{Er.init(e,t),e._zod.pattern=TU,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),MC=We("$ZodBigInt",(e,t)=>{Er.init(e,t),e._zod.pattern=$U,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),Tz=We("$ZodBigInt",(e,t)=>{RU.init(e,t),MC.init(e,t)}),kz=We("$ZodSymbol",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),r}}),Iz=We("$ZodUndefined",(e,t)=>{Er.init(e,t),e._zod.pattern=IU,e._zod.values=new Set([void 0]),e._zod.parse=(r,n)=>{const i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),r}}),Oz=We("$ZodNull",(e,t)=>{Er.init(e,t),e._zod.pattern=kU,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}}),Mz=We("$ZodAny",(e,t)=>{Er.init(e,t),e._zod.parse=r=>r}),Lb=We("$ZodUnknown",(e,t)=>{Er.init(e,t),e._zod.parse=r=>r}),Pz=We("$ZodNever",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),Bz=We("$ZodVoid",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),r}}),Lz=We("$ZodDate",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}const i=r.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...a?{received:"Invalid Date"}:{},inst:e}),r}});function Uk(e,t,r){e.issues.length&&t.issues.push(...fo(r,e.issues)),t.value[r]=e.value}const PC=We("$ZodArray",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const o=i[s],u=t.element._zod.run({value:o,issues:[]},n);u instanceof Promise?a.push(u.then(l=>Uk(l,r,s))):Uk(u,r,s)}return a.length?Promise.all(a).then(()=>r):r}});function sy(e,t,r){e.issues.length&&t.issues.push(...fo(r,e.issues)),t.value[r]=e.value}function zk(e,t,r,n){e.issues.length?n[r]===void 0?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...fo(r,e.issues)):e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const Fz=We("$ZodObject",(e,t)=>{Er.init(e,t);const r=_2(()=>{const f=Object.keys(t.shape);for(const p of f)if(!(t.shape[p]instanceof Er))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const d=qR(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(d)}});_n(e._zod,"propValues",()=>{const f=t.shape,d={};for(const p in f){const m=f[p]._zod;if(m.values){d[p]??(d[p]=new Set);for(const h of m.values)d[p].add(h)}}return d});const n=f=>{const d=new tz(["shape","payload","ctx"]),p=r.value,m=y=>{const w=om(y);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};d.write("const input = payload.value;");const h=Object.create(null);for(const y of p.keys)h[y]=bC(15);d.write("const newResult = {}");for(const y of p.keys)if(p.optionalKeys.has(y)){const w=h[y];d.write(`const ${w} = ${m(y)};`);const g=om(y);d.write(`
        if (${w}.issues.length) {
          if (input[${g}] === undefined) {
            if (${g} in input) {
              newResult[${g}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${w}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${g}, ...iss.path] : [${g}],
              }))
            );
          }
        } else if (${w}.value === undefined) {
          if (${g} in input) newResult[${g}] = undefined;
        } else {
          newResult[${g}] = ${w}.value;
        }
        `)}else{const w=h[y];d.write(`const ${w} = ${m(y)};`),d.write(`
          if (${w}.issues.length) payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${om(y)}, ...iss.path] : [${om(y)}]
          })));`),d.write(`newResult[${om(y)}] = ${w}.value`)}d.write("payload.value = newResult;"),d.write("return payload;");const v=d.compile();return(y,w)=>v(f,y,w)};let i;const a=Av,s=!Pb.jitless,u=s&&UR.value,l=t.catchall;let c;e._zod.parse=(f,d)=>{c??(c=r.value);const p=f.value;if(!a(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),f;const m=[];if(s&&u&&d?.async===!1&&d.jitless!==!0)i||(i=n(t.shape)),f=i(f,d);else{f.value={};const g=c.shape;for(const b of c.keys){const _=g[b],x=_._zod.run({value:p[b],issues:[]},d),E=_._zod.optin==="optional"&&_._zod.optout==="optional";x instanceof Promise?m.push(x.then(C=>E?zk(C,f,b,p):sy(C,f,b))):E?zk(x,f,b,p):sy(x,f,b)}}if(!l)return m.length?Promise.all(m).then(()=>f):f;const h=[],v=c.keySet,y=l._zod,w=y.def.type;for(const g of Object.keys(p)){if(v.has(g))continue;if(w==="never"){h.push(g);continue}const b=y.run({value:p[g],issues:[]},d);b instanceof Promise?m.push(b.then(_=>sy(_,f,g))):sy(b,f,g)}return h.length&&f.issues.push({code:"unrecognized_keys",keys:h,input:p,inst:e}),m.length?Promise.all(m).then(()=>f):f}});function qk(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(a=>nu(a,n,Xa())))}),t}const BC=We("$ZodUnion",(e,t)=>{Er.init(e,t),_n(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),_n(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>A2(n.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let i=!1;const a=[];for(const s of t.options){const o=s._zod.run({value:r.value,issues:[]},n);if(o instanceof Promise)a.push(o),i=!0;else{if(o.issues.length===0)return o;a.push(o)}}return i?Promise.all(a).then(s=>qk(s,r,e,n)):qk(a,r,e,n)}}),Rz=We("$ZodDiscriminatedUnion",(e,t)=>{BC.init(e,t);const r=e._zod.parse;_n(e._zod,"propValues",()=>{const i={};for(const a of t.options){const s=a._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const[o,u]of Object.entries(s)){i[o]||(i[o]=new Set);for(const l of u)i[o].add(l)}}return i});const n=_2(()=>{const i=t.options,a=new Map;for(const s of i){const o=s._zod.propValues[t.discriminator];if(!o||o.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const u of o){if(a.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);a.set(u,s)}}return a});e._zod.parse=(i,a)=>{const s=i.value;if(!Av(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const o=n.value.get(s?.[t.discriminator]);return o?o._zod.run(i,a):t.unionFallback?r(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[t.discriminator],inst:e}),i)}}),Uz=We("$ZodIntersection",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,a=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([u,l])=>jk(r,u,l)):jk(r,a,s)}});function O3(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(wv(e)&&wv(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of n){const s=O3(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=t[n],s=O3(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function jk(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),xm(e))return e;const n=O3(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const S2=We("$ZodTuple",(e,t)=>{Er.init(e,t);const r=t.items,n=r.length-[...r].reverse().findIndex(i=>i._zod.optin!=="optional");e._zod.parse=(i,a)=>{const s=i.value;if(!Array.isArray(s))return i.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];const o=[];if(!t.rest){const l=s.length>r.length,c=s.length<n-1;if(l||c)return i.issues.push({input:s,inst:e,origin:"array",...l?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),i}let u=-1;for(const l of r){if(u++,u>=s.length&&u>=n)continue;const c=l._zod.run({value:s[u],issues:[]},a);c instanceof Promise?o.push(c.then(f=>oy(f,i,u))):oy(c,i,u)}if(t.rest){const l=s.slice(r.length);for(const c of l){u++;const f=t.rest._zod.run({value:c,issues:[]},a);f instanceof Promise?o.push(f.then(d=>oy(d,i,u))):oy(f,i,u)}}return o.length?Promise.all(o).then(()=>i):i}});function oy(e,t,r){e.issues.length&&t.issues.push(...fo(r,e.issues)),t.value[r]=e.value}const zz=We("$ZodRecord",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!wv(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;const a=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;r.value={};for(const u of s)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const l=t.valueType._zod.run({value:i[u],issues:[]},n);l instanceof Promise?a.push(l.then(c=>{c.issues.length&&r.issues.push(...fo(u,c.issues)),r.value[u]=c.value})):(l.issues.length&&r.issues.push(...fo(u,l.issues)),r.value[u]=l.value)}let o;for(const u in i)s.has(u)||(o=o??[],o.push(u));o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:o})}else{r.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const o=t.keyType._zod.run({value:s,issues:[]},n);if(o instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:o.issues.map(l=>nu(l,n,Xa())),input:s,path:[s],inst:e}),r.value[o.value]=o.value;continue}const u=t.valueType._zod.run({value:i[s],issues:[]},n);u instanceof Promise?a.push(u.then(l=>{l.issues.length&&r.issues.push(...fo(s,l.issues)),r.value[o.value]=l.value})):(u.issues.length&&r.issues.push(...fo(s,u.issues)),r.value[o.value]=u.value)}}return a.length?Promise.all(a).then(()=>r):r}}),qz=We("$ZodMap",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;const a=[];r.value=new Map;for(const[s,o]of i){const u=t.keyType._zod.run({value:s,issues:[]},n),l=t.valueType._zod.run({value:o,issues:[]},n);u instanceof Promise||l instanceof Promise?a.push(Promise.all([u,l]).then(([c,f])=>{Vk(c,f,r,s,i,e,n)})):Vk(u,l,r,s,i,e,n)}return a.length?Promise.all(a).then(()=>r):r}});function Vk(e,t,r,n,i,a,s){e.issues.length&&(Bb.has(typeof n)?r.issues.push(...fo(n,e.issues)):r.issues.push({origin:"map",code:"invalid_key",input:i,inst:a,issues:e.issues.map(o=>nu(o,s,Xa()))})),t.issues.length&&(Bb.has(typeof n)?r.issues.push(...fo(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:a,key:n,issues:t.issues.map(o=>nu(o,s,Xa()))})),r.value.set(e.value,t.value)}const jz=We("$ZodSet",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;const a=[];r.value=new Set;for(const s of i){const o=t.valueType._zod.run({value:s,issues:[]},n);o instanceof Promise?a.push(o.then(u=>Hk(u,r))):Hk(o,r)}return a.length?Promise.all(a).then(()=>r):r}});function Hk(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const Vz=We("$ZodEnum",(e,t)=>{Er.init(e,t);const r=yC(t.entries);e._zod.values=new Set(r),e._zod.pattern=new RegExp(`^(${r.filter(n=>Bb.has(typeof n)).map(n=>typeof n=="string"?ap(n):n.toString()).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:r,input:a,inst:e}),n}}),Hz=We("$ZodLiteral",(e,t)=>{Er.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?ap(r):r?r.toString():String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),Gz=We("$ZodFile",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),r}}),LC=We("$ZodTransform",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Fm;return r.value=i,r}}),Zz=We("$ZodOptional",(e,t)=>{Er.init(e,t),e._zod.optin="optional",e._zod.optout="optional",_n(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),_n(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${A2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,n):r.value===void 0?r:t.innerType._zod.run(r,n)}),Wz=We("$ZodNullable",(e,t)=>{Er.init(e,t),_n(e._zod,"optin",()=>t.innerType._zod.optin),_n(e._zod,"optout",()=>t.innerType._zod.optout),_n(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${A2(r.source)}|null)$`):void 0}),_n(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Kz=We("$ZodDefault",(e,t)=>{Er.init(e,t),e._zod.optin="optional",_n(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>Gk(a,t)):Gk(i,t)}});function Gk(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Jz=We("$ZodPrefault",(e,t)=>{Er.init(e,t),e._zod.optin="optional",_n(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Yz=We("$ZodNonOptional",(e,t)=>{Er.init(e,t),_n(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>Zk(a,e)):Zk(i,e)}});function Zk(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Xz=We("$ZodSuccess",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),Qz=We("$ZodCatch",(e,t)=>{Er.init(e,t),_n(e._zod,"optin",()=>t.innerType._zod.optin),_n(e._zod,"optout",()=>t.innerType._zod.optout),_n(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>nu(s,n,Xa()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>nu(a,n,Xa()))},input:r.value}),r.issues=[]),r)}}),eq=We("$ZodNaN",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),FC=We("$ZodPipe",(e,t)=>{Er.init(e,t),_n(e._zod,"values",()=>t.in._zod.values),_n(e._zod,"optin",()=>t.in._zod.optin),_n(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(r,n)=>{const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>Wk(a,t,n)):Wk(i,t,n)}});function Wk(e,t,r){return xm(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const tq=We("$ZodReadonly",(e,t)=>{Er.init(e,t),_n(e._zod,"propValues",()=>t.innerType._zod.propValues),_n(e._zod,"optin",()=>t.innerType._zod.optin),_n(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(Kk):Kk(i)}});function Kk(e){return e.value=Object.freeze(e.value),e}const rq=We("$ZodTemplateLiteral",(e,t)=>{Er.init(e,t);const r=[];for(const n of t.parts)if(n instanceof Er){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);const i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${n._zod.traits}`);const a=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(a,s))}else if(n===null||zR.has(typeof n))r.push(ap(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:"template_literal",pattern:e._zod.pattern.source}),n)}),nq=We("$ZodPromise",(e,t)=>{Er.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>t.innerType._zod.run({value:i,issues:[]},n))}),iq=We("$ZodLazy",(e,t)=>{Er.init(e,t),_n(e._zod,"innerType",()=>t.getter()),_n(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),_n(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),_n(e._zod,"optin",()=>e._zod.innerType._zod.optin),_n(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),aq=We("$ZodCustom",(e,t)=>{Ei.init(e,t),Er.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(a=>Jk(a,r,n,e));Jk(i,r,n,e)}});function Jk(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(Rm(i))}}const Xfe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :   ${i.expected}    ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :   ${Ur(i.values[0])}`:`  :     : ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`   :    ${i.origin??""} ${a} ${i.maximum.toString()} ${s.unit??""}`:`  :    ${i.origin??""} ${a} ${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`  :   ${i.origin}   ${a} ${i.minimum.toString()} ${s.unit}`:`  :   ${i.origin}   ${a} ${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`  :     "${i.prefix}"`:a.format==="ends_with"?`  :     "${a.suffix}"`:a.format==="includes"?`  :    "${a.includes}"`:a.format==="regex"?`  :     ${a.pattern}`:`${n[a.format]??i.format}  `}case"not_multiple_of":return`  :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${Dt(i.keys," ")}`;case"invalid_key":return`    ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${i.origin}`;default:return"  "}}};function Qfe(){return{localeError:Xfe()}}const ede=()=>{const e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl dyr: gzlniln ${i.expected}, daxil olan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl dyr: gzlniln ${Ur(i.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`ox byk: gzlniln ${i.origin??"dyr"} ${a}${i.maximum.toString()} ${s.unit??"element"}`:`ox byk: gzlniln ${i.origin??"dyr"} ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`ox kiik: gzlniln ${i.origin} ${a}${i.minimum.toString()} ${s.unit}`:`ox kiik: gzlniln ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Yanl mtn: "${a.prefix}" il balamaldr`:a.format==="ends_with"?`Yanl mtn: "${a.suffix}" il bitmlidir`:a.format==="includes"?`Yanl mtn: "${a.includes}" daxil olmaldr`:a.format==="regex"?`Yanl mtn: ${a.pattern} ablonuna uyun olmaldr`:`Yanl ${n[a.format]??i.format}`}case"not_multiple_of":return`Yanl dd: ${i.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${i.keys.length>1?"lar":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${i.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function tde(){return{localeError:ede()}}function Yk(e,t,r,n){const i=Math.abs(e),a=i%10,s=i%100;return s>=11&&s<=19?n:a===1?t:a>=2&&a<=4?r:n}const rde=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Ur(i.values[0])}`:` :    ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);if(s){const o=Number(i.maximum),u=Yk(o,s.unit.one,s.unit.few,s.unit.many);return` : ,  ${i.origin??""}  ${s.verb} ${a}${i.maximum.toString()} ${u}`}return` : ,  ${i.origin??""}   ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);if(s){const o=Number(i.minimum),u=Yk(o,s.unit.one,s.unit.few,s.unit.many);return` : ,  ${i.origin}  ${s.verb} ${a}${i.minimum.toString()} ${u}`}return` : ,  ${i.origin}   ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` :    "${a.prefix}"`:a.format==="ends_with"?` :    "${a.suffix}"`:a.format==="includes"?` :   "${a.includes}"`:a.format==="regex"?` :    ${a.pattern}`:` ${n[a.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}};function nde(){return{localeError:rde()}}const ide=()=>{const e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invlid: s'esperava ${i.expected}, s'ha rebut ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invlid: s'esperava ${Ur(i.values[0])}`:`Opci invlida: s'esperava una de ${Dt(i.values," o ")}`;case"too_big":{const a=i.inclusive?"com a mxim":"menys de",s=t(i.origin);return s?`Massa gran: s'esperava que ${i.origin??"el valor"} contingus ${a} ${i.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${a} ${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?"com a mnim":"ms de",s=t(i.origin);return s?`Massa petit: s'esperava que ${i.origin} contingus ${a} ${i.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${a} ${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Format invlid: ha de comenar amb "${a.prefix}"`:a.format==="ends_with"?`Format invlid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format invlid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format invlid: ha de coincidir amb el patr ${a.pattern}`:`Format invlid per a ${n[a.format]??i.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Clau invlida a ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${i.origin}`;default:return"Entrada invlida"}}};function ade(){return{localeError:ide()}}const sde=()=>{const e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn vstup: oekvno ${i.expected}, obdreno ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn vstup: oekvno ${Ur(i.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Hodnota je pli velk: ${i.origin??"hodnota"} mus mt ${a}${i.maximum.toString()} ${s.unit??"prvk"}`:`Hodnota je pli velk: ${i.origin??"hodnota"} mus bt ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Hodnota je pli mal: ${i.origin??"hodnota"} mus mt ${a}${i.minimum.toString()} ${s.unit??"prvk"}`:`Hodnota je pli mal: ${i.origin??"hodnota"} mus bt ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Neplatn etzec: mus zanat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn etzec: mus konit na "${a.suffix}"`:a.format==="includes"?`Neplatn etzec: mus obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${a.pattern}`:`Neplatn formt ${n[a.format]??i.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${i.divisor}`;case"unrecognized_keys":return`Neznm kle: ${Dt(i.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${i.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${i.origin}`;default:return"Neplatn vstup"}}};function ode(){return{localeError:sde()}}const ude=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${i.expected}, erhalten ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ungltige Eingabe: erwartet ${Ur(i.values[0])}`:`Ungltige Option: erwartet eine von ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Zu gro: erwartet, dass ${i.origin??"Wert"} ${a}${i.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${i.origin??"Wert"} ${a}${i.maximum.toString()} ist`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Zu klein: erwartet, dass ${i.origin} ${a}${i.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${a}${i.minimum.toString()} ist`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Ungltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ungltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ungltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ungltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ungltig: ${n[a.format]??i.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${i.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${i.origin}`;default:return"Ungltige Eingabe"}}};function lde(){return{localeError:ude()}}const cde=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},fde=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}const r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${cde(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${Ur(n.values[0])}`:`Invalid option: expected one of ${Dt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=t(n.origin);return a?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=t(n.origin);return a?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${a.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${Dt(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function sq(){return{localeError:fde()}}const dde=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nmero";case"object":{if(Array.isArray(i))return"arreglo";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype)return i.constructor.name}}return a},n={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Entrada invlida: se esperaba ${i.expected}, recibido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invlida: se esperaba ${Ur(i.values[0])}`:`Opcin invlida: se esperaba una de ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Demasiado grande: se esperaba que ${i.origin??"valor"} tuviera ${a}${i.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${i.origin??"valor"} fuera ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Demasiado pequeo: se esperaba que ${i.origin} tuviera ${a}${i.minimum.toString()} ${s.unit}`:`Demasiado pequeo: se esperaba que ${i.origin} fuera ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Cadena invlida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena invlida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena invlida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${a.pattern}`:`Invlido ${n[a.format]??i.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Llave invlida en ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${i.origin}`;default:return"Entrada invlida"}}};function pde(){return{localeError:dde()}}const mde=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected}  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Ur(i.values[0])} `:` :    ${Dt(i.values,"|")} `;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` : ${i.origin??""}  ${a}${i.maximum.toString()} ${s.unit??""} `:` : ${i.origin??""}  ${a}${i.maximum.toString()} `}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` : ${i.origin}  ${a}${i.minimum.toString()} ${s.unit} `:` : ${i.origin}  ${a}${i.minimum.toString()} `}case"invalid_format":{const a=i;return a.format==="starts_with"?` :   "${a.prefix}"  `:a.format==="ends_with"?` :   "${a.suffix}"  `:a.format==="includes"?` :   "${a.includes}" `:a.format==="regex"?` :    ${a.pattern}   `:`${n[a.format]??i.format} `}case"not_multiple_of":return` :   ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""} : ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}};function hde(){return{localeError:mde()}}const vde=()=>{const e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syte: tytyy olla ${Ur(i.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Liian suuri: ${s.subject} tytyy olla ${a}${i.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon tytyy olla ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Liian pieni: ${s.subject} tytyy olla ${a}${i.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon tytyy olla ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen syte: tytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen syte: tytyy sislt "${a.includes}"`:a.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${a.pattern}`:`Virheellinen ${n[a.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Dt(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function gde(){return{localeError:vde()}}const yde=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : ${i.expected} attendu, ${r(i.input)} reu`;case"invalid_value":return i.values.length===1?`Entre invalide : ${Ur(i.values[0])} attendu`:`Option invalide : une valeur parmi ${Dt(i.values,"|")} attendue`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Trop grand : ${i.origin??"valeur"} doit ${s.verb} ${a}${i.maximum.toString()} ${s.unit??"lment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit tre ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Trop petit : ${i.origin} doit ${s.verb} ${a}${i.minimum.toString()} ${s.unit}`:`Trop petit : ${i.origin} doit tre ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Chane invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Chane invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Chane invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Chane invalide : doit correspondre au modle ${a.pattern}`:`${n[a.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Dt(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}};function bde(){return{localeError:yde()}}const _de=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : attendu ${i.expected}, reu ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entre invalide : attendu ${Ur(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"":"<",s=t(i.origin);return s?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${a}${i.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?"":">",s=t(i.origin);return s?`Trop petit : attendu que ${i.origin} ait ${a}${i.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${i.origin} soit ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Chane invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Chane invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Chane invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Chane invalide : doit correspondre au motif ${a.pattern}`:`${n[a.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Dt(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}};function Ade(){return{localeError:_de()}}const wde=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Ur(i.values[0])}`:`  :     ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` : ${i.origin??"value"}   ${a}${i.maximum.toString()} ${s.unit??"elements"}`:` : ${i.origin??"value"}   ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` : ${i.origin}   ${a}${i.minimum.toString()} ${s.unit}`:` : ${i.origin}   ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`  :   "${a.prefix}"`:a.format==="ends_with"?`  :    "${a.suffix}"`:a.format==="includes"?`  :   "${a.includes}"`:a.format==="regex"?`  :    ${a.pattern}`:`${n[a.format]??i.format}  `}case"not_multiple_of":return`  :     ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}  ${i.keys.length>1?"":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}};function xde(){return{localeError:wde()}}const Sde=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"szm";case"object":{if(Array.isArray(i))return"tmb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${i.expected}, a kapott rtk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`rvnytelen bemenet: a vrt rtk ${Ur(i.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Tl nagy: ${i.origin??"rtk"} mrete tl nagy ${a}${i.maximum.toString()} ${s.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${i.origin??"rtk"} tl nagy: ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Tl kicsi: a bemeneti rtk ${i.origin} mrete tl kicsi ${a}${i.minimum.toString()} ${s.unit}`:`Tl kicsi: a bemeneti rtk ${i.origin} tl kicsi ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`rvnytelen string: "${a.prefix}" rtkkel kell kezddnie`:a.format==="ends_with"?`rvnytelen string: "${a.suffix}" rtkkel kell vgzdnie`:a.format==="includes"?`rvnytelen string: "${a.includes}" rtket kell tartalmaznia`:a.format==="regex"?`rvnytelen string: ${a.pattern} mintnak kell megfelelnie`:`rvnytelen ${n[a.format]??i.format}`}case"not_multiple_of":return`rvnytelen szm: ${i.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${i.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${i.origin}`;default:return"rvnytelen bemenet"}}};function Ede(){return{localeError:Sde()}}const Cde=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Ur(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${a}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Terlalu kecil: diharapkan ${i.origin} memiliki ${a}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${n[a.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function $de(){return{localeError:Cde()}}const Nde=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Ur(i.values[0])}`:`Opzione non valida: atteso uno tra ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Troppo grande: ${i.origin??"valore"} deve avere ${a}${i.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Troppo piccolo: ${i.origin} deve avere ${a}${i.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${i.origin} deve essere ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${n[a.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function Dde(){return{localeError:Nde()}}const Tde=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`: ${i.expected}${r(i.input)}`;case"invalid_value":return i.values.length===1?`: ${Ur(i.values[0])}`:`: ${Dt(i.values,"")}`;case"too_big":{const a=i.inclusive?"":"",s=t(i.origin);return s?`: ${i.origin??""}${i.maximum.toString()}${s.unit??""}${a}`:`: ${i.origin??""}${i.maximum.toString()}${a}`}case"too_small":{const a=i.inclusive?"":"",s=t(i.origin);return s?`: ${i.origin}${i.minimum.toString()}${s.unit}${a}`:`: ${i.origin}${i.minimum.toString()}${a}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`: "${a.prefix}"`:a.format==="ends_with"?`: "${a.suffix}"`:a.format==="includes"?`: "${a.includes}"`:a.format==="regex"?`: ${a.pattern}`:`${n[a.format]??i.format}`}case"not_multiple_of":return`: ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}: ${Dt(i.keys,"")}`;case"invalid_key":return`${i.origin}`;case"invalid_union":return"";case"invalid_element":return`${i.origin}`;default:return""}}};function kde(){return{localeError:Tde()}}const Ide=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  ${Ur(i.values[0])}`:`  ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`  ${i.origin??""} ${a} ${i.maximum.toString()} ${s.unit??""}`:`  ${i.origin??""} ${a} ${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`  ${i.origin} ${a} ${i.minimum.toString()} ${s.unit}`:`  ${i.origin} ${a} ${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`  "${a.prefix}"`:a.format==="ends_with"?`  "${a.suffix}"`:a.format==="includes"?`  "${a.includes}"`:a.format==="regex"?`  ${a.pattern}`:` ${n[a.format]??i.format}`}case"not_multiple_of":return`  ${i.divisor}`;case"unrecognized_keys":return` ${Dt(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return"";case"invalid_element":return` ${i.origin}`;default:return""}}};function Ode(){return{localeError:Ide()}}const Mde=()=>{const e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},   ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Ur(i.values[0])}  `:` : ${Dt(i.values," ")}   `;case"too_big":{const a=i.inclusive?"":"",s=a===""?" ":" ",o=t(i.origin),u=o?.unit??"";return o?`${i.origin??""}  : ${i.maximum.toString()}${u} ${a}${s}`:`${i.origin??""}  : ${i.maximum.toString()} ${a}${s}`}case"too_small":{const a=i.inclusive?"":"",s=a===""?" ":" ",o=t(i.origin),u=o?.unit??"";return o?`${i.origin??""}  : ${i.minimum.toString()}${u} ${a}${s}`:`${i.origin??""}  : ${i.minimum.toString()} ${a}${s}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` : "${a.prefix}"()  `:a.format==="ends_with"?` : "${a.suffix}"()  `:a.format==="includes"?` : "${a.includes}"()  `:a.format==="regex"?` :  ${a.pattern}   `:` ${n[a.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}  `;case"unrecognized_keys":return`   : ${Dt(i.keys,", ")}`;case"invalid_key":return` : ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${i.origin}`;default:return" "}}};function Pde(){return{localeError:Mde()}}const Bde=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Ur(i.values[0])}`:` :    ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` :   ${i.origin??""}   ${a}${i.maximum.toString()} ${s.unit??""}`:` :   ${i.origin??""}   ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` :   ${i.origin}   ${a}${i.minimum.toString()} ${s.unit}`:` :   ${i.origin}   ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` :     "${a.prefix}"`:a.format==="ends_with"?` :     "${a.suffix}"`:a.format==="includes"?` :    "${a.includes}"`:a.format==="regex"?` :      ${a.pattern}`:`Invalid ${n[a.format]??i.format}`}case"not_multiple_of":return` :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?" ":" "}: ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}};function Lde(){return{localeError:Bde()}}const Fde=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Ur(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Terlalu besar: dijangka ${i.origin??"nilai"} ${s.verb} ${a}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Terlalu kecil: dijangka ${i.origin} ${s.verb} ${a}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${n[a.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Dt(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function Rde(){return{localeError:Fde()}}const Ude=()=>{const e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Ur(i.values[0])}`:`Ongeldige optie: verwacht n van ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Te lang: verwacht dat ${i.origin??"waarde"} ${a}${i.maximum.toString()} ${s.unit??"elementen"} bevat`:`Te lang: verwacht dat ${i.origin??"waarde"} ${a}${i.maximum.toString()} is`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Te kort: verwacht dat ${i.origin} ${a}${i.minimum.toString()} ${s.unit} bevat`:`Te kort: verwacht dat ${i.origin} ${a}${i.minimum.toString()} is`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${n[a.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function zde(){return{localeError:Ude()}}const qde=()=>{const e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Ur(i.values[0])}`:`Ugyldig valg: forventet en av ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`For stor(t): forventet ${i.origin??"value"} til  ha ${a}${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til  ha ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`For lite(n): forventet ${i.origin} til  ha ${a}${i.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${i.origin} til  ha ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Ugyldig streng: m starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m matche mnsteret ${a.pattern}`:`Ugyldig ${n[a.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function jde(){return{localeError:qde()}}const Vde=()=>{const e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fsit giren: umulan ${i.expected}, alnan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Fsit giren: umulan ${Ur(i.values[0])}`:`Fsit tercih: mteberler ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Fazla byk: ${i.origin??"value"}, ${a}${i.maximum.toString()} ${s.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${i.origin??"value"}, ${a}${i.maximum.toString()} olmalyd.`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Fazla kk: ${i.origin}, ${a}${i.minimum.toString()} ${s.unit} sahip olmalyd.`:`Fazla kk: ${i.origin}, ${a}${i.minimum.toString()} olmalyd.`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Fsit metin: "${a.prefix}" ile balamal.`:a.format==="ends_with"?`Fsit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`Fsit metin: "${a.includes}" ihtiv etmeli.`:a.format==="regex"?`Fsit metin: ${a.pattern} nakna uymal.`:`Fsit ${n[a.format]??i.format}`}case"not_multiple_of":return`Fsit say: ${i.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`${i.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${i.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function Hde(){return{localeError:Vde()}}const Gde=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected} ,  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Ur(i.values[0])} `:` :    ${Dt(i.values,"|")}  `;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` : ${i.origin??""}  ${a}${i.maximum.toString()} ${s.unit??""} `:` : ${i.origin??""}  ${a}${i.maximum.toString()} `}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` : ${i.origin}  ${a}${i.minimum.toString()} ${s.unit} `:` : ${i.origin}  ${a}${i.minimum.toString()} `}case"invalid_format":{const a=i;return a.format==="starts_with"?` :   "${a.prefix}"   `:a.format==="ends_with"?` :   "${a.suffix}"    `:a.format==="includes"?` :  "${a.includes}" `:a.format==="regex"?` :   ${a.pattern}   `:`${n[a.format]??i.format}  `}case"not_multiple_of":return` :   ${i.divisor}  `;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin} `;default:return" "}}};function Zde(){return{localeError:Gde()}}const Wde=()=>{const e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${i.expected}, otrzymano ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${Ur(i.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Za dua warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${a}${i.maximum.toString()} ${s.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Za maa warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${a}${i.minimum.toString()} ${s.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${a.prefix}"`:a.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${a.suffix}"`:a.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${a.includes}"`:a.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${a.pattern}`:`Nieprawidow(y/a/e) ${n[a.format]??i.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${i.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function Kde(){return{localeError:Wde()}}const Jde=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo invlido: esperado ${i.expected}, recebido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invlida: esperado ${Ur(i.values[0])}`:`Opo invlida: esperada uma das ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${a}${i.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Muito pequeno: esperado que ${i.origin} tivesse ${a}${i.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Texto invlido: deve comear com "${a.prefix}"`:a.format==="ends_with"?`Texto invlido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto invlido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto invlido: deve corresponder ao padro ${a.pattern}`:`${n[a.format]??i.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Chave invlida em ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${i.origin}`;default:return"Campo invlido"}}};function Yde(){return{localeError:Jde()}}function Xk(e,t,r,n){const i=Math.abs(e),a=i%10,s=i%100;return s>=11&&s<=19?n:a===1?t:a>=2&&a<=4?r:n}const Xde=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Ur(i.values[0])}`:` :    ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);if(s){const o=Number(i.maximum),u=Xk(o,s.unit.one,s.unit.few,s.unit.many);return`  : ,  ${i.origin??""}   ${a}${i.maximum.toString()} ${u}`}return`  : ,  ${i.origin??""}  ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);if(s){const o=Number(i.minimum),u=Xk(o,s.unit.one,s.unit.few,s.unit.many);return`  : ,  ${i.origin}   ${a}${i.minimum.toString()} ${u}`}return`  : ,  ${i.origin}  ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` :    "${a.prefix}"`:a.format==="ends_with"?` :    "${a.suffix}"`:a.format==="includes"?` :   "${a.includes}"`:a.format==="regex"?` :    ${a.pattern}`:` ${n[a.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}};function Qde(){return{localeError:Xde()}}const epe=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: priakovano ${i.expected}, prejeto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: priakovano ${Ur(i.values[0])}`:`Neveljavna monost: priakovano eno izmed ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Preveliko: priakovano, da bo ${i.origin??"vrednost"} imelo ${a}${i.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: priakovano, da bo ${i.origin??"vrednost"} ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Premajhno: priakovano, da bo ${i.origin} imelo ${a}${i.minimum.toString()} ${s.unit}`:`Premajhno: priakovano, da bo ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se konati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${n[a.format]??i.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i kljui":" klju"}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function tpe(){return{localeError:epe()}}const rpe=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${i.expected}, fick ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: frvntat ${Ur(i.values[0])}`:`Ogiltigt val: frvntade en av ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Fr stor(t): frvntade ${i.origin??"vrdet"} att ha ${a}${i.maximum.toString()} ${s.unit??"element"}`:`Fr stor(t): frvntat ${i.origin??"vrdet"} att ha ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${a}${i.minimum.toString()} ${s.unit}`:`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Ogiltig strng: mste brja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig strng: mste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig strng: mste innehlla "${a.includes}"`:a.format==="regex"?`Ogiltig strng: mste matcha mnstret "${a.pattern}"`:`Ogiltig(t) ${n[a.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${Dt(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${i.origin??"vrdet"}`;default:return"Ogiltig input"}}};function npe(){return{localeError:rpe()}}const ipe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?" ":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Ur(i.values[0])}`:` :  ${Dt(i.values,"|")}  `;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` :  ${i.origin??""} ${a}${i.maximum.toString()} ${s.unit??""}   `:` :  ${i.origin??""} ${a}${i.maximum.toString()}   `}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` :  ${i.origin} ${a}${i.minimum.toString()} ${s.unit}   `:` :  ${i.origin} ${a}${i.minimum.toString()}   `}case"invalid_format":{const a=i;return a.format==="starts_with"?` : "${a.prefix}"   `:a.format==="ends_with"?` : "${a.suffix}"   `:a.format==="includes"?` : "${a.includes}"   `:a.format==="regex"?` : ${a.pattern}   `:` ${n[a.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`  ${i.keys.length>1?"":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${i.origin}   `;default:return" "}}};function ape(){return{localeError:ipe()}}const spe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`:  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`:  ${Ur(i.values[0])}`:`:  ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"":"",s=t(i.origin);return s?`: ${i.origin??""} ${a} ${i.maximum.toString()} ${s.unit??""}`:`: ${i.origin??""} ${a} ${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?"":"",s=t(i.origin);return s?`: ${i.origin} ${a} ${i.minimum.toString()} ${s.unit}`:`: ${i.origin} ${a} ${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`:  "${a.prefix}"`:a.format==="ends_with"?`:  "${a.suffix}"`:a.format==="includes"?`:  "${a.includes}" `:a.format==="regex"?`:  ${a.pattern}`:`: ${n[a.format]??i.format}`}case"not_multiple_of":return`:  ${i.divisor} `;case"unrecognized_keys":return`: ${Dt(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${i.origin}`;default:return""}}};function ope(){return{localeError:spe()}}const upe=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},lpe=()=>{const e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(n){return e[n]??null}const r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Geersiz deer: beklenen ${n.expected}, alnan ${upe(n.input)}`;case"invalid_value":return n.values.length===1?`Geersiz deer: beklenen ${Ur(n.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${Dt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=t(n.origin);return a?`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()} ${a.unit??"e"}`:`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=t(n.origin);return a?`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${a.unit}`:`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${r[i.format]??n.format}`}case"not_multiple_of":return`Geersiz say: ${n.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${Dt(n.keys,", ")}`;case"invalid_key":return`${n.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function cpe(){return{localeError:lpe()}}const fpe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Ur(i.values[0])}`:` :    ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` : ,  ${i.origin??""} ${s.verb} ${a}${i.maximum.toString()} ${s.unit??""}`:` : ,  ${i.origin??""}  ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` : ,  ${i.origin} ${s.verb} ${a}${i.minimum.toString()} ${s.unit}`:` : ,  ${i.origin}  ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` :    "${a.prefix}"`:a.format==="ends_with"?` :    "${a.suffix}"`:a.format==="includes"?` :   "${a.includes}"`:a.format==="regex"?` :    ${a.pattern}`:` ${n[a.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${Dt(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}};function dpe(){return{localeError:fpe()}}const ppe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  : ${i.expected}   ${r(i.input)}  `;case"invalid_value":return i.values.length===1?`  : ${Ur(i.values[0])}  `:` : ${Dt(i.values,"|")}     `;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` : ${i.origin??""}  ${a}${i.maximum.toString()} ${s.unit??""}   `:` : ${i.origin??""}  ${a}${i.maximum.toString()}   `}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` : ${i.origin}  ${a}${i.minimum.toString()} ${s.unit}   `:` : ${i.origin}  ${a}${i.minimum.toString()}   `}case"invalid_format":{const a=i;return a.format==="starts_with"?` : "${a.prefix}"    `:a.format==="ends_with"?` : "${a.suffix}"    `:a.format==="includes"?` : "${a.includes}"   `:a.format==="regex"?` :  ${a.pattern}    `:` ${n[a.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`   ${i.keys.length>1?"":""}: ${Dt(i.keys," ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${i.origin}   `;default:return"  "}}};function mpe(){return{localeError:ppe()}}const hpe=()=>{const e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"s";case"object":{if(Array.isArray(i))return"mng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return i=>{switch(i.code){case"invalid_type":return`u vo khng hp l: mong i ${i.expected}, nhn c ${r(i.input)}`;case"invalid_value":return i.values.length===1?`u vo khng hp l: mong i ${Ur(i.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?`Qu ln: mong i ${i.origin??"gi tr"} ${s.verb} ${a}${i.maximum.toString()} ${s.unit??"phn t"}`:`Qu ln: mong i ${i.origin??"gi tr"} ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?`Qu nh: mong i ${i.origin} ${s.verb} ${a}${i.minimum.toString()} ${s.unit}`:`Qu nh: mong i ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?`Chui khng hp l: phi bt u bng "${a.prefix}"`:a.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${a.suffix}"`:a.format==="includes"?`Chui khng hp l: phi bao gm "${a.includes}"`:a.format==="regex"?`Chui khng hp l: phi khp vi mu ${a.pattern}`:`${n[a.format]??i.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${i.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${Dt(i.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${i.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${i.origin}`;default:return"u vo khng hp l"}}};function vpe(){return{localeError:hpe()}}const gpe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"(NaN)":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Ur(i.values[0])}`:` ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` ${i.origin??""} ${a}${i.maximum.toString()} ${s.unit??""}`:` ${i.origin??""} ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` ${i.origin} ${a}${i.minimum.toString()} ${s.unit}`:` ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` "${a.prefix}" `:a.format==="ends_with"?` "${a.suffix}" `:a.format==="includes"?` "${a.includes}"`:a.format==="regex"?` ${a.pattern}`:`${n[a.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`(key): ${Dt(i.keys,", ")}`;case"invalid_key":return`${i.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${i.origin} (value)`;default:return""}}};function ype(){return{localeError:gpe()}}const bpe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}const r=i=>{const a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Ur(i.values[0])}`:` ${Dt(i.values,"|")}`;case"too_big":{const a=i.inclusive?"<=":"<",s=t(i.origin);return s?` ${i.origin??""}  ${a}${i.maximum.toString()} ${s.unit??""}`:` ${i.origin??""}  ${a}${i.maximum.toString()}`}case"too_small":{const a=i.inclusive?">=":">",s=t(i.origin);return s?` ${i.origin}  ${a}${i.minimum.toString()} ${s.unit}`:` ${i.origin}  ${a}${i.minimum.toString()}`}case"invalid_format":{const a=i;return a.format==="starts_with"?` "${a.prefix}" `:a.format==="ends_with"?` "${a.suffix}" `:a.format==="includes"?` "${a.includes}"`:a.format==="regex"?` ${a.pattern}`:` ${n[a.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""}${Dt(i.keys,"")}`;case"invalid_key":return`${i.origin} `;case"invalid_union":return"";case"invalid_element":return`${i.origin} `;default:return""}}};function _pe(){return{localeError:bpe()}}const oq=Object.freeze(Object.defineProperty({__proto__:null,ar:Qfe,az:tde,be:nde,ca:ade,cs:ode,de:lde,en:sq,es:pde,fa:hde,fi:gde,fr:bde,frCA:Ade,he:xde,hu:Ede,id:$de,it:Dde,ja:kde,kh:Ode,ko:Pde,mk:Lde,ms:Rde,nl:zde,no:jde,ota:Hde,pl:Kde,ps:Zde,pt:Yde,ru:Qde,sl:tpe,sv:npe,ta:ape,th:ope,tr:cpe,ua:dpe,ur:mpe,vi:vpe,zhCN:ype,zhTW:_pe},Symbol.toStringTag,{value:"Module"})),uq=Symbol("ZodOutput"),lq=Symbol("ZodInput");class RC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}remove(t){return this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function UC(){return new RC}const xd=UC();function cq(e,t){return new e({type:"string",...pt(t)})}function fq(e,t){return new e({type:"string",coerce:!0,...pt(t)})}function zC(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...pt(t)})}function Fb(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...pt(t)})}function qC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...pt(t)})}function jC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...pt(t)})}function VC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...pt(t)})}function HC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...pt(t)})}function GC(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...pt(t)})}function ZC(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...pt(t)})}function WC(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...pt(t)})}function KC(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...pt(t)})}function JC(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...pt(t)})}function YC(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...pt(t)})}function XC(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...pt(t)})}function QC(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...pt(t)})}function e6(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...pt(t)})}function t6(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...pt(t)})}function r6(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...pt(t)})}function n6(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...pt(t)})}function i6(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...pt(t)})}function a6(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...pt(t)})}function s6(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...pt(t)})}function o6(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...pt(t)})}const dq={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function pq(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...pt(t)})}function mq(e,t){return new e({type:"string",format:"date",check:"string_format",...pt(t)})}function hq(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...pt(t)})}function vq(e,t){return new e({type:"string",format:"duration",check:"string_format",...pt(t)})}function gq(e,t){return new e({type:"number",checks:[],...pt(t)})}function yq(e,t){return new e({type:"number",coerce:!0,checks:[],...pt(t)})}function bq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...pt(t)})}function _q(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...pt(t)})}function Aq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...pt(t)})}function wq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...pt(t)})}function xq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...pt(t)})}function Sq(e,t){return new e({type:"boolean",...pt(t)})}function Eq(e,t){return new e({type:"boolean",coerce:!0,...pt(t)})}function Cq(e,t){return new e({type:"bigint",...pt(t)})}function $q(e,t){return new e({type:"bigint",coerce:!0,...pt(t)})}function Nq(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...pt(t)})}function Dq(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...pt(t)})}function Tq(e,t){return new e({type:"symbol",...pt(t)})}function kq(e,t){return new e({type:"undefined",...pt(t)})}function Iq(e,t){return new e({type:"null",...pt(t)})}function Oq(e){return new e({type:"any"})}function Rb(e){return new e({type:"unknown"})}function Mq(e,t){return new e({type:"never",...pt(t)})}function Pq(e,t){return new e({type:"void",...pt(t)})}function Bq(e,t){return new e({type:"date",...pt(t)})}function Lq(e,t){return new e({type:"date",coerce:!0,...pt(t)})}function Fq(e,t){return new e({type:"nan",...pt(t)})}function zd(e,t){return new DC({check:"less_than",...pt(t),value:e,inclusive:!1})}function Zo(e,t){return new DC({check:"less_than",...pt(t),value:e,inclusive:!0})}function qd(e,t){return new TC({check:"greater_than",...pt(t),value:e,inclusive:!1})}function Fs(e,t){return new TC({check:"greater_than",...pt(t),value:e,inclusive:!0})}function Rq(e){return qd(0,e)}function Uq(e){return zd(0,e)}function zq(e){return Zo(0,e)}function qq(e){return Fs(0,e)}function xv(e,t){return new LU({check:"multiple_of",...pt(t),value:e})}function E2(e,t){return new UU({check:"max_size",...pt(t),maximum:e})}function Sv(e,t){return new zU({check:"min_size",...pt(t),minimum:e})}function u6(e,t){return new qU({check:"size_equals",...pt(t),size:e})}function C2(e,t){return new jU({check:"max_length",...pt(t),maximum:e})}function zm(e,t){return new VU({check:"min_length",...pt(t),minimum:e})}function $2(e,t){return new HU({check:"length_equals",...pt(t),length:e})}function l6(e,t){return new GU({check:"string_format",format:"regex",...pt(t),pattern:e})}function c6(e){return new ZU({check:"string_format",format:"lowercase",...pt(e)})}function f6(e){return new WU({check:"string_format",format:"uppercase",...pt(e)})}function d6(e,t){return new KU({check:"string_format",format:"includes",...pt(t),includes:e})}function p6(e,t){return new JU({check:"string_format",format:"starts_with",...pt(t),prefix:e})}function m6(e,t){return new YU({check:"string_format",format:"ends_with",...pt(t),suffix:e})}function jq(e,t,r){return new XU({check:"property",property:e,schema:t,...pt(r)})}function h6(e,t){return new QU({check:"mime_type",mime:e,...pt(t)})}function sp(e){return new ez({check:"overwrite",tx:e})}function v6(e){return sp(t=>t.normalize(e))}function g6(){return sp(e=>e.trim())}function y6(){return sp(e=>e.toLowerCase())}function b6(){return sp(e=>e.toUpperCase())}function _6(e,t,r){return new e({type:"array",element:t,...pt(r)})}function Ape(e,t,r){return new e({type:"union",options:t,...pt(r)})}function wpe(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...pt(n)})}function xpe(e,t,r){return new e({type:"intersection",left:t,right:r})}function Vq(e,t,r,n){const i=r instanceof Er,a=i?n:r,s=i?r:null;return new e({type:"tuple",items:t,rest:s,...pt(a)})}function Spe(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...pt(n)})}function Epe(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...pt(n)})}function Cpe(e,t,r){return new e({type:"set",valueType:t,...pt(r)})}function $pe(e,t,r){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new e({type:"enum",entries:n,...pt(r)})}function Npe(e,t,r){return new e({type:"enum",entries:t,...pt(r)})}function Dpe(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...pt(r)})}function Hq(e,t){return new e({type:"file",...pt(t)})}function Tpe(e,t){return new e({type:"transform",transform:t})}function kpe(e,t){return new e({type:"optional",innerType:t})}function Ipe(e,t){return new e({type:"nullable",innerType:t})}function Ope(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():r}})}function Mpe(e,t,r){return new e({type:"nonoptional",innerType:t,...pt(r)})}function Ppe(e,t){return new e({type:"success",innerType:t})}function Bpe(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}function Lpe(e,t,r){return new e({type:"pipe",in:t,out:r})}function Fpe(e,t){return new e({type:"readonly",innerType:t})}function Rpe(e,t,r){return new e({type:"template_literal",parts:t,...pt(r)})}function Upe(e,t){return new e({type:"lazy",getter:t})}function zpe(e,t){return new e({type:"promise",innerType:t})}function Gq(e,t,r){const n=pt(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function Zq(e,t,r){return new e({type:"custom",check:"custom",fn:t,...pt(r)})}function Wq(e,t){const r=pt(t);let n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(m=>typeof m=="string"?m.toLowerCase():m),i=i.map(m=>typeof m=="string"?m.toLowerCase():m));const a=new Set(n),s=new Set(i),o=e.Pipe??FC,u=e.Boolean??OC,l=e.String??dg,c=e.Transform??LC,f=new c({type:"transform",transform:(m,h)=>{let v=m;return r.case!=="sensitive"&&(v=v.toLowerCase()),a.has(v)?!0:s.has(v)?!1:(h.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...s],input:h.value,inst:f}),{})},error:r.error}),d=new o({type:"pipe",in:new l({type:"string",error:r.error}),out:f,error:r.error});return new o({type:"pipe",in:d,out:new u({type:"boolean",error:r.error}),error:r.error})}function Kq(e,t,r,n={}){const i=pt(n),a={...pt(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:o=>r.test(o),...i};return r instanceof RegExp&&(a.pattern=r),new e(a)}class Jq{constructor(t){this._def=t,this.def=t}implement(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=(...n)=>{const i=this._def.input?k3(this._def.input,n,void 0,{callee:r}):n;if(!Array.isArray(i))throw new Error("Invalid arguments schema: not an array or tuple schema.");const a=t(...i);return this._def.output?k3(this._def.output,a,void 0,{callee:r}):a};return r}implementAsync(t){if(typeof t!="function")throw new Error("implement() must be called with a function");const r=async(...n)=>{const i=this._def.input?await I3(this._def.input,n,void 0,{callee:r}):n;if(!Array.isArray(i))throw new Error("Invalid arguments schema: not an array or tuple schema.");const a=await t(...i);return this._def.output?I3(this._def.output,a,void 0,{callee:r}):a};return r}input(...t){const r=this.constructor;return Array.isArray(t[0])?new r({type:"function",input:new S2({type:"tuple",items:t[0],rest:t[1]}),output:this._def.output}):new r({type:"function",input:t[0],output:this._def.output})}output(t){const r=this.constructor;return new r({type:"function",input:this._def.input,output:t})}}function Yq(e){return new Jq({type:"function",input:Array.isArray(e?.input)?Vq(S2,e?.input):e?.input??_6(PC,Rb(Lb)),output:e?.output??Rb(Lb)})}class M3{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??xd,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;const i=t._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(t);if(s)return s.count++,r.schemaPath.includes(t)&&(s.cycle=r.path),s.schema;const o={schema:{},count:1,cycle:void 0};this.seen.set(t,o);const u=t._zod.toJSONSchema?.();if(u)o.schema=u;else{const f={...r,schemaPath:[...r.schemaPath,t],path:r.path},d=t._zod.parent;if(d)o.ref=d,this.process(d,f),this.seen.get(d).isParent=!0;else{const p=o.schema;switch(i.type){case"string":{const m=p;m.type="string";const{minimum:h,maximum:v,format:y,patterns:w,contentEncoding:g}=t._zod.bag;if(typeof h=="number"&&(m.minLength=h),typeof v=="number"&&(m.maxLength=v),y&&(m.format=a[y]??y,m.format===""&&delete m.format),g&&(m.contentEncoding=g),w&&w.size>0){const b=[...w];b.length===1?m.pattern=b[0].source:b.length>1&&(o.schema.allOf=[...b.map(_=>({...this.target==="draft-7"?{type:"string"}:{},pattern:_.source}))])}break}case"number":{const m=p,{minimum:h,maximum:v,format:y,multipleOf:w,exclusiveMaximum:g,exclusiveMinimum:b}=t._zod.bag;typeof y=="string"&&y.includes("int")?m.type="integer":m.type="number",typeof b=="number"&&(m.exclusiveMinimum=b),typeof h=="number"&&(m.minimum=h,typeof b=="number"&&(b>=h?delete m.minimum:delete m.exclusiveMinimum)),typeof g=="number"&&(m.exclusiveMaximum=g),typeof v=="number"&&(m.maximum=v,typeof g=="number"&&(g<=v?delete m.maximum:delete m.exclusiveMaximum)),typeof w=="number"&&(m.multipleOf=w);break}case"boolean":{const m=p;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"undefined":{const m=p;m.type="null";break}case"null":{p.type="null";break}case"any":break;case"unknown":break;case"never":{p.not={};break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const m=p,{minimum:h,maximum:v}=t._zod.bag;typeof h=="number"&&(m.minItems=h),typeof v=="number"&&(m.maxItems=v),m.type="array",m.items=this.process(i.element,{...f,path:[...f.path,"items"]});break}case"object":{const m=p;m.type="object",m.properties={};const h=i.shape;for(const w in h)m.properties[w]=this.process(h[w],{...f,path:[...f.path,"properties",w]});const v=new Set(Object.keys(h)),y=new Set([...v].filter(w=>{const g=i.shape[w]._zod;return this.io==="input"?g.optin===void 0:g.optout===void 0}));y.size>0&&(m.required=Array.from(y)),i.catchall?._zod.def.type==="never"?m.additionalProperties=!1:i.catchall?i.catchall&&(m.additionalProperties=this.process(i.catchall,{...f,path:[...f.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{const m=p;m.anyOf=i.options.map((h,v)=>this.process(h,{...f,path:[...f.path,"anyOf",v]}));break}case"intersection":{const m=p,h=this.process(i.left,{...f,path:[...f.path,"allOf",0]}),v=this.process(i.right,{...f,path:[...f.path,"allOf",1]}),y=g=>"allOf"in g&&Object.keys(g).length===1,w=[...y(h)?h.allOf:[h],...y(v)?v.allOf:[v]];m.allOf=w;break}case"tuple":{const m=p;m.type="array";const h=i.items.map((w,g)=>this.process(w,{...f,path:[...f.path,"prefixItems",g]}));if(this.target==="draft-2020-12"?m.prefixItems=h:m.items=h,i.rest){const w=this.process(i.rest,{...f,path:[...f.path,"items"]});this.target==="draft-2020-12"?m.items=w:m.additionalItems=w}i.rest&&(m.items=this.process(i.rest,{...f,path:[...f.path,"items"]}));const{minimum:v,maximum:y}=t._zod.bag;typeof v=="number"&&(m.minItems=v),typeof y=="number"&&(m.maxItems=y);break}case"record":{const m=p;m.type="object",m.propertyNames=this.process(i.keyType,{...f,path:[...f.path,"propertyNames"]}),m.additionalProperties=this.process(i.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const m=p,h=yC(i.entries);h.every(v=>typeof v=="number")&&(m.type="number"),h.every(v=>typeof v=="string")&&(m.type="string"),m.enum=h;break}case"literal":{const m=p,h=[];for(const v of i.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");h.push(Number(v))}else h.push(v);if(h.length!==0)if(h.length===1){const v=h[0];m.type=v===null?"null":typeof v,m.const=v}else h.every(v=>typeof v=="number")&&(m.type="number"),h.every(v=>typeof v=="string")&&(m.type="string"),h.every(v=>typeof v=="boolean")&&(m.type="string"),h.every(v=>v===null)&&(m.type="null"),m.enum=h;break}case"file":{const m=p,h={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:y,mime:w}=t._zod.bag;v!==void 0&&(h.minLength=v),y!==void 0&&(h.maxLength=y),w?w.length===1?(h.contentMediaType=w[0],Object.assign(m,h)):m.anyOf=w.map(g=>({...h,contentMediaType:g})):Object.assign(m,h);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const m=this.process(i.innerType,f);p.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,f),o.ref=i.innerType;break}case"success":{const m=p;m.type="boolean";break}case"default":{this.process(i.innerType,f),o.ref=i.innerType,p.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,f),o.ref=i.innerType,this.io==="input"&&(p._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,f),o.ref=i.innerType;let m;try{m=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}p.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const m=p,h=t._zod.pattern;if(!h)throw new Error("Pattern not found in template literal");m.type="string",m.pattern=h.source;break}case"pipe":{const m=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(m,f),o.ref=m;break}case"readonly":{this.process(i.innerType,f),o.ref=i.innerType,p.readOnly=!0;break}case"promise":{this.process(i.innerType,f),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,f),o.ref=i.innerType;break}case"lazy":{const m=t._zod.innerType;this.process(m,f),o.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(t);return l&&Object.assign(o.schema,l),this.io==="input"&&Li(t)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((n=o.schema).default??(n.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(t).schema}emit(t,r){const n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(t);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=c=>{const f=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const h=n.external.registry.get(c[0])?.id;if(h)return{ref:n.external.uri(h)};const v=c[1].defId??c[1].schema.id??`schema${this.counter++}`;return c[1].defId=v,{defId:v,ref:`${n.external.uri("__shared")}#/${f}/${v}`}}if(c[1]===i)return{ref:"#"};const p=`#/${f}/`,m=c[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:p+m}},s=c=>{if(c[1].schema.$ref)return;const f=c[1],{ref:d,defId:p}=a(c);f.def={...f.schema},p&&(f.defId=p);const m=f.schema;for(const h in m)delete m[h];m.$ref=d};for(const c of this.seen.entries()){const f=c[1];if(t===c[0]){s(c);continue}if(n.external){const p=n.external.registry.get(c[0])?.id;if(t!==c[0]&&p){s(c);continue}}if(this.metadataRegistry.get(c[0])?.id){s(c);continue}if(f.cycle){if(n.cycles==="throw")throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);n.cycles==="ref"&&s(c);continue}if(f.count>1&&n.reused==="ref"){s(c);continue}}const o=(c,f)=>{const d=this.seen.get(c),p=d.def??d.schema,m={...p};if(d.ref===null)return;const h=d.ref;if(d.ref=null,h){o(h,f);const v=this.seen.get(h).schema;v.$ref&&f.target==="draft-7"?(p.allOf=p.allOf??[],p.allOf.push(v)):(Object.assign(p,v),Object.assign(p,m))}d.isParent||this.override({zodSchema:c,jsonSchema:p})};for(const c of[...this.seen.entries()].reverse())o(c[0],{target:this.target});const u={};this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(u,i.def);const l=n.external?.defs??{};for(const c of this.seen.entries()){const f=c[1];f.def&&f.defId&&(l[f.defId]=f.def)}!n.external&&Object.keys(l).length>0&&(this.target==="draft-2020-12"?u.$defs=l:u.definitions=l);try{return JSON.parse(JSON.stringify(u))}catch{throw new Error("Error converting schema to JSON.")}}}function Xq(e,t){if(e instanceof RC){const n=new M3(t),i={};for(const o of e._idmap.entries()){const[u,l]=o;n.process(l)}const a={},s={registry:e,uri:t?.uri||(o=>o),defs:i};for(const o of e._idmap.entries()){const[u,l]=o;a[u]=n.emit(l,{...t,external:s})}if(Object.keys(i).length>0){const o=n.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const r=new M3(t);return r.process(e),r.emit(e,t)}function Li(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const i=e._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Li(i.element,r);case"object":{for(const a in i.shape)if(Li(i.shape[a],r))return!0;return!1}case"union":{for(const a of i.options)if(Li(a,r))return!0;return!1}case"intersection":return Li(i.left,r)||Li(i.right,r);case"tuple":{for(const a of i.items)if(Li(a,r))return!0;return!!(i.rest&&Li(i.rest,r))}case"record":return Li(i.keyType,r)||Li(i.valueType,r);case"map":return Li(i.keyType,r)||Li(i.valueType,r);case"set":return Li(i.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Li(i.innerType,r);case"lazy":return Li(i.getter(),r);case"default":return Li(i.innerType,r);case"prefault":return Li(i.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return Li(i.in,r)||Li(i.out,r);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${i.type}`)}const qpe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),jpe=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:Mz,$ZodArray:PC,$ZodAsyncError:Fm,$ZodBase64:wz,$ZodBase64URL:Sz,$ZodBigInt:MC,$ZodBigIntFormat:Tz,$ZodBoolean:OC,$ZodCIDRv4:_z,$ZodCIDRv6:Az,$ZodCUID:lz,$ZodCUID2:cz,$ZodCatch:Qz,$ZodCheck:Ei,$ZodCheckBigIntFormat:RU,$ZodCheckEndsWith:YU,$ZodCheckGreaterThan:TC,$ZodCheckIncludes:KU,$ZodCheckLengthEquals:HU,$ZodCheckLessThan:DC,$ZodCheckLowerCase:ZU,$ZodCheckMaxLength:jU,$ZodCheckMaxSize:UU,$ZodCheckMimeType:QU,$ZodCheckMinLength:VU,$ZodCheckMinSize:zU,$ZodCheckMultipleOf:LU,$ZodCheckNumberFormat:FU,$ZodCheckOverwrite:ez,$ZodCheckProperty:XU,$ZodCheckRegex:GU,$ZodCheckSizeEquals:qU,$ZodCheckStartsWith:JU,$ZodCheckStringFormat:fg,$ZodCheckUpperCase:WU,$ZodCustom:aq,$ZodCustomStringFormat:Nz,$ZodDate:Lz,$ZodDefault:Kz,$ZodDiscriminatedUnion:Rz,$ZodE164:Ez,$ZodEmail:az,$ZodEmoji:oz,$ZodEnum:Vz,$ZodError:AC,$ZodFile:Gz,$ZodFunction:Jq,$ZodGUID:nz,$ZodIPv4:yz,$ZodIPv6:bz,$ZodISODate:hz,$ZodISODateTime:mz,$ZodISODuration:gz,$ZodISOTime:vz,$ZodIntersection:Uz,$ZodJWT:$z,$ZodKSUID:pz,$ZodLazy:iq,$ZodLiteral:Hz,$ZodMap:qz,$ZodNaN:eq,$ZodNanoID:uz,$ZodNever:Pz,$ZodNonOptional:Yz,$ZodNull:Oz,$ZodNullable:Wz,$ZodNumber:IC,$ZodNumberFormat:Dz,$ZodObject:Fz,$ZodOptional:Zz,$ZodPipe:FC,$ZodPrefault:Jz,$ZodPromise:nq,$ZodReadonly:tq,$ZodRealError:cg,$ZodRecord:zz,$ZodRegistry:RC,$ZodSet:jz,$ZodString:dg,$ZodStringFormat:Zn,$ZodSuccess:Xz,$ZodSymbol:kz,$ZodTemplateLiteral:rq,$ZodTransform:LC,$ZodTuple:S2,$ZodType:Er,$ZodULID:fz,$ZodURL:sz,$ZodUUID:iz,$ZodUndefined:Iz,$ZodUnion:BC,$ZodUnknown:Lb,$ZodVoid:Bz,$ZodXID:dz,$brand:LR,$constructor:We,$input:lq,$output:uq,Doc:tz,JSONSchema:qpe,JSONSchemaGenerator:M3,NEVER:BR,TimePrecision:dq,_any:Oq,_array:_6,_base64:i6,_base64url:a6,_bigint:Cq,_boolean:Sq,_catch:Bpe,_cidrv4:r6,_cidrv6:n6,_coercedBigint:$q,_coercedBoolean:Eq,_coercedDate:Lq,_coercedNumber:yq,_coercedString:fq,_cuid:KC,_cuid2:JC,_custom:Gq,_date:Bq,_default:Ope,_discriminatedUnion:wpe,_e164:s6,_email:zC,_emoji:ZC,_endsWith:m6,_enum:$pe,_file:Hq,_float32:_q,_float64:Aq,_gt:qd,_gte:Fs,_guid:Fb,_includes:d6,_int:bq,_int32:wq,_int64:Nq,_intersection:xpe,_ipv4:e6,_ipv6:t6,_isoDate:mq,_isoDateTime:pq,_isoDuration:vq,_isoTime:hq,_jwt:o6,_ksuid:QC,_lazy:Upe,_length:$2,_literal:Dpe,_lowercase:c6,_lt:zd,_lte:Zo,_map:Epe,_max:Zo,_maxLength:C2,_maxSize:E2,_mime:h6,_min:Fs,_minLength:zm,_minSize:Sv,_multipleOf:xv,_nan:Fq,_nanoid:WC,_nativeEnum:Npe,_negative:Uq,_never:Mq,_nonnegative:qq,_nonoptional:Mpe,_nonpositive:zq,_normalize:v6,_null:Iq,_nullable:Ipe,_number:gq,_optional:kpe,_overwrite:sp,_parse:SC,_parseAsync:EC,_pipe:Lpe,_positive:Rq,_promise:zpe,_property:jq,_readonly:Fpe,_record:Spe,_refine:Zq,_regex:l6,_safeParse:CC,_safeParseAsync:$C,_set:Cpe,_size:u6,_startsWith:p6,_string:cq,_stringFormat:Kq,_stringbool:Wq,_success:Ppe,_symbol:Tq,_templateLiteral:Rpe,_toLowerCase:y6,_toUpperCase:b6,_transform:Tpe,_trim:g6,_tuple:Vq,_uint32:xq,_uint64:Dq,_ulid:YC,_undefined:kq,_union:Ape,_unknown:Rb,_uppercase:f6,_url:GC,_uuid:qC,_uuidv4:jC,_uuidv6:VC,_uuidv7:HC,_void:Pq,_xid:XC,clone:tl,config:Xa,flattenError:wC,formatError:xC,function:Yq,globalConfig:Pb,globalRegistry:xd,isValidBase64:kC,isValidBase64URL:xz,isValidJWT:Cz,locales:oq,parse:k3,parseAsync:I3,prettifyError:eU,regexes:PU,registry:UC,safeParse:tU,safeParseAsync:rU,toDotPath:QR,toJSONSchema:Xq,treeifyError:XR,util:qfe,version:rz},Symbol.toStringTag,{value:"Module"})),A6=We("ZodISODateTime",(e,t)=>{mz.init(e,t),ei.init(e,t)});function Qq(e){return pq(A6,e)}const w6=We("ZodISODate",(e,t)=>{hz.init(e,t),ei.init(e,t)});function ej(e){return mq(w6,e)}const x6=We("ZodISOTime",(e,t)=>{vz.init(e,t),ei.init(e,t)});function tj(e){return hq(x6,e)}const S6=We("ZodISODuration",(e,t)=>{gz.init(e,t),ei.init(e,t)});function rj(e){return vq(S6,e)}const Vpe=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:w6,ZodISODateTime:A6,ZodISODuration:S6,ZodISOTime:x6,date:ej,datetime:Qq,duration:rj,time:tj},Symbol.toStringTag,{value:"Module"})),nj=(e,t)=>{AC.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>xC(e,r)},flatten:{value:r=>wC(e,r)},addIssue:{value:r=>e.issues.push(r)},addIssues:{value:r=>e.issues.push(...r)},isEmpty:{get(){return e.issues.length===0}}})},Hpe=We("ZodError",nj),pg=We("ZodError",nj,{Parent:Error}),ij=SC(pg),aj=EC(pg),sj=CC(pg),oj=$C(pg),qr=We("ZodType",(e,t)=>(Er.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>tl(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>ij(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>sj(e,r,n),e.parseAsync=async(r,n)=>aj(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>oj(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(Hj(r,n)),e.superRefine=r=>e.check(Gj(r)),e.overwrite=r=>e.check(sp(r)),e.optional=()=>qb(e),e.nullable=()=>jb(e),e.nullish=()=>qb(jb(e)),e.nonoptional=r=>Oj(e,r),e.array=()=>wi(e),e.or=r=>Wo([e,r]),e.and=r=>Aj(e,r),e.transform=r=>Vb(e,W6(r)),e.default=r=>Tj(e,r),e.prefault=r=>Ij(e,r),e.catch=r=>Bj(e,r),e.pipe=r=>Vb(e,r),e.readonly=()=>Rj(e),e.describe=r=>{const n=e.clone();return xd.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return xd.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return xd.get(e);const n=e.clone();return xd.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),E6=We("_ZodString",(e,t)=>{dg.init(e,t),qr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(l6(...n)),e.includes=(...n)=>e.check(d6(...n)),e.startsWith=(...n)=>e.check(p6(...n)),e.endsWith=(...n)=>e.check(m6(...n)),e.min=(...n)=>e.check(zm(...n)),e.max=(...n)=>e.check(C2(...n)),e.length=(...n)=>e.check($2(...n)),e.nonempty=(...n)=>e.check(zm(1,...n)),e.lowercase=n=>e.check(c6(n)),e.uppercase=n=>e.check(f6(n)),e.trim=()=>e.check(g6()),e.normalize=(...n)=>e.check(v6(...n)),e.toLowerCase=()=>e.check(y6()),e.toUpperCase=()=>e.check(b6())}),N2=We("ZodString",(e,t)=>{dg.init(e,t),E6.init(e,t),e.email=r=>e.check(zC(C6,r)),e.url=r=>e.check(GC($6,r)),e.jwt=r=>e.check(o6(q6,r)),e.emoji=r=>e.check(ZC(N6,r)),e.guid=r=>e.check(Fb(Ub,r)),e.uuid=r=>e.check(qC(Il,r)),e.uuidv4=r=>e.check(jC(Il,r)),e.uuidv6=r=>e.check(VC(Il,r)),e.uuidv7=r=>e.check(HC(Il,r)),e.nanoid=r=>e.check(WC(D6,r)),e.guid=r=>e.check(Fb(Ub,r)),e.cuid=r=>e.check(KC(T6,r)),e.cuid2=r=>e.check(JC(k6,r)),e.ulid=r=>e.check(YC(I6,r)),e.base64=r=>e.check(i6(R6,r)),e.base64url=r=>e.check(a6(U6,r)),e.xid=r=>e.check(XC(O6,r)),e.ksuid=r=>e.check(QC(M6,r)),e.ipv4=r=>e.check(e6(P6,r)),e.ipv6=r=>e.check(t6(B6,r)),e.cidrv4=r=>e.check(r6(L6,r)),e.cidrv6=r=>e.check(n6(F6,r)),e.e164=r=>e.check(s6(z6,r)),e.datetime=r=>e.check(Qq(r)),e.date=r=>e.check(ej(r)),e.time=r=>e.check(tj(r)),e.duration=r=>e.check(rj(r))});function fr(e){return cq(N2,e)}const ei=We("ZodStringFormat",(e,t)=>{Zn.init(e,t),E6.init(e,t)}),C6=We("ZodEmail",(e,t)=>{az.init(e,t),ei.init(e,t)});function Gpe(e){return zC(C6,e)}const Ub=We("ZodGUID",(e,t)=>{nz.init(e,t),ei.init(e,t)});function Zpe(e){return Fb(Ub,e)}const Il=We("ZodUUID",(e,t)=>{iz.init(e,t),ei.init(e,t)});function Wpe(e){return qC(Il,e)}function Kpe(e){return jC(Il,e)}function Jpe(e){return VC(Il,e)}function Ype(e){return HC(Il,e)}const $6=We("ZodURL",(e,t)=>{sz.init(e,t),ei.init(e,t)});function Xpe(e){return GC($6,e)}const N6=We("ZodEmoji",(e,t)=>{oz.init(e,t),ei.init(e,t)});function Qpe(e){return ZC(N6,e)}const D6=We("ZodNanoID",(e,t)=>{uz.init(e,t),ei.init(e,t)});function eme(e){return WC(D6,e)}const T6=We("ZodCUID",(e,t)=>{lz.init(e,t),ei.init(e,t)});function tme(e){return KC(T6,e)}const k6=We("ZodCUID2",(e,t)=>{cz.init(e,t),ei.init(e,t)});function rme(e){return JC(k6,e)}const I6=We("ZodULID",(e,t)=>{fz.init(e,t),ei.init(e,t)});function nme(e){return YC(I6,e)}const O6=We("ZodXID",(e,t)=>{dz.init(e,t),ei.init(e,t)});function ime(e){return XC(O6,e)}const M6=We("ZodKSUID",(e,t)=>{pz.init(e,t),ei.init(e,t)});function ame(e){return QC(M6,e)}const P6=We("ZodIPv4",(e,t)=>{yz.init(e,t),ei.init(e,t)});function sme(e){return e6(P6,e)}const B6=We("ZodIPv6",(e,t)=>{bz.init(e,t),ei.init(e,t)});function ome(e){return t6(B6,e)}const L6=We("ZodCIDRv4",(e,t)=>{_z.init(e,t),ei.init(e,t)});function ume(e){return r6(L6,e)}const F6=We("ZodCIDRv6",(e,t)=>{Az.init(e,t),ei.init(e,t)});function lme(e){return n6(F6,e)}const R6=We("ZodBase64",(e,t)=>{wz.init(e,t),ei.init(e,t)});function cme(e){return i6(R6,e)}const U6=We("ZodBase64URL",(e,t)=>{Sz.init(e,t),ei.init(e,t)});function fme(e){return a6(U6,e)}const z6=We("ZodE164",(e,t)=>{Ez.init(e,t),ei.init(e,t)});function dme(e){return s6(z6,e)}const q6=We("ZodJWT",(e,t)=>{$z.init(e,t),ei.init(e,t)});function pme(e){return o6(q6,e)}const uj=We("ZodCustomStringFormat",(e,t)=>{Nz.init(e,t),ei.init(e,t)});function mme(e,t,r={}){return Kq(uj,e,t,r)}const D2=We("ZodNumber",(e,t)=>{IC.init(e,t),qr.init(e,t),e.gt=(n,i)=>e.check(qd(n,i)),e.gte=(n,i)=>e.check(Fs(n,i)),e.min=(n,i)=>e.check(Fs(n,i)),e.lt=(n,i)=>e.check(zd(n,i)),e.lte=(n,i)=>e.check(Zo(n,i)),e.max=(n,i)=>e.check(Zo(n,i)),e.int=n=>e.check(P3(n)),e.safe=n=>e.check(P3(n)),e.positive=n=>e.check(qd(0,n)),e.nonnegative=n=>e.check(Fs(0,n)),e.negative=n=>e.check(zd(0,n)),e.nonpositive=n=>e.check(Zo(0,n)),e.multipleOf=(n,i)=>e.check(xv(n,i)),e.step=(n,i)=>e.check(xv(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function iu(e){return gq(D2,e)}const Eh=We("ZodNumberFormat",(e,t)=>{Dz.init(e,t),D2.init(e,t)});function P3(e){return bq(Eh,e)}function hme(e){return _q(Eh,e)}function vme(e){return Aq(Eh,e)}function gme(e){return wq(Eh,e)}function yme(e){return xq(Eh,e)}const T2=We("ZodBoolean",(e,t)=>{OC.init(e,t),qr.init(e,t)});function zs(e){return Sq(T2,e)}const k2=We("ZodBigInt",(e,t)=>{MC.init(e,t),qr.init(e,t),e.gte=(n,i)=>e.check(Fs(n,i)),e.min=(n,i)=>e.check(Fs(n,i)),e.gt=(n,i)=>e.check(qd(n,i)),e.gte=(n,i)=>e.check(Fs(n,i)),e.min=(n,i)=>e.check(Fs(n,i)),e.lt=(n,i)=>e.check(zd(n,i)),e.lte=(n,i)=>e.check(Zo(n,i)),e.max=(n,i)=>e.check(Zo(n,i)),e.positive=n=>e.check(qd(BigInt(0),n)),e.negative=n=>e.check(zd(BigInt(0),n)),e.nonpositive=n=>e.check(Zo(BigInt(0),n)),e.nonnegative=n=>e.check(Fs(BigInt(0),n)),e.multipleOf=(n,i)=>e.check(xv(n,i));const r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function bme(e){return Cq(k2,e)}const j6=We("ZodBigIntFormat",(e,t)=>{Tz.init(e,t),k2.init(e,t)});function _me(e){return Nq(j6,e)}function Ame(e){return Dq(j6,e)}const lj=We("ZodSymbol",(e,t)=>{kz.init(e,t),qr.init(e,t)});function wme(e){return Tq(lj,e)}const cj=We("ZodUndefined",(e,t)=>{Iz.init(e,t),qr.init(e,t)});function xme(e){return kq(cj,e)}const fj=We("ZodNull",(e,t)=>{Oz.init(e,t),qr.init(e,t)});function dj(e){return Iq(fj,e)}const pj=We("ZodAny",(e,t)=>{Mz.init(e,t),qr.init(e,t)});function Sme(){return Oq(pj)}const mj=We("ZodUnknown",(e,t)=>{Lb.init(e,t),qr.init(e,t)});function zb(){return Rb(mj)}const hj=We("ZodNever",(e,t)=>{Pz.init(e,t),qr.init(e,t)});function I2(e){return Mq(hj,e)}const vj=We("ZodVoid",(e,t)=>{Bz.init(e,t),qr.init(e,t)});function Eme(e){return Pq(vj,e)}const V6=We("ZodDate",(e,t)=>{Lz.init(e,t),qr.init(e,t),e.min=(n,i)=>e.check(Fs(n,i)),e.max=(n,i)=>e.check(Zo(n,i));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function Cme(e){return Bq(V6,e)}const gj=We("ZodArray",(e,t)=>{PC.init(e,t),qr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(zm(r,n)),e.nonempty=r=>e.check(zm(1,r)),e.max=(r,n)=>e.check(C2(r,n)),e.length=(r,n)=>e.check($2(r,n)),e.unwrap=()=>e.element});function wi(e,t){return _6(gj,e,t)}function $me(e){const t=e._zod.def.shape;return Ea(Object.keys(t))}const O2=We("ZodObject",(e,t)=>{Fz.init(e,t),qr.init(e,t),_n(e,"shape",()=>t.shape),e.keyof=()=>Ko(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:zb()}),e.loose=()=>e.clone({...e._zod.def,catchall:zb()}),e.strict=()=>e.clone({...e._zod.def,catchall:I2()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>ZR(e,r),e.merge=r=>WR(e,r),e.pick=r=>HR(e,r),e.omit=r=>GR(e,r),e.partial=(...r)=>KR(K6,e,r[0]),e.required=(...r)=>JR(J6,e,r[0])});function au(e,t){const r={type:"object",get shape(){return Sh(this,"shape",{...e}),this.shape},...pt(t)};return new O2(r)}function Nme(e,t){return new O2({type:"object",get shape(){return Sh(this,"shape",{...e}),this.shape},catchall:I2(),...pt(t)})}function Dme(e,t){return new O2({type:"object",get shape(){return Sh(this,"shape",{...e}),this.shape},catchall:zb(),...pt(t)})}const H6=We("ZodUnion",(e,t)=>{BC.init(e,t),qr.init(e,t),e.options=t.options});function Wo(e,t){return new H6({type:"union",options:e,...pt(t)})}const yj=We("ZodDiscriminatedUnion",(e,t)=>{H6.init(e,t),Rz.init(e,t)});function bj(e,t,r){return new yj({type:"union",options:t,discriminator:e,...pt(r)})}const _j=We("ZodIntersection",(e,t)=>{Uz.init(e,t),qr.init(e,t)});function Aj(e,t){return new _j({type:"intersection",left:e,right:t})}const wj=We("ZodTuple",(e,t)=>{S2.init(e,t),qr.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function Tme(e,t,r){const n=t instanceof Er,i=n?r:t,a=n?t:null;return new wj({type:"tuple",items:e,rest:a,...pt(i)})}const G6=We("ZodRecord",(e,t)=>{zz.init(e,t),qr.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function xj(e,t,r){return new G6({type:"record",keyType:e,valueType:t,...pt(r)})}function kme(e,t,r){return new G6({type:"record",keyType:Wo([e,I2()]),valueType:t,...pt(r)})}const Sj=We("ZodMap",(e,t)=>{qz.init(e,t),qr.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Ime(e,t,r){return new Sj({type:"map",keyType:e,valueType:t,...pt(r)})}const Ej=We("ZodSet",(e,t)=>{jz.init(e,t),qr.init(e,t),e.min=(...r)=>e.check(Sv(...r)),e.nonempty=r=>e.check(Sv(1,r)),e.max=(...r)=>e.check(E2(...r)),e.size=(...r)=>e.check(u6(...r))});function Ome(e,t){return new Ej({type:"set",valueType:e,...pt(t)})}const Ev=We("ZodEnum",(e,t)=>{Vz.init(e,t),qr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const a={};for(const s of n)if(r.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Ev({...t,checks:[],...pt(i),entries:a})},e.exclude=(n,i)=>{const a={...t.entries};for(const s of n)if(r.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new Ev({...t,checks:[],...pt(i),entries:a})}});function Ko(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Ev({type:"enum",entries:r,...pt(t)})}function Mme(e,t){return new Ev({type:"enum",entries:e,...pt(t)})}const Cj=We("ZodLiteral",(e,t)=>{Hz.init(e,t),qr.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Ea(e,t){return new Cj({type:"literal",values:Array.isArray(e)?e:[e],...pt(t)})}const $j=We("ZodFile",(e,t)=>{Gz.init(e,t),qr.init(e,t),e.min=(r,n)=>e.check(Sv(r,n)),e.max=(r,n)=>e.check(E2(r,n)),e.mime=(r,n)=>e.check(h6(Array.isArray(r)?r:[r],n))});function Pme(e){return Hq($j,e)}const Z6=We("ZodTransform",(e,t)=>{LC.init(e,t),qr.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=a=>{if(typeof a=="string")r.issues.push(Rm(a,r.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),r.issues.push(Rm(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function W6(e){return new Z6({type:"transform",transform:e})}const K6=We("ZodOptional",(e,t)=>{Zz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qb(e){return new K6({type:"optional",innerType:e})}const Nj=We("ZodNullable",(e,t)=>{Wz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jb(e){return new Nj({type:"nullable",innerType:e})}function Bme(e){return qb(jb(e))}const Dj=We("ZodDefault",(e,t)=>{Kz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Tj(e,t){return new Dj({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const kj=We("ZodPrefault",(e,t)=>{Jz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ij(e,t){return new kj({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const J6=We("ZodNonOptional",(e,t)=>{Yz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Oj(e,t){return new J6({type:"nonoptional",innerType:e,...pt(t)})}const Mj=We("ZodSuccess",(e,t)=>{Xz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Lme(e){return new Mj({type:"success",innerType:e})}const Pj=We("ZodCatch",(e,t)=>{Qz.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Bj(e,t){return new Pj({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Lj=We("ZodNaN",(e,t)=>{eq.init(e,t),qr.init(e,t)});function Fme(e){return Fq(Lj,e)}const Y6=We("ZodPipe",(e,t)=>{FC.init(e,t),qr.init(e,t),e.in=t.in,e.out=t.out});function Vb(e,t){return new Y6({type:"pipe",in:e,out:t})}const Fj=We("ZodReadonly",(e,t)=>{tq.init(e,t),qr.init(e,t)});function Rj(e){return new Fj({type:"readonly",innerType:e})}const Uj=We("ZodTemplateLiteral",(e,t)=>{rq.init(e,t),qr.init(e,t)});function Rme(e,t){return new Uj({type:"template_literal",parts:e,...pt(t)})}const zj=We("ZodLazy",(e,t)=>{iq.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.getter()});function qj(e){return new zj({type:"lazy",getter:e})}const jj=We("ZodPromise",(e,t)=>{nq.init(e,t),qr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ume(e){return new jj({type:"promise",innerType:e})}const M2=We("ZodCustom",(e,t)=>{aq.init(e,t),qr.init(e,t)});function Vj(e,t){const r=new Ei({check:"custom",...pt(t)});return r._zod.check=e,r}function uf(e,t){return Gq(M2,e??(()=>!0),t)}function Hj(e,t={}){return Zq(M2,e,t)}function Gj(e,t){const r=Vj(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Rm(i,n.value,r._zod.def));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=r),a.continue??(a.continue=!r._zod.def.abort),n.issues.push(Rm(a))}},e(n.value,n)),t);return r}function zme(e,t={error:`Input not instance of ${e.name}`}){const r=new M2({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...pt(t)});return r._zod.bag.Class=e,r}const qme=(...e)=>Wq({Pipe:Y6,Boolean:T2,String:N2,Transform:Z6},...e);function jme(e){const t=qj(()=>Wo([fr(e),iu(),zs(),dj(),wi(t),xj(fr(),t)]));return t}function Vme(e,t){return Vb(W6(e),t)}const Hme={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Gme(e){Xa({customError:e})}function Zme(){return Xa().customError}function Wme(e){return fq(N2,e)}function Kme(e){return yq(D2,e)}function Jme(e){return Eq(T2,e)}function Yme(e){return $q(k2,e)}function Xme(e){return Lq(V6,e)}const Qme=Object.freeze(Object.defineProperty({__proto__:null,bigint:Yme,boolean:Jme,date:Xme,number:Kme,string:Wme},Symbol.toStringTag,{value:"Module"}));Xa(sq());const Fi=Object.freeze(Object.defineProperty({__proto__:null,$brand:LR,$input:lq,$output:uq,NEVER:BR,TimePrecision:dq,ZodAny:pj,ZodArray:gj,ZodBase64:R6,ZodBase64URL:U6,ZodBigInt:k2,ZodBigIntFormat:j6,ZodBoolean:T2,ZodCIDRv4:L6,ZodCIDRv6:F6,ZodCUID:T6,ZodCUID2:k6,ZodCatch:Pj,ZodCustom:M2,ZodCustomStringFormat:uj,ZodDate:V6,ZodDefault:Dj,ZodDiscriminatedUnion:yj,ZodE164:z6,ZodEmail:C6,ZodEmoji:N6,ZodEnum:Ev,ZodError:Hpe,ZodFile:$j,ZodGUID:Ub,ZodIPv4:P6,ZodIPv6:B6,ZodISODate:w6,ZodISODateTime:A6,ZodISODuration:S6,ZodISOTime:x6,ZodIntersection:_j,ZodIssueCode:Hme,ZodJWT:q6,ZodKSUID:M6,ZodLazy:zj,ZodLiteral:Cj,ZodMap:Sj,ZodNaN:Lj,ZodNanoID:D6,ZodNever:hj,ZodNonOptional:J6,ZodNull:fj,ZodNullable:Nj,ZodNumber:D2,ZodNumberFormat:Eh,ZodObject:O2,ZodOptional:K6,ZodPipe:Y6,ZodPrefault:kj,ZodPromise:jj,ZodReadonly:Fj,ZodRealError:pg,ZodRecord:G6,ZodSet:Ej,ZodString:N2,ZodStringFormat:ei,ZodSuccess:Mj,ZodSymbol:lj,ZodTemplateLiteral:Uj,ZodTransform:Z6,ZodTuple:wj,ZodType:qr,ZodULID:I6,ZodURL:$6,ZodUUID:Il,ZodUndefined:cj,ZodUnion:H6,ZodUnknown:mj,ZodVoid:vj,ZodXID:O6,_ZodString:E6,_default:Tj,any:Sme,array:wi,base64:cme,base64url:fme,bigint:bme,boolean:zs,catch:Bj,check:Vj,cidrv4:ume,cidrv6:lme,clone:tl,coerce:Qme,config:Xa,core:jpe,cuid:tme,cuid2:rme,custom:uf,date:Cme,discriminatedUnion:bj,e164:dme,email:Gpe,emoji:Qpe,endsWith:m6,enum:Ko,file:Pme,flattenError:wC,float32:hme,float64:vme,formatError:xC,function:Yq,getErrorMap:Zme,globalRegistry:xd,gt:qd,gte:Fs,guid:Zpe,includes:d6,instanceof:zme,int:P3,int32:gme,int64:_me,intersection:Aj,ipv4:sme,ipv6:ome,iso:Vpe,json:jme,jwt:pme,keyof:$me,ksuid:ame,lazy:qj,length:$2,literal:Ea,locales:oq,looseObject:Dme,lowercase:c6,lt:zd,lte:Zo,map:Ime,maxLength:C2,maxSize:E2,mime:h6,minLength:zm,minSize:Sv,multipleOf:xv,nan:Fme,nanoid:eme,nativeEnum:Mme,negative:Uq,never:I2,nonnegative:qq,nonoptional:Oj,nonpositive:zq,normalize:v6,null:dj,nullable:jb,nullish:Bme,number:iu,object:au,optional:qb,overwrite:sp,parse:ij,parseAsync:aj,partialRecord:kme,pipe:Vb,positive:Rq,prefault:Ij,preprocess:Vme,prettifyError:eU,promise:Ume,property:jq,readonly:Rj,record:xj,refine:Hj,regex:l6,regexes:PU,registry:UC,safeParse:sj,safeParseAsync:oj,set:Ome,setErrorMap:Gme,size:u6,startsWith:p6,strictObject:Nme,string:fr,stringFormat:mme,stringbool:qme,success:Lme,superRefine:Gj,symbol:wme,templateLiteral:Rme,toJSONSchema:Xq,toLowerCase:y6,toUpperCase:b6,transform:W6,treeifyError:XR,trim:g6,tuple:Tme,uint32:yme,uint64:Ame,ulid:nme,undefined:xme,union:Wo,unknown:zb,uppercase:f6,url:Xpe,uuid:Wpe,uuidv4:Kpe,uuidv6:Jpe,uuidv7:Ype,void:Eme,xid:ime},Symbol.toStringTag,{value:"Module"})),X6=au({ability:Wo([Ea("none"),Ea("spellcasting"),uf()]),damage:fr(),type:Ko([...Je.damageTypes]),critDamage:fr()});function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(null,arguments)}var Zj={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Wa(e,t){if(Hb(e,t))return e[t];throw typeof e[t]=="function"&&Q6(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function qm(e,t,r){if(Hb(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Hb(e,t){return!the(e)&&!Array.isArray(e)?!1:Ft(rhe,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ehe(e,t){if(!Q6(e,t))throw new Error('No access to method "'+t+'"');return e[t]}function Q6(e,t){return e==null||typeof e[t]!="function"||Ft(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Ft(nhe,t)?!0:!(t in Object.prototype||t in Function.prototype)}function the(e){return typeof e=="object"&&e&&e.constructor===Object}var rhe={length:!0,name:!0},nhe={toString:!0,valueOf:!0,toLocaleString:!0};class P2{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Wa(this.wrappedObject,t)}set(t,r){return qm(this.wrappedObject,t,r),this}has(t){return Hb(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Kj(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Hb(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}class Wj{constructor(t,r,n){this.a=t,this.b=r,this.bKeys=n,this[Symbol.iterator]=this.entries}get(t){return this.bKeys.has(t)?this.b.get(t):this.a.get(t)}set(t,r){return this.bKeys.has(t)?this.b.set(t,r):this.a.set(t,r),this}has(t){return this.b.has(t)||this.a.has(t)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Kj(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){return this.bKeys.has(t)?this.b.delete(t):this.a.delete(t)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Kj(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function Cv(){return new Map}function Sm(e){if(!e)return Cv();if(Yj(e))return e;if(L2(e))return new P2(e);throw new Error("createMap can create maps from objects or Maps")}function ihe(e){if(e instanceof P2)return e.wrappedObject;var t={};for(var r of e.keys()){var n=e.get(r);qm(t,r,n)}return t}function br(e){return typeof e=="number"}function Ar(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Q0(e){return typeof e=="bigint"}function zl(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function mg(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function lo(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Ca(e){return typeof e=="string"}var Cn=Array.isArray;function Jt(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function bo(e){return Array.isArray(e)||Jt(e)}function Gb(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Sd(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function e$(e){return e&&e.constructor.prototype.isRange===!0||!1}function B2(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ahe(e){return typeof e=="boolean"}function she(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Jj(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ohe(e){return typeof e=="function"}function uhe(e){return e instanceof Date}function lhe(e){return e instanceof RegExp}function L2(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!zl(e)&&!mg(e))}function Yj(e){return e?e instanceof Map||e instanceof P2||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function che(e){return e===null}function fhe(e){return e===void 0}function jd(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function oo(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function dhe(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function phe(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function mhe(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jr(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function B3(e){return Jr(e)||_i(e)&&e.args.length===1&&Jr(e.args[0])&&"-+~".includes(e.op)}function hg(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function lf(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ch(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function bn(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function F2(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function _i(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gl(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function hhe(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function vhe(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ea(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xj(e){return e&&e.constructor.prototype.isChain===!0||!1}function Tn(e){var t=typeof e;return t==="object"?e===null?"null":Ar(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function hr(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return hr(r)});if(e instanceof Date)return new Date(e.valueOf());if(Ar(e))return e;if(L2(e))return ghe(e,hr);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function ghe(e,t){var r={};for(var n in e)Ft(e,n)&&(r[n]=t(e[n]));return r}function Qj(e,t){for(var r in t)Ft(t,r)&&(e[r]=t[r]);return e}function Zl(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Zl(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Zl(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function yhe(e,t,r){var n=!0,i;Object.defineProperty(e,t,{get:function(){return n&&(i=r(),n=!1),i},set:function(s){i=s,n=!1},configurable:!0,enumerable:!0})}function Ft(e,t){return e&&Object.hasOwnProperty.call(e,t)}function bhe(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];a!==void 0&&(r[i]=a)}return r}var _he=["Matrix","Array"],Ahe=["number","BigNumber","Fraction"],it=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Zj)};qi(it,Zj,{MATRIX_OPTIONS:_he,NUMBER_OPTIONS:Ahe});function Qk(){return!0}function io(){return!1}function Zp(){}const e5="Argument is not a typed-function.";function eV(){function e(Y){return typeof Y=="object"&&Y!==null&&Y.constructor===Object}const t=[{name:"number",test:function(Y){return typeof Y=="number"}},{name:"string",test:function(Y){return typeof Y=="string"}},{name:"boolean",test:function(Y){return typeof Y=="boolean"}},{name:"Function",test:function(Y){return typeof Y=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Y){return Y instanceof Date}},{name:"RegExp",test:function(Y){return Y instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(Y){return Y===null}},{name:"undefined",test:function(Y){return Y===void 0}}],r={name:"any",test:Qk,isAny:!0};let n,i,a=0,s={createCount:0};function o(Y){const be=n.get(Y);if(be)return be;let ye='Unknown type "'+Y+'"';const ge=Y.toLowerCase();let xe;for(xe of i)if(xe.toLowerCase()===ge){ye+='. Did you mean "'+xe+'" ?';break}throw new TypeError(ye)}function u(Y){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ye=be?o(be).index:i.length,ge=[];for(let ke=0;ke<Y.length;++ke){if(!Y[ke]||typeof Y[ke].name!="string"||typeof Y[ke].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Ke=Y[ke].name;if(n.has(Ke))throw new TypeError('Duplicate type name "'+Ke+'"');ge.push(Ke),n.set(Ke,{name:Ke,test:Y[ke].test,isAny:Y[ke].isAny,index:ye+ke,conversionsTo:[]})}const xe=i.slice(ye);i=i.slice(0,ye).concat(ge).concat(xe);for(let ke=ye+ge.length;ke<i.length;++ke)n.get(i[ke]).index=ke}function l(){n=new Map,i=[],a=0,u([r],!1)}l(),u(t);function c(){let Y;for(Y of i)n.get(Y).conversionsTo=[];a=0}function f(Y){const be=i.filter(ye=>{const ge=n.get(ye);return!ge.isAny&&ge.test(Y)});return be.length?be:["any"]}function d(Y){return Y&&typeof Y=="function"&&"_typedFunctionData"in Y}function p(Y,be,ye){if(!d(Y))throw new TypeError(e5);const ge=ye&&ye.exact,xe=Array.isArray(be)?be.join(","):be,ke=b(xe),Ke=v(ke);if(!ge||Ke in Y.signatures){const Rt=Y._typedFunctionData.signatureMap.get(Ke);if(Rt)return Rt}const Ue=ke.length;let rt;if(ge){rt=[];let Rt;for(Rt in Y.signatures)rt.push(Y._typedFunctionData.signatureMap.get(Rt))}else rt=Y._typedFunctionData.signatures;for(let Rt=0;Rt<Ue;++Rt){const Pt=ke[Rt],cr=[];let G;for(G of rt){const Ne=C(G.params,Rt);if(!(!Ne||Pt.restParam&&!Ne.restParam)){if(!Ne.hasAny){const Ge=g(Ne);if(Pt.types.some(ot=>!Ge.has(ot.name)))continue}cr.push(G)}}if(rt=cr,rt.length===0)break}let je;for(je of rt)if(je.params.length<=Ue)return je;throw new TypeError("Signature not found (signature: "+(Y.name||"unnamed")+"("+v(ke,", ")+"))")}function m(Y,be,ye){return p(Y,be,ye).implementation}function h(Y,be){const ye=o(be);if(ye.test(Y))return Y;const ge=ye.conversionsTo;if(ge.length===0)throw new Error("There are no conversions to "+be+" defined.");for(let xe=0;xe<ge.length;xe++)if(o(ge[xe].from).test(Y))return ge[xe].convert(Y);throw new Error("Cannot convert "+Y+" to "+be)}function v(Y){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Y.map(ye=>ye.name).join(be)}function y(Y){const be=Y.indexOf("...")===0,ge=(be?Y.length>3?Y.slice(3):"any":Y).split("|").map(Ue=>o(Ue.trim()));let xe=!1,ke=be?"...":"";return{types:ge.map(function(Ue){return xe=Ue.isAny||xe,ke+=Ue.name+"|",{name:Ue.name,typeIndex:Ue.index,test:Ue.test,isAny:Ue.isAny,conversion:null,conversionIndex:-1}}),name:ke.slice(0,-1),hasAny:xe,hasConversion:!1,restParam:be}}function w(Y){const be=Y.types.map(Ke=>Ke.name),ye=O(be);let ge=Y.hasAny,xe=Y.name;const ke=ye.map(function(Ke){const Ue=o(Ke.from);return ge=Ue.isAny||ge,xe+="|"+Ke.from,{name:Ke.from,typeIndex:Ue.index,test:Ue.test,isAny:Ue.isAny,conversion:Ke,conversionIndex:Ke.index}});return{types:Y.types.concat(ke),name:xe,hasAny:ge,hasConversion:ke.length>0,restParam:Y.restParam}}function g(Y){return Y.typeSet||(Y.typeSet=new Set,Y.types.forEach(be=>Y.typeSet.add(be.name))),Y.typeSet}function b(Y){const be=[];if(typeof Y!="string")throw new TypeError("Signatures must be strings");const ye=Y.trim();if(ye==="")return be;const ge=ye.split(",");for(let xe=0;xe<ge.length;++xe){const ke=y(ge[xe].trim());if(ke.restParam&&xe!==ge.length-1)throw new SyntaxError('Unexpected rest parameter "'+ge[xe]+'": only allowed for the last parameter');if(ke.types.length===0)return null;be.push(ke)}return be}function _(Y){const be=J(Y);return be?be.restParam:!1}function x(Y){if(!Y||Y.types.length===0)return Qk;if(Y.types.length===1)return o(Y.types[0].name).test;if(Y.types.length===2){const be=o(Y.types[0].name).test,ye=o(Y.types[1].name).test;return function(xe){return be(xe)||ye(xe)}}else{const be=Y.types.map(function(ye){return o(ye.name).test});return function(ge){for(let xe=0;xe<be.length;xe++)if(be[xe](ge))return!0;return!1}}}function E(Y){let be,ye,ge;if(_(Y)){be=Q(Y).map(x);const xe=be.length,ke=x(J(Y)),Ke=function(Ue){for(let rt=xe;rt<Ue.length;rt++)if(!ke(Ue[rt]))return!1;return!0};return function(rt){for(let je=0;je<be.length;je++)if(!be[je](rt[je]))return!1;return Ke(rt)&&rt.length>=xe+1}}else return Y.length===0?function(ke){return ke.length===0}:Y.length===1?(ye=x(Y[0]),function(ke){return ye(ke[0])&&ke.length===1}):Y.length===2?(ye=x(Y[0]),ge=x(Y[1]),function(ke){return ye(ke[0])&&ge(ke[1])&&ke.length===2}):(be=Y.map(x),function(ke){for(let Ke=0;Ke<be.length;Ke++)if(!be[Ke](ke[Ke]))return!1;return ke.length===be.length})}function C(Y,be){return be<Y.length?Y[be]:_(Y)?J(Y):null}function $(Y,be){const ye=C(Y,be);return ye?g(ye):new Set}function D(Y){return Y.conversion===null||Y.conversion===void 0}function N(Y,be){const ye=new Set;return Y.forEach(ge=>{const xe=$(ge.params,be);let ke;for(ke of xe)ye.add(ke)}),ye.has("any")?["any"]:Array.from(ye)}function k(Y,be,ye){let ge,xe;const ke=Y||"unnamed";let Ke=ye,Ue;for(Ue=0;Ue<be.length;Ue++){const Pt=[];if(Ke.forEach(cr=>{const G=C(cr.params,Ue),Ne=x(G);(Ue<cr.params.length||_(cr.params))&&Ne(be[Ue])&&Pt.push(cr)}),Pt.length===0){if(xe=N(Ke,Ue),xe.length>0){const cr=f(be[Ue]);return ge=new TypeError("Unexpected type of argument in function "+ke+" (expected: "+xe.join(" or ")+", actual: "+cr.join(" | ")+", index: "+Ue+")"),ge.data={category:"wrongType",fn:ke,index:Ue,actual:cr,expected:xe},ge}}else Ke=Pt}const rt=Ke.map(function(Pt){return _(Pt.params)?1/0:Pt.params.length});if(be.length<Math.min.apply(null,rt))return xe=N(Ke,Ue),ge=new TypeError("Too few arguments in function "+ke+" (expected: "+xe.join(" or ")+", index: "+be.length+")"),ge.data={category:"tooFewArgs",fn:ke,index:be.length,expected:xe},ge;const je=Math.max.apply(null,rt);if(be.length>je)return ge=new TypeError("Too many arguments in function "+ke+" (expected: "+je+", actual: "+be.length+")"),ge.data={category:"tooManyArgs",fn:ke,index:be.length,expectedLength:je},ge;const Rt=[];for(let Pt=0;Pt<be.length;++Pt)Rt.push(f(be[Pt]).join("|"));return ge=new TypeError('Arguments of type "'+Rt.join(", ")+'" do not match any of the defined signatures of function '+ke+"."),ge.data={category:"mismatch",actual:Rt},ge}function P(Y){let be=i.length+1;for(let ye=0;ye<Y.types.length;ye++)D(Y.types[ye])&&(be=Math.min(be,Y.types[ye].typeIndex));return be}function U(Y){let be=a+1;for(let ye=0;ye<Y.types.length;ye++)D(Y.types[ye])||(be=Math.min(be,Y.types[ye].conversionIndex));return be}function L(Y,be){if(Y.hasAny){if(!be.hasAny)return 1}else if(be.hasAny)return-1;if(Y.restParam){if(!be.restParam)return 1}else if(be.restParam)return-1;if(Y.hasConversion){if(!be.hasConversion)return 1}else if(be.hasConversion)return-1;const ye=P(Y)-P(be);if(ye<0)return-1;if(ye>0)return 1;const ge=U(Y)-U(be);return ge<0?-1:ge>0?1:0}function B(Y,be){const ye=Y.params,ge=be.params,xe=J(ye),ke=J(ge),Ke=_(ye),Ue=_(ge);if(Ke&&xe.hasAny){if(!Ue||!ke.hasAny)return 1}else if(Ue&&ke.hasAny)return-1;let rt=0,je=0,Rt;for(Rt of ye)Rt.hasAny&&++rt,Rt.hasConversion&&++je;let Pt=0,cr=0;for(Rt of ge)Rt.hasAny&&++Pt,Rt.hasConversion&&++cr;if(rt!==Pt)return rt-Pt;if(Ke&&xe.hasConversion){if(!Ue||!ke.hasConversion)return 1}else if(Ue&&ke.hasConversion)return-1;if(je!==cr)return je-cr;if(Ke){if(!Ue)return 1}else if(Ue)return-1;const G=(ye.length-ge.length)*(Ke?-1:1);if(G!==0)return G;const Ne=[];let Ge=0;for(let Ht=0;Ht<ye.length;++Ht){const Xt=L(ye[Ht],ge[Ht]);Ne.push(Xt),Ge+=Xt}if(Ge!==0)return Ge;let ot;for(ot of Ne)if(ot!==0)return ot;return 0}function O(Y){if(Y.length===0)return[];const be=Y.map(o);Y.length>1&&be.sort((xe,ke)=>xe.index-ke.index);let ye=be[0].conversionsTo;if(Y.length===1)return ye;ye=ye.concat([]);const ge=new Set(Y);for(let xe=1;xe<be.length;++xe){let ke;for(ke of be[xe].conversionsTo)ge.has(ke.from)||(ye.push(ke),ge.add(ke.from))}return ye}function T(Y,be){let ye=be;if(Y.some(xe=>xe.hasConversion)){const xe=_(Y),ke=Y.map(j);ye=function(){const Ue=[],rt=xe?arguments.length-1:arguments.length;for(let je=0;je<rt;je++)Ue[je]=ke[je](arguments[je]);return xe&&(Ue[rt]=arguments[rt].map(ke[rt])),be.apply(this,Ue)}}let ge=ye;if(_(Y)){const xe=Y.length-1;ge=function(){return ye.apply(this,se(arguments,0,xe).concat([se(arguments,xe)]))}}return ge}function j(Y){let be,ye,ge,xe;const ke=[],Ke=[];switch(Y.types.forEach(function(Ue){Ue.conversion&&(ke.push(o(Ue.conversion.from).test),Ke.push(Ue.conversion.convert))}),Ke.length){case 0:return function(rt){return rt};case 1:return be=ke[0],ge=Ke[0],function(rt){return be(rt)?ge(rt):rt};case 2:return be=ke[0],ye=ke[1],ge=Ke[0],xe=Ke[1],function(rt){return be(rt)?ge(rt):ye(rt)?xe(rt):rt};default:return function(rt){for(let je=0;je<Ke.length;je++)if(ke[je](rt))return Ke[je](rt);return rt}}}function R(Y){function be(ye,ge,xe){if(ge<ye.length){const ke=ye[ge];let Ke=[];if(ke.restParam){const Ue=ke.types.filter(D);Ue.length<ke.types.length&&Ke.push({types:Ue,name:"..."+Ue.map(rt=>rt.name).join("|"),hasAny:Ue.some(rt=>rt.isAny),hasConversion:!1,restParam:!0}),Ke.push(ke)}else Ke=ke.types.map(function(Ue){return{types:[Ue],name:Ue.name,hasAny:Ue.isAny,hasConversion:Ue.conversion,restParam:!1}});return Te(Ke,function(Ue){return be(ye,ge+1,xe.concat([Ue]))})}else return[xe]}return be(Y,0,[])}function le(Y,be){const ye=Math.max(Y.length,be.length);for(let Ue=0;Ue<ye;Ue++){const rt=$(Y,Ue),je=$(be,Ue);let Rt=!1,Pt;for(Pt of je)if(rt.has(Pt)){Rt=!0;break}if(!Rt)return!1}const ge=Y.length,xe=be.length,ke=_(Y),Ke=_(be);return ke?Ke?ge===xe:xe>=ge:Ke?ge>=xe:ge===xe}function re(Y){return Y.map(be=>K(be)?me(be.referToSelf.callback):X(be)?q(be.referTo.references,be.referTo.callback):be)}function F(Y,be,ye){const ge=[];let xe;for(xe of Y){let ke=ye[xe];if(typeof ke!="number")throw new TypeError('No definition for referenced signature "'+xe+'"');if(ke=be[ke],typeof ke!="function")return!1;ge.push(ke)}return ge}function H(Y,be,ye){const ge=re(Y),xe=new Array(ge.length).fill(!1);let ke=!0;for(;ke;){ke=!1;let Ke=!0;for(let Ue=0;Ue<ge.length;++Ue){if(xe[Ue])continue;const rt=ge[Ue];if(K(rt))ge[Ue]=rt.referToSelf.callback(ye),ge[Ue].referToSelf=rt.referToSelf,xe[Ue]=!0,Ke=!1;else if(X(rt)){const je=F(rt.referTo.references,ge,be);je?(ge[Ue]=rt.referTo.callback.apply(this,je),ge[Ue].referTo=rt.referTo,xe[Ue]=!0,Ke=!1):ke=!0}}if(Ke&&ke)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ge}function ve(Y){const be=/\bthis(\(|\.signatures\b)/;Object.keys(Y).forEach(ye=>{const ge=Y[ye];if(be.test(ge.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ae(Y,be){if(s.createCount++,Object.keys(be).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&ve(be);const ye=[],ge=[],xe={},ke=[];let Ke;for(Ke in be){if(!Object.prototype.hasOwnProperty.call(be,Ke))continue;const jr=b(Ke);if(!jr)continue;ye.forEach(function($s){if(le($s,jr))throw new TypeError('Conflicting signatures "'+v($s)+'" and "'+v(jr)+'".')}),ye.push(jr);const $i=ge.length;ge.push(be[Ke]);const Jf=jr.map(w);let Cu;for(Cu of R(Jf)){const $s=v(Cu);ke.push({params:Cu,name:$s,fn:$i}),Cu.every(cc=>!cc.hasConversion)&&(xe[$s]=$i)}}ke.sort(B);const Ue=H(ge,xe,Do);let rt;for(rt in xe)Object.prototype.hasOwnProperty.call(xe,rt)&&(xe[rt]=Ue[xe[rt]]);const je=[],Rt=new Map;for(rt of ke)Rt.has(rt.name)||(rt.fn=Ue[rt.fn],je.push(rt),Rt.set(rt.name,rt));const Pt=je[0]&&je[0].params.length<=2&&!_(je[0].params),cr=je[1]&&je[1].params.length<=2&&!_(je[1].params),G=je[2]&&je[2].params.length<=2&&!_(je[2].params),Ne=je[3]&&je[3].params.length<=2&&!_(je[3].params),Ge=je[4]&&je[4].params.length<=2&&!_(je[4].params),ot=je[5]&&je[5].params.length<=2&&!_(je[5].params),Ht=Pt&&cr&&G&&Ne&&Ge&&ot;for(let jr=0;jr<je.length;++jr)je[jr].test=E(je[jr].params);const Xt=Pt?x(je[0].params[0]):io,oi=cr?x(je[1].params[0]):io,bu=G?x(je[2].params[0]):io,ol=Ne?x(je[3].params[0]):io,oc=Ge?x(je[4].params[0]):io,uc=ot?x(je[5].params[0]):io,_u=Pt?x(je[0].params[1]):io,lc=cr?x(je[1].params[1]):io,Rf=G?x(je[2].params[1]):io,Uf=Ne?x(je[3].params[1]):io,Au=Ge?x(je[4].params[1]):io,Ks=ot?x(je[5].params[1]):io;for(let jr=0;jr<je.length;++jr)je[jr].implementation=T(je[jr].params,je[jr].fn);const wu=Pt?je[0].implementation:Zp,zf=cr?je[1].implementation:Zp,qf=G?je[2].implementation:Zp,ia=Ne?je[3].implementation:Zp,ti=Ge?je[4].implementation:Zp,jf=ot?je[5].implementation:Zp,xu=Pt?je[0].params.length:-1,as=cr?je[1].params.length:-1,Su=G?je[2].params.length:-1,Cs=Ne?je[3].params.length:-1,Vf=Ge?je[4].params.length:-1,Hf=ot?je[5].params.length:-1,Gf=Ht?6:0,Zf=je.length,Wf=je.map(jr=>jr.test),Kf=je.map(jr=>jr.implementation),Eu=function(){for(let $i=Gf;$i<Zf;$i++)if(Wf[$i](arguments))return Kf[$i].apply(this,arguments);return s.onMismatch(Y,arguments,je)};function Do(jr,$i){return arguments.length===xu&&Xt(jr)&&_u($i)?wu.apply(this,arguments):arguments.length===as&&oi(jr)&&lc($i)?zf.apply(this,arguments):arguments.length===Su&&bu(jr)&&Rf($i)?qf.apply(this,arguments):arguments.length===Cs&&ol(jr)&&Uf($i)?ia.apply(this,arguments):arguments.length===Vf&&oc(jr)&&Au($i)?ti.apply(this,arguments):arguments.length===Hf&&uc(jr)&&Ks($i)?jf.apply(this,arguments):Eu.apply(this,arguments)}try{Object.defineProperty(Do,"name",{value:Y})}catch{}return Do.signatures=xe,Do._typedFunctionData={signatures:je,signatureMap:Rt},Do}function W(Y,be,ye){throw k(Y,be,ye)}function Q(Y){return se(Y,0,Y.length-1)}function J(Y){return Y[Y.length-1]}function se(Y,be,ye){return Array.prototype.slice.call(Y,be,ye)}function Ce(Y,be){for(let ye=0;ye<Y.length;ye++)if(be(Y[ye]))return Y[ye]}function Te(Y,be){return Array.prototype.concat.apply([],Y.map(be))}function oe(){const Y=Q(arguments).map(ye=>v(b(ye))),be=J(arguments);if(typeof be!="function")throw new TypeError("Callback function expected as last argument");return q(Y,be)}function q(Y,be){return{referTo:{references:Y,callback:be}}}function me(Y){if(typeof Y!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Y}}}function X(Y){return Y&&typeof Y.referTo=="object"&&Array.isArray(Y.referTo.references)&&typeof Y.referTo.callback=="function"}function K(Y){return Y&&typeof Y.referToSelf=="object"&&typeof Y.referToSelf.callback=="function"}function de(Y,be){if(!Y)return be;if(be&&be!==Y){const ye=new Error("Function names do not match (expected: "+Y+", actual: "+be+")");throw ye.data={actual:be,expected:Y},ye}return Y}function Ee(Y){let be;for(const ye in Y)Object.prototype.hasOwnProperty.call(Y,ye)&&(d(Y[ye])||typeof Y[ye].signature=="string")&&(be=de(be,Y[ye].name));return be}function te(Y,be){let ye;for(ye in be)if(Object.prototype.hasOwnProperty.call(be,ye)){if(ye in Y&&be[ye]!==Y[ye]){const ge=new Error('Signature "'+ye+'" is defined twice');throw ge.data={signature:ye,sourceFunction:be[ye],destFunction:Y[ye]},ge}Y[ye]=be[ye]}}const ce=s;s=function(Y){const be=typeof Y=="string",ye=be?1:0;let ge=be?Y:"";const xe={};for(let ke=ye;ke<arguments.length;++ke){const Ke=arguments[ke];let Ue={},rt;if(typeof Ke=="function"?(rt=Ke.name,typeof Ke.signature=="string"?Ue[Ke.signature]=Ke:d(Ke)&&(Ue=Ke.signatures)):e(Ke)&&(Ue=Ke,be||(rt=Ee(Ke))),Object.keys(Ue).length===0){const je=new TypeError("Argument to 'typed' at index "+ke+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw je.data={index:ke,argument:Ke},je}be||(ge=de(ge,rt)),te(xe,Ue)}return ae(ge||"",xe)},s.create=eV,s.createCount=ce.createCount,s.onMismatch=W,s.throwMismatchError=W,s.createError=k,s.clear=l,s.clearConversions=c,s.addTypes=u,s._findType=o,s.referTo=oe,s.referToSelf=me,s.convert=h,s.findSignature=p,s.find=m,s.isTypedFunction=d,s.warnAgainstDeprecatedThis=!0,s.addType=function(Y,be){let ye="any";be!==!1&&n.has("Object")&&(ye="Object"),s.addTypes([Y],ye)};function pe(Y){if(!Y||typeof Y.from!="string"||typeof Y.to!="string"||typeof Y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Y.to===Y.from)throw new SyntaxError('Illegal to define conversion from "'+Y.from+'" to itself.')}return s.addConversion=function(Y){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};pe(Y);const ye=o(Y.to),ge=ye.conversionsTo.find(xe=>xe.from===Y.from);if(ge)if(be&&be.override)s.removeConversion({from:ge.from,to:Y.to,convert:ge.convert});else throw new Error('There is already a conversion from "'+Y.from+'" to "'+ye.name+'"');ye.conversionsTo.push({from:Y.from,convert:Y.convert,index:a++})},s.addConversions=function(Y,be){Y.forEach(ye=>s.addConversion(ye,be))},s.removeConversion=function(Y){pe(Y);const be=o(Y.to),ye=Ce(be.conversionsTo,xe=>xe.from===Y.from);if(!ye)throw new Error("Attempt to remove nonexistent conversion from "+Y.from+" to "+Y.to);if(ye.convert!==Y.convert)throw new Error("Conversion to remove does not match existing conversion");const ge=be.conversionsTo.indexOf(ye);be.conversionsTo.splice(ge,1)},s.resolve=function(Y,be){if(!d(Y))throw new TypeError(e5);const ye=Y._typedFunctionData.signatures;for(let ge=0;ge<ye.length;++ge)if(ye[ge].test(be))return ye[ge];return null},s}const Zb=eV();function Ae(e,t,r,n){function i(a){var s=bhe(a,t.map(She));return whe(e,t,a),r(s)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function whe(e,t,r){var n=t.filter(a=>!xhe(a)).every(a=>r[a]!==void 0);if(!n){var i=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function xhe(e){return e&&e[0]==="?"}function She(e){return e&&e[0]==="?"?e.slice(1):e}function zt(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Cf(e,t){if(t.number==="bigint")try{BigInt(e)}catch{return t.numberFallback}return t.number}var Hc=Math.sign||function(e){return e>0?1:e<0?-1:0},Ehe=Math.log2||function(t){return Math.log(t)/Math.LN2},Che=Math.log10||function(t){return Math.log(t)/Math.LN10},$he=Math.log1p||function(e){return Math.log(e+1)},Nhe=Math.cbrt||function(t){if(t===0)return t;var r=t<0,n;return r&&(t=-t),isFinite(t)?(n=Math.exp(Math.log(t)/3),n=(t/(n*n)+2*n)/3):n=t,r?-n:n},Dhe=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function kx(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!zt(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!zt(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var s="";return e<0&&(e=-e,s="-"),"".concat(s).concat(i).concat(e.toString(t)).concat(a)}function Md(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=tV(t);switch(r){case"fixed":return rV(e,n);case"exponential":return nV(e,n);case"engineering":return The(e,n);case"bin":return kx(e,2,i);case"oct":return kx(e,8,i);case"hex":return kx(e,16,i);case"auto":return khe(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function tV(e){var t="auto",r,n;if(e!==void 0)if(br(e))r=e;else if(Ar(e))r=e.toNumber();else if(L2(e))e.precision!==void 0&&(r=t5(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=t5(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function vg(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(o){return i-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return s.length===0&&(s.push(0),i++),{sign:r,coefficients:s,exponent:i}}function The(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=vg(e),n=R2(r,t),i=n.exponent,a=n.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(br(t))for(;t>a.length||i-s+1>a.length;)a.push(0);else for(var o=Math.abs(i-s)-(a.length-1),u=0;u<o;u++)a.push(0);for(var l=Math.abs(i-s),c=1;l>0;)c++,l--;var f=a.slice(c).join(""),d=br(t)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+s.toString();return n.sign+p}function rV(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=vg(e),n=typeof t=="number"?R2(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,s=a+(t||0);return i.length<s&&(i=i.concat(Em(s-i.length))),a<0&&(i=Em(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function nV(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=vg(e),n=t?R2(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(Em(t-i.length)));var s=i.shift();return n.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function khe(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r5(r?.lowerExp,-3),i=r5(r?.upperExp,5),a=vg(e),s=t?R2(a,t):a;if(s.exponent<n||s.exponent>=i)return nV(e,t);var o=s.coefficients,u=s.exponent;o.length<t&&(o=o.concat(Em(t-o.length))),o=o.concat(Em(u-o.length+1+(o.length<t?t-o.length:0))),o=Em(-u).concat(o);var l=u>0?u:0;return l<o.length-1&&o.splice(l+1,0,"."),s.sign+o.join("")}function R2(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var a=t-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function Em(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Ihe(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function va(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}var Ohe=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},Mhe=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Phe=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},Bhe=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},Lhe=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},Fhe=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function Rhe(e,t){var r=e>0?!0:e<0?!1:1/e===1/0,n=t>0?!0:t<0?!1:1/t===1/0;return r^n?-e:e}function t5(e,t){if(br(e))return e;if(Ar(e))return e.toNumber();t()}function r5(e,t){return br(e)?e:Ar(e)?e.toNumber():t}var iV=function(){return iV=Zb.create,Zb},Uhe=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],zhe=Ae("typed",Uhe,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=t,s=iV();return s.clear(),s.addTypes([{name:"number",test:br},{name:"Complex",test:zl},{name:"BigNumber",test:Ar},{name:"bigint",test:Q0},{name:"Fraction",test:mg},{name:"Unit",test:lo},{name:"identifier",test:o=>Ca&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:Ca},{name:"Chain",test:Xj},{name:"Array",test:Cn},{name:"Matrix",test:Jt},{name:"DenseMatrix",test:Gb},{name:"SparseMatrix",test:Sd},{name:"Range",test:e$},{name:"Index",test:B2},{name:"boolean",test:ahe},{name:"ResultSet",test:she},{name:"Help",test:Jj},{name:"function",test:ohe},{name:"Date",test:uhe},{name:"RegExp",test:lhe},{name:"null",test:che},{name:"undefined",test:fhe},{name:"AccessorNode",test:jd},{name:"ArrayNode",test:oo},{name:"AssignmentNode",test:dhe},{name:"BlockNode",test:phe},{name:"ConditionalNode",test:mhe},{name:"ConstantNode",test:Jr},{name:"FunctionNode",test:lf},{name:"FunctionAssignmentNode",test:hg},{name:"IndexNode",test:Ch},{name:"Node",test:bn},{name:"ObjectNode",test:F2},{name:"OperatorNode",test:_i},{name:"ParenthesisNode",test:Gl},{name:"RangeNode",test:hhe},{name:"RelationalNode",test:vhe},{name:"SymbolNode",test:ea},{name:"Map",test:Yj},{name:"Object",test:L2}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(r||uy(u),Ihe(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new r(u)}},{from:"number",to:"Complex",convert:function(u){return n||ly(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||ly(u),new n(u.toNumber(),0)}},{from:"bigint",to:"number",convert:function(u){if(u>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+u+")");return Number(u)}},{from:"bigint",to:"BigNumber",convert:function(u){return r||uy(u),new r(u.toString())}},{from:"bigint",to:"Fraction",convert:function(u){return a||cy(u),new a(u)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||ly(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||cy(u);var l=new a(u);if(l.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(u){var l=Number(u);if(isNaN(l))throw new Error('Cannot convert "'+u+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(u){r||uy(u);try{return new r(u)}catch{throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(u){try{return BigInt(u)}catch{throw new Error('Cannot convert "'+u+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(u){a||cy(u);try{return new a(u)}catch{throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||ly(u);try{return new n(u)}catch{throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return r||uy(u),new r(+u)}},{from:"boolean",to:"bigint",convert:function(u){return BigInt(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||cy(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||qhe(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),s.onMismatch=(o,u,l)=>{var c=s.createError(o,u,l);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&bo(u[0])&&l.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw f.data=c.data,f}throw c},s.onMismatch=(o,u,l)=>{var c=s.createError(o,u,l);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&bo(u[0])&&l.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw f.data=c.data,f}throw c},s});function uy(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function ly(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function qhe(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function cy(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var jhe="ResultSet",Vhe=[],Hhe=Ae(jhe,Vhe,()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0});/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var pm=9e15,$f=1e9,L3="0123456789abcdef",Wb="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Kb="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",F3={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-pm,maxE:pm,crypto:!1},aV,Ol,yr=!0,U2="[DecimalError] ",cf=U2+"Invalid argument: ",sV=U2+"Precision limit exceeded",oV=U2+"crypto unavailable",uV="[object Decimal]",Oa=Math.floor,zi=Math.pow,Ghe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Zhe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Whe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,lV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jo=1e7,er=7,Khe=9007199254740991,Jhe=Wb.length-1,R3=Kb.length-1,mt={toStringTag:uV};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Kt(e)};mt.ceil=function(){return Kt(new this.constructor(this),this.e+1,2)};mt.clampedTo=mt.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(cf+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};mt.comparedTo=mt.cmp=function(e){var t,r,n,i,a=this,s=a.d,o=(e=new a.constructor(e)).d,u=a.s,l=e.s;if(!s||!o)return!u||!l?NaN:u!==l?u:s===o?0:!s^u<0?1:-1;if(!s[0]||!o[0])return s[0]?u:o[0]?-l:0;if(u!==l)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(n=s.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(s[t]!==o[t])return s[t]>o[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};mt.cosine=mt.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+er,n.rounding=1,r=Yhe(n,mV(n,r)),n.precision=e,n.rounding=t,Kt(Ol==2||Ol==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};mt.cubeRoot=mt.cbrt=function(){var e,t,r,n,i,a,s,o,u,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(yr=!1,a=c.s*zi(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=da(c.d),e=c.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=zi(r,1/3),e=Oa((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new f(r),n.s=c.s):n=new f(a.toString()),s=(e=f.precision)+3;;)if(o=n,u=o.times(o).times(o),l=u.plus(c),n=qn(l.plus(c).times(o),l.plus(u),s+2,1),da(o.d).slice(0,s)===(r=da(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(Kt(o,e+1,0),o.times(o).times(o).eq(c))){n=o;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Kt(n,e+1,1),t=!n.times(n).times(n).eq(c));break}return yr=!0,Kt(n,e,f.rounding,t)};mt.decimalPlaces=mt.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Oa(this.e/er))*er,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};mt.dividedBy=mt.div=function(e){return qn(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.divToInt=function(e){var t=this,r=t.constructor;return Kt(qn(t,new r(e),0,1,1),r.precision,r.rounding)};mt.equals=mt.eq=function(e){return this.cmp(e)===0};mt.floor=function(){return Kt(new this.constructor(this),this.e+1,3)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){var t=this.cmp(e);return t==1||t===0};mt.hyperbolicCosine=mt.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(e=Math.ceil(i/3),t=(1/q2(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=jm(s,1,a.times(t),new s(1),!0);for(var u,l=e,c=new s(8);l--;)u=a.times(a),a=o.minus(u.times(c.minus(u.times(c))));return Kt(a,s.precision=r,s.rounding=n,!0)};mt.hyperbolicSine=mt.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=jm(a,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/q2(5,e)),i=jm(a,2,i,i,!0);for(var s,o=new a(5),u=new a(16),l=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(u.times(s).plus(l))))}return a.precision=t,a.rounding=r,Kt(i,t,r,!0)};mt.hyperbolicTangent=mt.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,qn(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};mt.inverseCosine=mt.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?t.isNeg()?Go(r,i,a):new r(0):new r(NaN):t.isZero()?Go(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=Go(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))};mt.inverseHyperbolicCosine=mt.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,yr=!1,r=r.times(r).minus(1).sqrt().plus(r),yr=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};mt.inverseHyperbolicSine=mt.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,yr=!1,r=r.times(r).plus(1).sqrt().plus(r),yr=!0,n.precision=e,n.rounding=t,r.ln())};mt.inverseHyperbolicTangent=mt.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?Kt(new a(i),e,t,!0):(a.precision=r=n-i.e,i=qn(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)};mt.inverseSine=mt.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,t!==-1?t===0?(e=Go(a,r+4,n).times(.5),e.s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};mt.inverseTangent=mt.atan=function(){var e,t,r,n,i,a,s,o,u,l=this,c=l.constructor,f=c.precision,d=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=R3)return s=Go(c,f+4,d).times(.25),s.s=l.s,s}else{if(!l.s)return new c(NaN);if(f+4<=R3)return s=Go(c,f+4,d).times(.5),s.s=l.s,s}for(c.precision=o=f+10,c.rounding=1,r=Math.min(28,o/er+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(yr=!1,t=Math.ceil(o/er),n=1,u=l.times(l),s=new c(l),i=l;e!==-1;)if(i=i.times(u),a=s.minus(i.div(n+=2)),i=i.times(u),s=a.plus(i.div(n+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),yr=!0,Kt(s,c.precision=f,c.rounding=d,!0)};mt.isFinite=function(){return!!this.d};mt.isInteger=mt.isInt=function(){return!!this.d&&Oa(this.e/er)>this.d.length-2};mt.isNaN=function(){return!this.s};mt.isNegative=mt.isNeg=function(){return this.s<0};mt.isPositive=mt.isPos=function(){return this.s>0};mt.isZero=function(){return!!this.d&&this.d[0]===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,r,n,i,a,s,o,u,l=this,c=l.constructor,f=c.precision,d=c.rounding,p=5;if(e==null)e=new c(10),t=!0;else{if(e=new c(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new c(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(yr=!1,o=f+p,s=Gc(l,o),n=t?Jb(c,o+10):Gc(e,o),u=qn(s,n,o,1),$v(u.d,i=f,d))do if(o+=10,s=Gc(l,o),n=t?Jb(c,o+10):Gc(e,o),u=qn(s,n,o,1),!a){+da(u.d).slice(i+1,i+15)+1==1e14&&(u=Kt(u,f+1,0));break}while($v(u.d,i+=10,d));return yr=!0,Kt(u,f,d)};mt.minus=mt.sub=function(e){var t,r,n,i,a,s,o,u,l,c,f,d,p=this,m=p.constructor;if(e=new m(e),!p.d||!e.d)return!p.s||!e.s?e=new m(NaN):p.d?e.s=-e.s:e=new m(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(l=p.d,d=e.d,o=m.precision,u=m.rounding,!l[0]||!d[0]){if(d[0])e.s=-e.s;else if(l[0])e=new m(p);else return new m(u===3?-0:0);return yr?Kt(e,o,u):e}if(r=Oa(e.e/er),c=Oa(p.e/er),l=l.slice(),a=c-r,a){for(f=a<0,f?(t=l,a=-a,s=d.length):(t=d,r=c,s=l.length),n=Math.max(Math.ceil(o/er),s)+2,a>n&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for(n=l.length,s=d.length,f=n<s,f&&(s=n),n=0;n<s;n++)if(l[n]!=d[n]){f=l[n]<d[n];break}a=0}for(f&&(t=l,l=d,d=t,e.s=-e.s),s=l.length,n=d.length-s;n>0;--n)l[s++]=0;for(n=d.length;n>a;){if(l[--n]<d[n]){for(i=n;i&&l[--i]===0;)l[i]=Jo-1;--l[i],l[n]+=Jo}l[n]-=d[n]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=z2(l,r),yr?Kt(e,o,u):e):new m(u===3?-0:0)};mt.modulo=mt.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Kt(new n(r),n.precision,n.rounding):(yr=!1,n.modulo==9?(t=qn(r,e.abs(),0,3,1),t.s*=e.s):t=qn(r,e,0,n.modulo,1),t=t.times(e),yr=!0,r.minus(t))};mt.naturalExponential=mt.exp=function(){return U3(this)};mt.naturalLogarithm=mt.ln=function(){return Gc(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Kt(e)};mt.plus=mt.add=function(e){var t,r,n,i,a,s,o,u,l,c,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return!f.s||!e.s?e=new d(NaN):f.d||(e=new d(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(l=f.d,c=e.d,o=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(f)),yr?Kt(e,o,u):e;if(a=Oa(f.e/er),n=Oa(e.e/er),l=l.slice(),i=a-n,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,n=a,s=l.length),a=Math.ceil(o/er),s=a>s?a+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/Jo|0,l[i]%=Jo;for(t&&(l.unshift(t),++n),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=z2(l,n),yr?Kt(e,o,u):e};mt.precision=mt.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cf+e);return r.d?(t=cV(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};mt.round=function(){var e=this,t=e.constructor;return Kt(new t(e),e.e+1,t.rounding)};mt.sine=mt.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+er,n.rounding=1,r=Qhe(n,mV(n,r)),n.precision=e,n.rounding=t,Kt(Ol>2?r.neg():r,e,t,!0)):new n(NaN)};mt.squareRoot=mt.sqrt=function(){var e,t,r,n,i,a,s=this,o=s.d,u=s.e,l=s.s,c=s.constructor;if(l!==1||!o||!o[0])return new c(!l||l<0&&(!o||o[0])?NaN:o?s:1/0);for(yr=!1,l=Math.sqrt(+s),l==0||l==1/0?(t=da(o),(t.length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=Oa((u+1)/2)-(u<0||u%2),l==1/0?t="5e"+u:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),n=new c(t)):n=new c(l.toString()),r=(u=c.precision)+3;;)if(a=n,n=a.plus(qn(s,a,r+2,1)).times(.5),da(a.d).slice(0,r)===(t=da(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(Kt(a,u+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Kt(n,u+1,1),e=!n.times(n).eq(s));break}return yr=!0,Kt(n,u,c.rounding,e)};mt.tangent=mt.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=qn(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Kt(Ol==2||Ol==4?r.neg():r,e,t,!0)):new n(NaN)};mt.times=mt.mul=function(e){var t,r,n,i,a,s,o,u,l,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(e.s*=c.s,!d||!d[0]||!p||!p[0])return new f(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?e.s/0:e.s*0);for(r=Oa(c.e/er)+Oa(e.e/er),u=d.length,l=p.length,u<l&&(a=d,d=p,p=a,s=u,u=l,l=s),a=[],s=u+l,n=s;n--;)a.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)o=a[i]+p[n]*d[i-n-1]+t,a[i--]=o%Jo|0,t=o/Jo|0;a[i]=(a[i]+t)%Jo|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=z2(a,r),yr?Kt(e,f.precision,f.rounding):e};mt.toBinary=function(e,t){return t$(this,2,e,t)};mt.toDecimalPlaces=mt.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Es(e,0,$f),t===void 0?t=n.rounding:Es(t,0,8),Kt(r,e+r.e+1,t))};mt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ju(n,!0):(Es(e,0,$f),t===void 0?t=i.rounding:Es(t,0,8),n=Kt(new i(n),e+1,t),r=Ju(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};mt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?r=Ju(i):(Es(e,0,$f),t===void 0?t=a.rounding:Es(t,0,8),n=Kt(new a(i),e+i.e+1,t),r=Ju(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};mt.toFraction=function(e){var t,r,n,i,a,s,o,u,l,c,f,d,p=this,m=p.d,h=p.constructor;if(!m)return new h(p);if(l=r=new h(1),n=u=new h(0),t=new h(n),a=t.e=cV(m)-p.e-1,s=a%er,t.d[0]=zi(10,s<0?er+s:s),e==null)e=a>0?t:l;else{if(o=new h(e),!o.isInt()||o.lt(l))throw Error(cf+o);e=o.gt(t)?a>0?t:l:o}for(yr=!1,o=new h(da(m)),c=h.precision,h.precision=a=m.length*er*2;f=qn(o,t,0,1,1),i=r.plus(f.times(n)),i.cmp(e)!=1;)r=n,n=i,i=l,l=u.plus(f.times(i)),u=i,i=t,t=o.minus(f.times(i)),o=i;return i=qn(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=p.s,d=qn(l,n,a,1).minus(p).abs().cmp(qn(u,r,a,1).minus(p).abs())<1?[l,n]:[u,r],h.precision=c,yr=!0,d};mt.toHexadecimal=mt.toHex=function(e,t){return t$(this,16,e,t)};mt.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Es(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(yr=!1,r=qn(r,e,0,t,1).times(e),yr=!0,Kt(r)):(e.s=r.s,r=e),r};mt.toNumber=function(){return+this};mt.toOctal=function(e,t){return t$(this,8,e,t)};mt.toPower=mt.pow=function(e){var t,r,n,i,a,s,o=this,u=o.constructor,l=+(e=new u(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new u(zi(+o,l));if(o=new u(o),o.eq(1))return o;if(n=u.precision,a=u.rounding,e.eq(1))return Kt(o,n,a);if(t=Oa(e.e/er),t>=e.d.length-1&&(r=l<0?-l:l)<=Khe)return i=fV(u,o,r,n),e.s<0?new u(1).div(i):Kt(i,n,a);if(s=o.s,s<0){if(t<e.d.length-1)return new u(NaN);if(e.d[t]&1||(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return r=zi(+o,l),t=r==0||!isFinite(r)?Oa(l*(Math.log("0."+da(o.d))/Math.LN10+o.e+1)):new u(r+"").e,t>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(yr=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),i=U3(e.times(Gc(o,n+r)),n),i.d&&(i=Kt(i,n+5,1),$v(i.d,n,a)&&(t=n+10,i=Kt(U3(e.times(Gc(o,t+r)),t),t+5,1),+da(i.d).slice(n+1,n+15)+1==1e14&&(i=Kt(i,n+1,0)))),i.s=s,yr=!0,u.rounding=a,Kt(i,n,a))};mt.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ju(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Es(e,1,$f),t===void 0?t=i.rounding:Es(t,0,8),n=Kt(new i(n),e,t),r=Ju(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};mt.toSignificantDigits=mt.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Es(e,1,$f),t===void 0?t=n.rounding:Es(t,0,8)),Kt(new n(r),e,t)};mt.toString=function(){var e=this,t=e.constructor,r=Ju(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};mt.truncated=mt.trunc=function(){return Kt(new this.constructor(this),this.e+1,1)};mt.valueOf=mt.toJSON=function(){var e=this,t=e.constructor,r=Ju(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function da(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=er-n.length,r&&(a+=zc(r)),a+=n;s=e[t],n=s+"",r=er-n.length,r&&(a+=zc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function Es(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cf+e)}function $v(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=er,i=0):(i=Math.ceil((t+1)/er),t%=er),a=zi(10,er-t),o=e[i]%a|0,n==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),s=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==zi(10,t-2)-1||(o==a/2||o==0)&&(e[i+1]/a/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),s=(n||r<4)&&o==9999||!n&&r>3&&o==4999):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==zi(10,t-3)-1,s}function ab(e,t,r){for(var n,i=[0],a,s=0,o=e.length;s<o;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=L3.indexOf(e.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function Yhe(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/q2(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=jm(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}var qn=function(){function e(n,i,a){var s,o=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+o,n[u]=s%a|0,o=s/a|0;return o&&n.unshift(o),n}function t(n,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,a,s){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*s+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s,o,u){var l,c,f,d,p,m,h,v,y,w,g,b,_,x,E,C,$,D,N,k,P=n.constructor,U=n.s==i.s?1:-1,L=n.d,B=i.d;if(!L||!L[0]||!B||!B[0])return new P(!n.s||!i.s||(L?B&&L[0]==B[0]:!B)?NaN:L&&L[0]==0||!B?U*0:U/0);for(u?(p=1,c=n.e-i.e):(u=Jo,p=er,c=Oa(n.e/p)-Oa(i.e/p)),N=B.length,$=L.length,y=new P(U),w=y.d=[],f=0;B[f]==(L[f]||0);f++);if(B[f]>(L[f]||0)&&c--,a==null?(x=a=P.precision,s=P.rounding):o?x=a+(n.e-i.e)+1:x=a,x<0)w.push(1),m=!0;else{if(x=x/p+2|0,f=0,N==1){for(d=0,B=B[0],x++;(f<$||d)&&x--;f++)E=d*u+(L[f]||0),w[f]=E/B|0,d=E%B|0;m=d||f<$}else{for(d=u/(B[0]+1)|0,d>1&&(B=e(B,d,u),L=e(L,d,u),N=B.length,$=L.length),C=N,g=L.slice(0,N),b=g.length;b<N;)g[b++]=0;k=B.slice(),k.unshift(0),D=B[0],B[1]>=u/2&&++D;do d=0,l=t(B,g,N,b),l<0?(_=g[0],N!=b&&(_=_*u+(g[1]||0)),d=_/D|0,d>1?(d>=u&&(d=u-1),h=e(B,d,u),v=h.length,b=g.length,l=t(h,g,v,b),l==1&&(d--,r(h,N<v?k:B,v,u))):(d==0&&(l=d=1),h=B.slice()),v=h.length,v<b&&h.unshift(0),r(g,h,b,u),l==-1&&(b=g.length,l=t(B,g,N,b),l<1&&(d++,r(g,N<b?k:B,b,u))),b=g.length):l===0&&(d++,g=[0]),w[f++]=d,l&&g[0]?g[b++]=L[C]||0:(g=[L[C]],b=1);while((C++<$||g[0]!==void 0)&&x--);m=g[0]!==void 0}w[0]||w.shift()}if(p==1)y.e=c,aV=m;else{for(f=1,d=w[0];d>=10;d/=10)f++;y.e=f+c*p-1,Kt(y,o?a+y.e+1:a,s,m)}return y}}();function Kt(e,t,r,n){var i,a,s,o,u,l,c,f,d,p=e.constructor;e:if(t!=null){if(f=e.d,!f)return e;for(i=1,o=f[0];o>=10;o/=10)i++;if(a=t-i,a<0)a+=er,s=t,c=f[d=0],u=c/zi(10,i-s-1)%10|0;else if(d=Math.ceil((a+1)/er),o=f.length,d>=o)if(n){for(;o++<=d;)f.push(0);c=u=0,i=1,a%=er,s=a-er+1}else break e;else{for(c=o=f[d],i=1;o>=10;o/=10)i++;a%=er,s=a-er+i,u=s<0?0:c/zi(10,i-s-1)%10|0}if(n=n||t<0||f[d+1]!==void 0||(s<0?c:c%zi(10,i-s-1)),l=r<4?(u||n)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||n||r==6&&(a>0?s>0?c/zi(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,l?(t-=e.e+1,f[0]=zi(10,(er-t%er)%er),e.e=-t||0):f[0]=e.e=0,e;if(a==0?(f.length=d,o=1,d--):(f.length=d+1,o=zi(10,er-a),f[d]=s>0?(c/zi(10,i-s)%zi(10,s)|0)*o:0),l)for(;;)if(d==0){for(a=1,s=f[0];s>=10;s/=10)a++;for(s=f[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,f[0]==Jo&&(f[0]=1));break}else{if(f[d]+=o,f[d]!=Jo)break;f[d--]=0,o=1}for(a=f.length;f[--a]===0;)f.pop()}return yr&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function Ju(e,t,r){if(!e.isFinite())return pV(e);var n,i=e.e,a=da(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+zc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+zc(-i-1)+a,r&&(n=r-s)>0&&(a+=zc(n))):i>=s?(a+=zc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+zc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=zc(n))),a}function z2(e,t){var r=e[0];for(t*=er;r>=10;r/=10)t++;return t}function Jb(e,t,r){if(t>Jhe)throw yr=!0,r&&(e.precision=r),Error(sV);return Kt(new e(Wb),t,1,!0)}function Go(e,t,r){if(t>R3)throw Error(sV);return Kt(new e(Kb),t,r,!0)}function cV(e){var t=e.length-1,r=t*er+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function zc(e){for(var t="";e--;)t+="0";return t}function fV(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/er+4);for(yr=!1;;){if(r%2&&(a=a.times(t),i5(a.d,s)&&(i=!0)),r=Oa(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}t=t.times(t),i5(t.d,s)}return yr=!0,a}function n5(e){return e.d[e.d.length-1]&1}function dV(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;)if(n=new e(t[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function U3(e,t){var r,n,i,a,s,o,u,l=0,c=0,f=0,d=e.constructor,p=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(yr=!1,u=m):u=t,o=new d(.03125);e.e>-2;)e=e.times(o),f+=5;for(n=Math.log(zi(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new d(1),d.precision=u;;){if(a=Kt(a.times(e),u,1),r=r.times(++c),o=s.plus(qn(a,r,u,1)),da(o.d).slice(0,u)===da(s.d).slice(0,u)){for(i=f;i--;)s=Kt(s.times(s),u,1);if(t==null)if(l<3&&$v(s.d,u-n,p,l))d.precision=u+=10,r=a=o=new d(1),c=0,l++;else return Kt(s,d.precision=m,p,yr=!0);else return d.precision=m,s}s=o}}function Gc(e,t){var r,n,i,a,s,o,u,l,c,f,d,p=1,m=10,h=e,v=h.d,y=h.constructor,w=y.rounding,g=y.precision;if(h.s<0||!v||!v[0]||!h.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:h.s!=1?NaN:v?0:h);if(t==null?(yr=!1,c=g):c=t,y.precision=c+=m,r=da(v),n=r.charAt(0),Math.abs(a=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=da(h.d),n=r.charAt(0),p++;a=h.e,n>1?(h=new y("0."+r),a++):h=new y(n+"."+r.slice(1))}else return l=Jb(y,c+2,g).times(a+""),h=Gc(new y(n+"."+r.slice(1)),c-m).plus(l),y.precision=g,t==null?Kt(h,g,w,yr=!0):h;for(f=h,u=s=h=qn(h.minus(1),h.plus(1),c,1),d=Kt(h.times(h),c,1),i=3;;){if(s=Kt(s.times(d),c,1),l=u.plus(qn(s,new y(i),c,1)),da(l.d).slice(0,c)===da(u.d).slice(0,c))if(u=u.times(2),a!==0&&(u=u.plus(Jb(y,c+2,g).times(a+""))),u=qn(u,new y(p),c,1),t==null)if($v(u.d,c-m,w,o))y.precision=c+=m,l=s=h=qn(f.minus(1),f.plus(1),c,1),d=Kt(h.times(h),c,1),i=o=1;else return Kt(u,y.precision=g,w,yr=!0);else return y.precision=g,u;u=l,i+=2}}function pV(e){return String(e.s*e.s/0)}function z3(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%er,r<0&&(n+=er),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=er;n<i;)e.d.push(+t.slice(n,n+=er));t=t.slice(n),n=er-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),yr&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Xhe(e,t){var r,n,i,a,s,o,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),lV.test(t))return z3(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Zhe.test(t))r=16,t=t.toLowerCase();else if(Ghe.test(t))r=2;else if(Whe.test(t))r=8;else throw Error(cf+t);for(a=t.search(/p/i),a>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),s=a>=0,n=e.constructor,s&&(t=t.replace(".",""),o=t.length,a=o-a,i=fV(n,new n(r),a,a*2)),l=ab(t,r,Jo),c=l.length-1,a=c;l[a]===0;--a)l.pop();return a<0?new n(e.s*0):(e.e=z2(l,c),e.d=l,yr=!1,s&&(e=qn(e,i,o*4)),u&&(e=e.times(Math.abs(u)<54?zi(2,u):ff.pow(2,u))),yr=!0,e)}function Qhe(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:jm(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/q2(5,r)),t=jm(e,2,t,t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}function jm(e,t,r,n,i){var a,s,o,u,l=e.precision,c=Math.ceil(l/er);for(yr=!1,u=r.times(r),o=new e(n);;){if(s=qn(o.times(u),new e(t++*t++),l,1),o=i?n.plus(s):n.minus(s),n=qn(s.times(u),new e(t++*t++),l,1),s=o.plus(n),s.d[c]!==void 0){for(a=c;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=n,n=s,s=a}return yr=!0,s.d.length=c+1,s}function q2(e,t){for(var r=e;--t;)r*=e;return r}function mV(e,t){var r,n=t.s<0,i=Go(e,e.precision,1),a=i.times(.5);if(t=t.abs(),t.lte(a))return Ol=n?4:1,t;if(r=t.divToInt(i),r.isZero())Ol=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(a))return Ol=n5(r)?n?2:3:n?4:1,t;Ol=n5(r)?n?1:4:n?3:2}return t.minus(i).abs()}function t$(e,t,r,n){var i,a,s,o,u,l,c,f,d,p=e.constructor,m=r!==void 0;if(m?(Es(r,1,$f),n===void 0?n=p.rounding:Es(n,0,8)):(r=p.precision,n=p.rounding),!e.isFinite())c=pV(e);else{for(c=Ju(e),s=c.indexOf("."),m?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,s>=0&&(c=c.replace(".",""),d=new p(1),d.e=c.length-s,d.d=ab(Ju(d),10,i),d.e=d.d.length),f=ab(c,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])c=m?"0p+0":"0";else{if(s<0?a--:(e=new p(e),e.d=f,e.e=a,e=qn(e,d,r,n,0,i),f=e.d,a=e.e,l=aV),s=f[r],o=i/2,l=l||f[r+1]!==void 0,l=n<4?(s!==void 0||l)&&(n===0||n===(e.s<0?3:2)):s>o||s===o&&(n===4||l||n===6&&f[r-1]&1||n===(e.s<0?8:7)),f.length=r,l)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(s=0,c="";s<u;s++)c+=L3.charAt(f[s]);if(m){if(u>1)if(t==16||t==8){for(s=t==16?4:3,--u;u%s;u++)c+="0";for(f=ab(c,i,t),u=f.length;!f[u-1];--u);for(s=1,c="1.";s<u;s++)c+=L3.charAt(f[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return e.s<0?"-"+c:c}function i5(e,t){if(e.length>t)return e.length=t,!0}function e0e(e){return new this(e).abs()}function t0e(e){return new this(e).acos()}function r0e(e){return new this(e).acosh()}function n0e(e,t){return new this(e).plus(t)}function i0e(e){return new this(e).asin()}function a0e(e){return new this(e).asinh()}function s0e(e){return new this(e).atan()}function o0e(e){return new this(e).atanh()}function u0e(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Go(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Go(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Go(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(qn(e,t,a,1)),t=Go(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(qn(e,t,a,1)),r}function l0e(e){return new this(e).cbrt()}function c0e(e){return Kt(e=new this(e),e.e+1,2)}function f0e(e,t,r){return new this(e).clamp(t,r)}function d0e(e){if(!e||typeof e!="object")throw Error(U2+"Object expected");var t,r,n,i=e.defaults===!0,a=["precision",1,$f,"rounding",0,8,"toExpNeg",-pm,0,"toExpPos",0,pm,"maxE",0,pm,"minE",-pm,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=F3[r]),(n=e[r])!==void 0)if(Oa(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(cf+r+": "+n);if(r="crypto",i&&(this[r]=F3[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(oV);else this[r]=!1;else throw Error(cf+r+": "+n);return this}function p0e(e){return new this(e).cos()}function m0e(e){return new this(e).cosh()}function hV(e){var t,r,n;function i(a){var s,o,u,l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a5(a)){l.s=a.s,yr?!a.d||a.e>i.maxE?(l.e=NaN,l.d=null):a.e<i.minE?(l.e=0,l.d=[0]):(l.e=a.e,l.d=a.d.slice()):(l.e=a.e,l.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){l.s=1/a<0?-1:1,l.e=0,l.d=[0];return}if(a<0?(a=-a,l.s=-1):l.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;yr?s>i.maxE?(l.e=NaN,l.d=null):s<i.minE?(l.e=0,l.d=[0]):(l.e=s,l.d=[a]):(l.e=s,l.d=[a]);return}else if(a*0!==0){a||(l.s=NaN),l.e=NaN,l.d=null;return}return z3(l,a.toString())}else if(u!=="string")throw Error(cf+a);return(o=a.charCodeAt(0))===45?(a=a.slice(1),l.s=-1):(o===43&&(a=a.slice(1)),l.s=1),lV.test(a)?z3(l,a):Xhe(l,a)}if(i.prototype=mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=d0e,i.clone=hV,i.isDecimal=a5,i.abs=e0e,i.acos=t0e,i.acosh=r0e,i.add=n0e,i.asin=i0e,i.asinh=a0e,i.atan=s0e,i.atanh=o0e,i.atan2=u0e,i.cbrt=l0e,i.ceil=c0e,i.clamp=f0e,i.cos=p0e,i.cosh=m0e,i.div=h0e,i.exp=v0e,i.floor=g0e,i.hypot=y0e,i.ln=b0e,i.log=_0e,i.log10=w0e,i.log2=A0e,i.max=x0e,i.min=S0e,i.mod=E0e,i.mul=C0e,i.pow=$0e,i.random=N0e,i.round=D0e,i.sign=T0e,i.sin=k0e,i.sinh=I0e,i.sqrt=O0e,i.sub=M0e,i.sum=P0e,i.tan=B0e,i.tanh=L0e,i.trunc=F0e,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function h0e(e,t){return new this(e).div(t)}function v0e(e){return new this(e).exp()}function g0e(e){return Kt(e=new this(e),e.e+1,3)}function y0e(){var e,t,r=new this(0);for(yr=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return yr=!0,new this(1/0);r=t}return yr=!0,r.sqrt()}function a5(e){return e instanceof ff||e&&e.toStringTag===uV||!1}function b0e(e){return new this(e).ln()}function _0e(e,t){return new this(e).log(t)}function A0e(e){return new this(e).log(2)}function w0e(e){return new this(e).log(10)}function x0e(){return dV(this,arguments,"lt")}function S0e(){return dV(this,arguments,"gt")}function E0e(e,t){return new this(e).mod(t)}function C0e(e,t){return new this(e).mul(t)}function $0e(e,t){return new this(e).pow(t)}function N0e(e){var t,r,n,i,a=0,s=new this(1),o=[];if(e===void 0?e=this.precision:Es(e,1,$f),n=Math.ceil(e/er),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)i=t[a],i>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(oV);else for(;a<n;)o[a++]=Math.random()*1e7|0;for(n=o[--a],e%=er,n&&e&&(i=zi(10,er-e),o[a]=(n/i|0)*i);o[a]===0;a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=er)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<er&&(r-=er-n)}return s.e=r,s.d=o,s}function D0e(e){return Kt(e=new this(e),e.e+1,this.rounding)}function T0e(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function k0e(e){return new this(e).sin()}function I0e(e){return new this(e).sinh()}function O0e(e){return new this(e).sqrt()}function M0e(e,t){return new this(e).sub(t)}function P0e(){var e=0,t=arguments,r=new this(t[e]);for(yr=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return yr=!0,Kt(r,this.precision,this.rounding)}function B0e(e){return new this(e).tan()}function L0e(e){return new this(e).tanh()}function F0e(e){return Kt(e=new this(e),e.e+1,1)}mt[Symbol.for("nodejs.util.inspect.custom")]=mt.toString;mt[Symbol.toStringTag]="Decimal";var ff=mt.constructor=hV(F3);Wb=new ff(Wb);Kb=new ff(Kb);var R0e="BigNumber",U0e=["?on","config"],z0e=Ae(R0e,U0e,e=>{var{on:t,config:r}=e,n=ff.clone({precision:r.precision,modulo:ff.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Sa=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},ao=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},q0e=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Ix=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Wp=function(){throw SyntaxError("Invalid Param")};function Ox(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const j0e={re:0,im:0},md=function(e,t){const r=j0e;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return nt.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return nt.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Wp();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;n===null&&Wp();for(let s=0;s<n.length;s++){const o=n[s];o===" "||o==="	"||o===`
`||(o==="+"?i++:o==="-"?a++:o==="i"||o==="I"?(i+a===0&&Wp(),n[s+1]!==" "&&!isNaN(n[s+1])?(r.im+=parseFloat((a%2?"-":"")+n[s+1]),s++):r.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(o))&&Wp(),n[s+1]==="i"||n[s+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+o),s++):r.re+=parseFloat((a%2?"-":"")+o),i=a=0))}i+a>0&&Wp();break;case"number":r.im=0,r.re=e;break;default:Wp()}return isNaN(r.re)||isNaN(r.im),r};function nt(e,t){if(!(this instanceof nt))return new nt(e,t);const r=md(e,t);this.re=r.re,this.im=r.im}nt.prototype={re:0,im:0,sign:function(){const e=Ix(this.re,this.im);return new nt(this.re/e,this.im/e)},add:function(e,t){const r=md(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?nt.NAN:nt.INFINITY:new nt(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=md(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?nt.NAN:nt.INFINITY:new nt(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=md(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;return n&&s||i&&a?nt.NAN:n||i?nt.INFINITY:r.im===0&&this.im===0?new nt(this.re*r.re,0):new nt(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=md(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;if(a&&s||n&&i)return nt.NAN;if(s||n)return nt.INFINITY;if(a||i)return nt.ZERO;if(r.im===0)return new nt(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const o=r.re/r.im,u=r.re*o+r.im;return new nt((this.re*o+this.im)/u,(this.im*o-this.re)/u)}else{const o=r.im/r.re,u=r.im*o+r.re;return new nt((this.re+this.im*o)/u,(this.im-this.re*o)/u)}},pow:function(e,t){const r=md(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return nt.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new nt(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new nt(Math.pow(this.im,r.re),0);case 1:return new nt(0,Math.pow(this.im,r.re));case 2:return new nt(-Math.pow(this.im,r.re),0);case 3:return new nt(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return nt.ZERO;const a=Math.atan2(this.im,this.re),s=Ox(this.re,this.im);let o=Math.exp(r.re*s-r.im*a),u=r.im*s+r.re*a;return new nt(o*Math.cos(u),o*Math.sin(u))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new nt(Math.sqrt(e),0):new nt(0,Math.sqrt(-e));const r=Ix(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new nt(n,t<0?-i:i):new nt(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new nt(e,0):new nt(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new nt(Math.expm1(e)*Math.cos(t)+q0e(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new nt(Math.log(e),0):new nt(Ox(e,t),Math.atan2(t,e))},abs:function(){return Ix(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new nt(Math.sin(e)*Sa(t),Math.cos(e)*ao(t))},cos:function(){const e=this.re,t=this.im;return new nt(Math.cos(e)*Sa(t),-Math.sin(e)*ao(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Sa(t);return new nt(Math.sin(e)/r,ao(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Sa(t);return new nt(-Math.sin(e)/r,ao(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Sa(2*t)+.5*Math.cos(2*e);return new nt(Math.cos(e)*Sa(t)/r,Math.sin(e)*ao(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Sa(2*t)-.5*Math.cos(2*e);return new nt(Math.sin(e)*Sa(t)/r,-Math.cos(e)*ao(t)/r)},asin:function(){const e=this.re,t=this.im,r=new nt(t*t-e*e+1,-2*e*t).sqrt(),n=new nt(r.re-t,r.im+e).log();return new nt(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new nt(t*t-e*e+1,-2*e*t).sqrt(),n=new nt(r.re-t,r.im+e).log();return new nt(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new nt(0,1/0);if(t===-1)return new nt(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new nt((1-t*t-e*e)/r,-2*e/r).log();return new nt(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new nt(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new nt(e/r,-t/r).atan():new nt(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new nt(0,1/0);const r=e*e+t*t;return r!==0?new nt(e/r,-t/r).acos():new nt(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new nt(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new nt(e/r,-t/r).asin():new nt(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new nt(ao(e)*Math.cos(t),Sa(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new nt(Sa(e)*Math.cos(t),ao(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Sa(e)+Math.cos(t);return new nt(ao(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Sa(e)-Math.cos(t);return new nt(ao(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Sa(2*e);return new nt(-2*ao(e)*Math.cos(t)/r,2*Sa(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Sa(2*e);return new nt(2*Sa(e)*Math.cos(t)/r,-2*ao(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,i=1+e,a=n*n+t*t,s=a!==0?new nt((i*n-t*t)/a,(t*n+i*t)/a):new nt(e!==-1?e/0:0,t!==0?t/0:0),o=s.re;return s.re=Ox(s.re,s.im)/2,s.im=Math.atan2(s.im,o)/2,r&&(s.im=-s.im),s},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new nt(0,Math.PI/2);const r=e*e+t*t;return r!==0?new nt(e/r,-t/r).atanh():new nt(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new nt(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new nt(e/r,-t/r).asinh():new nt(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return nt.INFINITY;const r=e*e+t*t;return r!==0?new nt(e/r,-t/r).acosh():new nt(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return nt.INFINITY;if(this.isInfinite())return nt.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new nt(e/r,-t/r)},conjugate:function(){return new nt(this.re,-this.im)},neg:function(){return new nt(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new nt(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new nt(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new nt(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=md(e,t);return Math.abs(r.re-this.re)<=nt.EPSILON&&Math.abs(r.im-this.im)<=nt.EPSILON},clone:function(){return new nt(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<nt.EPSILON&&(e=0),Math.abs(t)<nt.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};nt.ZERO=new nt(0,0);nt.ONE=new nt(1,0);nt.I=new nt(0,1);nt.PI=new nt(Math.PI,0);nt.E=new nt(Math.E,0);nt.INFINITY=new nt(1/0,1/0);nt.NAN=new nt(NaN,NaN);nt.EPSILON=1e-15;var V0e="Complex",H0e=[],G0e=Ae(V0e,H0e,()=>(Object.defineProperty(nt,"name",{value:"Complex"}),nt.prototype.constructor=nt,nt.prototype.type="Complex",nt.prototype.isComplex=!0,nt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},nt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},nt.prototype.format=function(e){var t="",r=this.im,n=this.re,i=Md(this.re,e),a=Md(this.im,e),s=br(e)?e:e?e.precision:null;if(s!==null){var o=Math.pow(10,-s);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=i+" - i":t=i+" - "+a.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+a+"i",t},nt.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return nt(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(br(r)){if(lo(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),br(n))return new nt({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},nt.prototype.valueOf=nt.prototype.toString,nt.fromJSON=function(e){return new nt(e)},nt.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},nt),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const Wt=BigInt(0),kr=BigInt(1),Nv=BigInt(2),q3=BigInt(5),hs=BigInt(10),Z0e=2e3,Nt={s:kr,n:Wt,d:kr};function _l(e,t){try{e=BigInt(e)}catch{throw Oc()}return e*t}function Ro(e){return typeof e=="bigint"?e:Math.floor(e)}function ri(e,t){if(t===Wt)throw r$();const r=Object.create(so.prototype);r.s=e<Wt?-kr:kr,e=e<Wt?-e:e;const n=_d(e,t);return r.n=e/n,r.d=t/n,r}function Kp(e){const t={};let r=e,n=Nv,i=q3-kr;for(;i<=r;){for(;r%n===Wt;)r/=n,t[n]=(t[n]||Wt)+kr;i+=kr+Nv*n++}return r!==e?r>1&&(t[r]=(t[r]||Wt)+kr):t[e]=(t[e]||Wt)+kr,t}const Xi=function(e,t){let r=Wt,n=kr,i=kr;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw Oc();if(e%1!==0)throw s5();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw Oc();if(t%1!==0)throw s5();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw Oc();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw Oc();if(e<0&&(i=-kr,e=-e),e%1===0)r=BigInt(e);else{let a=1,s=0,o=1,u=1,l=1,c=1e7;for(e>=1&&(a=10**Math.floor(1+Math.log10(e)),e/=a);o<=c&&l<=c;){let f=(s+u)/(o+l);if(e===f){o+l<=c?(r=s+u,n=o+l):l>o?(r=u,n=l):(r=s,n=o);break}else e>f?(s+=u,o+=l):(u+=s,l+=o),o>c?(r=u,n=l):(r=s,n=o)}r=BigInt(r)*BigInt(a),n=BigInt(n)}}else if(typeof e=="string"){let a=0,s=Wt,o=Wt,u=Wt,l=kr,c=kr,f=e.replace(/_/g,"").match(/\d+|./g);if(f===null)throw Oc();if(f[a]==="-"?(i=-kr,a++):f[a]==="+"&&a++,f.length===a+1?o=_l(f[a++],i):f[a+1]==="."||f[a]==="."?(f[a]!=="."&&(s=_l(f[a++],i)),a++,(a+1===f.length||f[a+1]==="("&&f[a+3]===")"||f[a+1]==="'"&&f[a+3]==="'")&&(o=_l(f[a],i),l=hs**BigInt(f[a].length),a++),(f[a]==="("&&f[a+2]===")"||f[a]==="'"&&f[a+2]==="'")&&(u=_l(f[a+1],i),c=hs**BigInt(f[a+1].length)-kr,a+=3)):f[a+1]==="/"||f[a+1]===":"?(o=_l(f[a],i),l=_l(f[a+2],kr),a+=3):f[a+3]==="/"&&f[a+1]===" "&&(s=_l(f[a],i),o=_l(f[a+2],i),l=_l(f[a+4],kr),a+=5),f.length<=a)n=l*c,i=r=u+n*s+c*o;else throw Oc()}else if(typeof e=="bigint")r=e,i=e,n=kr;else throw Oc();if(n===Wt)throw r$();Nt.s=i<Wt?-kr:kr,Nt.n=r<Wt?-r:r,Nt.d=n<Wt?-n:n};function W0e(e,t,r){let n=kr;for(;t>Wt;e=e*e%r,t>>=kr)t&kr&&(n=n*e%r);return n}function K0e(e,t){for(;t%Nv===Wt;t/=Nv);for(;t%q3===Wt;t/=q3);if(t===kr)return Wt;let r=hs%t,n=1;for(;r!==kr;n++)if(r=r*hs%t,n>Z0e)return Wt;return BigInt(n)}function J0e(e,t,r){let n=kr,i=W0e(hs,r,t);for(let a=0;a<300;a++){if(n===i)return BigInt(a);n=n*hs%t,i=i*hs%t}return 0}function _d(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function so(e,t){if(Xi(e,t),this instanceof so)e=_d(Nt.d,Nt.n),this.s=Nt.s,this.n=Nt.n/e,this.d=Nt.d/e;else return ri(Nt.s*Nt.n,Nt.d)}var r$=function(){return new Error("Division by Zero")},Oc=function(){return new Error("Invalid argument")},s5=function(){return new Error("Parameters must be integer")};so.prototype={s:kr,n:Wt,d:kr,abs:function(){return ri(this.n,this.d)},neg:function(){return ri(-this.s*this.n,this.d)},add:function(e,t){return Xi(e,t),ri(this.s*this.n*Nt.d+Nt.s*this.d*Nt.n,this.d*Nt.d)},sub:function(e,t){return Xi(e,t),ri(this.s*this.n*Nt.d-Nt.s*this.d*Nt.n,this.d*Nt.d)},mul:function(e,t){return Xi(e,t),ri(this.s*Nt.s*this.n*Nt.n,this.d*Nt.d)},div:function(e,t){return Xi(e,t),ri(this.s*Nt.s*this.n*Nt.d,this.d*Nt.n)},clone:function(){return ri(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return ri(this.s*this.n%this.d,kr);if(Xi(e,t),Wt===Nt.n*this.d)throw r$();return ri(this.s*(Nt.d*this.n)%(Nt.n*this.d),Nt.d*this.d)},gcd:function(e,t){return Xi(e,t),ri(_d(Nt.n,this.n)*_d(Nt.d,this.d),Nt.d*this.d)},lcm:function(e,t){return Xi(e,t),Nt.n===Wt&&this.n===Wt?ri(Wt,kr):ri(Nt.n*this.n,_d(Nt.n,this.n)*_d(Nt.d,this.d))},inverse:function(){return ri(this.s*this.d,this.n)},pow:function(e,t){if(Xi(e,t),Nt.d===kr)return Nt.s<Wt?ri((this.s*this.d)**Nt.n,this.n**Nt.n):ri((this.s*this.n)**Nt.n,this.d**Nt.n);if(this.s<Wt)return null;let r=Kp(this.n),n=Kp(this.d),i=kr,a=kr;for(let s in r)if(s!=="1"){if(s==="0"){i=Wt;break}if(r[s]*=Nt.n,r[s]%Nt.d===Wt)r[s]/=Nt.d;else return null;i*=BigInt(s)**r[s]}for(let s in n)if(s!=="1"){if(n[s]*=Nt.n,n[s]%Nt.d===Wt)n[s]/=Nt.d;else return null;a*=BigInt(s)**n[s]}return Nt.s<Wt?ri(a,i):ri(i,a)},log:function(e,t){if(Xi(e,t),this.s<=Wt||Nt.s<=Wt)return null;const r={},n=Kp(Nt.n),i=Kp(Nt.d),a=Kp(this.n),s=Kp(this.d);for(const l in i)n[l]=(n[l]||Wt)-i[l];for(const l in s)a[l]=(a[l]||Wt)-s[l];for(const l in n)l!=="1"&&(r[l]=!0);for(const l in a)l!=="1"&&(r[l]=!0);let o=null,u=null;for(const l in r){const c=n[l]||Wt,f=a[l]||Wt;if(c===Wt){if(f!==Wt)return null;continue}let d=f,p=c;const m=_d(d,p);if(d/=m,p/=m,o===null&&u===null)o=d,u=p;else if(d*u!==o*p)return null}return o!==null&&u!==null?ri(o,u):null},equals:function(e,t){return Xi(e,t),this.s*this.n*Nt.d===Nt.s*Nt.n*this.d},lt:function(e,t){return Xi(e,t),this.s*this.n*Nt.d<Nt.s*Nt.n*this.d},lte:function(e,t){return Xi(e,t),this.s*this.n*Nt.d<=Nt.s*Nt.n*this.d},gt:function(e,t){return Xi(e,t),this.s*this.n*Nt.d>Nt.s*Nt.n*this.d},gte:function(e,t){return Xi(e,t),this.s*this.n*Nt.d>=Nt.s*Nt.n*this.d},compare:function(e,t){Xi(e,t);let r=this.s*this.n*Nt.d-Nt.s*Nt.n*this.d;return(Wt<r)-(r<Wt)},ceil:function(e){return e=hs**BigInt(e||0),ri(Ro(this.s*e*this.n/this.d)+(e*this.n%this.d>Wt&&this.s>=Wt?kr:Wt),e)},floor:function(e){return e=hs**BigInt(e||0),ri(Ro(this.s*e*this.n/this.d)-(e*this.n%this.d>Wt&&this.s<Wt?kr:Wt),e)},round:function(e){return e=hs**BigInt(e||0),ri(Ro(this.s*e*this.n/this.d)+this.s*((this.s>=Wt?kr:Wt)+Nv*(e*this.n%this.d)>this.d?kr:Wt),e)},roundTo:function(e,t){Xi(e,t);const r=this.n*Nt.d,n=this.d*Nt.n,i=r%n;let a=Ro(r/n);return i+i>=n&&a++,ri(this.s*a*Nt.n,Nt.d)},divisible:function(e,t){return Xi(e,t),!(!(Nt.n*this.d)||this.n*Nt.d%(Nt.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=K0e(t,r),i=J0e(t,r,n),a=this.s<Wt?"-":"";if(a+=Ro(t/r),t%=r,t*=hs,t&&(a+="."),n){for(let s=i;s--;)a+=Ro(t/r),t%=r,t*=hs;a+="(";for(let s=n;s--;)a+=Ro(t/r),t%=r,t*=hs;a+=")"}else for(let s=e;t&&s--;)a+=Ro(t/r),t%=r,t*=hs;return a},toFraction:function(e){let t=this.n,r=this.d,n=this.s<Wt?"-":"";if(r===kr)n+=t;else{let i=Ro(t/r);e&&i>Wt&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<Wt?"-":"";if(r===kr)n+=t;else{let i=Ro(t/r);e&&i>Wt&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(Ro(e/t));let n=e%t;e=t,t=n}while(e!==kr);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let a=ri(n[i-1],kr);for(let o=i-2;o>=0;o--)a=a.inverse().add(n[o]);let s=a.sub(r);if(s.n*t<s.d)return a.mul(this.s)}return this}};var Y0e="Fraction",X0e=[],Q0e=Ae(Y0e,X0e,()=>(Object.defineProperty(so,"name",{value:"Fraction"}),so.prototype.constructor=so,so.prototype.type="Fraction",so.prototype.isFraction=!0,so.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},so.fromJSON=function(e){return new so(e)},so),{isClass:!0}),eve="Range",tve=[],rve=Ae(eve,tve,()=>{function e(t,r,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=t!=null,a=r!=null,s=n!=null;if(i){if(Ar(t))t=t.toNumber();else if(typeof t!="number"&&!Q0(t))throw new TypeError("Parameter start must be a number or bigint")}if(a){if(Ar(r))r=r.toNumber();else if(typeof r!="number"&&!Q0(r))throw new TypeError("Parameter end must be a number or bigint")}if(s){if(Ar(n))n=n.toNumber();else if(typeof n!="number"&&!Q0(n))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(t):0,this.end=a?parseFloat(r):0,this.step=s?parseFloat(n):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if(typeof t!="string")return null;var r=t.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var t=0,r=this.start,n=this.step,i=this.end,a=i-r;return Hc(n)===Hc(a)?t=Math.ceil(a/n):a===0&&(t=0),isNaN(t)&&(t=0),[t]},e.prototype.min=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start:this.start+(t-1)*this.step},e.prototype.max=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start+(t-1)*this.step:this.start},e.prototype.forEach=function(t){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)t(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)t(r,[a],this),r+=n,a++},e.prototype.map=function(t){var r=[];return this.forEach(function(n,i,a){r[i[0]]=t(n,i,a)}),r},e.prototype.toArray=function(){var t=[];return this.forEach(function(r,n){t[n[0]]=r}),t},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(t){var r=Md(this.start,t);return this.step!==1&&(r+=":"+Md(this.step,t)),r+=":"+Md(this.end,t),r},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e},{isClass:!0}),nve="Matrix",ive=[],ave=Ae(nve,ive,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Mx(e,t,r){var n=e.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!zt(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function sve(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=tV(t);switch(r){case"fixed":return uve(e,n);case"exponential":return o5(e,n);case"engineering":return ove(e,n);case"bin":return Mx(e,2,i);case"oct":return Mx(e,8,i);case"hex":return Mx(e,16,i);case"auto":{var a=u5(t?.lowerExp,-3),s=u5(t?.upperExp,5);if(e.isZero())return"0";var o,u=e.toSignificantDigits(n),l=u.e;return l>=a&&l<s?o=u.toFixed():o=o5(e,n),o.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ove(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),a=i.toPrecision(t);if(a.includes("e")){var s=e.constructor;a=new s(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function o5(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function uve(e,t){return e.toFixed(t)}function u5(e,t){return br(e)?e:Ar(e)?e.toNumber():t}function lve(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}function Ir(e,t){var r=cve(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function cve(e,t){if(typeof e=="number")return Md(e,t);if(Ar(e))return sve(e,t);if(fve(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return vV(e,t);if(Ca(e))return mm(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>mm(n)+": "+Ir(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function mm(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in l5?l5[i]:i,n++}return'"'+r+'"'}var l5={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function co(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t}function vV(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=vV(e[i],t);return r+="]",r}else return Ir(e,t)}function fve(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function j3(e,t){if(!Ca(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Tn(e)+", index: 0)");if(!Ca(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Tn(t)+", index: 1)");return e===t?0:e>t?1:-1}function Mr(e,t,r){if(!(this instanceof Mr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Mr.prototype=new RangeError;Mr.prototype.constructor=RangeError;Mr.prototype.name="DimensionError";Mr.prototype.isDimensionError=!0;function cu(e,t,r){if(!(this instanceof cu))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}cu.prototype=new RangeError;cu.prototype.constructor=RangeError;cu.prototype.name="IndexError";cu.prototype.isIndexError=!0;function mr(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function gV(e,t,r){var n,i=e.length;if(i!==t[r])throw new Mr(i,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<i;n++){var s=e[n];if(!Array.isArray(s))throw new Mr(t.length-1,t.length,"<");gV(e[n],t,a)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new Mr(t.length+1,t.length,">")}function c5(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Mr(e.length,0)}else gV(e,t,0)}function Yb(e,t){var r=e.isMatrix?e._size:mr(e),n=t._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new Mr(i,r[a])})}function Pn(e,t){if(e!==void 0){if(!br(e)||!zt(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new cu(e,t)}}function Vm(e){for(var t=0;t<e._dimensions.length;++t){var r=e._dimensions[t];if(r._data&&Cn(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Ca(r)&&r.length===0)return!0}return!1}function Hm(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!br(i)||!zt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ir(t)+")")}),(br(e)||Ar(e))&&(e=[e]);var n=r!==void 0?r:0;return V3(e,t,0,n),e}function V3(e,t,r,n){var i,a,s=e.length,o=t[r],u=Math.min(s,o);if(e.length=o,r<t.length-1){var l=r+1;for(i=0;i<u;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),V3(a,t,l,n);for(i=u;i<o;i++)a=[],e[i]=a,V3(a,t,l,n)}else{for(i=0;i<u;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=u;i<o;i++)e[i]=n}}function n$(e,t){var r=ln(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Mr(0,n,"!=");t=i$(t,n);var i=yV(t);if(n!==i)throw new Mr(i,n,"!=");try{return dve(r,t)}catch(a){throw a instanceof Mr?new Mr(i,n,"!="):a}}function i$(e,t){var r=yV(e),n=e.slice(),i=-1,a=e.indexOf(i),s=e.indexOf(i,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var o=a>=0,u=t%r===0;if(o)if(u)n[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function yV(e){return e.reduce((t,r)=>t*r,1)}function dve(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var s=r.length/a,o=0;o<s;o++)n.push(r.slice(o*a,(o+1)*a));r=n}return r}function Xb(e,t){for(var r=t||mr(e);Array.isArray(e)&&e.length===1;)e=e[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(e=bV(e,n,0),r.length=n),e}function bV(e,t,r){var n,i;if(r<t){var a=r+1;for(n=0,i=e.length;n<i;n++)e[n]=bV(e[n],t,a)}else for(;Array.isArray(e);)e=e[0];return e}function _V(e,t,r,n){var i=n||mr(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=AV(e,t,0);i.length<t;)i.push(1);return e}function AV(e,t,r){var n,i;if(Array.isArray(e)){var a=r+1;for(n=0,i=e.length;n<i;n++)e[n]=AV(e[n],t,a)}else for(var s=r;s<t;s++)e=[e];return e}function ln(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?i(e):n(e),r;function n(a){for(var s=0;s<a.length;s++){var o=a[s];Array.isArray(o)?n(o):r.push(o)}}function i(a){if(Array.isArray(a[0]))for(var s=0;s<a.length;s++)i(a[s]);else for(var o=0;o<a.length;o++)r.push(a[o])}}function Yc(e,t){return Array.prototype.map.call(e,t)}function wV(e,t){Array.prototype.forEach.call(e,t)}function f5(e,t){if(mr(e).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function d5(e,t){if(mr(e).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,r=>t.test(r))}function p5(e,t){return Array.prototype.join.call(e,t)}function Gm(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(e.length===0)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function Qb(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(e.length===0)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function j2(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],s=Array.isArray(a);if(i===0&&s&&(n=a.length),s&&a.length!==n)return;var o=s?j2(a,t):t(a);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function xV(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Mr(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=xV(e[a],t[a],r,n+1);return i}else return e.concat(t)}function SV(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return xV(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function a$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(d=>d.length),i=Math.max(...n),a=new Array(i).fill(null),s=0;s<t.length;s++)for(var o=t[s],u=n[s],l=0;l<u;l++){var c=i-u+l;o[l]>a[c]&&(a[c]=o[l])}for(var f=0;f<t.length;f++)EV(t[f],a);return a}function EV(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var a=r-n+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[a]))}}function Ed(e,t){var r=mr(e);if(Zl(r,t))return e;EV(r,t);var n=a$(r,t),i=n.length,a=[...Array(i-r.length).fill(1),...r],s=mve(e);r.length<i&&(s=n$(s,a),r=mr(s));for(var o=0;o<i;o++)r[o]<n[o]&&(s=pve(s,n[o],o),r=mr(s));return s}function pve(e,t,r){return SV(...Array(t).fill(e),r)}function s$(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=mr(e);if(t.length!==r.length)throw new Mr(t.length,r.length);for(var n=0;n<t.length;n++)Pn(t[n],r[n]);return t.reduce((i,a)=>i[a],e)}function H3(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return a(e);var n=[];return i(e,0);function i(s,o){if(Array.isArray(s)){for(var u=s.length,l=Array(u),c=0;c<u;c++)n[o]=c,l[c]=i(s[c],o+1);return l}else return t(s,n.slice(0,o),e)}function a(s){if(Array.isArray(s)){for(var o=s.length,u=Array(o),l=0;l<o;l++)u[l]=a(s[l]);return u}else return t(s)}}function CV(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return;if(r){a(e);return}var n=[];i(e,0);function i(s,o){if(Array.isArray(s))for(var u=s.length,l=0;l<u;l++)n[o]=l,i(s[l],o+1);else t(s,n.slice(0,o),e)}function a(s){if(Array.isArray(s))for(var o=s.length,u=0;u<o;u++)a(s[u]);else t(s)}}function mve(e){return qi([],e)}function Vd(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Zb.isTypedFunction(e)){var i;if(n)i=1;else{var a=(t.isMatrix?t.size():mr(t)).map(()=>0),s=t.isMatrix?t.get(a):s$(t,a);i=gve(e,s,a,t)}var o;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var u=hve(e,i);o=u!==void 0?u:e}else o=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return m5(o,f.slice(0,i),r,e.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return m5(o,f,r,e.name)}}}return n===void 0?{isUnary:vve(e),fn:e}:{isUnary:n,fn:e}}function hve(e,t){var r=[];if(Object.entries(e.signatures).forEach(n=>{var[i,a]=n;i.split(",").length===t&&r.push(a)}),r.length===1)return r[0]}function vve(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function gve(e,t,r,n){for(var i=[t,r,n],a=3;a>0;a--){var s=i.slice(0,a);if(Zb.resolve(e,s)!==null)return a}}function m5(e,t,r,n){try{return e(...t)}catch(i){yve(i,t,r,n)}}function yve(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var a=[];throw a.push("value: ".concat(Tn(t[0]))),t.length>=2&&a.push("index: ".concat(Tn(t[1]))),t.length>=3&&a.push("array: ".concat(Tn(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var bve="DenseMatrix",_ve=["Matrix"],Ave=Ae(bve,_ve,e=>{var{Matrix:t}=e;function r(c,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Ca(f))throw new Error("Invalid datatype: "+f);if(Jt(c))c.type==="DenseMatrix"?(this._data=hr(c._data),this._size=hr(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Cn(c.data)&&Cn(c.size))this._data=c.data,this._size=c.size,c5(this._data,this._size),this._datatype=f||c.datatype;else if(Cn(c))this._data=l(c),this._size=mr(this._data),c5(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Tn(c)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new t,r.prototype.createDenseMatrix=function(c,f){return new r(c,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return j2(this._data,Tn)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,f){return new r(c,f)},r.prototype.subset=function(c,f,d){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){return s$(this._data,c)},r.prototype.set=function(c,f,d){if(!Cn(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Mr(c.length,this._size.length,"<");var p,m,h,v=c.map(function(w){return w+1});u(this,v,d);var y=this._data;for(p=0,m=c.length-1;p<m;p++)h=c[p],Pn(h,y.length),y=y[h];return h=c[c.length-1],Pn(h,y.length),y[h]=f,this};function n(c,f){if(!B2(f))throw new TypeError("Invalid index");var d=f.isScalar();if(d)return c.get(f.min());var p=f.size();if(p.length!==c._size.length)throw new Mr(p.length,c._size.length);for(var m=f.min(),h=f.max(),v=0,y=c._size.length;v<y;v++)Pn(m[v],c._size[v]),Pn(h[v],c._size[v]);var w=new r([]),g=i(c._data,f);return w._size=g.size,w._datatype=c._datatype,w._data=g.data,w}function i(c,f){var d=f.size().length-1,p=Array(d);return{data:m(c),size:p};function m(h){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=f.dimension(v);return p[v]=y.size()[0],v<d?y.map(w=>(Pn(w,h.length),m(h[w],v+1))).valueOf():y.map(w=>(Pn(w,h.length),h[w])).valueOf()}}function a(c,f,d,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var m=f.size(),h=f.isScalar(),v;if(Jt(d)?(v=d.size(),d=d.valueOf()):v=mr(d),h){if(v.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),d,p)}else{if(!Zl(v,m))try{v.length===0?d=Ed([d],m):d=Ed(d,m),v=mr(d)}catch{}if(m.length<c._size.length)throw new Mr(m.length,c._size.length,"<");if(v.length<m.length){for(var y=0,w=0;m[y]===1&&v[y]===1;)y++;for(;m[y]===1;)w++,y++;d=_V(d,m.length,w,v)}if(!Zl(m,v))throw new Mr(m,v,">");var g=f.max().map(function(b){return b+1});u(c,g,p),s(c._data,f,d)}return c}function s(c,f,d){var p=f.size().length-1;m(c,d);function m(h,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=f.dimension(y);y<p?w.forEach((g,b)=>{Pn(g,h.length),m(h[g],v[b[0]],y+1)}):w.forEach((g,b)=>{Pn(g,h.length),h[g]=v[b[0]]})}}r.prototype.resize=function(c,f,d){if(!bo(c))throw new TypeError("Array or Matrix expected");var p=c.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),m=d?this.clone():this;return o(m,p,f)};function o(c,f,d){if(f.length===0){for(var p=c._data;Cn(p);)p=p[0];return p}return c._size=f.slice(0),c._data=Hm(c._data,c._size,d),c}r.prototype.reshape=function(c,f){var d=f?this.clone():this;d._data=n$(d._data,c);var p=d._size.reduce((m,h)=>m*h);return d._size=i$(c,p),d};function u(c,f,d){for(var p=c._size.slice(0),m=!1;p.length<f.length;)p.push(0),m=!0;for(var h=0,v=f.length;h<v;h++)f[h]>p[h]&&(p[h]=f[h],m=!0);m&&o(c,p,d)}r.prototype.clone=function(){var c=new r({data:hr(this._data),size:hr(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,p=d._size.length-1;if(p<0)return d.clone();var m=Vd(c,d,"map",f),h=m.fn,v=d.create(void 0,d._datatype);if(v._size=d._size,f||m.isUnary)return v._data=x(d._data),v;if(p===0){for(var y=d.valueOf(),w=Array(y.length),g=0;g<y.length;g++)w[g]=h(y[g],[g],d);return v._data=w,v}var b=[];return v._data=_(d._data),v;function _(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=Array(E.length);if(C<p)for(var D=0;D<E.length;D++)b[C]=D,$[D]=_(E[D],C+1);else for(var N=0;N<E.length;N++)b[C]=N,$[N]=h(E[N],b.slice(),d);return $}function x(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=Array(E.length);if(C<p)for(var D=0;D<E.length;D++)$[D]=x(E[D],C+1);else for(var N=0;N<E.length;N++)$[N]=h(E[N]);return $}},r.prototype.forEach=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,p=d._size.length-1;if(p<0)return;var m=Vd(c,d,"map",f),h=m.fn;if(f||m.isUnary){g(d._data);return}if(p===0){for(var v=0;v<d._data.length;v++)h(d._data[v],[v],d);return}var y=[];w(d._data);function w(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(_<p)for(var x=0;x<b.length;x++)y[_]=x,w(b[x],_+1);else for(var E=0;E<b.length;E++)y[_]=E,h(b[E],y.slice(),d)}function g(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(_<p)for(var x=0;x<b.length;x++)g(b[x],_+1);else for(var E=0;E<b.length;E++)h(b[E])}},r.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var f=0;f<this._data.length;f++)yield{value:this._data[f],index:[f]};return}var d=[],p=function*(h,v){if(v<c)for(var y=0;y<h.length;y++)d[v]=y,yield*p(h[y],v+1);else for(var w=0;w<h.length;w++)d[v]=w,yield{value:h[w],index:d.slice()}};yield*p(this._data,0)}},r.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var p of d)c.push(new r([p],this._datatype));return c},r.prototype.columns=function(){var c=this,f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,m=function(y){var w=p.map(g=>[g[y]]);f.push(new r(w,c._datatype))},h=0;h<d[1];h++)m(h);return f},r.prototype.toArray=function(){return hr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return Ir(this._data,c)},r.prototype.toString=function(){return Ir(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(Ar(c)&&(c=c.toNumber()),!br(c)||!zt(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,d=c<0?-c:0,p=this._size[0],m=this._size[1],h=Math.min(p-d,m-f),v=[],y=0;y<h;y++)v[y]=this._data[y+d][y+f];return new r({data:v,size:[h],datatype:this._datatype})},r.diagonal=function(c,f,d,p){if(!Cn(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(E){if(Ar(E)&&(E=E.toNumber()),!br(E)||!zt(E)||E<1)throw new Error("Size values must be positive integers");return E}),d){if(Ar(d)&&(d=d.toNumber()),!br(d)||!zt(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var m=d>0?d:0,h=d<0?-d:0,v=c[0],y=c[1],w=Math.min(v-h,y-m),g;if(Cn(f)){if(f.length!==w)throw new Error("Invalid value array length");g=function(C){return f[C]}}else if(Jt(f)){var b=f.size();if(b.length!==1||b[0]!==w)throw new Error("Invalid matrix length");g=function(C){return f.get([C])}}else g=function(){return f};p||(p=Ar(g(0))?g(0).mul(0):0);var _=[];if(c.length>0){_=Hm(_,c,p);for(var x=0;x<w;x++)_[x+h][x+m]=g(x)}return new r({data:_,size:[v,y]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,f){if(!br(c)||!zt(c)||!br(f)||!zt(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pn(c,this._size[0]),Pn(f,this._size[0]),r._swapRows(c,f,this._data),this},r._swapRows=function(c,f,d){var p=d[c];d[c]=d[f],d[f]=p};function l(c){return Jt(c)?l(c.valueOf()):Cn(c)?c.map(l):c}return r},{isClass:!0}),h5="clone",wve=["typed"],xve=Ae(h5,wve,e=>{var{typed:t}=e;return t(h5,{any:hr})});function $V(e){var t=e.length,r=e[0].length,n,i,a=[];for(i=0;i<r;i++){var s=[];for(n=0;n<t;n++)s.push(e[n][i]);a.push(s)}return a}function $h(e){for(var t=0;t<e.length;t++)if(bo(e[t]))return!0;return!1}function df(e,t){Jt(e)?e.forEach(r=>t(r),!1,!0):CV(e,t,!0)}function wr(e,t,r){if(!r)return Jt(e)?e.map(i=>t(i),!1,!0):H3(e,t,!0);var n=i=>i===0?i:t(i);return Jt(e)?e.map(i=>n(i),!1,!0):H3(e,n,!0)}function V2(e,t,r){var n=Array.isArray(e)?mr(e):e.size();if(t<0||t>=n.length)throw new cu(t,n.length);return Jt(e)?e.create(e_(e.valueOf(),t,r),e.datatype()):e_(e,t,r)}function e_(e,t,r){var n,i,a,s;if(t<=0)if(Array.isArray(e[0])){for(s=$V(e),i=[],n=0;n<s.length;n++)i[n]=e_(s[n],t-1,r);return i}else{for(a=e[0],n=1;n<e.length;n++)a=r(a,e[n]);return a}else{for(i=[],n=0;n<e.length;n++)i[n]=e_(e[n],t-1,r);return i}}function v5(e,t,r,n,i,a,s,o,u,l,c){var f=e._values,d=e._index,p=e._ptr,m,h,v,y;if(n)for(h=p[t],v=p[t+1],m=h;m<v;m++)y=d[m],r[y]!==a?(r[y]=a,s.push(y),l?(n[y]=u?o(f[m],c):o(c,f[m]),i[y]=a):n[y]=f[m]):(n[y]=u?o(f[m],n[y]):o(n[y],f[m]),i[y]=a);else for(h=p[t],v=p[t+1],m=h;m<v;m++)y=d[m],r[y]!==a?(r[y]=a,s.push(y)):i[y]=a}var g5="isInteger",Sve=["typed"],Eve=Ae(g5,Sve,e=>{var{typed:t}=e;return t(g5,{number:zt,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),fu="number",Nh="number, number";function NV(e){return Math.abs(e)}NV.signature=fu;function DV(e,t){return e+t}DV.signature=Nh;function TV(e,t){return e-t}TV.signature=Nh;function kV(e,t){return e*t}kV.signature=Nh;function IV(e){return-e}IV.signature=fu;function OV(e){return e}OV.signature=fu;function j0(e){return Nhe(e)}j0.signature=fu;function MV(e){return e*e*e}MV.signature=fu;function PV(e){return Math.exp(e)}PV.signature=fu;function BV(e){return Dhe(e)}BV.signature=fu;function LV(e,t){if(!zt(e)||!zt(t))throw new Error("Parameters in function lcm must be integer numbers");if(e===0||t===0)return 0;for(var r,n=e*t;t!==0;)r=t,t=e%r,e=r;return Math.abs(n/e)}LV.signature=Nh;function y5(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}function t_(e){return Che(e)}t_.signature=fu;function G3(e){return Ehe(e)}G3.signature=fu;function b5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=t<0;if(r&&(t=-t),t===0)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(e===0)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function Z3(e){return Hc(e)}Z3.signature=fu;function FV(e){return e*e}FV.signature=fu;function RV(e,t){var r,n,i,a=0,s=1,o=1,u=0;if(!zt(e)||!zt(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)n=Math.floor(e/t),i=e-n*t,r=a,a=s-n*a,s=r,r=o,o=u-n*o,u=r,e=t,t=i;var l;return e<0?l=[-e,-s,-u]:l=[e,e?s:0,u],l}RV.signature=Nh;function UV(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}UV.signature=Nh;function $0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!zt(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(rV(e,t))}var Cve="number",Dh="number, number";function zV(e,t){if(!zt(e)||!zt(t))throw new Error("Integers expected in function bitAnd");return e&t}zV.signature=Dh;function qV(e){if(!zt(e))throw new Error("Integer expected in function bitNot");return~e}qV.signature=Cve;function jV(e,t){if(!zt(e)||!zt(t))throw new Error("Integers expected in function bitOr");return e|t}jV.signature=Dh;function VV(e,t){if(!zt(e)||!zt(t))throw new Error("Integers expected in function bitXor");return e^t}VV.signature=Dh;function HV(e,t){if(!zt(e)||!zt(t))throw new Error("Integers expected in function leftShift");return e<<t}HV.signature=Dh;function GV(e,t){if(!zt(e)||!zt(t))throw new Error("Integers expected in function rightArithShift");return e>>t}GV.signature=Dh;function ZV(e,t){if(!zt(e)||!zt(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}ZV.signature=Dh;function Ml(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return Ml(e,r)*Ml(r+1,t)}function WV(e,t){if(!zt(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!zt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var r=e-t,n=1,i=t<r?r+1:t+1,a=2,s=t<r?t:r,o=i;o<=e;++o)for(n*=o;a<=s&&n%a===0;)n/=a,++a;return a<=s&&(n/=Ml(a,s)),n}WV.signature="number, number";var $ve=Math.PI,Nve=2*Math.PI,Dve=Math.E,Tve=1.618033988749895,kve="number",o$="number, number";function KV(e){return!e}KV.signature=kve;function W3(e,t){return!!(e||t)}W3.signature=o$;function K3(e,t){return!!e!=!!t}K3.signature=o$;function J3(e,t){return!!(e&&t)}J3.signature=o$;function r_(e){var t;if(zt(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:Ml(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*r_(1-e));if(e>=171.35)return 1/0;if(e>85){var r=e*e,n=r*e,i=n*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,t=Cm[0];for(var s=1;s<Cm.length;++s)t+=Cm[s]/(e+s);var o=e+JV+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,e+.5)*Math.exp(-o)*t}r_.signature="number";var JV=4.7421875,Cm=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],YV=.9189385332046728,Ive=5,Ove=7,_5=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function n_(e){if(e<0)return NaN;if(e===0)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-n_(1-e);e=e-1;for(var t=e+Ive+.5,r=_5[0],n=Ove-1;n>=1;n--)r+=_5[n]/(e+n);return YV+(e+.5)*Math.log(t)-t+Math.log(r)}n_.signature="number";var Pa="number";function XV(e){return Ohe(e)}XV.signature=Pa;function QV(e){return Math.atan(1/e)}QV.signature=Pa;function eH(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}eH.signature=Pa;function tH(e){return Math.asin(1/e)}tH.signature=Pa;function rH(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}rH.signature=Pa;function nH(e){return Math.acos(1/e)}nH.signature=Pa;function iH(e){var t=1/e,r=Math.sqrt(t*t-1);return Math.log(r+t)}iH.signature=Pa;function aH(e){return Mhe(e)}aH.signature=Pa;function sH(e){return Phe(e)}sH.signature=Pa;function oH(e){return 1/Math.tan(e)}oH.signature=Pa;function uH(e){var t=Math.exp(2*e);return(t+1)/(t-1)}uH.signature=Pa;function lH(e){return 1/Math.sin(e)}lH.signature=Pa;function cH(e){return e===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*Hc(e)}cH.signature=Pa;function fH(e){return 1/Math.cos(e)}fH.signature=Pa;function dH(e){return 2/(Math.exp(e)+Math.exp(-e))}dH.signature=Pa;function pH(e){return Lhe(e)}pH.signature=Pa;var u$="number";function mH(e){return e<0}mH.signature=u$;function hH(e){return e>0}hH.signature=u$;function vH(e){return Number.isNaN(e)}vH.signature=u$;function _o(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var A5="isNegative",Mve=["typed","config"],Pve=Ae(A5,Mve,e=>{var{typed:t,config:r}=e;return t(A5,{number:n=>va(n,0,r.relTol,r.absTol)?!1:mH(n),BigNumber:n=>_o(n,new n.constructor(0),r.relTol,r.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),w5="isNumeric",Bve=["typed"],Lve=Ae(w5,Bve,e=>{var{typed:t}=e;return t(w5,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),x5="hasNumericValue",Fve=["typed","isNumeric"],Rve=Ae(x5,Fve,e=>{var{typed:t,isNumeric:r}=e;return t(x5,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),S5="isPositive",Uve=["typed","config"],zve=Ae(S5,Uve,e=>{var{typed:t,config:r}=e;return t(S5,{number:n=>va(n,0,r.relTol,r.absTol)?!1:hH(n),BigNumber:n=>_o(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),E5="isZero",qve=["typed","equalScalar"],jve=Ae(E5,qve,e=>{var{typed:t,equalScalar:r}=e;return t(E5,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),C5="isNaN",Vve=["typed"],Hve=Ae(C5,Vve,e=>{var{typed:t}=e;return t(C5,{number:vH,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),$5="typeOf",Gve=["typed"],Zve=Ae($5,Gve,e=>{var{typed:t}=e;return t($5,{any:Tn})});function Wve(e,t,r,n){return va(e.re,t.re,r,n)&&va(e.im,t.im,r,n)}var Th=Ae("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),i_="equalScalar",Kve=["typed","config"],Jve=Ae(i_,Kve,e=>{var{typed:t,config:r}=e,n=Th({typed:t});return t(i_,{"boolean, boolean":function(a,s){return a===s},"number, number":function(a,s){return va(a,s,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,s){return a.eq(s)||_o(a,s,r.relTol,r.absTol)},"bigint, bigint":function(a,s){return a===s},"Fraction, Fraction":function(a,s){return a.equals(s)},"Complex, Complex":function(a,s){return Wve(a,s,r.relTol,r.absTol)}},n)});Ae(i_,["typed","config"],e=>{var{typed:t,config:r}=e;return t(i_,{"number, number":function(i,a){return va(i,a,r.relTol,r.absTol)}})});var Yve="SparseMatrix",Xve=["typed","equalScalar","Matrix"],Qve=Ae(Yve,Xve,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(h,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Ca(v))throw new Error("Invalid datatype: "+v);if(Jt(h))a(this,h,v);else if(h&&Cn(h.index)&&Cn(h.ptr)&&Cn(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=v||h.datatype;else if(Cn(h))s(this,h,v);else{if(h)throw new TypeError("Unsupported type of data ("+Tn(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(h,v,y){v.type==="SparseMatrix"?(h._values=v._values?hr(v._values):void 0,h._index=hr(v._index),h._ptr=hr(v._ptr),h._size=hr(v._size),h._datatype=y||v._datatype):s(h,v.valueOf(),y||v._datatype)}function s(h,v,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var w=v.length,g=0,b=r,_=0;if(Ca(y)&&(b=t.find(r,[y,y])||r,_=t.convert(0,y)),w>0){var x=0;do{h._ptr.push(h._index.length);for(var E=0;E<w;E++){var C=v[E];if(Cn(C)){if(x===0&&g<C.length&&(g=C.length),x<C.length){var $=C[x];b($,_)||(h._values.push($),h._index.push(E))}}else x===0&&g<1&&(g=1),b(C,_)||(h._values.push(C),h._index.push(E))}x++}while(x<g)}h._ptr.push(h._index.length),h._size=[w,g]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,v){return new i(h,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return j2(this._values,Tn)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,v){return new i(h,v)},i.prototype.density=function(){var h=this._size[0],v=this._size[1];return h!==0&&v!==0?this._index.length/(h*v):0},i.prototype.subset=function(h,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,h);case 2:case 3:return u(this,h,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function o(h,v){if(!B2(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return h.get(v.min());var w=v.size();if(w.length!==h._size.length)throw new Mr(w.length,h._size.length);var g,b,_,x,E=v.min(),C=v.max();for(g=0,b=h._size.length;g<b;g++)Pn(E[g],h._size[g]),Pn(C[g],h._size[g]);var $=h._values,D=h._index,N=h._ptr,k=v.dimension(0),P=v.dimension(1),U=[],L=[];k.forEach(function(j,R){L[j]=R[0],U[j]=!0});var B=$?[]:void 0,O=[],T=[];return P.forEach(function(j){for(T.push(O.length),_=N[j],x=N[j+1];_<x;_++)g=D[_],U[g]===!0&&(O.push(L[g]),B&&B.push($[_]))}),T.push(O.length),new i({values:B,index:O,ptr:T,size:w,datatype:h._datatype})}function u(h,v,y,w){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),b=v.isScalar(),_;if(Jt(y)?(_=y.size(),y=y.toArray()):_=mr(y),b){if(_.length!==0)throw new TypeError("Scalar expected");h.set(v.min(),y,w)}else{if(g.length!==1&&g.length!==2)throw new Mr(g.length,h._size.length,"<");if(_.length<g.length){for(var x=0,E=0;g[x]===1&&_[x]===1;)x++;for(;g[x]===1;)E++,x++;y=_V(y,g.length,E,_)}if(!Zl(g,_))throw new Mr(g,_,">");if(g.length===1){var C=v.dimension(0);C.forEach(function(N,k){Pn(N),h.set([N,0],y[k[0]],w)})}else{var $=v.dimension(0),D=v.dimension(1);$.forEach(function(N,k){Pn(N),D.forEach(function(P,U){Pn(P),h.set([N,P],y[k[0]][U[0]],w)})})}}return h}i.prototype.get=function(h){if(!Cn(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Mr(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=h[0],y=h[1];Pn(v,this._size[0]),Pn(y,this._size[1]);var w=l(v,this._ptr[y],this._ptr[y+1],this._index);return w<this._ptr[y+1]&&this._index[w]===v?this._values[w]:0},i.prototype.set=function(h,v,y){if(!Cn(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Mr(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=h[0],g=h[1],b=this._size[0],_=this._size[1],x=r,E=0;Ca(this._datatype)&&(x=t.find(r,[this._datatype,this._datatype])||r,E=t.convert(0,this._datatype)),(w>b-1||g>_-1)&&(d(this,Math.max(w+1,b),Math.max(g+1,_),y),b=this._size[0],_=this._size[1]),Pn(w,b),Pn(g,_);var C=l(w,this._ptr[g],this._ptr[g+1],this._index);return C<this._ptr[g+1]&&this._index[C]===w?x(v,E)?c(C,g,this._values,this._index,this._ptr):this._values[C]=v:x(v,E)||f(C,w,g,v,this._values,this._index,this._ptr),this};function l(h,v,y,w){if(y-v===0)return y;for(var g=v;g<y;g++)if(w[g]===h)return g;return v}function c(h,v,y,w,g){y.splice(h,1),w.splice(h,1);for(var b=v+1;b<g.length;b++)g[b]--}function f(h,v,y,w,g,b,_){g.splice(h,0,w),b.splice(h,0,v);for(var x=y+1;x<_.length;x++)_[x]++}i.prototype.resize=function(h,v,y){if(!bo(h))throw new TypeError("Array or Matrix expected");var w=h.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(b){if(!br(b)||!zt(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ir(w)+")")});var g=y?this.clone():this;return d(g,w[0],w[1],v)};function d(h,v,y,w){var g=w||0,b=r,_=0;Ca(h._datatype)&&(b=t.find(r,[h._datatype,h._datatype])||r,_=t.convert(0,h._datatype),g=t.convert(g,h._datatype));var x=!b(g,_),E=h._size[0],C=h._size[1],$,D,N;if(y>C){for(D=C;D<y;D++)if(h._ptr[D]=h._values.length,x)for($=0;$<E;$++)h._values.push(g),h._index.push($);h._ptr[y]=h._values.length}else y<C&&(h._ptr.splice(y+1,C-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(C=y,v>E){if(x){var k=0;for(D=0;D<C;D++){h._ptr[D]=h._ptr[D]+k,N=h._ptr[D+1]+k;var P=0;for($=E;$<v;$++,P++)h._values.splice(N+P,0,g),h._index.splice(N+P,0,$),k++}h._ptr[C]=h._values.length}}else if(v<E){var U=0;for(D=0;D<C;D++){h._ptr[D]=h._ptr[D]-U;var L=h._ptr[D],B=h._ptr[D+1]-U;for(N=L;N<B;N++)$=h._index[N],$>v-1&&(h._values.splice(N,1),h._index.splice(N,1),U++)}h._ptr[D]=h._values.length}return h._size[0]=v,h._size[1]=y,h}i.prototype.reshape=function(h,v){if(!Cn(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(j){if(!br(j)||!zt(j)||j<=-2||j===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ir(h)+")")});var y=this._size[0]*this._size[1];h=i$(h,y);var w=h[0]*h[1];if(y!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return g;for(var b=[],_=0;_<g._ptr.length;_++)for(var x=0;x<g._ptr[_+1]-g._ptr[_];x++)b.push(_);for(var E=g._values.slice(),C=g._index.slice(),$=0;$<g._index.length;$++){var D=C[$],N=b[$],k=D*g._size[1]+N;b[$]=k%h[1],C[$]=Math.floor(k/h[1])}g._values.length=0,g._index.length=0,g._ptr.length=h[1]+1,g._size=h.slice();for(var P=0;P<g._ptr.length;P++)g._ptr[P]=0;for(var U=0;U<E.length;U++){var L=C[U],B=b[U],O=E[U],T=l(L,g._ptr[B],g._ptr[B+1],g._index);f(T,L,B,O,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var h=new i({values:this._values?hr(this._values):void 0,index:hr(this._index),ptr:hr(this._ptr),size:hr(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,w=this._size[0],g=this._size[1],b=Vd(h,y,"map"),_=function(E,C,$){return b.fn(E,[C,$],y)};return p(this,0,w-1,0,g-1,_,v)};function p(h,v,y,w,g,b,_){var x=[],E=[],C=[],$=r,D=0;Ca(h._datatype)&&($=t.find(r,[h._datatype,h._datatype])||r,D=t.convert(0,h._datatype));for(var N=function(F,H,ve){var ae=b(F,H,ve);$(ae,D)||(x.push(ae),E.push(H))},k=w;k<=g;k++){C.push(x.length);var P=h._ptr[k],U=h._ptr[k+1];if(_)for(var L=P;L<U;L++){var B=h._index[L];B>=v&&B<=y&&N(h._values[L],B-v,k-w)}else{for(var O={},T=P;T<U;T++){var j=h._index[T];O[j]=h._values[T]}for(var R=v;R<=y;R++){var le=R in O?O[R]:0;N(le,R-v,k-w)}}}return C.push(x.length),new i({values:x,index:E,ptr:C,size:[y-v+1,g-w+1]})}i.prototype.forEach=function(h,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,w=this._size[0],g=this._size[1],b=Vd(h,y,"forEach"),_=0;_<g;_++){var x=this._ptr[_],E=this._ptr[_+1];if(v)for(var C=x;C<E;C++){var $=this._index[C];b.fn(this._values[C],[$,_],y)}else{for(var D={},N=x;N<E;N++){var k=this._index[N];D[k]=this._values[N]}for(var P=0;P<w;P++){var U=P in D?D[P]:0;b.fn(U,[P,_],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],v=0;v<h;v++)for(var y=this._ptr[v],w=this._ptr[v+1],g=y;g<w;g++){var b=this._index[g];yield{value:this._values[g],index:[b,v]}}},i.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(h,v,y,w,g){var b=w[0],_=w[1],x=[],E,C;for(E=0;E<b;E++)for(x[E]=[],C=0;C<_;C++)x[E][C]=0;for(C=0;C<_;C++)for(var $=y[C],D=y[C+1],N=$;N<D;N++)E=v[N],x[E][C]=h?g?hr(h[N]):h[N]:1;return x}return i.prototype.format=function(h){for(var v=this._size[0],y=this._size[1],w=this.density(),g="Sparse Matrix ["+Ir(v,h)+" x "+Ir(y,h)+"] density: "+Ir(w,h)+`
`,b=0;b<y;b++)for(var _=this._ptr[b],x=this._ptr[b+1],E=_;E<x;E++){var C=this._index[E];g+=`
    (`+Ir(C,h)+", "+Ir(b,h)+") ==> "+(this._values?Ir(this._values[E],h):"X")}return g},i.prototype.toString=function(){return Ir(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(Ar(h)&&(h=h.toNumber()),!br(h)||!zt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var v=h>0?h:0,y=h<0?-h:0,w=this._size[0],g=this._size[1],b=Math.min(w-y,g-v),_=[],x=[],E=[];E[0]=0;for(var C=v;C<g&&_.length<b;C++)for(var $=this._ptr[C],D=this._ptr[C+1],N=$;N<D;N++){var k=this._index[N];if(k===C-v+y){_.push(this._values[N]),x[_.length-1]=k-y;break}}return E.push(_.length),new i({values:_,index:x,ptr:E,size:[b,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,v,y,w,g){if(!Cn(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(j){if(Ar(j)&&(j=j.toNumber()),!br(j)||!zt(j)||j<1)throw new Error("Size values must be positive integers");return j}),y){if(Ar(y)&&(y=y.toNumber()),!br(y)||!zt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var b=r,_=0;Ca(g)&&(b=t.find(r,[g,g])||r,_=t.convert(0,g));var x=y>0?y:0,E=y<0?-y:0,C=h[0],$=h[1],D=Math.min(C-E,$-x),N;if(Cn(v)){if(v.length!==D)throw new Error("Invalid value array length");N=function(R){return v[R]}}else if(Jt(v)){var k=v.size();if(k.length!==1||k[0]!==D)throw new Error("Invalid matrix length");N=function(R){return v.get([R])}}else N=function(){return v};for(var P=[],U=[],L=[],B=0;B<$;B++){L.push(P.length);var O=B-x;if(O>=0&&O<D){var T=N(O);b(T,_)||(U.push(O+E),P.push(T))}}return L.push(P.length),new i({values:P,index:U,ptr:L,size:[C,$]})},i.prototype.swapRows=function(h,v){if(!br(h)||!zt(h)||!br(v)||!zt(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pn(h,this._size[0]),Pn(v,this._size[0]),i._swapRows(h,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,v,y,w,g){for(var b=w[h],_=w[h+1],x=b;x<_;x++)g(y[x],v[x])},i._swapRows=function(h,v,y,w,g,b){for(var _=0;_<y;_++){var x=b[_],E=b[_+1],C=l(h,x,E,g),$=l(v,x,E,g);if(C<E&&$<E&&g[C]===h&&g[$]===v){if(w){var D=w[C];w[C]=w[$],w[$]=D}continue}if(C<E&&g[C]===h&&($>=E||g[$]!==v)){var N=w?w[C]:void 0;g.splice($,0,v),w&&w.splice($,0,N),g.splice($<=C?C+1:C,1),w&&w.splice($<=C?C+1:C,1);continue}if($<E&&g[$]===v&&(C>=E||g[C]!==h)){var k=w?w[$]:void 0;g.splice(C,0,h),w&&w.splice(C,0,k),g.splice(C<=$?$+1:$,1),w&&w.splice(C<=$?$+1:$,1)}}},i},{isClass:!0}),ege="number",tge=["typed"];function rge(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function nge(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var a=t+r;if(isNaN(a))throw new SyntaxError('String "'+e.input+'" is not a valid number');return a}var ige=Ae(ege,tge,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=rge(i);if(a)return nge(a);var s=0,o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(s=Number(o[2]),i=o[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(o){if(u>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(s-1)&&(u=u-2**s)}return u},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),age="bigint",sge=["typed"],oge=Ae(age,sge,e=>{var{typed:t}=e,r=t("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))});return r.fromJSON=function(n){return BigInt(n.value)},r}),N5="string",uge=["typed"],lge=Ae(N5,uge,e=>{var{typed:t}=e;return t(N5,{"":function(){return""},number:Md,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":t.referToSelf(r=>n=>wr(n,r)),any:function(n){return String(n)}})}),D5="boolean",cge=["typed"],fge=Ae(D5,cge,e=>{var{typed:t}=e;return t(D5,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),dge="bignumber",pge=["typed","BigNumber"],mge=Ae(dge,pge,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var s=a[2],o=r(a[1]),u=new r(2).pow(Number(s));if(o.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var l=new r(2).pow(Number(s)-1);return o.gte(l)?o.sub(u):o}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),hge="complex",vge=["typed","Complex"],gge=Ae(hge,vge,e=>{var{typed:t,Complex:r}=e;return t("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),yge="fraction",bge=["typed","Fraction"],_ge=Ae(yge,bge,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},"bigint, bigint":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),T5="matrix",Age=["typed","Matrix","DenseMatrix","SparseMatrix"],wge=Ae(T5,Age,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(T5,{"":function(){return a([])},string:function(o){return a([],o)},"string, string":function(o,u){return a([],o,u)},Array:function(o){return a(o)},Matrix:function(o){return a(o,o.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,o,u){if(o==="dense"||o==="default"||o===void 0)return new n(s,u);if(o==="sparse")return new i(s,u);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),k5="matrixFromFunction",xge=["typed","matrix","isZero"],Sge=Ae(k5,xge,e=>{var{typed:t,matrix:r,isZero:n}=e;return t(k5,{"Array | Matrix, function, string, string":function(s,o,u,l){return i(s,o,u,l)},"Array | Matrix, function, string":function(s,o,u){return i(s,o,u)},"Matrix, function":function(s,o){return i(s,o,"dense")},"Array, function":function(s,o){return i(s,o,"dense").toArray()},"Array | Matrix, string, function":function(s,o,u){return i(s,u,o)},"Array | Matrix, string, string, function":function(s,o,u,l){return i(s,l,o,u)}});function i(a,s,o,u){var l;return u!==void 0?l=r(o,u):l=r(o),l.resize(a),l.forEach(function(c,f){var d=s(f);n(d)||l.set(f,d)}),l}}),I5="matrixFromRows",Ege=["typed","matrix","flatten","size"],Cge=Ae(I5,Ege,e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(I5,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(l=>l.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=s(o[0]),l=[];for(var c of o){var f=s(c);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+"  "+(f|0));l.push(n(c))}return l}function s(o){var u=i(o);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),O5="matrixFromColumns",$ge=["typed","matrix","flatten","size"],Nge=Ae(O5,$ge,e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(O5,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(l=>l.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=s(o[0]),l=[],c=0;c<u;c++)l[c]=[];for(var f of o){var d=s(f);if(d!==u)throw new TypeError("The vectors had different length: "+(u|0)+"  "+(d|0));for(var p=n(f),m=0;m<u;m++)l[m].push(p[m])}return l}function s(o){var u=i(o);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),M5="splitUnit",Dge=["typed"],Tge=Ae(M5,Dge,e=>{var{typed:t}=e;return t(M5,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),P5="unaryMinus",kge=["typed"],Ige=Ae(P5,kge,e=>{var{typed:t}=e;return t(P5,{number:IV,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>wr(n,r,!0))})}),B5="unaryPlus",Oge=["typed","config","numeric"],Mge=Ae(B5,Oge,e=>{var{typed:t,config:r,numeric:n}=e;return t(B5,{number:OV,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":t.referToSelf(i=>a=>wr(a,i,!0)),boolean:function(a){return n(a?1:0,r.number)},string:function(a){return n(a,Cf(a,r))}})}),L5="abs",Pge=["typed"],Bge=Ae(L5,Pge,e=>{var{typed:t}=e;return t(L5,{number:NV,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>wr(n,r,!0))})}),F5="mapSlices",Lge=["typed","isInteger"],Y3=Ae(F5,Lge,e=>{var{typed:t,isInteger:r}=e;return t(F5,{"Array | Matrix, number | BigNumber, function":function(i,a,s){if(!r(a))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(i)?mr(i):i.size();if(a<0||a>=o.length)throw new cu(a,o.length);return Jt(i)?i.create(a_(i.valueOf(),a,s),i.datatype()):a_(i,a,s)}})},{formerly:"apply"});function a_(e,t,r){var n,i,a;if(t<=0)if(Array.isArray(e[0])){for(a=Fge(e),i=[],n=0;n<a.length;n++)i[n]=a_(a[n],t-1,r);return i}else return r(e);else{for(i=[],n=0;n<e.length;n++)i[n]=a_(e[n],t-1,r);return i}}function Fge(e){var t=e.length,r=e[0].length,n,i,a=[];for(i=0;i<r;i++){var s=[];for(n=0;n<t;n++)s.push(e[n][i]);a.push(s)}return a}var R5="addScalar",Rge=["typed"],Uge=Ae(R5,Rge,e=>{var{typed:t}=e;return t(R5,{"number, number":DV,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),U5="subtractScalar",zge=["typed"],qge=Ae(U5,zge,e=>{var{typed:t}=e;return t(U5,{"number, number":TV,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),z5="cbrt",jge=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Vge=Ae(z5,jge,e=>{var{config:t,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:s,BigNumber:o,Fraction:u}=e;return r(z5,{number:j0,Complex:l,"Complex, boolean":l,BigNumber:function(d){return d.cbrt()},Unit:c});function l(f,d){var p=f.arg()/3,m=f.abs(),h=new s(j0(m),0).mul(new s(0,p).exp());if(d){var v=[h,new s(j0(m),0).mul(new s(0,p+Math.PI*2/3).exp()),new s(j0(m),0).mul(new s(0,p-Math.PI*2/3).exp())];return t.matrix==="Array"?v:a(v)}else return h}function c(f){if(f.value&&zl(f.value)){var d=f.clone();return d.value=1,d=d.pow(1/3),d.value=l(f.value),d}else{var p=n(f.value);p&&(f.value=i(f.value));var m;Ar(f.value)?m=new o(1).div(3):mg(f.value)?m=new u(1,3):m=1/3;var h=f.pow(m);return p&&(h.value=i(h.value)),h}}}),Hge="matAlgo11xS0s",Gge=["typed","equalScalar"],ya=Ae(Hge,Gge,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s,o){var u=i._values,l=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],m=f[1],h,v=r,y=0,w=s;typeof d=="string"&&(h=d,v=t.find(r,[h,h]),y=t.convert(0,h),a=t.convert(a,h),w=t.find(s,[h,h]));for(var g=[],b=[],_=[],x=0;x<m;x++){_[x]=b.length;for(var E=c[x],C=c[x+1],$=E;$<C;$++){var D=l[$],N=o?w(a,u[$]):w(u[$],a);v(N,y)||(b.push(D),g.push(N))}}return _[m]=b.length,i.createSparseMatrix({values:g,index:b,ptr:_,size:[p,m],datatype:h})}}),Zge="matAlgo12xSfs",Wge=["typed","DenseMatrix"],Zi=Ae(Zge,Wge,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,s,o){var u=i._values,l=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],m=f[1],h,v=s;typeof d=="string"&&(h=d,a=t.convert(a,h),v=t.find(s,[h,h]));for(var y=[],w=[],g=[],b=0;b<m;b++){for(var _=b+1,x=c[b],E=c[b+1],C=x;C<E;C++){var $=l[C];w[$]=u[C],g[$]=_}for(var D=0;D<p;D++)b===0&&(y[D]=[]),g[D]===_?y[D][b]=o?v(a,w[D]):v(w[D],a):y[D][b]=o?v(a,0):v(0,a)}return new r({data:y,size:[p,m],datatype:h})}}),Kge="matAlgo14xDs",Jge=["typed"],du=Ae(Kge,Jge,e=>{var{typed:t}=e;return function(i,a,s,o){var u=i._data,l=i._size,c=i._datatype,f,d=s;typeof c=="string"&&(f=c,a=t.convert(a,f),d=t.find(s,[f,f]));var p=l.length>0?r(d,0,l,l[0],u,a,o):[];return i.createDenseMatrix({data:p,size:hr(l),datatype:f})};function r(n,i,a,s,o,u,l){var c=[];if(i===a.length-1)for(var f=0;f<s;f++)c[f]=l?n(u,o[f]):n(o[f],u);else for(var d=0;d<s;d++)c[d]=r(n,i+1,a,a[i+1],o[d],u,l);return c}}),X3="ceil",Yge=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Xge=new ff(10),Qge=Ae(X3,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;function i(a){var s=Math.ceil(a),o=n(a);return s===o?s:va(a,o,r.relTol,r.absTol)&&!va(a,s,r.relTol,r.absTol)?o:s}return t(X3,{number:i,"number, number":function(s,o){if(!zt(o))throw new RangeError("number of decimals in function ceil must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var u=10**o;return i(s*u)/u}})}),e1e=Ae(X3,Yge,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}=e,u=ya({typed:t,equalScalar:a}),l=Zi({typed:t,DenseMatrix:o}),c=du({typed:t}),f=Qge({typed:t,config:r,round:n});function d(p){var m=(y,w)=>_o(y,w,r.relTol,r.absTol),h=p.ceil(),v=n(p);return h.eq(v)?h:m(p,v)&&!m(p,h)?v:h}return t("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(m,h){var v=Xge.pow(h);return d(m.mul(v)).div(v)},bigint:p=>p,"bigint, number":(p,m)=>p,"bigint, BigNumber":(p,m)=>p,Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Unit, number, Unit":t.referToSelf(p=>function(m,h,v){var y=m.toNumeric(v);return v.multiply(p(y,h))}),"Unit, BigNumber, Unit":t.referToSelf(p=>(m,h,v)=>p(m,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(p=>(m,h,v)=>wr(m,y=>p(y,h,v),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix":t.referToSelf(p=>m=>wr(m,p,!0)),"Array, number | BigNumber":t.referToSelf(p=>(m,h)=>wr(m,v=>p(v,h),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(p=>(m,h)=>a(m,0)?s(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})}),q5="cube",t1e=["typed"],r1e=Ae(q5,t1e,e=>{var{typed:t}=e;return t(q5,{number:MV,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),j5="exp",n1e=["typed"],i1e=Ae(j5,n1e,e=>{var{typed:t}=e;return t(j5,{number:PV,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),V5="expm1",a1e=["typed","Complex"],s1e=Ae(V5,a1e,e=>{var{typed:t,Complex:r}=e;return t(V5,{number:BV,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),Q3="fix",o1e=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],u1e=Ae(Q3,["typed","ceil","floor"],e=>{var{typed:t,ceil:r,floor:n}=e;return t(Q3,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,s){return a>0?n(a,s):r(a,s)}})}),l1e=Ae(Q3,o1e,e=>{var{typed:t,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:s,zeros:o,DenseMatrix:u}=e,l=Zi({typed:t,DenseMatrix:u}),c=du({typed:t}),f=u1e({typed:t,ceil:i,floor:a});return t("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new r(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,m){return new r(p.re>0?a(p.re,m):i(p.re,m),p.im>0?a(p.im,m):i(p.im,m))},"Complex, BigNumber":function(p,m){var h=m.toNumber();return new r(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,m){return p.isNegative()?i(p,m):a(p,m)},bigint:d=>d,"bigint, number":(d,p)=>d,"bigint, BigNumber":(d,p)=>d,Fraction:function(p){return p.s<0n?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,m){return p.s<0n?i(p,m):a(p,m)},"Unit, number, Unit":t.referToSelf(d=>function(p,m,h){var v=p.toNumeric(h);return h.multiply(d(v,m))}),"Unit, BigNumber, Unit":t.referToSelf(d=>(p,m,h)=>d(p,m.toNumber(),h)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(d=>(p,m,h)=>wr(p,v=>d(v,m,h),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(d=>(p,m)=>d(p,0,m)),"Array | Matrix":t.referToSelf(d=>p=>wr(p,d,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(d=>(p,m)=>wr(p,h=>d(h,m),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(d=>(p,m)=>c(n(m),p,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(d=>(p,m)=>s(p,0)?o(m.size(),m.storage()):m.storage()==="dense"?c(m,p,d,!0):l(m,p,d,!0))})}),eE="floor",c1e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],f1e=new ff(10),d1e=Ae(eE,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;function i(a){var s=Math.floor(a),o=n(a);return s===o?s:va(a,o,r.relTol,r.absTol)&&!va(a,s,r.relTol,r.absTol)?o:s}return t(eE,{number:i,"number, number":function(s,o){if(!zt(o))throw new RangeError("number of decimals in function floor must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var u=10**o;return i(s*u)/u}})}),gH=Ae(eE,c1e,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}=e,u=ya({typed:t,equalScalar:a}),l=Zi({typed:t,DenseMatrix:o}),c=du({typed:t}),f=d1e({typed:t,config:r,round:n});function d(p){var m=(y,w)=>_o(y,w,r.relTol,r.absTol),h=p.floor(),v=n(p);return h.eq(v)?h:m(p,v)&&!m(p,h)?v:h}return t("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(m,h){var v=f1e.pow(h);return d(m.mul(v)).div(v)},bigint:p=>p,"bigint, number":(p,m)=>p,"bigint, BigNumber":(p,m)=>p,Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Unit, number, Unit":t.referToSelf(p=>function(m,h,v){var y=m.toNumeric(v);return v.multiply(p(y,h))}),"Unit, BigNumber, Unit":t.referToSelf(p=>(m,h,v)=>p(m,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(p=>(m,h,v)=>wr(m,y=>p(y,h,v),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix":t.referToSelf(p=>m=>wr(m,p,!0)),"Array, number | BigNumber":t.referToSelf(p=>(m,h)=>wr(m,v=>p(v,h),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(p=>(m,h)=>a(m,0)?s(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})}),p1e="matAlgo02xDS0",m1e=["typed","equalScalar"],pu=Ae(p1e,m1e,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s,o){var u=i._data,l=i._size,c=i._datatype||i.getDataType(),f=a._values,d=a._index,p=a._ptr,m=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==m.length)throw new Mr(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=l[0],y=l[1],w,g=r,b=0,_=s;typeof c=="string"&&c===h&&c!=="mixed"&&(w=c,g=t.find(r,[w,w]),b=t.convert(0,w),_=t.find(s,[w,w]));for(var x=[],E=[],C=[],$=0;$<y;$++){C[$]=E.length;for(var D=p[$],N=p[$+1],k=D;k<N;k++){var P=d[k],U=o?_(f[k],u[P][$]):_(u[P][$],f[k]);g(U,b)||(E.push(P),x.push(U))}}return C[y]=E.length,a.createSparseMatrix({values:x,index:E,ptr:C,size:[v,y],datatype:c===i._datatype&&h===a._datatype?w:void 0})}}),h1e="matAlgo03xDSf",v1e=["typed"],ts=Ae(h1e,v1e,e=>{var{typed:t}=e;return function(n,i,a,s){var o=n._data,u=n._size,l=n._datatype||n.getDataType(),c=i._values,f=i._index,d=i._ptr,p=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==p.length)throw new Mr(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=u[0],v=u[1],y,w=0,g=a;typeof l=="string"&&l===m&&l!=="mixed"&&(y=l,w=t.convert(0,y),g=t.find(a,[y,y]));for(var b=[],_=0;_<h;_++)b[_]=[];for(var x=[],E=[],C=0;C<v;C++){for(var $=C+1,D=d[C],N=d[C+1],k=D;k<N;k++){var P=f[k];x[P]=s?g(c[k],o[P][C]):g(o[P][C],c[k]),E[P]=$}for(var U=0;U<h;U++)E[U]===$?b[U][C]=x[U]:b[U][C]=s?g(w,o[U][C]):g(o[U][C],w)}return n.createDenseMatrix({data:b,size:[h,v],datatype:l===n._datatype&&m===i._datatype?y:void 0})}}),g1e="matAlgo05xSfSf",y1e=["typed","equalScalar"],H2=Ae(g1e,y1e,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var o=i._values,u=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,m=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var y=c[0],w=c[1],g,b=r,_=0,x=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,b=t.find(r,[g,g]),_=t.convert(0,g),x=t.find(s,[g,g]));var E=o&&d?[]:void 0,C=[],$=[],D=E?[]:void 0,N=E?[]:void 0,k=[],P=[],U,L,B,O;for(L=0;L<w;L++){$[L]=C.length;var T=L+1;for(B=l[L],O=l[L+1];B<O;B++)U=u[B],C.push(U),k[U]=T,D&&(D[U]=o[B]);for(B=m[L],O=m[L+1];B<O;B++)U=p[B],k[U]!==T&&C.push(U),P[U]=T,N&&(N[U]=d[B]);if(E)for(B=$[L];B<C.length;){U=C[B];var j=k[U],R=P[U];if(j===T||R===T){var le=j===T?D[U]:_,re=R===T?N[U]:_,F=x(le,re);b(F,_)?C.splice(B,1):(E.push(F),B++)}}}return $[w]=C.length,i.createSparseMatrix({values:E,index:C,ptr:$,size:[y,w],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),b1e="matAlgo13xDD",_1e=["typed"],A1e=Ae(b1e,_1e,e=>{var{typed:t}=e;return function(i,a,s){var o=i._data,u=i._size,l=i._datatype,c=a._data,f=a._size,d=a._datatype,p=[];if(u.length!==f.length)throw new Mr(u.length,f.length);for(var m=0;m<u.length;m++){if(u[m]!==f[m])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[m]=u[m]}var h,v=s;typeof l=="string"&&l===d&&(h=l,v=t.find(s,[h,h]));var y=p.length>0?r(v,0,p,p[0],o,c):[];return i.createDenseMatrix({data:y,size:p,datatype:h})};function r(n,i,a,s,o,u){var l=[];if(i===a.length-1)for(var c=0;c<s;c++)l[c]=n(o[c],u[c]);else for(var f=0;f<s;f++)l[f]=r(n,i+1,a,a[i+1],o[f],u[f]);return l}});function Yi(e,t){if(Zl(e.size(),t.size()))return[e,t];var r=a$(e.size(),t.size());return[e,t].map(n=>w1e(n,r))}function w1e(e,t){return Zl(e.size(),t)?e:e.create(Ed(e.valueOf(),t),e.datatype())}var x1e="matrixAlgorithmSuite",S1e=["typed","matrix"],Rn=Ae(x1e,S1e,e=>{var{typed:t,matrix:r}=e,n=A1e({typed:t}),i=du({typed:t});return function(s){var o=s.elop,u=s.SD||s.DS,l;o?(l={"DenseMatrix, DenseMatrix":(p,m)=>n(...Yi(p,m),o),"Array, Array":(p,m)=>n(...Yi(r(p),r(m)),o).valueOf(),"Array, DenseMatrix":(p,m)=>n(...Yi(r(p),m),o),"DenseMatrix, Array":(p,m)=>n(...Yi(p,r(m)),o)},s.SS&&(l["SparseMatrix, SparseMatrix"]=(p,m)=>s.SS(...Yi(p,m),o,!1)),s.DS&&(l["DenseMatrix, SparseMatrix"]=(p,m)=>s.DS(...Yi(p,m),o,!1),l["Array, SparseMatrix"]=(p,m)=>s.DS(...Yi(r(p),m),o,!1)),u&&(l["SparseMatrix, DenseMatrix"]=(p,m)=>u(...Yi(m,p),o,!0),l["SparseMatrix, Array"]=(p,m)=>u(...Yi(r(m),p),o,!0))):(l={"DenseMatrix, DenseMatrix":t.referToSelf(p=>(m,h)=>n(...Yi(m,h),p)),"Array, Array":t.referToSelf(p=>(m,h)=>n(...Yi(r(m),r(h)),p).valueOf()),"Array, DenseMatrix":t.referToSelf(p=>(m,h)=>n(...Yi(r(m),h),p)),"DenseMatrix, Array":t.referToSelf(p=>(m,h)=>n(...Yi(m,r(h)),p))},s.SS&&(l["SparseMatrix, SparseMatrix"]=t.referToSelf(p=>(m,h)=>s.SS(...Yi(m,h),p,!1))),s.DS&&(l["DenseMatrix, SparseMatrix"]=t.referToSelf(p=>(m,h)=>s.DS(...Yi(m,h),p,!1)),l["Array, SparseMatrix"]=t.referToSelf(p=>(m,h)=>s.DS(...Yi(r(m),h),p,!1))),u&&(l["SparseMatrix, DenseMatrix"]=t.referToSelf(p=>(m,h)=>u(...Yi(h,m),p,!0)),l["SparseMatrix, Array"]=t.referToSelf(p=>(m,h)=>u(...Yi(r(h),m),p,!0))));var c=s.scalar||"any",f=s.Ds||s.Ss;f&&(o?(l["DenseMatrix,"+c]=(p,m)=>i(p,m,o,!1),l[c+", DenseMatrix"]=(p,m)=>i(m,p,o,!0),l["Array,"+c]=(p,m)=>i(r(p),m,o,!1).valueOf(),l[c+", Array"]=(p,m)=>i(r(m),p,o,!0).valueOf()):(l["DenseMatrix,"+c]=t.referToSelf(p=>(m,h)=>i(m,h,p,!1)),l[c+", DenseMatrix"]=t.referToSelf(p=>(m,h)=>i(h,m,p,!0)),l["Array,"+c]=t.referToSelf(p=>(m,h)=>i(r(m),h,p,!1).valueOf()),l[c+", Array"]=t.referToSelf(p=>(m,h)=>i(r(h),m,p,!0).valueOf())));var d=s.sS!==void 0?s.sS:s.Ss;return o?(s.Ss&&(l["SparseMatrix,"+c]=(p,m)=>s.Ss(p,m,o,!1)),d&&(l[c+", SparseMatrix"]=(p,m)=>d(m,p,o,!0))):(s.Ss&&(l["SparseMatrix,"+c]=t.referToSelf(p=>(m,h)=>s.Ss(m,h,p,!1))),d&&(l[c+", SparseMatrix"]=t.referToSelf(p=>(m,h)=>d(h,m,p,!0)))),o&&o.signatures&&Qj(l,o.signatures),l}}),H5="mod",E1e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],yH=Ae(H5,E1e,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o,concat:u}=e,l=gH({typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}),c=pu({typed:t,equalScalar:a}),f=ts({typed:t}),d=H2({typed:t,equalScalar:a}),p=ya({typed:t,equalScalar:a}),m=Zi({typed:t,DenseMatrix:o}),h=Rn({typed:t,matrix:i,concat:u});return t(H5,{"number, number":v,"BigNumber, BigNumber":function(w,g){return g.isZero()?w:w.sub(g.mul(l(w.div(g))))},"bigint, bigint":function(w,g){if(g===0n)return w;if(w<0){var b=w%g;return b===0n?b:b+g}return w%g},"Fraction, Fraction":function(w,g){return g.equals(0)?w:w.sub(g.mul(l(w.div(g))))}},h({SS:d,DS:f,SD:c,Ss:p,sS:m}));function v(y,w){return w===0?y:y-w*l(y/w)}}),C1e="matAlgo01xDSid",$1e=["typed"],Nf=Ae(C1e,$1e,e=>{var{typed:t}=e;return function(n,i,a,s){var o=n._data,u=n._size,l=n._datatype||n.getDataType(),c=i._values,f=i._index,d=i._ptr,p=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==p.length)throw new Mr(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=u[0],v=u[1],y=typeof l=="string"&&l!=="mixed"&&l===m?l:void 0,w=y?t.find(a,[y,y]):a,g,b,_=[];for(g=0;g<h;g++)_[g]=[];var x=[],E=[];for(b=0;b<v;b++){for(var C=b+1,$=d[b],D=d[b+1],N=$;N<D;N++)g=f[N],x[g]=s?w(c[N],o[g][b]):w(o[g][b],c[N]),E[g]=C;for(g=0;g<h;g++)E[g]===C?_[g][b]=x[g]:_[g][b]=o[g][b]}return n.createDenseMatrix({data:_,size:[h,v],datatype:l===n._datatype&&m===i._datatype?y:void 0})}}),N1e="matAlgo04xSidSid",D1e=["typed","equalScalar"],l$=Ae(N1e,D1e,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var o=i._values,u=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,m=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var y=c[0],w=c[1],g,b=r,_=0,x=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,b=t.find(r,[g,g]),_=t.convert(0,g),x=t.find(s,[g,g]));var E=o&&d?[]:void 0,C=[],$=[],D=o&&d?[]:void 0,N=o&&d?[]:void 0,k=[],P=[],U,L,B,O,T;for(L=0;L<w;L++){$[L]=C.length;var j=L+1;for(O=l[L],T=l[L+1],B=O;B<T;B++)U=u[B],C.push(U),k[U]=j,D&&(D[U]=o[B]);for(O=m[L],T=m[L+1],B=O;B<T;B++)if(U=p[B],k[U]===j){if(D){var R=x(D[U],d[B]);b(R,_)?k[U]=null:D[U]=R}}else C.push(U),P[U]=j,N&&(N[U]=d[B]);if(D&&N)for(B=$[L];B<C.length;)U=C[B],k[U]===j?(E[B]=D[U],B++):P[U]===j?(E[B]=N[U],B++):C.splice(B,1)}return $[w]=C.length,i.createSparseMatrix({values:E,index:C,ptr:$,size:[y,w],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),T1e="matAlgo10xSids",k1e=["typed","DenseMatrix"],op=Ae(T1e,k1e,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,s,o){var u=i._values,l=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],m=f[1],h,v=s;typeof d=="string"&&(h=d,a=t.convert(a,h),v=t.find(s,[h,h]));for(var y=[],w=[],g=[],b=0;b<m;b++){for(var _=b+1,x=c[b],E=c[b+1],C=x;C<E;C++){var $=l[C];w[$]=u[C],g[$]=_}for(var D=0;D<p;D++)b===0&&(y[D]=[]),g[D]===_?y[D][b]=o?v(a,w[D]):v(w[D],a):y[D][b]=a}return new r({data:y,size:[p,m],datatype:h})}});function up(e,t,r,n){if(!(this instanceof up))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}up.prototype=new Error;up.prototype.constructor=Error;up.prototype.name="ArgumentsError";up.prototype.isArgumentsError=!0;var G5="gcd",I1e=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Px="number | BigNumber | Fraction | Matrix | Array",O1e="".concat(Px,", ").concat(Px,", ...").concat(Px);function Z5(e){return!e.some(t=>Array.isArray(t))}var M1e=Ae(G5,I1e,e=>{var{typed:t,matrix:r,config:n,round:i,equalScalar:a,zeros:s,BigNumber:o,DenseMatrix:u,concat:l}=e,c=yH({typed:t,config:n,round:i,matrix:r,equalScalar:a,zeros:s,DenseMatrix:u,concat:l}),f=Nf({typed:t}),d=l$({typed:t,equalScalar:a}),p=op({typed:t,DenseMatrix:u}),m=Rn({typed:t,matrix:r,concat:l});return t(G5,{"number, number":h,"BigNumber, BigNumber":v,"Fraction, Fraction":(y,w)=>y.gcd(w)},m({SS:d,DS:f,Ss:p}),{[O1e]:t.referToSelf(y=>(w,g,b)=>{for(var _=y(w,g),x=0;x<b.length;x++)_=y(_,b[x]);return _}),Array:t.referToSelf(y=>w=>{if(w.length===1&&Array.isArray(w[0])&&Z5(w[0]))return y(...w[0]);if(Z5(w))return y(...w);throw new up("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(y=>w=>y(w.toArray()))});function h(y,w){if(!zt(y)||!zt(w))throw new Error("Parameters in function gcd must be integer numbers");for(var g;w!==0;)g=c(y,w),y=w,w=g;return y<0?-y:y}function v(y,w){if(!y.isInt()||!w.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var g=new o(0);!w.isZero();){var b=c(y,w);y=w,w=b}return y.lt(g)?y.neg():y}}),P1e="matAlgo06xS0S0",B1e=["typed","equalScalar"],G2=Ae(P1e,B1e,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var o=i._values,u=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,f=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==f.length)throw new Mr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var p=u[0],m=u[1],h,v=r,y=0,w=s;typeof l=="string"&&l===d&&l!=="mixed"&&(h=l,v=t.find(r,[h,h]),y=t.convert(0,h),w=t.find(s,[h,h]));for(var g=o&&c?[]:void 0,b=[],_=[],x=g?[]:void 0,E=[],C=[],$=0;$<m;$++){_[$]=b.length;var D=$+1;if(v5(i,$,E,x,C,D,b,w),v5(a,$,E,x,C,D,b,w),x)for(var N=_[$];N<b.length;){var k=b[N];if(C[k]===D){var P=x[k];v(P,y)?b.splice(N,1):(g.push(P),N++)}else b.splice(N,1)}else for(var U=_[$];U<b.length;){var L=b[U];C[L]!==D?b.splice(U,1):U++}}return _[m]=b.length,i.createSparseMatrix({values:g,index:b,ptr:_,size:[p,m],datatype:l===i._datatype&&d===a._datatype?h:void 0})}}),W5="lcm",L1e=["typed","matrix","equalScalar","concat"],F1e=Ae(W5,L1e,e=>{var{typed:t,matrix:r,equalScalar:n,concat:i}=e,a=pu({typed:t,equalScalar:n}),s=G2({typed:t,equalScalar:n}),o=ya({typed:t,equalScalar:n}),u=Rn({typed:t,matrix:r,concat:i}),l="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(l,", ").concat(l,", ...").concat(l)]=t.referToSelf(d=>(p,m,h)=>{for(var v=d(p,m),y=0;y<h.length;y++)v=d(v,h[y]);return v}),t(W5,{"number, number":LV,"BigNumber, BigNumber":f,"Fraction, Fraction":(d,p)=>d.lcm(p)},u({SS:s,DS:a,Ss:o}),c);function f(d,p){if(!d.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(p.isZero())return p;for(var m=d.times(p);!p.isZero();){var h=p;p=d.mod(h),d=h}return m.div(d).abs()}});function c$(e,t,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var a=i.toString(16),s=a.substring(0,15);return e*(a.length-s.length)+t(+("0x"+s))}return n(i.toNumber())}}var K5="log10",R1e=["typed","config","Complex"],U1e=t_(16),z1e=Ae(K5,R1e,e=>{var{typed:t,config:r,Complex:n}=e;function i(s){return s.log().div(Math.LN10)}function a(s){return i(new n(s,0))}return t(K5,{number:function(o){return o>=0||r.predictable?t_(o):a(o)},bigint:c$(U1e,t_,r,a),Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log():a(o.toNumber())},"Array | Matrix":t.referToSelf(s=>o=>wr(o,s))})}),J5="log2",q1e=["typed","config","Complex"],j1e=Ae(J5,q1e,e=>{var{typed:t,config:r,Complex:n}=e;function i(s){return a(new n(s,0))}return t(J5,{number:function(o){return o>=0||r.predictable?G3(o):i(o)},bigint:c$(4,G3,r,i),Complex:a,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(o.toNumber())},"Array | Matrix":t.referToSelf(s=>o=>wr(o,s))});function a(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),V1e="multiplyScalar",H1e=["typed"],G1e=Ae(V1e,H1e,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":kV,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Y5="multiply",Z1e=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],W1e=Ae(Y5,Z1e,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:s}=e,o=ya({typed:t,equalScalar:a}),u=du({typed:t});function l(_,x){switch(_.length){case 1:switch(x.length){case 1:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+x[0]+")");break;case 2:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function c(_,x,E){if(E===0)throw new Error("Cannot multiply two empty vectors");return s(_,x)}function f(_,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(_,x)}function d(_,x){var E=_._data,C=_._size,$=_._datatype||_.getDataType(),D=x._data,N=x._size,k=x._datatype||x.getDataType(),P=C[0],U=N[1],L,B=n,O=i;$&&k&&$===k&&typeof $=="string"&&$!=="mixed"&&(L=$,B=t.find(n,[L,L]),O=t.find(i,[L,L]));for(var T=[],j=0;j<U;j++){for(var R=O(E[0],D[0][j]),le=1;le<P;le++)R=B(R,O(E[le],D[le][j]));T[j]=R}return _.createDenseMatrix({data:T,size:[U],datatype:$===_._datatype&&k===x._datatype?L:void 0})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":w}),m=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":b});function h(_,x){var E=_._data,C=_._size,$=_._datatype||_.getDataType(),D=x._data,N=x._datatype||x.getDataType(),k=C[0],P=C[1],U,L=n,B=i;$&&N&&$===N&&typeof $=="string"&&$!=="mixed"&&(U=$,L=t.find(n,[U,U]),B=t.find(i,[U,U]));for(var O=[],T=0;T<k;T++){for(var j=E[T],R=B(j[0],D[0]),le=1;le<P;le++)R=L(R,B(j[le],D[le]));O[T]=R}return _.createDenseMatrix({data:O,size:[k],datatype:$===_._datatype&&N===x._datatype?U:void 0})}function v(_,x){var E=_._data,C=_._size,$=_._datatype||_.getDataType(),D=x._data,N=x._size,k=x._datatype||x.getDataType(),P=C[0],U=C[1],L=N[1],B,O=n,T=i;$&&k&&$===k&&typeof $=="string"&&$!=="mixed"&&$!=="mixed"&&(B=$,O=t.find(n,[B,B]),T=t.find(i,[B,B]));for(var j=[],R=0;R<P;R++){var le=E[R];j[R]=[];for(var re=0;re<L;re++){for(var F=T(le[0],D[0][re]),H=1;H<U;H++)F=O(F,T(le[H],D[H][re]));j[R][re]=F}}return _.createDenseMatrix({data:j,size:[P,L],datatype:$===_._datatype&&k===x._datatype?B:void 0})}function y(_,x){var E=_._data,C=_._size,$=_._datatype||_.getDataType(),D=x._values,N=x._index,k=x._ptr,P=x._size,U=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!D)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=C[0],B=P[1],O,T=n,j=i,R=a,le=0;$&&U&&$===U&&typeof $=="string"&&$!=="mixed"&&(O=$,T=t.find(n,[O,O]),j=t.find(i,[O,O]),R=t.find(a,[O,O]),le=t.convert(0,O));for(var re=[],F=[],H=[],ve=x.createSparseMatrix({values:re,index:F,ptr:H,size:[L,B],datatype:$===_._datatype&&U===x._datatype?O:void 0}),ae=0;ae<B;ae++){H[ae]=F.length;var W=k[ae],Q=k[ae+1];if(Q>W)for(var J=0,se=0;se<L;se++){for(var Ce=se+1,Te=void 0,oe=W;oe<Q;oe++){var q=N[oe];J!==Ce?(Te=j(E[se][q],D[oe]),J=Ce):Te=T(Te,j(E[se][q],D[oe]))}J===Ce&&!R(Te,le)&&(F.push(se),re.push(Te))}}return H[B]=F.length,ve}function w(_,x){var E=_._values,C=_._index,$=_._ptr,D=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!E)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=x._data,k=x._datatype||x.getDataType(),P=_._size[0],U=x._size[0],L=[],B=[],O=[],T,j=n,R=i,le=a,re=0;D&&k&&D===k&&typeof D=="string"&&D!=="mixed"&&(T=D,j=t.find(n,[T,T]),R=t.find(i,[T,T]),le=t.find(a,[T,T]),re=t.convert(0,T));var F=[],H=[];O[0]=0;for(var ve=0;ve<U;ve++){var ae=N[ve];if(!le(ae,re))for(var W=$[ve],Q=$[ve+1],J=W;J<Q;J++){var se=C[J];H[se]?F[se]=j(F[se],R(ae,E[J])):(H[se]=!0,B.push(se),F[se]=R(ae,E[J]))}}for(var Ce=B.length,Te=0;Te<Ce;Te++){var oe=B[Te];L[Te]=F[oe]}return O[1]=B.length,_.createSparseMatrix({values:L,index:B,ptr:O,size:[P,1],datatype:D===_._datatype&&k===x._datatype?T:void 0})}function g(_,x){var E=_._values,C=_._index,$=_._ptr,D=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!E)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=x._data,k=x._datatype||x.getDataType(),P=_._size[0],U=x._size[0],L=x._size[1],B,O=n,T=i,j=a,R=0;D&&k&&D===k&&typeof D=="string"&&D!=="mixed"&&(B=D,O=t.find(n,[B,B]),T=t.find(i,[B,B]),j=t.find(a,[B,B]),R=t.convert(0,B));for(var le=[],re=[],F=[],H=_.createSparseMatrix({values:le,index:re,ptr:F,size:[P,L],datatype:D===_._datatype&&k===x._datatype?B:void 0}),ve=[],ae=[],W=0;W<L;W++){F[W]=re.length;for(var Q=W+1,J=0;J<U;J++){var se=N[J][W];if(!j(se,R))for(var Ce=$[J],Te=$[J+1],oe=Ce;oe<Te;oe++){var q=C[oe];ae[q]!==Q?(ae[q]=Q,re.push(q),ve[q]=T(se,E[oe])):ve[q]=O(ve[q],T(se,E[oe]))}}for(var me=F[W],X=re.length,K=me;K<X;K++){var de=re[K];le[K]=ve[de]}}return F[L]=re.length,H}function b(_,x){var E=_._values,C=_._index,$=_._ptr,D=_._datatype||_._data===void 0?_._datatype:_.getDataType(),N=x._values,k=x._index,P=x._ptr,U=x._datatype||x._data===void 0?x._datatype:x.getDataType(),L=_._size[0],B=x._size[1],O=E&&N,T,j=n,R=i;D&&U&&D===U&&typeof D=="string"&&D!=="mixed"&&(T=D,j=t.find(n,[T,T]),R=t.find(i,[T,T]));for(var le=O?[]:void 0,re=[],F=[],H=_.createSparseMatrix({values:le,index:re,ptr:F,size:[L,B],datatype:D===_._datatype&&U===x._datatype?T:void 0}),ve=O?[]:void 0,ae=[],W,Q,J,se,Ce,Te,oe,q,me=0;me<B;me++){F[me]=re.length;var X=me+1;for(Ce=P[me],Te=P[me+1],se=Ce;se<Te;se++)if(q=k[se],O)for(Q=$[q],J=$[q+1],W=Q;W<J;W++)oe=C[W],ae[oe]!==X?(ae[oe]=X,re.push(oe),ve[oe]=R(N[se],E[W])):ve[oe]=j(ve[oe],R(N[se],E[W]));else for(Q=$[q],J=$[q+1],W=Q;W<J;W++)oe=C[W],ae[oe]!==X&&(ae[oe]=X,re.push(oe));if(O)for(var K=F[me],de=re.length,Ee=K;Ee<de;Ee++){var te=re[Ee];le[Ee]=ve[te]}}return F[B]=re.length,H}return t(Y5,i,{"Array, Array":t.referTo("Matrix, Matrix",_=>(x,E)=>{l(mr(x),mr(E));var C=_(r(x),r(E));return Jt(C)?C.valueOf():C}),"Matrix, Matrix":function(x,E){var C=x.size(),$=E.size();return l(C,$),C.length===1?$.length===1?c(x,E,C[0]):f(x,E):$.length===1?p(x,E):m(x,E)},"Matrix, Array":t.referTo("Matrix,Matrix",_=>(x,E)=>_(x,r(E))),"Array, Matrix":t.referToSelf(_=>(x,E)=>_(r(x,E.storage()),E)),"SparseMatrix, any":function(x,E){return o(x,E,i,!1)},"DenseMatrix, any":function(x,E){return u(x,E,i,!1)},"any, SparseMatrix":function(x,E){return o(E,x,i,!0)},"any, DenseMatrix":function(x,E){return u(E,x,i,!0)},"Array, any":function(x,E){return u(r(x),E,i,!1).valueOf()},"any, Array":function(x,E){return u(r(E),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(_=>(x,E,C)=>{for(var $=_(x,E),D=0;D<C.length;D++)$=_($,C[D]);return $})})}),X5="nthRoot",K1e=["typed","matrix","equalScalar","BigNumber","concat"],J1e=Ae(X5,K1e,e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:i,concat:a}=e,s=Nf({typed:t}),o=pu({typed:t,equalScalar:n}),u=G2({typed:t,equalScalar:n}),l=ya({typed:t,equalScalar:n}),c=Rn({typed:t,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t(X5,{number:b5,"number, number":b5,BigNumber:p=>d(p,new i(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:t.referTo("DenseMatrix,number",p=>m=>p(r(m),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",p=>m=>p(m,2)),SparseMatrix:t.referTo("SparseMatrix,number",p=>m=>p(m,2)),"SparseMatrix, SparseMatrix":t.referToSelf(p=>(m,h)=>{if(h.density()===1)return u(m,h,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(p=>(m,h)=>{if(h.density()===1)return s(m,h,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",p=>(m,h)=>p(r(m),h)),"number | BigNumber, SparseMatrix":t.referToSelf(p=>(m,h)=>{if(h.density()===1)return l(h,m,p,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:o,Ss:l,sS:!1}));function d(p,m){var h=i.precision,v=i.clone({precision:h+2}),y=new i(0),w=new v(1),g=m.isNegative();if(g&&(m=m.neg()),m.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!m.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return g?new v(1/0):0;if(!p.isFinite())return g?y:p;var b=p.abs().pow(w.div(m));return b=p.isNeg()?b.neg():b,new i((g?w.div(b):b).toPrecision(h))}}),Q5="sign",Y1e=["typed","BigNumber","Fraction","complex"],X1e=Ae(Q5,Y1e,e=>{var{typed:t,BigNumber:r,complex:n,Fraction:i}=e;return t(Q5,{number:Z3,Complex:function(s){return s.im===0?n(Z3(s.re)):s.sign()},BigNumber:function(s){return new r(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return new i(s.s)},"Array | Matrix":t.referToSelf(a=>s=>wr(s,a,!0)),Unit:t.referToSelf(a=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return t.find(a,s.valueType())(s.value)})})}),Q1e="sqrt",eye=["config","typed","Complex"],tye=Ae(Q1e,eye,e=>{var{config:t,typed:r,Complex:n}=e;return r("sqrt",{number:i,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||t.predictable?s.sqrt():i(s.toNumber())},Unit:function(s){return s.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||t.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),eI="square",rye=["typed"],nye=Ae(eI,rye,e=>{var{typed:t}=e;return t(eI,{number:FV,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),tI="subtract",iye=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],aye=Ae(tI,iye,e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:o}=e,u=Nf({typed:t}),l=ts({typed:t}),c=H2({typed:t,equalScalar:n}),f=op({typed:t,DenseMatrix:s}),d=Zi({typed:t,DenseMatrix:s}),p=Rn({typed:t,matrix:r,concat:o});return t(tI,{"any, any":i},p({elop:i,SS:c,DS:u,SD:l,Ss:d,sS:f}))}),rI="xgcd",sye=["typed","config","matrix","BigNumber"],oye=Ae(rI,sye,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(rI,{"number, number":function(o,u){var l=RV(o,u);return r.matrix==="Array"?l:n(l)},"BigNumber, BigNumber":a});function a(s,o){var u,l,c,f=new i(0),d=new i(1),p=f,m=d,h=d,v=f;if(!s.isInt()||!o.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!o.isZero();)l=s.div(o).floor(),c=s.mod(o),u=p,p=m.minus(l.times(p)),m=u,u=h,h=v.minus(l.times(h)),v=u,s=o,o=c;var y;return s.lt(f)?y=[s.neg(),m.neg(),v.neg()]:y=[s,s.isZero()?0:m,v],r.matrix==="Array"?y:n(y)}}),nI="invmod",uye=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],lye=Ae(nI,uye,e=>{var{typed:t,config:r,BigNumber:n,xgcd:i,equal:a,smaller:s,mod:o,add:u,isInteger:l}=e;return t(nI,{"number, number":c,"BigNumber, BigNumber":c});function c(f,d){if(!l(f)||!l(d))throw new Error("Parameters in function invmod must be integer numbers");if(f=o(f,d),a(d,0))throw new Error("Divisor must be non zero");var p=i(f,d);p=p.valueOf();var[m,h]=p;return a(m,n(1))?(h=o(h,d),s(h,n(0))&&(h=u(h,d)),h):NaN}}),cye="matAlgo09xS0Sf",fye=["typed","equalScalar"],bH=Ae(cye,fye,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var o=i._values,u=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,m=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var y=c[0],w=c[1],g,b=r,_=0,x=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,b=t.find(r,[g,g]),_=t.convert(0,g),x=t.find(s,[g,g]));var E=o&&d?[]:void 0,C=[],$=[],D=E?[]:void 0,N=[],k,P,U,L,B;for(P=0;P<w;P++){$[P]=C.length;var O=P+1;if(D)for(L=m[P],B=m[P+1],U=L;U<B;U++)k=p[U],N[k]=O,D[k]=d[U];for(L=l[P],B=l[P+1],U=L;U<B;U++)if(k=u[U],D){var T=N[k]===O?D[k]:_,j=x(o[U],T);b(j,_)||(C.push(k),E.push(j))}else C.push(k)}return $[w]=C.length,i.createSparseMatrix({values:E,index:C,ptr:$,size:[y,w],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),iI="dotMultiply",dye=["typed","matrix","equalScalar","multiplyScalar","concat"],pye=Ae(iI,dye,e=>{var{typed:t,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=e,s=pu({typed:t,equalScalar:n}),o=bH({typed:t,equalScalar:n}),u=ya({typed:t,equalScalar:n}),l=Rn({typed:t,matrix:r,concat:a});return t(iI,l({elop:i,SS:o,DS:s,Ss:u}))});function mye(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return f$(e,t,function(n,i){return n&i})}function Dv(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function hye(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:!e.isFinite()||!t.isFinite()?!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e:f$(e,t,function(i,a){return i|a})}function f$(e,t,r){var n=e.constructor,i,a,s=+(e.s<0),o=+(t.s<0);if(s){i=fy(Dv(e));for(var u=0;u<i.length;++u)i[u]^=1}else i=fy(e);if(o){a=fy(Dv(t));for(var l=0;l<a.length;++l)a[l]^=1}else a=fy(t);var c,f,d;i.length<=a.length?(c=i,f=a,d=s):(c=a,f=i,d=o);var p=c.length,m=f.length,h=r(s,o)^1,v=new n(h^1),y=new n(1),w=new n(2),g=n.precision;for(n.config({precision:1e9});p>0;)r(c[--p],f[--m])===h&&(v=v.plus(y)),y=y.times(w);for(;m>0;)r(d,f[--m])===h&&(v=v.plus(y)),y=y.times(w);return n.config({precision:g}),h===0&&(v.s=-v.s),v}function fy(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var s=r.length;r.charAt(s)==="0";)s--;var o=e.e,u=r.slice(0,s+1||1),l=u.length;if(o>0)if(++o>l)for(o-=l;o--;)u+="0";else o<l&&(u=u.slice(0,o)+"."+u.slice(o));for(var c=[0],f=0;f<u.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(u.charAt(f++));for(var p=0;p<c.length;++p)c[p]>1&&((c[p+1]===null||c[p+1]===void 0)&&(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function vye(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?Dv(t):t.eq(n)?Dv(e):!e.isFinite()||!t.isFinite()?!e.isFinite()&&!t.isFinite()?n:new r(e.isNegative()===t.isNegative()?1/0:-1/0):f$(e,t,function(i,a){return i^a})}function gye(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:!e.isFinite()&&!t.isFinite()?new r(NaN):t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t))}function yye(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}var aI="bitAnd",bye=["typed","matrix","equalScalar","concat"],_H=Ae(aI,bye,e=>{var{typed:t,matrix:r,equalScalar:n,concat:i}=e,a=pu({typed:t,equalScalar:n}),s=G2({typed:t,equalScalar:n}),o=ya({typed:t,equalScalar:n}),u=Rn({typed:t,matrix:r,concat:i});return t(aI,{"number, number":zV,"BigNumber, BigNumber":mye,"bigint, bigint":(l,c)=>l&c},u({SS:s,DS:a,Ss:o}))}),sI="bitNot",_ye=["typed"],Aye=Ae(sI,_ye,e=>{var{typed:t}=e;return t(sI,{number:qV,BigNumber:Dv,bigint:r=>~r,"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),oI="bitOr",wye=["typed","matrix","equalScalar","DenseMatrix","concat"],AH=Ae(oI,wye,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,s=Nf({typed:t}),o=l$({typed:t,equalScalar:n}),u=op({typed:t,DenseMatrix:i}),l=Rn({typed:t,matrix:r,concat:a});return t(oI,{"number, number":jV,"BigNumber, BigNumber":hye,"bigint, bigint":(c,f)=>c|f},l({SS:o,DS:s,Ss:u}))}),xye="matAlgo07xSSf",Sye=["typed","SparseMatrix"],rl=Ae(xye,Sye,e=>{var{typed:t,SparseMatrix:r}=e;return function(a,s,o){var u=a._size,l=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(u.length!==c.length)throw new Mr(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var d=u[0],p=u[1],m,h=0,v=o;typeof l=="string"&&l===f&&l!=="mixed"&&(m=l,h=t.convert(0,m),v=t.find(o,[m,m]));for(var y=[],w=[],g=new Array(p+1).fill(0),b=[],_=[],x=[],E=[],C=0;C<p;C++){var $=C+1,D=0;n(a,C,x,b,$),n(s,C,E,_,$);for(var N=0;N<d;N++){var k=x[N]===$?b[N]:h,P=E[N]===$?_[N]:h,U=v(k,P);U!==0&&U!==!1&&(w.push(N),y.push(U),D++)}g[C+1]=g[C]+D}return new r({values:y,index:w,ptr:g,size:[d,p],datatype:l===a._datatype&&f===s._datatype?m:void 0})};function n(i,a,s,o,u){for(var l=i._values,c=i._index,f=i._ptr,d=f[a],p=f[a+1];d<p;d++){var m=c[d];s[m]=u,o[m]=l[d]}}}),uI="bitXor",Eye=["typed","matrix","DenseMatrix","concat","SparseMatrix"],Cye=Ae(uI,Eye,e=>{var{typed:t,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=e,s=ts({typed:t}),o=rl({typed:t,SparseMatrix:a}),u=Zi({typed:t,DenseMatrix:n}),l=Rn({typed:t,matrix:r,concat:i});return t(uI,{"number, number":VV,"BigNumber, BigNumber":vye,"bigint, bigint":(c,f)=>c^f},l({SS:o,DS:s,Ss:u}))}),lI="arg",$ye=["typed"],Nye=Ae(lI,$ye,e=>{var{typed:t}=e;return t(lI,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),cI="conj",Dye=["typed"],Tye=Ae(cI,Dye,e=>{var{typed:t}=e;return t(cI,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),fI="im",kye=["typed"],Iye=Ae(fI,kye,e=>{var{typed:t}=e;return t(fI,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),dI="re",Oye=["typed"],Mye=Ae(dI,Oye,e=>{var{typed:t}=e;return t(dI,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),pI="not",Pye=["typed"],Bye=Ae(pI,Pye,e=>{var{typed:t}=e;return t(pI,{"null | undefined":()=>!0,number:KV,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:r=>!r,Unit:t.referToSelf(r=>n=>t.find(r,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),mI="or",Lye=["typed","matrix","equalScalar","DenseMatrix","concat"],wH=Ae(mI,Lye,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,s=ts({typed:t}),o=H2({typed:t,equalScalar:n}),u=Zi({typed:t,DenseMatrix:i}),l=Rn({typed:t,matrix:r,concat:a});return t(mI,{"number, number":W3,"Complex, Complex":function(f,d){return f.re!==0||f.im!==0||d.re!==0||d.im!==0},"BigNumber, BigNumber":function(f,d){return!f.isZero()&&!f.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":W3,"Unit, Unit":t.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},l({SS:o,DS:s,Ss:u}))}),hI="xor",Fye=["typed","matrix","DenseMatrix","concat","SparseMatrix"],Rye=Ae(hI,Fye,e=>{var{typed:t,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=e,s=ts({typed:t}),o=rl({typed:t,SparseMatrix:a}),u=Zi({typed:t,DenseMatrix:n}),l=Rn({typed:t,matrix:r,concat:i});return t(hI,{"number, number":K3,"Complex, Complex":function(f,d){return(f.re!==0||f.im!==0)!=(d.re!==0||d.im!==0)},"bigint, bigint":K3,"BigNumber, BigNumber":function(f,d){return(!f.isZero()&&!f.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":t.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},l({SS:o,DS:s,Ss:u}))}),vI="concat",Uye=["typed","matrix","isInteger"],xH=Ae(vI,Uye,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(vI,{"...Array | Matrix | number | BigNumber":function(a){var s,o=a.length,u=-1,l,c=!1,f=[];for(s=0;s<o;s++){var d=a[s];if(Jt(d)&&(c=!0),br(d)||Ar(d)){if(s!==o-1)throw new Error("Dimension must be specified as last argument");if(l=u,u=d.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||s>0&&u>l)throw new cu(u,l+1)}else{var p=hr(d).valueOf(),m=mr(p);if(f[s]=p,l=u,u=m.length-1,s>0&&u!==l)throw new Mr(l+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var h=f.shift();f.length;)h=SV(h,f.shift(),u);return c?r(h):h},"...string":function(a){return a.join("")}})}),gI="column",zye=["typed","Index","matrix","range"],SH=Ae(gI,zye,e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t(gI,{"Matrix, number":a,"Array, number":function(o,u){return a(n(hr(o)),u).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pn(o,s.size()[1]);var u=i(0,s.size()[0]),l=new r(u,o),c=s.subset(l);return Jt(c)?c:n([[c]])}}),yI="count",qye=["typed","size","prod"],jye=Ae(yI,qye,e=>{var{typed:t,size:r,prod:n}=e;return t(yI,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})}),bI="cross",Vye=["typed","matrix","subtract","multiply"],Hye=Ae(bI,Vye,e=>{var{typed:t,matrix:r,subtract:n,multiply:i}=e;return t(bI,{"Matrix, Matrix":function(o,u){return r(a(o.toArray(),u.toArray()))},"Matrix, Array":function(o,u){return r(a(o.toArray(),u))},"Array, Matrix":function(o,u){return r(a(o,u.toArray()))},"Array, Array":a});function a(s,o){var u=Math.max(mr(s).length,mr(o).length);s=Xb(s),o=Xb(o);var l=mr(s),c=mr(o);if(l.length!==1||c.length!==1||l[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+l.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(s[1],o[2]),i(s[2],o[1])),n(i(s[2],o[0]),i(s[0],o[2])),n(i(s[0],o[1]),i(s[1],o[0]))];return u>1?[f]:f}}),_I="diag",Gye=["typed","matrix","DenseMatrix","SparseMatrix"],Zye=Ae(_I,Gye,e=>{var{typed:t,matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(_I,{Array:function(l){return a(l,0,mr(l),null)},"Array, number":function(l,c){return a(l,c,mr(l),null)},"Array, BigNumber":function(l,c){return a(l,c.toNumber(),mr(l),null)},"Array, string":function(l,c){return a(l,0,mr(l),c)},"Array, number, string":function(l,c,f){return a(l,c,mr(l),f)},"Array, BigNumber, string":function(l,c,f){return a(l,c.toNumber(),mr(l),f)},Matrix:function(l){return a(l,0,l.size(),l.storage())},"Matrix, number":function(l,c){return a(l,c,l.size(),l.storage())},"Matrix, BigNumber":function(l,c){return a(l,c.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,c){return a(l,0,l.size(),c)},"Matrix, number, string":function(l,c,f){return a(l,c,l.size(),f)},"Matrix, BigNumber, string":function(l,c,f){return a(l,c.toNumber(),l.size(),f)}});function a(u,l,c,f){if(!zt(l))throw new TypeError("Second parameter in function diag must be an integer");var d=l>0?l:0,p=l<0?-l:0;switch(c.length){case 1:return s(u,l,f,c[0],p,d);case 2:return o(u,l,f,c,p,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(u,l,c,f,d,p){var m=[f+d,f+p];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var h=c==="sparse"?i.diagonal(m,u,l):n.diagonal(m,u,l);return c!==null?h:h.valueOf()}function o(u,l,c,f,d,p){if(Jt(u)){var m=u.diagonal(l);return c!==null?c!==m.storage()?r(m,c):m:m.valueOf()}for(var h=Math.min(f[0]-d,f[1]-p),v=[],y=0;y<h;y++)v[y]=u[y+d][y+p];return c!==null?r(v):v}}),Wye="filter",Kye=["typed"],EH=Ae(Wye,Kye,e=>{var{typed:t}=e;return t("filter",{"Array, function":AI,"Matrix, function":function(n,i){return n.create(AI(n.valueOf(),i),n.datatype())},"Array, RegExp":d5,"Matrix, RegExp":function(n,i){return n.create(d5(n.valueOf(),i),n.datatype())}})});function AI(e,t){var r=Vd(t,e,"filter");return r.isUnary?f5(e,r.fn):f5(e,function(n,i,a){return r.fn(n,[i],a)})}var wI="flatten",Jye=["typed"],Yye=Ae(wI,Jye,e=>{var{typed:t}=e;return t(wI,{Array:function(n){return ln(n)},Matrix:function(n){return n.create(ln(n.valueOf(),!0),n.datatype())}})}),tE="forEach",Xye=["typed"],CH=Ae(tE,Xye,e=>{var{typed:t}=e;return t(tE,{"Array, function":Qye,"Matrix, function":function(n,i){n.forEach(i)}})});function Qye(e,t){var r=Vd(t,e,tE);CV(e,r.fn,r.isUnary)}var xI="getMatrixDataType",ebe=["typed"],tbe=Ae(xI,ebe,e=>{var{typed:t}=e;return t(xI,{Array:function(n){return j2(n,Tn)},Matrix:function(n){return n.getDataType()}})}),SI="identity",rbe=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],nbe=Ae(SI,rbe,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:s}=e;return t(SI,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return u(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return u(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return u(c,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,d){return u(c,f,d)},Array:function(c){return o(c)},"Array, string":function(c,f){return o(c,f)},Matrix:function(c){return o(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return o(c.valueOf(),f)}});function o(l,c){switch(l.length){case 0:return c?n(c):[];case 1:return u(l[0],l[0],c);case 2:return u(l[0],l[1],c);default:throw new Error("Vector containing two values expected")}}function u(l,c,f){var d=Ar(l)||Ar(c)?i:null;if(Ar(l)&&(l=l.toNumber()),Ar(c)&&(c=c.toNumber()),!zt(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!zt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var p=d?new i(1):1,m=d?new d(0):0,h=[l,c];if(f){if(f==="sparse")return s.diagonal(h,p,0,m);if(f==="dense")return a.diagonal(h,p,0,m);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=Hm([],h,m),y=l<c?l:c,w=0;w<y;w++)v[w][w]=p;return v}}),EI="kron",ibe=["typed","matrix","multiplyScalar"],abe=Ae(EI,ibe,e=>{var{typed:t,matrix:r,multiplyScalar:n}=e;return t(EI,{"Matrix, Matrix":function(s,o){return r(i(s.toArray(),o.toArray()))},"Matrix, Array":function(s,o){return r(i(s.toArray(),o))},"Array, Matrix":function(s,o){return r(i(s,o.toArray()))},"Array, Array":i});function i(a,s){if(mr(a).length===1&&(a=[a]),mr(s).length===1&&(s=[s]),mr(a).length>2||mr(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(s.length)+")");var o=[],u=[];return a.map(function(l){return s.map(function(c){return u=[],o.push(u),l.map(function(f){return c.map(function(d){return u.push(n(f,d))})})})})&&o}}),Bx="map",sbe=["typed"],$H=Ae(Bx,sbe,e=>{var{typed:t}=e;return t(Bx,{"Array, function":n,"Matrix, function":function(a,s){return a.map(s)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,a,s)=>r([i,a,...s.slice(0,s.length-1)],s[s.length-1])});function r(i,a){if(typeof a!="function")throw new Error("Last argument must be a callback function");var s=i[0].isMatrix,o=a$(...i.map(b=>b.isMatrix?b.size():mr(b))),u=s?(b,_)=>b.get(_):s$,l=s?i.map(b=>b.isMatrix?b.create(Ed(b.toArray(),o),b.datatype()):i[0].create(Ed(b.valueOf(),o))):i.map(b=>b.isMatrix?Ed(b.toArray(),o):Ed(b,o)),c;if(t.isTypedFunction(a)){var f=o.map(()=>0),d=l.map(b=>u(b,f)),p=g(a,d,f,l);c=y(p)}else{var m=i.length,h=w(a,m);c=y(h)}var v=(b,_)=>c([b,...l.slice(1).map(x=>u(x,_))],_);if(s)return l[0].map(v);return n(l[0],v);function y(b){switch(b){case 0:return _=>a(..._);case 1:return(_,x)=>a(..._,x);case 2:return(_,x)=>a(..._,x,...l)}}function w(b,_){return b.length>_+1?2:b.length===_+1?1:0}function g(b,_,x,E){return t.resolve(b,[..._,x,...E])!==null?2:t.resolve(b,[..._,x])!==null?1:(t.resolve(b,_)!==null,0)}}function n(i,a){var s=Vd(a,i,Bx);return H3(i,s.fn,s.isUnary)}}),CI="diff",obe=["typed","matrix","subtract","number"],NH=Ae(CI,obe,e=>{var{typed:t,matrix:r,subtract:n,number:i}=e;return t(CI,{"Array | Matrix":function(c){return Jt(c)?r(s(c.toArray())):s(c)},"Array | Matrix, number":function(c,f){if(!zt(f))throw new RangeError("Dimension must be a whole number");return Jt(c)?r(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":t.referTo("Array,number",l=>(c,f)=>l(c,i(f))),"Matrix, BigNumber":t.referTo("Matrix,number",l=>(c,f)=>l(c,i(f)))});function a(l,c){if(Jt(l)&&(l=l.toArray()),!Array.isArray(l))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return l.forEach(d=>{f.push(a(d,c-1))}),f}else{if(c===0)return s(l);throw RangeError("Cannot have negative dimension")}}function s(l){for(var c=[],f=l.length,d=1;d<f;d++)c.push(o(l[d-1],l[d]));return c}function o(l,c){Jt(l)&&(l=l.toArray()),Jt(c)&&(c=c.toArray());var f=Array.isArray(l),d=Array.isArray(c);if(f&&d)return u(l,c);if(!f&&!d)return n(c,l);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(l,c){if(l.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],d=l.length,p=0;p<d;p++)f.push(o(l[p],c[p]));return f}}),ube="ones",lbe=["typed","config","matrix","BigNumber"],cbe=Ae(ube,lbe,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var f=l.pop();return a(l,f)}else return r.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var c=l.storage();return a(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return a(l.valueOf(),c)}});function a(u,l){var c=s(u),f=c?new i(1):1;if(o(u),l){var d=n(l);return u.length>0?d.resize(u,f):d}else{var p=[];return u.length>0?Hm(p,u,f):p}}function s(u){var l=!1;return u.forEach(function(c,f,d){Ar(c)&&(l=!0,d[f]=c.toNumber())}),l}function o(u){u.forEach(function(l){if(typeof l!="number"||!zt(l)||l<0)throw new Error("Parameters in function ones must be positive integers")})}});function d$(){throw new Error('No "bignumber" implementation available')}function DH(){throw new Error('No "fraction" implementation available')}function TH(){throw new Error('No "matrix" implementation available')}var $I="range",fbe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],kH=Ae($I,fbe,e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:u,add:l,isPositive:c}=e;return t($I,{string:d,"string, boolean":d,number:function(v){throw new TypeError("Too few arguments to function range(): ".concat(v))},boolean:function(v){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(v,", number|bigint|BigNumber|Fraction"))},"number, number":function(v,y){return f(p(v,y,1,!1))},"number, number, number":function(v,y,w){return f(p(v,y,w,!1))},"number, number, boolean":function(v,y,w){return f(p(v,y,1,w))},"number, number, number, boolean":function(v,y,w,g){return f(p(v,y,w,g))},"bigint, bigint|number":function(v,y){return f(p(v,y,1n,!1))},"number, bigint":function(v,y){return f(p(BigInt(v),y,1n,!1))},"bigint, bigint|number, bigint|number":function(v,y,w){return f(p(v,y,BigInt(w),!1))},"number, bigint, bigint|number":function(v,y,w){return f(p(BigInt(v),y,BigInt(w),!1))},"bigint, bigint|number, boolean":function(v,y,w){return f(p(v,y,1n,w))},"number, bigint, boolean":function(v,y,w){return f(p(BigInt(v),y,1n,w))},"bigint, bigint|number, bigint|number, boolean":function(v,y,w,g){return f(p(v,y,BigInt(w),g))},"number, bigint, bigint|number, boolean":function(v,y,w,g){return f(p(BigInt(v),y,BigInt(w),g))},"BigNumber, BigNumber":function(v,y){var w=v.constructor;return f(p(v,y,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,y,w){return f(p(v,y,w,!1))},"BigNumber, BigNumber, boolean":function(v,y,w){var g=v.constructor;return f(p(v,y,new g(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(v,y,w,g){return f(p(v,y,w,g))},"Fraction, Fraction":function(v,y){return f(p(v,y,1,!1))},"Fraction, Fraction, Fraction":function(v,y,w){return f(p(v,y,w,!1))},"Fraction, Fraction, boolean":function(v,y,w){return f(p(v,y,1,w))},"Fraction, Fraction, Fraction, boolean":function(v,y,w,g){return f(p(v,y,w,g))},"Unit, Unit, Unit":function(v,y,w){return f(p(v,y,w,!1))},"Unit, Unit, Unit, boolean":function(v,y,w,g){return f(p(v,y,w,g))}});function f(h){return r.matrix==="Matrix"?n?n(h):TH():h}function d(h,v){var y=m(h);if(!y)throw new SyntaxError('String "'+h+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&d$(),f(p(i(y.start),i(y.end),i(y.step)))):f(p(y.start,y.end,y.step,v))}function p(h,v,y,w){for(var g=[],b=c(y)?w?s:a:w?u:o,_=h;b(_,v);)g.push(_),_=l(_,y);return g}function m(h){var v=h.split(":"),y=v.map(function(g){return Number(g)}),w=y.some(function(g){return isNaN(g)});if(w)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}}),NI="reshape",dbe=["typed","isInteger","matrix"],pbe=Ae(NI,dbe,e=>{var{typed:t,isInteger:r}=e;return t(NI,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(s){if(!r(s))throw new TypeError("Invalid size for dimension: "+s)}),n$(i,a)}})}),mbe="resize",hbe=["config","matrix"],vbe=Ae(mbe,hbe,e=>{var{config:t,matrix:r}=e;return function(a,s,o){if(arguments.length!==2&&arguments.length!==3)throw new up("resize",arguments.length,2,3);if(Jt(s)&&(s=s.valueOf()),Ar(s[0])&&(s=s.map(function(c){return Ar(c)?c.toNumber():c})),Jt(a))return a.resize(s,o,!0);if(typeof a=="string")return n(a,s,o);var u=Array.isArray(a)?!1:t.matrix!=="Array";if(s.length===0){for(;Array.isArray(a);)a=a[0];return hr(a)}else{Array.isArray(a)||(a=[a]),a=hr(a);var l=Hm(a,s,o);return u?r(l):l}};function n(i,a,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(a.length!==1)throw new Mr(a.length,1);var o=a[0];if(typeof o!="number"||!zt(o))throw new TypeError("Invalid size, must contain positive integers (size: "+Ir(a)+")");if(i.length>o)return i.substring(0,o);if(i.length<o){for(var u=i,l=0,c=o-i.length;l<c;l++)u+=s;return u}else return i}}),DI="rotate",gbe=["typed","multiply","rotationMatrix"],ybe=Ae(DI,gbe,e=>{var{typed:t,multiply:r,rotationMatrix:n}=e;return t(DI,{"Array , number | BigNumber | Complex | Unit":function(s,o){i(s,2);var u=r(n(o),s);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,o){return i(s,2),r(n(o),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,u){i(s,3);var l=r(n(o,u),s);return l},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,u){return i(s,3),r(n(o,u),s)}});function i(a,s){var o=Array.isArray(a)?mr(a):a.size();if(o.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o.length===2&&o[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}}),TI="rotationMatrix",bbe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],_be=Ae(TI,bbe,e=>{var{typed:t,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:s,BigNumber:o,matrix:u,DenseMatrix:l,SparseMatrix:c,cos:f,sin:d}=e;return t(TI,{"":function(){return r.matrix==="Matrix"?u([]):[]},string:function(g){return u(g)},"number | BigNumber | Complex | Unit":function(g){return p(g,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(g,b){return p(g,b)},"number | BigNumber | Complex | Unit, Array":function(g,b){var _=u(b);return m(_),y(g,_,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(g,b){m(b);var _=b.storage()||(r.matrix==="Matrix"?"dense":void 0);return y(g,b,_)},"number | BigNumber | Complex | Unit, Array, string":function(g,b,_){var x=u(b);return m(x),y(g,x,_)},"number | BigNumber | Complex | Unit, Matrix, string":function(g,b,_){return m(b),y(g,b,_)}});function p(w,g){var b=Ar(w),_=b?new o(-1):-1,x=f(w),E=d(w),C=[[x,n(_,E)],[E,x]];return v(C,g)}function m(w){var g=w.size();if(g.length<1||g[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function h(w){return w.reduce((g,b)=>n(g,b))}function v(w,g){if(g){if(g==="sparse")return new c(w);if(g==="dense")return new l(w);throw new TypeError('Unknown matrix type "'.concat(g,'"'))}return w}function y(w,g,b){var _=s(g);if(_===0)throw new RangeError("Rotation around zero vector");var x=Ar(w)?o:null,E=x?new x(1):1,C=x?new x(-1):-1,$=x?new x(g.get([0])/_):g.get([0])/_,D=x?new x(g.get([1])/_):g.get([1])/_,N=x?new x(g.get([2])/_):g.get([2])/_,k=f(w),P=i(E,a(k)),U=d(w),L=i(k,h([$,$,P])),B=i(h([$,D,P]),h([C,N,U])),O=i(h([$,N,P]),h([D,U])),T=i(h([$,D,P]),h([N,U])),j=i(k,h([D,D,P])),R=i(h([D,N,P]),h([C,$,U])),le=i(h([$,N,P]),h([C,D,U])),re=i(h([D,N,P]),h([$,U])),F=i(k,h([N,N,P])),H=[[L,B,O],[T,j,R],[le,re,F]];return v(H,b)}}),kI="row",Abe=["typed","Index","matrix","range"],IH=Ae(kI,Abe,e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t(kI,{"Matrix, number":a,"Array, number":function(o,u){return a(n(hr(o)),u).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pn(o,s.size()[0]);var u=i(0,s.size()[1]),l=new r(o,u),c=s.subset(l);return Jt(c)?c:n([[c]])}}),II="size",wbe=["typed","config","?matrix"],xbe=Ae(II,wbe,e=>{var{typed:t,config:r,matrix:n}=e;return t(II,{Matrix:function(a){return a.create(a.size(),"number")},Array:mr,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([],"dense","number"):TH()}})}),OI="squeeze",Sbe=["typed"],Ebe=Ae(OI,Sbe,e=>{var{typed:t}=e;return t(OI,{Array:function(n){return Xb(hr(n))},Matrix:function(n){var i=Xb(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return hr(n)}})}),MI="subset",Cbe=["typed","matrix","zeros","add"],OH=Ae(MI,Cbe,e=>{var{typed:t,matrix:r,zeros:n,add:i}=e;return t(MI,{"Matrix, Index":function(o,u){return Vm(u)?r():(Yb(o,u),o.subset(u))},"Array, Index":t.referTo("Matrix, Index",function(s){return function(o,u){var l=s(r(o),u);return u.isScalar()?l:l.valueOf()}}),"Object, Index":Nbe,"string, Index":$be,"Matrix, Index, any, any":function(o,u,l,c){return Vm(u)?o:(Yb(o,u),o.clone().subset(u,a(l,u),c))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(s){return function(o,u,l,c){var f=s(r(o),u,l,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(s){return function(o,u,l){return s(r(o),u,l,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(s){return function(o,u,l){return s(o,u,l,void 0)}}),"string, Index, string":PI,"string, Index, string, string":PI,"Object, Index, any":Dbe});function a(s,o){if(typeof s=="string")throw new Error("can't boradcast a string");if(o._isScalar)return s;var u=o.size();if(u.every(l=>l>0))try{return i(s,n(u))}catch{return s}else return s}});function $be(e,t){if(!B2(t))throw new TypeError("Index expected");if(Vm(t))return"";if(Yb(Array.from(e),t),t.size().length!==1)throw new Mr(t.size().length,1);var r=e.length;Pn(t.min()[0],r),Pn(t.max()[0],r);var n=t.dimension(0),i="";return n.forEach(function(a){i+=e.charAt(a)}),i}function PI(e,t,r,n){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(Vm(t))return e;if(Yb(Array.from(e),t),t.size().length!==1)throw new Mr(t.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0),a=i.size()[0];if(a!==r.length)throw new Mr(i.size()[0],r.length);var s=e.length;Pn(t.min()[0]),Pn(t.max()[0]);for(var o=[],u=0;u<s;u++)o[u]=e.charAt(u);if(i.forEach(function(f,d){o[f]=r.charAt(d[0])}),o.length>s)for(var l=s-1,c=o.length;l<c;l++)o[l]||(o[l]=n);return o.join("")}function Nbe(e,t){if(!Vm(t)){if(t.size().length!==1)throw new Mr(t.size(),1);var r=t.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return Wa(e,r)}}function Dbe(e,t,r){if(Vm(t))return e;if(t.size().length!==1)throw new Mr(t.size(),1);var n=t.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=hr(e);return qm(i,n,r),i}var BI="transpose",Tbe=["typed","matrix"],kbe=Ae(BI,Tbe,e=>{var{typed:t,matrix:r}=e;return t(BI,{Array:s=>n(r(s)).valueOf(),Matrix:n,any:hr});function n(s){var o=s.size(),u;switch(o.length){case 1:u=s.clone();break;case 2:{var l=o[0],c=o[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ir(o)+")");switch(s.storage()){case"dense":u=i(s,l,c);break;case"sparse":u=a(s,l,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ir(o)+")")}return u}function i(s,o,u){for(var l=s._data,c=[],f,d=0;d<u;d++){f=c[d]=[];for(var p=0;p<o;p++)f[p]=hr(l[p][d])}return s.createDenseMatrix({data:c,size:[u,o],datatype:s._datatype})}function a(s,o,u){for(var l=s._values,c=s._index,f=s._ptr,d=l?[]:void 0,p=[],m=[],h=[],v=0;v<o;v++)h[v]=0;var y,w,g;for(y=0,w=c.length;y<w;y++)h[c[y]]++;for(var b=0,_=0;_<o;_++)m.push(b),b+=h[_],h[_]=m[_];for(m.push(b),g=0;g<u;g++)for(var x=f[g],E=f[g+1],C=x;C<E;C++){var $=h[c[C]]++;p[$]=g,l&&(d[$]=hr(l[C]))}return s.createSparseMatrix({values:d,index:p,ptr:m,size:[u,o],datatype:s._datatype})}}),LI="ctranspose",Ibe=["typed","transpose","conj"],Obe=Ae(LI,Ibe,e=>{var{typed:t,transpose:r,conj:n}=e;return t(LI,{any:function(a){return n(r(a))}})}),FI="zeros",Mbe=["typed","config","matrix","BigNumber"],Pbe=Ae(FI,Mbe,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(FI,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var f=l.pop();return a(l,f)}else return r.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var c=l.storage();return a(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return a(l.valueOf(),c)}});function a(u,l){var c=s(u),f=c?new i(0):0;if(o(u),l){var d=n(l);return u.length>0?d.resize(u,f):d}else{var p=[];return u.length>0?Hm(p,u,f):p}}function s(u){var l=!1;return u.forEach(function(c,f,d){Ar(c)&&(l=!0,d[f]=c.toNumber())}),l}function o(u){u.forEach(function(l){if(typeof l!="number"||!zt(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}}),RI="fft",Bbe=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Lbe=Ae(RI,Bbe,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:s,tau:o,i:u,dotDivide:l,conj:c,pow:f,ceil:d,log2:p}=e;return t(RI,{Array:m,Matrix:function(g){return g.create(m(g.valueOf()),g.datatype())}});function m(w){var g=mr(w);return g.length===1?y(w,g[0]):h(w.map(b=>m(b,g.slice(1))),0)}function h(w,g){var b=mr(w);if(g!==0)return new Array(b[0]).fill(0).map((x,E)=>h(w[E],g-1));if(b.length===1)return y(w);function _(x){var E=mr(x);return new Array(E[1]).fill(0).map((C,$)=>new Array(E[0]).fill(0).map((D,N)=>x[N][$]))}return _(h(_(w),1))}function v(w){for(var g=w.length,b=s(a(i(-1,i(u,o)),g)),_=[],x=1-g;x<g;x++)_.push(f(b,a(f(x,2),2)));for(var E=f(2,d(p(g+g-1))),C=[...new Array(g).fill(0).map((B,O)=>i(w[O],_[g-1+O])),...new Array(E-g).fill(0)],$=[...new Array(g+g-1).fill(0).map((B,O)=>a(1,_[O])),...new Array(E-(g+g-1)).fill(0)],D=y(C),N=y($),k=new Array(E).fill(0).map((B,O)=>i(D[O],N[O])),P=l(c(m(c(k))),E),U=[],L=g-1;L<g+g-1;L++)U.push(i(P[L],_[L]));return U}function y(w){var g=w.length;if(g===1)return[w[0]];if(g%2===0){for(var b=[...y(w.filter((C,$)=>$%2===0)),...y(w.filter((C,$)=>$%2===1))],_=0;_<g/2;_++){var x=b[_],E=i(b[_+g/2],s(i(i(o,u),a(-_,g))));b[_]=n(x,E),b[_+g/2]=n(x,i(-1,E))}return b}else return v(w)}}),UI="ifft",Fbe=["typed","fft","dotDivide","conj"],Rbe=Ae(UI,Fbe,e=>{var{typed:t,fft:r,dotDivide:n,conj:i}=e;return t(UI,{"Array | Matrix":function(s){var o=Jt(s)?s.size():mr(s);return n(i(r(i(s))),o.reduce((u,l)=>u*l,1))}})});function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function Ube(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zbe(e){var t=Ube(e,"string");return Tv(t)=="symbol"?t:t+""}function Ti(e,t,r){return(t=zbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var jbe="solveODE",Vbe=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],Hbe=Ae(jbe,Vbe,e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,max:s,map:o,abs:u,isPositive:l,isNegative:c,larger:f,smaller:d,matrix:p,bignumber:m,unaryMinus:h}=e;function v(C){return function($,D,N,k){var P=!(D.length===2&&(D.every(x)||D.every(lo)));if(P)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var U=D[0],L=D[1],B=f(L,U),O=k.firstStep;if(O!==void 0&&!l(O))throw new Error('"firstStep" must be positive');var T=k.maxStep;if(T!==void 0&&!l(T))throw new Error('"maxStep" must be positive');var j=k.minStep;if(j&&c(j))throw new Error('"minStep" must be positive or zero');var R=[U,L,O,j,T].filter(Y=>Y!==void 0);if(!(R.every(x)||R.every(lo)))throw new Error('Inconsistent type of "t" dependant variables');for(var le=1,re=k.tol?k.tol:1e-4,F=k.minDelta?k.minDelta:.2,H=k.maxDelta?k.maxDelta:5,ve=k.maxIter?k.maxIter:1e4,ae=[U,L,...N,T,j].some(Ar),[W,Q,J,se]=ae?[m(C.a),m(C.c),m(C.b),m(C.bp)]:[C.a,C.c,C.b,C.bp],Ce=O?B?O:h(O):a(n(L,U),le),Te=[U],oe=[N],q=n(J,se),me=0,X=0,K=b(B),de=_(B);K(Te[me],L);){var Ee=[];Ce=de(Te[me],L,Ce),Ee.push($(Te[me],oe[me]));for(var te=1;te<Q.length;++te)Ee.push($(r(Te[me],i(Q[te],Ce)),r(oe[me],i(Ce,W[te],Ee))));var ce=s(u(o(i(q,Ee),Y=>lo(Y)?Y.value:Y)));ce<re&&re/ce>1/4&&(Te.push(r(Te[me],Ce)),oe.push(r(oe[me],i(Ce,J,Ee))),me++);var pe=.84*(re/ce)**(1/5);if(d(pe,F)?pe=F:f(pe,H)&&(pe=H),pe=ae?m(pe):pe,Ce=i(Ce,pe),T&&f(u(Ce),T)?Ce=B?T:h(T):j&&d(u(Ce),j)&&(Ce=B?j:h(j)),X++,X>ve)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Te,y:oe}}}function y(C,$,D,N){var k=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],P=[null,1/2,3/4,1],U=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],B={a:k,c:P,b:U,bp:L};return v(B)(C,$,D,N)}function w(C,$,D,N){var k=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],P=[null,1/5,3/10,4/5,8/9,1,1],U=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],B={a:k,c:P,b:U,bp:L};return v(B)(C,$,D,N)}function g(C,$,D,N){var k=N.method?N.method:"RK45",P={RK23:y,RK45:w};if(k.toUpperCase()in P){var U=qbe({},N);return delete U.method,P[k.toUpperCase()](C,$,D,U)}else{var L=Object.keys(P).map(O=>'"'.concat(O,'"')),B="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(k,'". Available methods are ').concat(B))}}function b(C){return C?d:f}function _(C){var $=C?f:d;return function(D,N,k){var P=r(D,k);return $(P,N)?n(N,D):k}}function x(C){return Ar(C)||br(C)}function E(C,$,D,N){var k=g(C,$.toArray(),D.toArray(),N);return{t:p(k.t),y:p(k.y)}}return t("solveODE",{"function, Array, Array, Object":g,"function, Matrix, Matrix, Object":E,"function, Array, Array":(C,$,D)=>g(C,$,D,{}),"function, Matrix, Matrix":(C,$,D)=>E(C,$,D,{}),"function, Array, number | BigNumber | Unit":(C,$,D)=>{var N=g(C,$,[D],{});return{t:N.t,y:N.y.map(k=>k[0])}},"function, Matrix, number | BigNumber | Unit":(C,$,D)=>{var N=g(C,$.toArray(),[D],{});return{t:p(N.t),y:p(N.y.map(k=>k[0]))}},"function, Array, number | BigNumber | Unit, Object":(C,$,D,N)=>{var k=g(C,$,[D],N);return{t:k.t,y:k.y.map(P=>P[0])}},"function, Matrix, number | BigNumber | Unit, Object":(C,$,D,N)=>{var k=g(C,$.toArray(),[D],N);return{t:p(k.t),y:p(k.y.map(P=>P[0]))}}})}),Gbe="erf",Zbe=["typed"],Wbe=Ae(Gbe,Zbe,e=>{var{typed:t}=e;return t("name",{number:function(s){var o=Math.abs(s);return o>=Ybe?Hc(s):o<=Kbe?Hc(s)*r(o):o<=4?Hc(s)*(1-n(o)):Hc(s)*(1-i(o))},"Array | Matrix":t.referToSelf(a=>s=>wr(s,a))});function r(a){var s=a*a,o=Al[0][4]*s,u=s,l;for(l=0;l<3;l+=1)o=(o+Al[0][l])*s,u=(u+Jp[0][l])*s;return a*(o+Al[0][3])/(u+Jp[0][3])}function n(a){var s=Al[1][8]*a,o=a,u;for(u=0;u<7;u+=1)s=(s+Al[1][u])*a,o=(o+Jp[1][u])*a;var l=(s+Al[1][7])/(o+Jp[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*l}function i(a){var s=1/(a*a),o=Al[2][5]*s,u=s,l;for(l=0;l<4;l+=1)o=(o+Al[2][l])*s,u=(u+Jp[2][l])*s;var c=s*(o+Al[2][4])/(u+Jp[2][4]);c=(Jbe-c)/a,s=parseInt(a*16)/16;var f=(a-s)*(a+s);return Math.exp(-s*s)*Math.exp(-f)*c}}),Kbe=.46875,Jbe=.5641895835477563,Al=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Jp=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Ybe=Math.pow(2,53),qI="zeta",Xbe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Qbe=Ae(qI,Xbe,e=>{var{typed:t,config:r,multiply:n,pow:i,divide:a,factorial:s,equal:o,smallerEq:u,isNegative:l,gamma:c,sin:f,subtract:d,add:p,Complex:m,BigNumber:h,pi:v}=e;return t(qI,{number:x=>y(x,E=>E,()=>20),BigNumber:x=>y(x,E=>new h(E),()=>Math.abs(Math.log10(r.relTol))),Complex:w});function y(x,E,C){return o(x,0)?E(-.5):o(x,1)?E(NaN):isFinite(x)?g(x,E,C,$=>$):l(x)?E(NaN):E(1)}function w(x){return x.re===0&&x.im===0?new m(-.5):x.re===1?new m(NaN,NaN):x.re===1/0&&x.im===0?new m(1):x.im===1/0||x.re===-1/0?new m(NaN,NaN):g(x,E=>E,E=>Math.round(1.3*15+.9*Math.abs(E.im)),E=>E.re)}function g(x,E,C,$){var D=C(x);if($(x)>-(D-1)/2)return _(x,E(D),E);var N=n(i(2,x),i(E(v),d(x,1)));return N=n(N,f(n(a(E(v),2),x))),N=n(N,c(d(1,x))),n(N,g(d(1,x),E,C,$))}function b(x,E){for(var C=x,$=x;u($,E);$=p($,1)){var D=a(n(s(p(E,d($,1))),i(4,$)),n(s(d(E,$)),s(n(2,$))));C=p(C,D)}return n(E,C)}function _(x,E,C){for(var $=a(1,n(b(C(0),E),d(1,i(2,d(1,x))))),D=C(0),N=C(1);u(N,E);N=p(N,1))D=p(D,a(n((-1)**(N-1),b(N,E)),i(N,x)));return n($,D)}}),jI="mode",e_e=["typed","isNaN","isNumeric"],t_e=Ae(jI,e_e,e=>{var{typed:t,isNaN:r,isNumeric:n}=e;return t(jI,{"Array | Matrix":i,"...":function(s){return i(s)}});function i(a){a=ln(a.valueOf());var s=a.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var o={},u=[],l=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in o||(o[f]=0),o[f]++,o[f]===l?u.push(f):o[f]>l&&(l=o[f],u=[f])}return u}});function Qa(e,t,r){var n;return String(e).includes("Unexpected type")?(n=arguments.length>2?" (type: "+Tn(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):String(e).includes("complex numbers")?(n=arguments.length>2?" (type: "+Tn(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var VI="prod",r_e=["typed","config","multiplyScalar","numeric"],n_e=Ae(VI,r_e,e=>{var{typed:t,config:r,multiplyScalar:n,numeric:i}=e;return t(VI,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(o,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(o){return a(o)}});function a(s){var o;if(df(s,function(u){try{o=o===void 0?u:n(o,u)}catch(l){throw Qa(l,"prod",u)}}),typeof o=="string"&&(o=i(o,Cf(o,r))),o===void 0)throw new Error("Cannot calculate prod of an empty array");return o}}),HI="format",i_e=["typed"],a_e=Ae(HI,i_e,e=>{var{typed:t}=e;return t(HI,{any:Ir,"any, Object | function | number | BigNumber":Ir})}),GI="bin",s_e=["typed","format"],o_e=Ae(GI,s_e,e=>{var{typed:t,format:r}=e;return t(GI,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"bin",wordSize:a})}})}),ZI="oct",u_e=["typed","format"],l_e=Ae(ZI,u_e,e=>{var{typed:t,format:r}=e;return t(ZI,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"oct",wordSize:a})}})}),WI="hex",c_e=["typed","format"],f_e=Ae(WI,c_e,e=>{var{typed:t,format:r}=e;return t(WI,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"hex",wordSize:a})}})}),MH=/\$([\w.]+)/g,KI="print",d_e=["typed"],PH=Ae(KI,d_e,e=>{var{typed:t}=e;return t(KI,{"string, Object | Array":JI,"string, Object | Array, number | Object":JI})});function JI(e,t,r){return e.replace(MH,function(n,i){var a=i.split("."),s=t[a.shift()];for(s!==void 0&&s.isMatrix&&(s=s.toArray());a.length&&s!==void 0;){var o=a.shift();s=o?s[o]:s+"."}return s!==void 0?Ca(s)?s:Ir(s,r):n})}var YI="to",p_e=["typed","matrix","concat"],m_e=Ae(YI,p_e,e=>{var{typed:t,matrix:r,concat:n}=e,i=Rn({typed:t,matrix:r,concat:n});return t(YI,{"Unit, Unit | string":(a,s)=>a.to(s)},i({Ds:!0}))}),XI="isPrime",h_e=["typed"],v_e=Ae(XI,h_e,e=>{var{typed:t}=e;return t(XI,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function s(w,g,b){for(var _=1;!g.eq(0);)g.mod(2).eq(0)?(g=g.div(2),w=w.mul(w).mod(b)):(g=g.sub(1),_=w.mul(_).mod(b));return _}var o=n.constructor.clone({precision:n.toFixed(0).length*2});n=new o(n);for(var u=0,l=n.sub(1);l.mod(2).eq(0);)l=l.div(2),u+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(w=>w<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var d=2;d<=f;d+=1)c.push(f)}for(var p=0;p<c.length;p+=1){var m=c[p],h=s(n.sub(n).add(m),l,n);if(!h.eq(1)){for(var v=0,y=h;!y.eq(n.sub(1));v+=1,y=y.mul(y).mod(n))if(v===u-1)return!1}}return!0},"Array | Matrix":t.referToSelf(r=>n=>wr(n,r))})}),g_e="numeric",y_e=["number","?bignumber","?fraction"],b_e=Ae(g_e,y_e,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:s=>t(s),BigNumber:r?s=>r(s):d$,bigint:s=>BigInt(s),Fraction:n?s=>n(s):DH};return function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Tn(o);if(!(c in i))throw new TypeError("Cannot convert "+o+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+o+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===c?o:a[u](o)}}),QI="divideScalar",__e=["typed","numeric"],A_e=Ae(QI,__e,e=>{var{typed:t,numeric:r}=e;return t(QI,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),eO="pow",w_e=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],x_e=Ae(eO,w_e,e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:a,inv:s,number:o,fraction:u,Complex:l}=e;return t(eO,{"number, number":c,"Complex, Complex":function(m,h){return m.pow(h)},"BigNumber, BigNumber":function(m,h){return h.isInteger()||m>=0||r.predictable?m.pow(h):new l(m.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(p,m)=>p**m,"Fraction, Fraction":function(m,h){var v=m.pow(h);if(v!=null)return v;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(m.valueOf(),h.valueOf())},"Array, number":f,"Array, BigNumber":function(m,h){return f(m,h.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(m,h){return d(m,h.toNumber())},"Unit, number | BigNumber":function(m,h){return m.pow(h)}});function c(p,m){if(r.predictable&&!zt(m)&&p<0)try{var h=u(m),v=o(h);if((m===v||Math.abs((m-v)/m)<1e-14)&&h.d%2n===1n)return(h.n%2n===0n?1:-1)*Math.pow(-p,m)}catch{}return r.predictable&&(p<-1&&m===1/0||p>-1&&p<0&&m===-1/0)?NaN:zt(m)||p>=0||r.predictable?UV(p,m):p*p<1&&m===1/0||p*p>1&&m===-1/0?0:new l(p,0).pow(m,0)}function f(p,m){if(!zt(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var h=mr(p);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(m<0)try{return f(s(p),-m)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):w}for(var v=n(h[0]).valueOf(),y=p;m>=1;)(m&1)===1&&(v=i(y,v)),m>>=1,y=i(y,y);return v}function d(p,m){return a(f(p.valueOf(),m))}}),Yp="Number of decimals in function round must be an integer",tO="round",S_e=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],E_e=Ae(tO,S_e,e=>{var{typed:t,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:s,DenseMatrix:o}=e,u=ya({typed:t,equalScalar:i}),l=Zi({typed:t,DenseMatrix:o}),c=du({typed:t});function f(d){return Math.abs(vg(d).exponent)}return t(tO,{number:function(p){var m=$0(p,f(r.relTol)),h=va(p,m,r.relTol,r.absTol)?m:p;return $0(h)},"number, number":function(p,m){var h=f(r.relTol);if(m>=h)return $0(p,m);var v=$0(p,h),y=va(p,v,r.relTol,r.absTol)?v:p;return $0(y,m)},"number, BigNumber":function(p,m){if(!m.isInteger())throw new TypeError(Yp);return new s(p).toDecimalPlaces(m.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,m){if(m%1)throw new TypeError(Yp);return p.round(m)},"Complex, BigNumber":function(p,m){if(!m.isInteger())throw new TypeError(Yp);var h=m.toNumber();return p.round(h)},BigNumber:function(p){var m=new s(p).toDecimalPlaces(f(r.relTol)),h=_o(p,m,r.relTol,r.absTol)?m:p;return h.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,m){if(!m.isInteger())throw new TypeError(Yp);var h=f(r.relTol);if(m>=h)return p.toDecimalPlaces(m.toNumber());var v=p.toDecimalPlaces(h),y=_o(p,v,r.relTol,r.absTol)?v:p;return y.toDecimalPlaces(m.toNumber())},bigint:d=>d,"bigint, number":(d,p)=>d,"bigint, BigNumber":(d,p)=>d,Fraction:function(p){return p.round()},"Fraction, number":function(p,m){if(m%1)throw new TypeError(Yp);return p.round(m)},"Fraction, BigNumber":function(p,m){if(!m.isInteger())throw new TypeError(Yp);return p.round(m.toNumber())},"Unit, number, Unit":t.referToSelf(d=>function(p,m,h){var v=p.toNumeric(h);return h.multiply(d(v,m))}),"Unit, BigNumber, Unit":t.referToSelf(d=>(p,m,h)=>d(p,m.toNumber(),h)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(d=>(p,m,h)=>wr(p,v=>d(v,m,h),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(d=>(p,m)=>d(p,0,m)),"Array | Matrix":t.referToSelf(d=>p=>wr(p,d,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(d=>(p,m)=>u(p,m,d,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(d=>(p,m)=>c(p,m,d,!1)),"Array, number | BigNumber":t.referToSelf(d=>(p,m)=>c(n(p),m,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(d=>(p,m)=>i(p,0)?a(m.size(),m.storage()):l(m,p,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(d=>(p,m)=>i(p,0)?a(m.size(),m.storage()):c(m,p,d,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(d=>(p,m)=>c(n(m),p,d,!0).valueOf())})}),rO="log",C_e=["config","typed","typeOf","divideScalar","Complex"],$_e=Math.log(16),N_e=Ae(rO,C_e,e=>{var{typed:t,typeOf:r,config:n,divideScalar:i,Complex:a}=e;function s(u){return u.log()}function o(u){return s(new a(u,0))}return t(rO,{number:function(l){return l>=0||n.predictable?y5(l):o(l)},bigint:c$($_e,y5,n,o),Complex:s,BigNumber:function(l){return!l.isNegative()||n.predictable?l.ln():o(l.toNumber())},"any, any":t.referToSelf(u=>(l,c)=>{if(r(l)==="Fraction"&&r(c)==="Fraction"){var f=l.log(c);if(f!==null)return f}return i(u(l),u(c))})})}),nO="log1p",D_e=["typed","config","divideScalar","log","Complex"],T_e=Ae(nO,D_e,e=>{var{typed:t,config:r,divideScalar:n,log:i,Complex:a}=e;return t(nO,{number:function(u){return u>=-1||r.predictable?$he(u):s(new a(u,0))},Complex:s,BigNumber:function(u){var l=u.plus(1);return!l.isNegative()||r.predictable?l.ln():s(new a(u.toNumber(),0))},"Array | Matrix":t.referToSelf(o=>u=>wr(u,o)),"any, any":t.referToSelf(o=>(u,l)=>n(o(u),i(l)))});function s(o){var u=o.re+1;return new a(Math.log(Math.sqrt(u*u+o.im*o.im)),Math.atan2(o.im,u))}}),iO="nthRoots",k_e=["config","typed","divideScalar","Complex"],I_e=Ae(iO,k_e,e=>{var{typed:t,config:r,divideScalar:n,Complex:i}=e,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function s(o,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new i(0,0)];var l=typeof o=="number",c;(l||o.re===0||o.im===0)&&(l?c=2*+(o<0):o.im===0?c=2*+(o.re<0):c=2*+(o.im<0)+1);for(var f=o.arg(),d=o.abs(),p=[],m=Math.pow(d,1/u),h=0;h<u;h++){var v=(c+4*h)/u;if(v===Math.round(v)){p.push(a[v%4](m));continue}p.push(new i({r:m,phi:(f+2*Math.PI*h)/u}))}return p}return t(iO,{Complex:function(u){return s(u,2)},"Complex, number":s})}),aO="dotPow",O_e=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],M_e=Ae(aO,O_e,e=>{var{typed:t,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:s,SparseMatrix:o}=e,u=ts({typed:t}),l=rl({typed:t,SparseMatrix:o}),c=ya({typed:t,equalScalar:r}),f=Zi({typed:t,DenseMatrix:a}),d=Rn({typed:t,matrix:n,concat:s}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=t(p);return t(aO,d({elop:h,SS:l,DS:u,Ss:c,sS:f}))}),sO="dotDivide",P_e=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],B_e=Ae(sO,P_e,e=>{var{typed:t,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:s,SparseMatrix:o}=e,u=pu({typed:t,equalScalar:n}),l=ts({typed:t}),c=rl({typed:t,SparseMatrix:o}),f=ya({typed:t,equalScalar:n}),d=Zi({typed:t,DenseMatrix:a}),p=Rn({typed:t,matrix:r,concat:s});return t(sO,p({elop:i,SS:c,DS:l,SD:u,Ss:f,sS:d}))});function gg(e){var{DenseMatrix:t}=e;return function(n,i,a){var s=n.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Ir(s)+")");var o=s[0],u=s[1];if(o!==u)throw new RangeError("Matrix must be square (size: "+Ir(s)+")");var l=[];if(Jt(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<o;d++)l[d]=[f[d]];return new t({data:l,size:[o,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==o||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Gb(i)){if(a){l=[];for(var p=0;p<o;p++)l[p]=[f[p][0]];return new t({data:l,size:[o,1],datatype:i._datatype})}return i}if(Sd(i)){for(var m=0;m<o;m++)l[m]=[0];for(var h=i._values,v=i._index,y=i._ptr,w=y[1],g=y[0];g<w;g++){var b=v[g];l[b][0]=h[g]}return new t({data:l,size:[o,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Cn(i)){var _=mr(i);if(_.length===1){if(_[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<o;x++)l[x]=[i[x]];return new t({data:l,size:[o,1]})}if(_.length===2){if(_[0]!==o||_[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var E=0;E<o;E++)l[E]=[i[E][0]];return new t({data:l,size:[o,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var oO="lsolve",L_e=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],F_e=Ae(oO,L_e,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=e,u=gg({DenseMatrix:o});return t(oO,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return l(d,p)},"Array, Array | Matrix":function(d,p){var m=r(d),h=l(m,p);return h.valueOf()}});function l(f,d){d=u(f,d,!0);for(var p=d._data,m=f._size[0],h=f._size[1],v=[],y=f._data,w=0;w<h;w++){var g=p[w][0]||0,b=void 0;if(s(g,0))b=0;else{var _=y[w][w];if(s(_,0))throw new Error("Linear system cannot be solved since matrix is singular");b=n(g,_);for(var x=w+1;x<m;x++)p[x]=[a(p[x][0]||0,i(b,y[x][w]))]}v[w]=[b]}return new o({data:v,size:[m,1]})}function c(f,d){d=u(f,d,!0);for(var p=d._data,m=f._size[0],h=f._size[1],v=f._values,y=f._index,w=f._ptr,g=[],b=0;b<h;b++){var _=p[b][0]||0;if(s(_,0))g[b]=[0];else{for(var x=0,E=[],C=[],$=w[b],D=w[b+1],N=$;N<D;N++){var k=y[N];k===b?x=v[N]:k>b&&(E.push(v[N]),C.push(k))}if(s(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var P=n(_,x),U=0,L=C.length;U<L;U++){var B=C[U];p[B]=[a(p[B][0]||0,i(P,E[U]))]}g[b]=[P]}}return new o({data:g,size:[m,1]})}}),uO="usolve",R_e=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],U_e=Ae(uO,R_e,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=e,u=gg({DenseMatrix:o});return t(uO,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return l(d,p)},"Array, Array | Matrix":function(d,p){var m=r(d),h=l(m,p);return h.valueOf()}});function l(f,d){d=u(f,d,!0);for(var p=d._data,m=f._size[0],h=f._size[1],v=[],y=f._data,w=h-1;w>=0;w--){var g=p[w][0]||0,b=void 0;if(s(g,0))b=0;else{var _=y[w][w];if(s(_,0))throw new Error("Linear system cannot be solved since matrix is singular");b=n(g,_);for(var x=w-1;x>=0;x--)p[x]=[a(p[x][0]||0,i(b,y[x][w]))]}v[w]=[b]}return new o({data:v,size:[m,1]})}function c(f,d){d=u(f,d,!0);for(var p=d._data,m=f._size[0],h=f._size[1],v=f._values,y=f._index,w=f._ptr,g=[],b=h-1;b>=0;b--){var _=p[b][0]||0;if(s(_,0))g[b]=[0];else{for(var x=0,E=[],C=[],$=w[b],D=w[b+1],N=D-1;N>=$;N--){var k=y[N];k===b?x=v[N]:k<b&&(E.push(v[N]),C.push(k))}if(s(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var P=n(_,x),U=0,L=C.length;U<L;U++){var B=C[U];p[B]=[a(p[B][0],i(P,E[U]))]}g[b]=[P]}}return new o({data:g,size:[m,1]})}}),lO="lsolveAll",z_e=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],q_e=Ae(lO,z_e,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=e,u=gg({DenseMatrix:o});return t(lO,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return l(d,p)},"Array, Array | Matrix":function(d,p){var m=r(d),h=l(m,p);return h.map(v=>v.valueOf())}});function l(f,d){for(var p=[u(f,d,!0)._data.map(C=>C[0])],m=f._data,h=f._size[0],v=f._size[1],y=0;y<v;y++)for(var w=p.length,g=0;g<w;g++){var b=p[g];if(s(m[y][y],0))if(s(b[y],0)){if(g===0){var x=[...b];x[y]=1;for(var E=y+1;E<v;E++)x[E]=a(x[E],m[E][y]);p.push(x)}}else{if(g===0)return[];p.splice(g,1),g-=1,w-=1}else{b[y]=n(b[y],m[y][y]);for(var _=y+1;_<v;_++)b[_]=a(b[_],i(b[y],m[_][y]))}}return p.map(C=>new o({data:C.map($=>[$]),size:[h,1]}))}function c(f,d){for(var p=[u(f,d,!0)._data.map(le=>le[0])],m=f._size[0],h=f._size[1],v=f._values,y=f._index,w=f._ptr,g=0;g<h;g++)for(var b=p.length,_=0;_<b;_++){for(var x=p[_],E=[],C=[],$=w[g],D=w[g+1],N=0,k=$;k<D;k++){var P=y[k];P===g?N=v[k]:P>g&&(E.push(v[k]),C.push(P))}if(s(N,0))if(s(x[g],0)){if(_===0){var O=[...x];O[g]=1;for(var T=0,j=C.length;T<j;T++){var R=C[T];O[R]=a(O[R],E[T])}p.push(O)}}else{if(_===0)return[];p.splice(_,1),_-=1,b-=1}else{x[g]=n(x[g],N);for(var U=0,L=C.length;U<L;U++){var B=C[U];x[B]=a(x[B],i(x[g],E[U]))}}}return p.map(le=>new o({data:le.map(re=>[re]),size:[m,1]}))}}),cO="usolveAll",j_e=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],V_e=Ae(cO,j_e,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=e,u=gg({DenseMatrix:o});return t(cO,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return l(d,p)},"Array, Array | Matrix":function(d,p){var m=r(d),h=l(m,p);return h.map(v=>v.valueOf())}});function l(f,d){for(var p=[u(f,d,!0)._data.map(C=>C[0])],m=f._data,h=f._size[0],v=f._size[1],y=v-1;y>=0;y--)for(var w=p.length,g=0;g<w;g++){var b=p[g];if(s(m[y][y],0))if(s(b[y],0)){if(g===0){var x=[...b];x[y]=1;for(var E=y-1;E>=0;E--)x[E]=a(x[E],m[E][y]);p.push(x)}}else{if(g===0)return[];p.splice(g,1),g-=1,w-=1}else{b[y]=n(b[y],m[y][y]);for(var _=y-1;_>=0;_--)b[_]=a(b[_],i(b[y],m[_][y]))}}return p.map(C=>new o({data:C.map($=>[$]),size:[h,1]}))}function c(f,d){for(var p=[u(f,d,!0)._data.map(le=>le[0])],m=f._size[0],h=f._size[1],v=f._values,y=f._index,w=f._ptr,g=h-1;g>=0;g--)for(var b=p.length,_=0;_<b;_++){for(var x=p[_],E=[],C=[],$=w[g],D=w[g+1],N=0,k=D-1;k>=$;k--){var P=y[k];P===g?N=v[k]:P<g&&(E.push(v[k]),C.push(P))}if(s(N,0))if(s(x[g],0)){if(_===0){var O=[...x];O[g]=1;for(var T=0,j=C.length;T<j;T++){var R=C[T];O[R]=a(O[R],E[T])}p.push(O)}}else{if(_===0)return[];p.splice(_,1),_-=1,b-=1}else{x[g]=n(x[g],N);for(var U=0,L=C.length;U<L;U++){var B=C[U];x[B]=a(x[B],i(x[g],E[U]))}}}return p.map(le=>new o({data:le.map(re=>[re]),size:[m,1]}))}}),H_e="matAlgo08xS0Sid",G_e=["typed","equalScalar"],p$=Ae(H_e,G_e,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var o=i._values,u=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,m=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!o||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],w=c[1],g,b=r,_=0,x=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,b=t.find(r,[g,g]),_=t.convert(0,g),x=t.find(s,[g,g]));for(var E=[],C=[],$=[],D=[],N=[],k,P,U,L,B=0;B<w;B++){$[B]=C.length;var O=B+1;for(P=l[B],U=l[B+1],k=P;k<U;k++)L=u[k],N[L]=O,D[L]=o[k],C.push(L);for(P=m[B],U=m[B+1],k=P;k<U;k++)L=p[k],N[L]===O&&(D[L]=x(D[L],d[k]));for(k=$[B];k<C.length;){L=C[k];var T=D[L];b(T,_)?C.splice(k,1):(E.push(T),k++)}}return $[w]=C.length,i.createSparseMatrix({values:E,index:C,ptr:$,size:[y,w],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),m$=Ae("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return{"Array, number":t.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":t.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}}),fO="leftShift",Z_e=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],W_e=Ae(fO,Z_e,e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:s}=e,o=Nf({typed:t}),u=pu({typed:t,equalScalar:n}),l=p$({typed:t,equalScalar:n}),c=op({typed:t,DenseMatrix:a}),f=ya({typed:t,equalScalar:n}),d=du({typed:t}),p=Rn({typed:t,matrix:r,concat:s}),m=m$({typed:t,matrix:r});return t(fO,{"number, number":HV,"BigNumber, BigNumber":gye,"bigint, bigint":(h,v)=>h<<v,"SparseMatrix, number | BigNumber":t.referToSelf(h=>(v,y)=>n(y,0)?v.clone():f(v,y,h,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(h=>(v,y)=>n(y,0)?v.clone():d(v,y,h,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,h,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):d(y,v,h,!0))},m,p({SS:l,DS:o,SD:u}))}),dO="rightArithShift",K_e=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],J_e=Ae(dO,K_e,e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:s}=e,o=Nf({typed:t}),u=pu({typed:t,equalScalar:n}),l=p$({typed:t,equalScalar:n}),c=op({typed:t,DenseMatrix:a}),f=ya({typed:t,equalScalar:n}),d=du({typed:t}),p=Rn({typed:t,matrix:r,concat:s}),m=m$({typed:t,matrix:r});return t(dO,{"number, number":GV,"BigNumber, BigNumber":yye,"bigint, bigint":(h,v)=>h>>v,"SparseMatrix, number | BigNumber":t.referToSelf(h=>(v,y)=>n(y,0)?v.clone():f(v,y,h,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(h=>(v,y)=>n(y,0)?v.clone():d(v,y,h,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,h,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):d(y,v,h,!0))},m,p({SS:l,DS:o,SD:u}))}),pO="rightLogShift",Y_e=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],X_e=Ae(pO,Y_e,e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:s}=e,o=Nf({typed:t}),u=pu({typed:t,equalScalar:n}),l=p$({typed:t,equalScalar:n}),c=op({typed:t,DenseMatrix:a}),f=ya({typed:t,equalScalar:n}),d=du({typed:t}),p=Rn({typed:t,matrix:r,concat:s}),m=m$({typed:t,matrix:r});return t(pO,{"number, number":ZV,"SparseMatrix, number | BigNumber":t.referToSelf(h=>(v,y)=>n(y,0)?v.clone():f(v,y,h,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(h=>(v,y)=>n(y,0)?v.clone():d(v,y,h,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,h,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):d(y,v,h,!0))},m,p({SS:l,DS:o,SD:u}))}),mO="and",Q_e=["typed","matrix","equalScalar","zeros","not","concat"],BH=Ae(mO,Q_e,e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:s}=e,o=pu({typed:t,equalScalar:n}),u=G2({typed:t,equalScalar:n}),l=ya({typed:t,equalScalar:n}),c=du({typed:t}),f=Rn({typed:t,matrix:r,concat:s});return t(mO,{"number, number":J3,"Complex, Complex":function(p,m){return(p.re!==0||p.im!==0)&&(m.re!==0||m.im!==0)},"BigNumber, BigNumber":function(p,m){return!p.isZero()&&!m.isZero()&&!p.isNaN()&&!m.isNaN()},"bigint, bigint":J3,"Unit, Unit":t.referToSelf(d=>(p,m)=>d(p.value||0,m.value||0)),"SparseMatrix, any":t.referToSelf(d=>(p,m)=>a(m)?i(p.size(),p.storage()):l(p,m,d,!1)),"DenseMatrix, any":t.referToSelf(d=>(p,m)=>a(m)?i(p.size(),p.storage()):c(p,m,d,!1)),"any, SparseMatrix":t.referToSelf(d=>(p,m)=>a(p)?i(p.size(),p.storage()):l(m,p,d,!0)),"any, DenseMatrix":t.referToSelf(d=>(p,m)=>a(p)?i(p.size(),p.storage()):c(m,p,d,!0)),"Array, any":t.referToSelf(d=>(p,m)=>d(r(p),m).valueOf()),"any, Array":t.referToSelf(d=>(p,m)=>d(p,r(m)).valueOf())},f({SS:u,DS:o}))}),s_="compare",e2e=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],t2e=Ae(s_,e2e,e=>{var{typed:t,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:s,DenseMatrix:o,concat:u}=e,l=ts({typed:t}),c=H2({typed:t,equalScalar:n}),f=Zi({typed:t,DenseMatrix:o}),d=Rn({typed:t,matrix:i,concat:u}),p=Th({typed:t});return t(s_,r2e({typed:t,config:r}),{"boolean, boolean":function(h,v){return h===v?0:h>v?1:-1},"BigNumber, BigNumber":function(h,v){return _o(h,v,r.relTol,r.absTol)?new a(0):new a(h.cmp(v))},"bigint, bigint":function(h,v){return h===v?0n:h>v?1n:-1n},"Fraction, Fraction":function(h,v){return new s(h.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:c,DS:l,Ss:f}))}),r2e=Ae(s_,["typed","config"],e=>{var{typed:t,config:r}=e;return t(s_,{"number, number":function(i,a){return va(i,a,r.relTol,r.absTol)?0:i>a?1:-1}})}),n2e=function e(t,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,o=/^0/,u=function(g){return e.insensitive&&(""+g).toLowerCase()||""+g},l=u(t).replace(i,"")||"",c=u(r).replace(i,"")||"",f=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(l.match(s),16)||f.length!==1&&l.match(a)&&Date.parse(l),m=parseInt(c.match(s),16)||p&&c.match(a)&&Date.parse(c)||null,h,v;if(m){if(p<m)return-1;if(p>m)return 1}for(var y=0,w=Math.max(f.length,d.length);y<w;y++){if(h=!(f[y]||"").match(o)&&parseFloat(f[y])||f[y]||0,v=!(d[y]||"").match(o)&&parseFloat(d[y])||d[y]||0,isNaN(h)!==isNaN(v))return isNaN(h)?1:-1;if(typeof h!=typeof v&&(h+="",v+=""),h<v)return-1;if(h>v)return 1}return 0};const Xp=el(n2e);var hO="compareNatural",i2e=["typed","compare"],a2e=Ae(hO,i2e,e=>{var{typed:t,compare:r}=e,n=r.signatures["boolean,boolean"];return t(hO,{"any, any":i});function i(u,l){var c=Tn(u),f=Tn(l),d;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return d=r(u,l),d.toString()!=="0"?d>0?1:-1:Xp(c,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(c)||p.includes(f))return d=a(i,u,l),d!==0?d:Xp(c,f);if(c!==f)return Xp(c,f);if(c==="Complex")return s2e(u,l);if(c==="Unit")return u.equalBase(l)?i(u.value,l.value):s(i,u.formatUnits(),l.formatUnits());if(c==="boolean")return n(u,l);if(c==="string")return Xp(u,l);if(c==="Object")return o(i,u,l);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(u,l,c){return Sd(l)&&Sd(c)?s(u,l.toJSON().values,c.toJSON().values):Sd(l)?a(u,l.toArray(),c):Sd(c)?a(u,l,c.toArray()):Gb(l)?a(u,l.toJSON().data,c):Gb(c)?a(u,l,c.toJSON().data):Array.isArray(l)?Array.isArray(c)?s(u,l,c):a(u,l,[c]):a(u,[l],c)}function s(u,l,c){for(var f=0,d=Math.min(l.length,c.length);f<d;f++){var p=u(l[f],c[f]);if(p!==0)return p}return l.length>c.length?1:l.length<c.length?-1:0}function o(u,l,c){var f=Object.keys(l),d=Object.keys(c);f.sort(Xp),d.sort(Xp);var p=s(u,f,d);if(p!==0)return p;for(var m=0;m<f.length;m++){var h=u(l[f[m]],c[d[m]]);if(h!==0)return h}return 0}});function s2e(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}var vO="compareText",o2e=["typed","matrix","concat"];j3.signature="any, any";var u2e=Ae(vO,o2e,e=>{var{typed:t,matrix:r,concat:n}=e,i=Rn({typed:t,matrix:r,concat:n});return t(vO,j3,i({elop:j3,Ds:!0}))}),o_="equal",l2e=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],c2e=Ae(o_,l2e,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:s}=e,o=ts({typed:t}),u=rl({typed:t,SparseMatrix:s}),l=Zi({typed:t,DenseMatrix:i}),c=Rn({typed:t,matrix:r,concat:a});return t(o_,f2e({typed:t,equalScalar:n}),c({elop:n,SS:u,DS:o,Ss:l}))}),f2e=Ae(o_,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(o_,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})}),gO="equalText",d2e=["typed","compareText","isZero"],p2e=Ae(gO,d2e,e=>{var{typed:t,compareText:r,isZero:n}=e;return t(gO,{"any, any":function(a,s){return n(r(a,s))}})}),u_="smaller",m2e=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],h2e=Ae(u_,m2e,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:s,SparseMatrix:o}=e,u=ts({typed:t}),l=rl({typed:t,SparseMatrix:o}),c=Zi({typed:t,DenseMatrix:a}),f=Rn({typed:t,matrix:i,concat:s}),d=Th({typed:t});function p(m,h){return m.lt(h)&&!_o(m,h,r.relTol,r.absTol)}return t(u_,v2e({typed:t,config:r}),{"boolean, boolean":(m,h)=>m<h,"BigNumber, BigNumber":p,"bigint, bigint":(m,h)=>m<h,"Fraction, Fraction":(m,h)=>m.compare(h)===-1,"Fraction, BigNumber":function(h,v){return p(n(h),v)},"BigNumber, Fraction":function(h,v){return p(h,n(v))},"Complex, Complex":function(h,v){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:l,DS:u,Ss:c}))}),v2e=Ae(u_,["typed","config"],e=>{var{typed:t,config:r}=e;return t(u_,{"number, number":function(i,a){return i<a&&!va(i,a,r.relTol,r.absTol)}})}),l_="smallerEq",g2e=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],y2e=Ae(l_,g2e,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:s}=e,o=ts({typed:t}),u=rl({typed:t,SparseMatrix:s}),l=Zi({typed:t,DenseMatrix:i}),c=Rn({typed:t,matrix:n,concat:a}),f=Th({typed:t});return t(l_,b2e({typed:t,config:r}),{"boolean, boolean":(d,p)=>d<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||_o(p,m,r.relTol,r.absTol)},"bigint, bigint":(d,p)=>d<=p,"Fraction, Fraction":(d,p)=>d.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:u,DS:o,Ss:l}))}),b2e=Ae(l_,["typed","config"],e=>{var{typed:t,config:r}=e;return t(l_,{"number, number":function(i,a){return i<=a||va(i,a,r.relTol,r.absTol)}})}),c_="larger",_2e=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],A2e=Ae(c_,_2e,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:s,SparseMatrix:o}=e,u=ts({typed:t}),l=rl({typed:t,SparseMatrix:o}),c=Zi({typed:t,DenseMatrix:a}),f=Rn({typed:t,matrix:i,concat:s}),d=Th({typed:t});function p(m,h){return m.gt(h)&&!_o(m,h,r.relTol,r.absTol)}return t(c_,w2e({typed:t,config:r}),{"boolean, boolean":(m,h)=>m>h,"BigNumber, BigNumber":p,"bigint, bigint":(m,h)=>m>h,"Fraction, Fraction":(m,h)=>m.compare(h)===1,"Fraction, BigNumber":function(h,v){return p(n(h),v)},"BigNumber, Fraction":function(h,v){return p(h,n(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:l,DS:u,Ss:c}))}),w2e=Ae(c_,["typed","config"],e=>{var{typed:t,config:r}=e;return t(c_,{"number, number":function(i,a){return i>a&&!va(i,a,r.relTol,r.absTol)}})}),f_="largerEq",x2e=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],S2e=Ae(f_,x2e,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:s}=e,o=ts({typed:t}),u=rl({typed:t,SparseMatrix:s}),l=Zi({typed:t,DenseMatrix:i}),c=Rn({typed:t,matrix:n,concat:a}),f=Th({typed:t});return t(f_,E2e({typed:t,config:r}),{"boolean, boolean":(d,p)=>d>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||_o(p,m,r.relTol,r.absTol)},"bigint, bigint":function(p,m){return p>=m},"Fraction, Fraction":(d,p)=>d.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:u,DS:o,Ss:l}))}),E2e=Ae(f_,["typed","config"],e=>{var{typed:t,config:r}=e;return t(f_,{"number, number":function(i,a){return i>=a||va(i,a,r.relTol,r.absTol)}})}),yO="deepEqual",C2e=["typed","equal"],$2e=Ae(yO,C2e,e=>{var{typed:t,equal:r}=e;return t(yO,{"any, any":function(a,s){return n(a.valueOf(),s.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var s=i.length;if(s!==a.length)return!1;for(var o=0;o<s;o++)if(!n(i[o],a[o]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}}),d_="unequal",N2e=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],D2e=Ae(d_,N2e,e=>{var{typed:t,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:s,SparseMatrix:o}=e,u=ts({typed:t}),l=rl({typed:t,SparseMatrix:o}),c=Zi({typed:t,DenseMatrix:a}),f=Rn({typed:t,matrix:i,concat:s});return t(d_,T2e({typed:t,equalScalar:n}),f({elop:d,SS:l,DS:u,Ss:c}));function d(p,m){return!n(p,m)}}),T2e=Ae(d_,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(d_,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})}),bO="partitionSelect",k2e=["typed","isNumeric","isNaN","compare"],I2e=Ae(bO,k2e,e=>{var{typed:t,isNumeric:r,isNaN:n,compare:i}=e,a=i,s=(l,c)=>-i(l,c);return t(bO,{"Array | Matrix, number":function(c,f){return o(c,f,a)},"Array | Matrix, number, string":function(c,f,d){if(d==="asc")return o(c,f,a);if(d==="desc")return o(c,f,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(l,c,f){if(!zt(c)||c<0)throw new Error("k must be a non-negative integer");if(Jt(l)){var d=l.size();if(d.length>1)throw new Error("Only one dimensional matrices supported");return u(l.valueOf(),c,f)}if(Array.isArray(l))return u(l,c,f)}function u(l,c,f){if(c>=l.length)throw new Error("k out of bounds");for(var d=0;d<l.length;d++)if(r(l[d])&&n(l[d]))return l[d];for(var p=0,m=l.length-1;p<m;){for(var h=p,v=m,y=l[Math.floor(Math.random()*(m-p+1))+p];h<v;)if(f(l[h],y)>=0){var w=l[v];l[v]=l[h],l[h]=w,--v}else++h;f(l[h],y)>0&&--h,c<=h?m=h:p=h+1}return l[c]}}),_O="sort",O2e=["typed","matrix","compare","compareNatural"],M2e=Ae(_O,O2e,e=>{var{typed:t,matrix:r,compare:n,compareNatural:i}=e,a=n,s=(c,f)=>-n(c,f);return t(_O,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return l(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,d){return u(f),f.sort(d)},"Matrix, function":function(f,d){return l(f),r(f.toArray().sort(d),f.storage())},"Array, string":function(f,d){return u(f),f.sort(o(d))},"Matrix, string":function(f,d){return l(f),r(f.toArray().sort(o(d)),f.storage())}});function o(c){if(c==="asc")return a;if(c==="desc")return s;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(c){if(mr(c).length!==1)throw new Error("One dimensional array expected")}function l(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),AO="max",P2e=["typed","config","numeric","larger","isNaN"],LH=Ae(AO,P2e,e=>{var{typed:t,config:r,numeric:n,larger:i,isNaN:a}=e;return t(AO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return V2(l,c.valueOf(),s)},"...":function(l){if($h(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function s(u,l){try{return i(u,l)?u:l}catch(c){throw Qa(c,"max",l)}}function o(u){var l;if(df(u,function(c){try{(a(c)||l===void 0||i(c,l))&&(l=c)}catch(f){throw Qa(f,"max",c)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=n(l,Cf(l,r))),l}}),wO="min",B2e=["typed","config","numeric","smaller","isNaN"],FH=Ae(wO,B2e,e=>{var{typed:t,config:r,numeric:n,smaller:i,isNaN:a}=e;return t(wO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return V2(l,c.valueOf(),s)},"...":function(l){if($h(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function s(u,l){try{return i(u,l)?u:l}catch(c){throw Qa(c,"min",l)}}function o(u){var l;if(df(u,function(c){try{(a(c)||l===void 0||i(c,l))&&(l=c)}catch(f){throw Qa(f,"min",c)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=n(l,Cf(l,r))),l}}),L2e="ImmutableDenseMatrix",F2e=["smaller","DenseMatrix"],R2e=Ae(L2e,F2e,e=>{var{smaller:t,DenseMatrix:r}=e;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Ca(a))throw new Error("Invalid datatype: "+a);if(Jt(i)||Cn(i)){var s=new r(i,a);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(i&&Cn(i.data)&&Cn(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Tn(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return Jt(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:hr(this._data),size:hr(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||t(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||t(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),U2e="Index",z2e=["ImmutableDenseMatrix","getMatrixDataType"],q2e=Ae(U2e,z2e,e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:r}=e;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,o=arguments.length;s<o;s++){var u=arguments[s],l=Cn(u),c=Jt(u),f=typeof u,d=null;if(e$(u))this._dimensions.push(u),this._isScalar=!1;else if(l||c){var p=void 0;r(u)==="boolean"?(l&&(p=i(xO(u).valueOf())),c&&(p=i(xO(u._data).valueOf())),d=u.valueOf().length):p=i(u.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||d!==null)&&(this._isScalar=!1)}else if(f==="number")this._dimensions.push(i([u]));else if(f==="bigint")this._dimensions.push(i([Number(u)]));else if(f==="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(d)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var s=0,o=a.length;s<o;s++)if(typeof a[s]!="number"||!zt(a[s]))throw new TypeError("Index parameters must be positive integer numbers");return new t(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=hr(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var s=new n;return n.apply(s,a),s},n.prototype.size=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var u=this._dimensions[s];a[s]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var u=this._dimensions[s];a[s]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var u=this._dimensions[s];a[s]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var s=0,o=this._dimensions.length;s<o;s++)a(this._dimensions[s],s,this)},n.prototype.dimension=function(a){return typeof a!="number"?null:this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var u=this._dimensions[s];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var u=this._dimensions[s];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function xO(e){var t=[];return e.forEach((r,n)=>{r&&t.push(n)}),t}var j2e="FibonacciHeap",V2e=["smaller","larger"],H2e=Ae(j2e,V2e,e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var d={key:c,value:f,degree:0};if(this._minimum){var p=this._minimum;d.left=p,d.right=p.right,p.right=d,d.right.left=d,t(c,p.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,d=c.degree,p=c.child;d>0;){var m=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=m,d--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=l(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,d){f.key=d;var p=f.parent;return p&&t(f.key,p.key)&&(s(c,f,p),o(c,p)),t(f.key,c.key)&&(c=f),c}function s(c,f,d){f.left.right=f.right,f.right.left=f.left,d.degree--,d.child===f&&(d.child=f.right),d.degree===0&&(d.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function o(c,f){var d=f.parent;d&&(f.mark?(s(c,f,d),o(d)):f.mark=!0)}var u=function(f,d){f.left.right=f.right,f.right.left=f.left,f.parent=d,d.child?(f.left=d.child,f.right=d.child.right,d.child.right=f,f.right.left=f):(d.child=f,f.right=f,f.left=f),d.degree++,f.mark=!1};function l(c,f){var d=Math.floor(Math.log(f)*n)+1,p=new Array(d),m=0,h=c;if(h)for(m++,h=h.right;h!==c;)m++,h=h.right;for(var v;m>0;){for(var y=h.degree,w=h.right;v=p[y],!!v;){if(r(h.key,v.key)){var g=v;v=h,h=g}u(v,h),p[y]=null,y++}p[y]=h,h=w,m--}c=null;for(var b=0;b<d;b++)v=p[b],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,t(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0}),G2e="Spa",Z2e=["addScalar","equalScalar","FibonacciHeap"],W2e=Ae(G2e,Z2e,e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,s){if(this._values[a])this._values[a].value=s;else{var o=this._heap.insert(a,s);this._values[a]=o}},i.prototype.get=function(a){var s=this._values[a];return s?s.value:0},i.prototype.accumulate=function(a,s){var o=this._values[a];o?o.value=t(o.value,s):(o=this._heap.insert(a,s),this._values[a]=o)},i.prototype.forEach=function(a,s,o){var u=this._heap,l=this._values,c=[],f=u.extractMinimum();for(f&&c.push(f);f&&f.key<=s;)f.key>=a&&(r(f.value,0)||o(f.key,f.value,this)),f=u.extractMinimum(),f&&c.push(f);for(var d=0;d<c.length;d++){var p=c[d];f=u.insert(p.key,p.value),l[f.key]=f}},i.prototype.swap=function(a,s){var o=this._values[a],u=this._values[s];if(!o&&u)o=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=o,this._values[s]=void 0;else if(o&&!u)u=this._heap.insert(s,o.value),this._heap.remove(o),this._values[s]=u,this._values[a]=void 0;else if(o&&u){var l=o.value;o.value=u.value,u.value=l}},i},{isClass:!0});function K2e(e){var t=0,r=1,n=Object.create(null),i=Object.create(null),a=0,s=function(u){var l=i[u];if(l&&(delete n[l],delete i[u],--t,r===l)){if(!t){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return e=Math.abs(e),{hit:function(u){var l=i[u],c=++a;if(n[c]=u,i[u]=c,!l)return++t,t<=e?void 0:(u=n[r],s(u),u);if(delete n[l],r===l)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:s,clear:function(){t=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function yg(e){var{hasher:t,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,t=t??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:K2e(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=t(i);if(n.cache.values.has(s))return n.cache.lru.hit(s),n.cache.values.get(s);var o=e.apply(e,i);return n.cache.values.set(s,o),n.cache.values.delete(n.cache.lru.hit(s)),o}}var J2e=yg(function(e){return new e(1).exp()},{hasher:Z2}),Y2e=yg(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:Z2}),h$=yg(function(e){return e.acos(-1)},{hasher:Z2}),X2e=yg(function(e){return h$(e).times(2)},{hasher:Z2});function Z2(e){return e[0].precision}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Q2e="Unit",eAe=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],tAe=Ae(Q2e,eAe,e=>{var{on:t,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:s,pow:o,abs:u,fix:l,round:c,equal:f,isNumeric:d,format:p,number:m,Complex:h,BigNumber:v,Fraction:y}=e,w=m;function g(X,K){if(!(this instanceof g))throw new Error("Constructor must be called with the new operator");if(!(X==null||d(X)||zl(X)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,K===void 0)this.units=[],this.dimensions=j.map(Ee=>0);else if(typeof K=="string"){var de=g.parse(K);this.units=de.units,this.dimensions=de.dimensions}else if(lo(K)&&K.value===null)this.fixPrefix=K.fixPrefix,this.skipAutomaticSimplification=K.skipAutomaticSimplification,this.dimensions=K.dimensions.slice(0),this.units=K.units.map(Ee=>qi({},Ee));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(X)}Object.defineProperty(g,"name",{value:"Unit"}),g.prototype.constructor=g,g.prototype.type="Unit",g.prototype.isUnit=!0;var b,_,x;function E(){for(;x===" "||x==="	";)D()}function C(X){return X>="0"&&X<="9"||X==="."}function $(X){return X>="0"&&X<="9"}function D(){_++,x=b.charAt(_)}function N(X){_=X,x=b.charAt(_)}function k(){var X="",K=_;if(x==="+"?D():x==="-"&&(X+=x,D()),!C(x))return N(K),null;if(x==="."){if(X+=x,D(),!$(x))return N(K),null}else{for(;$(x);)X+=x,D();x==="."&&(X+=x,D())}for(;$(x);)X+=x,D();if(x==="E"||x==="e"){var de="",Ee=_;if(de+=x,D(),(x==="+"||x==="-")&&(de+=x,D()),!$(x))return N(Ee),X;for(X=X+de;$(x);)X+=x,D()}return X}function P(){for(var X="";$(x)||g.isValidAlpha(x);)X+=x,D();var K=X.charAt(0);return g.isValidAlpha(K)?X:null}function U(X){return x===X?(D(),X):null}g.parse=function(X,K){if(K=K||{},b=X,_=-1,x="",typeof b!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var de=new g;de.units=[];var Ee=1,te=!1;D(),E();var ce=k(),pe=null;if(ce){if(r.number==="BigNumber")pe=new v(ce);else if(r.number==="Fraction")try{pe=new y(ce)}catch{pe=parseFloat(ce)}else pe=parseFloat(ce);E(),U("*")?(Ee=1,te=!0):U("/")&&(Ee=-1,te=!0)}for(var Y=[],be=1;;){for(E();x==="(";)Y.push(Ee),be*=Ee,Ee=1,D(),E();var ye=void 0;if(x){var ge=x;if(ye=P(),ye===null)throw new SyntaxError('Unexpected "'+ge+'" in "'+b+'" at index '+_.toString())}else break;var xe=L(ye);if(xe===null)throw new SyntaxError('Unit "'+ye+'" not found.');var ke=Ee*be;if(E(),U("^")){E();var Ke=k();if(Ke===null)throw new SyntaxError('In "'+X+'", "^" must be followed by a floating-point number');ke*=Ke}de.units.push({unit:xe.unit,prefix:xe.prefix,power:ke});for(var Ue=0;Ue<j.length;Ue++)de.dimensions[Ue]+=(xe.unit.dimensions[Ue]||0)*ke;for(E();x===")";){if(Y.length===0)throw new SyntaxError('Unmatched ")" in "'+b+'" at index '+_.toString());be/=Y.pop(),D(),E()}if(te=!1,U("*")?(Ee=1,te=!0):U("/")?(Ee=-1,te=!0):Ee=1,xe.unit.base){var rt=xe.unit.base.key;W.auto[rt]={unit:xe.unit,prefix:xe.prefix}}}if(E(),x)throw new SyntaxError('Could not parse: "'+X+'"');if(te)throw new SyntaxError('Trailing characters: "'+X+'"');if(Y.length!==0)throw new SyntaxError('Unmatched "(" in "'+b+'"');if(de.units.length===0&&!K.allowNoUnits)throw new SyntaxError('"'+X+'" contains no units');return de.value=pe!==void 0?de._normalize(pe):null,de},g.prototype.clone=function(){var X=new g;X.fixPrefix=this.fixPrefix,X.skipAutomaticSimplification=this.skipAutomaticSimplification,X.value=hr(this.value),X.dimensions=this.dimensions.slice(0),X.units=[];for(var K=0;K<this.units.length;K++){X.units[K]={};for(var de in this.units[K])Ft(this.units[K],de)&&(X.units[K][de]=this.units[K][de])}return X},g.prototype.valueType=function(){return Tn(this.value)},g.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},g.prototype._normalize=function(X){if(X==null||this.units.length===0)return X;for(var K=X,de=g._getNumberConverter(Tn(X)),Ee=0;Ee<this.units.length;Ee++){var te=de(this.units[Ee].unit.value),ce=de(this.units[Ee].prefix.value),pe=de(this.units[Ee].power);K=a(K,o(a(te,ce),pe))}return K},g.prototype._denormalize=function(X,K){if(X==null||this.units.length===0)return X;for(var de=X,Ee=g._getNumberConverter(Tn(X)),te=0;te<this.units.length;te++){var ce=Ee(this.units[te].unit.value),pe=Ee(this.units[te].prefix.value),Y=Ee(this.units[te].power);de=s(de,o(a(ce,pe),Y))}return de};var L=yg(X=>{if(Ft(H,X)){var K=H[X],de=K.prefixes[""];return{unit:K,prefix:de}}for(var Ee in H)if(Ft(H,Ee)&&lve(X,Ee)){var te=H[Ee],ce=X.length-Ee.length,pe=X.substring(0,ce),Y=Ft(te.prefixes,pe)?te.prefixes[pe]:void 0;if(Y!==void 0)return{unit:te,prefix:Y}}return null},{hasher:X=>X[0],limit:100});g.isValuelessUnit=function(X){return L(X)!==null},g.prototype.hasBase=function(X){if(typeof X=="string"&&(X=R[X]),!X)return!1;for(var K=0;K<j.length;K++)if(Math.abs((this.dimensions[K]||0)-(X.dimensions[K]||0))>1e-12)return!1;return!0},g.prototype.equalBase=function(X){for(var K=0;K<j.length;K++)if(Math.abs((this.dimensions[K]||0)-(X.dimensions[K]||0))>1e-12)return!1;return!0},g.prototype.equals=function(X){return this.equalBase(X)&&f(this.value,X.value)},g.prototype.multiply=function(X){for(var K=this.clone(),de=lo(X)?X:new g(X),Ee=0;Ee<j.length;Ee++)K.dimensions[Ee]=(this.dimensions[Ee]||0)+(de.dimensions[Ee]||0);for(var te=0;te<de.units.length;te++){var ce=Lx({},de.units[te]);K.units.push(ce)}if(this.value!==null||de.value!==null){var pe=this.value===null?this._normalize(O(de.value)):this.value,Y=de.value===null?de._normalize(O(this.value)):de.value;K.value=a(pe,Y)}else K.value=null;return lo(X)&&(K.skipAutomaticSimplification=!1),B(K)},g.prototype.divideInto=function(X){return new g(X).divide(this)},g.prototype.divide=function(X){for(var K=this.clone(),de=lo(X)?X:new g(X),Ee=0;Ee<j.length;Ee++)K.dimensions[Ee]=(this.dimensions[Ee]||0)-(de.dimensions[Ee]||0);for(var te=0;te<de.units.length;te++){var ce=Lx(Lx({},de.units[te]),{},{power:-de.units[te].power});K.units.push(ce)}if(this.value!==null||de.value!==null){var pe=this.value===null?this._normalize(O(de.value)):this.value,Y=de.value===null?de._normalize(O(this.value)):de.value;K.value=s(pe,Y)}else K.value=null;return lo(X)&&(K.skipAutomaticSimplification=!1),B(K)},g.prototype.pow=function(X){for(var K=this.clone(),de=0;de<j.length;de++)K.dimensions[de]=(this.dimensions[de]||0)*X;for(var Ee=0;Ee<K.units.length;Ee++)K.units[Ee].power*=X;return K.value!==null?K.value=o(K.value,X):K.value=null,K.skipAutomaticSimplification=!1,B(K)};function B(X){return X.equalBase(R.NONE)&&X.value!==null&&!r.predictable?X.value:X}function O(X){var K=g._getNumberConverter(Tn(X));return K(1)}g.prototype.abs=function(){var X=this.clone();if(X.value!==null)if(X._isDerived()||X.units.length===0||X.units[0].unit.offset===0)X.value=u(X.value);else{var K=X._numberConverter(),de=K(X.units[0].unit.value),Ee=K(X.units[0].unit.offset),te=a(de,Ee);X.value=i(u(n(X.value,te)),te)}for(var ce in X.units)(X.units[ce].unit.name==="VA"||X.units[ce].unit.name==="VAR")&&(X.units[ce].unit=H.W);return X},g.prototype.to=function(X){var K=this.value===null?this._normalize(1):this.value,de;if(typeof X=="string")de=g.parse(X);else if(lo(X))de=X.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(de))throw new Error("Units do not match ('".concat(de.toString(),"' != '").concat(this.toString(),"')"));if(de.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||de.units.length===0||this.units[0].unit.offset===de.units[0].unit.offset)de.value=hr(K);else{var Ee=g._getNumberConverter(Tn(K)),te=this.units[0].unit.value,ce=this.units[0].unit.offset,pe=a(te,ce),Y=de.units[0].unit.value,be=de.units[0].unit.offset,ye=a(Y,be);de.value=n(K,Ee(i(pe,ye)))}return de.fixPrefix=!0,de.skipAutomaticSimplification=!0,de},g.prototype.toNumber=function(X){return w(this.toNumeric(X))},g.prototype.toNumeric=function(X){var K;return X?K=this.to(X):K=this.clone(),K._isDerived()||K.units.length===0?K._denormalize(K.value):K._denormalize(K.value,K.units[0].prefix.value)},g.prototype.toString=function(){return this.format()},g.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},g.fromJSON=function(X){var K,de=new g(X.value,(K=X.unit)!==null&&K!==void 0?K:void 0);return de.fixPrefix=X.fixPrefix||!1,de},g.prototype.valueOf=g.prototype.toString,g.prototype.simplify=function(){var X=this.clone(),K=[],de;for(var Ee in Q)if(Ft(Q,Ee)&&X.hasBase(R[Ee])){de=Ee;break}if(de==="NONE")X.units=[];else{var te;if(de&&Ft(Q,de)&&(te=Q[de]),te)X.units=[{unit:te.unit,prefix:te.prefix,power:1}];else{for(var ce=!1,pe=0;pe<j.length;pe++){var Y=j[pe];Math.abs(X.dimensions[pe]||0)>1e-12&&(Ft(Q,Y)?K.push({unit:Q[Y].unit,prefix:Q[Y].prefix,power:X.dimensions[pe]||0}):ce=!0)}K.length<X.units.length&&!ce&&(X.units=K)}}return X},g.prototype.toSI=function(){for(var X=this.clone(),K=[],de=0;de<j.length;de++){var Ee=j[de];if(Math.abs(X.dimensions[de]||0)>1e-12)if(Ft(W.si,Ee))K.push({unit:W.si[Ee].unit,prefix:W.si[Ee].prefix,power:X.dimensions[de]||0});else throw new Error("Cannot express custom unit "+Ee+" in SI units")}return X.units=K,X.fixPrefix=!0,X.skipAutomaticSimplification=!0,this.value!==null?(X.value=null,this.to(X)):X},g.prototype.formatUnits=function(){for(var X="",K="",de=0,Ee=0,te=0;te<this.units.length;te++)this.units[te].power>0?(de++,X+=" "+this.units[te].prefix.name+this.units[te].unit.name,Math.abs(this.units[te].power-1)>1e-15&&(X+="^"+this.units[te].power)):this.units[te].power<0&&Ee++;if(Ee>0)for(var ce=0;ce<this.units.length;ce++)this.units[ce].power<0&&(de>0?(K+=" "+this.units[ce].prefix.name+this.units[ce].unit.name,Math.abs(this.units[ce].power+1)>1e-15&&(K+="^"+-this.units[ce].power)):(K+=" "+this.units[ce].prefix.name+this.units[ce].unit.name,K+="^"+this.units[ce].power));X=X.substr(1),K=K.substr(1),de>1&&Ee>0&&(X="("+X+")"),Ee>1&&de>0&&(K="("+K+")");var pe=X;return de>0&&Ee>0&&(pe+=" / "),pe+=K,pe},g.prototype.format=function(X){var K=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),de=!1;typeof K.value<"u"&&K.value!==null&&zl(K.value)&&(de=Math.abs(K.value.re)<1e-14);for(var Ee in K.units)Ft(K.units,Ee)&&K.units[Ee].unit&&(K.units[Ee].unit.name==="VA"&&de?K.units[Ee].unit=H.VAR:K.units[Ee].unit.name==="VAR"&&!de&&(K.units[Ee].unit=H.VA));K.units.length===1&&!K.fixPrefix&&Math.abs(K.units[0].power-Math.round(K.units[0].power))<1e-14&&(K.units[0].prefix=K._bestPrefix());var te=K._denormalize(K.value),ce=K.value!==null?p(te,X||{}):"",pe=K.formatUnits();return K.value&&zl(K.value)&&(ce="("+ce+")"),pe.length>0&&ce.length>0&&(ce+=" "),ce+=pe,ce},g.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var X=this.value!==null?u(this.value):0,K=u(this.units[0].unit.value),de=this.units[0].prefix;if(X===0)return de;var Ee=this.units[0].power,te=Math.log(X/Math.pow(de.value*K,Ee))/Math.LN10-1.2;if(te>-2.200001&&te<1.800001)return de;te=Math.abs(te);var ce=this.units[0].unit.prefixes;for(var pe in ce)if(Ft(ce,pe)){var Y=ce[pe];if(Y.scientific){var be=Math.abs(Math.log(X/Math.pow(Y.value*K,Ee))/Math.LN10-1.2);(be<te||be===te&&Y.name.length<de.name.length)&&(de=Y,te=be)}}return de},g.prototype.splitUnit=function(X){for(var K=this.clone(),de=[],Ee=0;Ee<X.length&&(K=K.to(X[Ee]),Ee!==X.length-1);Ee++){var te=K.toNumeric(),ce=c(te),pe=void 0,Y=f(ce,te);Y?pe=ce:pe=l(K.toNumeric());var be=new g(pe,X[Ee].toString());de.push(be),K=i(K,be)}for(var ye=0,ge=0;ge<de.length;ge++)ye=n(ye,de[ge].value);return f(ye,this.value)&&(K.value=0),de.push(K),de};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=qi({},T.SHORT,T.LONG),T.BINARY_SHORT=qi({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=qi({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var j=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var le in R)Ft(R,le)&&(R[le].key=le);var re={},F={name:"",base:re,value:1,offset:0,dimensions:j.map(X=>0)},H={meter:{name:"meter",base:R.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:T.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:T.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:T.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:T.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:T.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:T.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:T.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:T.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:T.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:T.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:T.NONE,value:.238480942392,offset:0},g:{name:"g",base:R.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:R.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:T.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:T.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:T.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:T.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:R.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:R.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:T.SHORT,value:h.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},ve={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ae(X){if(X.number==="BigNumber"){var K=h$(v);H.rad.value=new v(1),H.deg.value=K.div(180),H.grad.value=K.div(200),H.cycle.value=K.times(2),H.arcsec.value=K.div(648e3),H.arcmin.value=K.div(10800)}else H.rad.value=1,H.deg.value=Math.PI/180,H.grad.value=Math.PI/200,H.cycle.value=Math.PI*2,H.arcsec.value=Math.PI/648e3,H.arcmin.value=Math.PI/10800;H.radian.value=H.rad.value,H.degree.value=H.deg.value,H.gradian.value=H.grad.value}ae(r),t&&t("config",function(X,K){X.number!==K.number&&ae(X)});var W={si:{NONE:{unit:F,prefix:T.NONE[""]},LENGTH:{unit:H.m,prefix:T.SHORT[""]},MASS:{unit:H.g,prefix:T.SHORT.k},TIME:{unit:H.s,prefix:T.SHORT[""]},CURRENT:{unit:H.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:T.SHORT[""]},ANGLE:{unit:H.rad,prefix:T.SHORT[""]},BIT:{unit:H.bits,prefix:T.SHORT[""]},FORCE:{unit:H.N,prefix:T.SHORT[""]},ENERGY:{unit:H.J,prefix:T.SHORT[""]},POWER:{unit:H.W,prefix:T.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:T.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:T.SHORT[""]}}};W.cgs=JSON.parse(JSON.stringify(W.si)),W.cgs.LENGTH={unit:H.m,prefix:T.SHORT.c},W.cgs.MASS={unit:H.g,prefix:T.SHORT[""]},W.cgs.FORCE={unit:H.dyn,prefix:T.SHORT[""]},W.cgs.ENERGY={unit:H.erg,prefix:T.NONE[""]},W.us=JSON.parse(JSON.stringify(W.si)),W.us.LENGTH={unit:H.ft,prefix:T.NONE[""]},W.us.MASS={unit:H.lbm,prefix:T.NONE[""]},W.us.TEMPERATURE={unit:H.degF,prefix:T.NONE[""]},W.us.FORCE={unit:H.lbf,prefix:T.NONE[""]},W.us.ENERGY={unit:H.BTU,prefix:T.BTU[""]},W.us.POWER={unit:H.hp,prefix:T.NONE[""]},W.us.PRESSURE={unit:H.psi,prefix:T.NONE[""]},W.auto=JSON.parse(JSON.stringify(W.si));var Q=W.auto;g.setUnitSystem=function(X){if(Ft(W,X))Q=W[X];else throw new Error("Unit system "+X+" does not exist. Choices are: "+Object.keys(W).join(", "))},g.getUnitSystem=function(){for(var X in W)if(Ft(W,X)&&W[X]===Q)return X},g.typeConverters={BigNumber:function(K){return K!=null&&K.isFraction?new v(String(K.n)).div(String(K.d)).times(String(K.s)):new v(K+"")},Fraction:function(K){return new y(K)},Complex:function(K){return K},number:function(K){return K!=null&&K.isFraction?m(K):K}},g.prototype._numberConverter=function(){var X=g.typeConverters[this.valueType()];if(X)return X;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},g._getNumberConverter=function(X){if(!g.typeConverters[X])throw new TypeError('Unsupported type "'+X+'"');return g.typeConverters[X]};for(var J in H)if(Ft(H,J)){var se=H[J];se.dimensions=se.base.dimensions}for(var Ce in ve)if(Ft(ve,Ce)){var Te=H[ve[Ce]],oe={};for(var q in Te)Ft(Te,q)&&(oe[q]=Te[q]);oe.name=Ce,H[Ce]=oe}g.isValidAlpha=function(K){return/^[a-zA-Z]$/.test(K)};function me(X){for(var K=0;K<X.length;K++){if(x=X.charAt(K),K===0&&!g.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+X+'"');if(K>0&&!(g.isValidAlpha(x)||$(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+X+'"')}}return g.createUnit=function(X,K){if(typeof X!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(K&&K.override){for(var de in X)if(Ft(X,de)&&g.deleteUnit(de),X[de].aliases)for(var Ee=0;Ee<X[de].aliases.length;Ee++)g.deleteUnit(X[de].aliases[Ee])}var te;for(var ce in X)Ft(X,ce)&&(te=g.createUnitSingle(ce,X[ce]));return te},g.createUnitSingle=function(X,K){if((typeof K>"u"||K===null)&&(K={}),typeof X!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ft(H,X))throw new Error('Cannot create unit "'+X+'": a unit with that name already exists');me(X);var de=null,Ee=[],te=0,ce,pe,Y;if(K&&K.type==="Unit")de=K.clone();else if(typeof K=="string")K!==""&&(ce=K);else if(typeof K=="object")ce=K.definition,pe=K.prefixes,te=K.offset,Y=K.baseName,K.aliases&&(Ee=K.aliases.valueOf());else throw new TypeError('Cannot create unit "'+X+'" from "'+K.toString()+'": expecting "string" or "Unit" or "Object"');if(Ee){for(var be=0;be<Ee.length;be++)if(Ft(H,Ee[be]))throw new Error('Cannot create alias "'+Ee[be]+'": a unit with that name already exists')}if(ce&&typeof ce=="string"&&!de)try{de=g.parse(ce,{allowNoUnits:!0})}catch(Ge){throw Ge.message='Could not create unit "'+X+'" from "'+ce+'": '+Ge.message,Ge}else ce&&ce.type==="Unit"&&(de=ce.clone());Ee=Ee||[],te=te||0,pe&&pe.toUpperCase?pe=T[pe.toUpperCase()]||T.NONE:pe=T.NONE;var ye={};if(de){ye={name:X,value:de.value,dimensions:de.dimensions.slice(0),prefixes:pe,offset:te};var Ke=!1;for(var Ue in R)if(Ft(R,Ue)){for(var rt=!0,je=0;je<j.length;je++)if(Math.abs((ye.dimensions[je]||0)-(R[Ue].dimensions[je]||0))>1e-12){rt=!1;break}if(rt){Ke=!0,ye.base=R[Ue];break}}if(!Ke){Y=Y||X+"_STUFF";var Rt={dimensions:de.dimensions.slice(0)};Rt.key=Y,R[Y]=Rt,Q[Y]={unit:ye,prefix:T.NONE[""]},ye.base=R[Y]}}else{if(Y=Y||X+"_STUFF",j.indexOf(Y)>=0)throw new Error('Cannot create new base unit "'+X+'": a base unit with that name already exists (and cannot be overridden)');j.push(Y);for(var ge in R)Ft(R,ge)&&(R[ge].dimensions[j.length-1]=0);for(var xe={dimensions:[]},ke=0;ke<j.length;ke++)xe.dimensions[ke]=0;xe.dimensions[j.length-1]=1,xe.key=Y,R[Y]=xe,ye={name:X,value:1,dimensions:R[Y].dimensions.slice(0),prefixes:pe,offset:te,base:R[Y]},Q[Y]={unit:ye,prefix:T.NONE[""]}}g.UNITS[X]=ye;for(var Pt=0;Pt<Ee.length;Pt++){var cr=Ee[Pt],G={};for(var Ne in ye)Ft(ye,Ne)&&(G[Ne]=ye[Ne]);G.name=cr,g.UNITS[cr]=G}return delete L.cache,new g(null,X)},g.deleteUnit=function(X){delete g.UNITS[X],delete L.cache},g.PREFIXES=T,g.BASE_DIMENSIONS=j,g.BASE_UNITS=R,g.UNIT_SYSTEMS=W,g.UNITS=H,g},{isClass:!0}),EO="unit",rAe=["typed","Unit"],nAe=Ae(EO,rAe,e=>{var{typed:t,Unit:r}=e;return t(EO,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),CO="sparse",iAe=["typed","SparseMatrix"],aAe=Ae(CO,iAe,e=>{var{typed:t,SparseMatrix:r}=e;return t(CO,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),$O="createUnit",sAe=["typed","Unit"],oAe=Ae($O,sAe,e=>{var{typed:t,Unit:r}=e;return t($O,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,s){var o={};return o[i]=a,r.createUnit(o,s)},"string, Unit | string | Object":function(i,a){var s={};return s[i]=a,r.createUnit(s,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})}),NO="acos",uAe=["typed","config","Complex"],lAe=Ae(NO,uAe,e=>{var{typed:t,config:r,Complex:n}=e;return t(NO,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),DO="acosh",cAe=["typed","config","Complex"],fAe=Ae(DO,cAe,e=>{var{typed:t,config:r,Complex:n}=e;return t(DO,{number:function(a){return a>=1||r.predictable?XV(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),TO="acot",dAe=["typed","BigNumber"],pAe=Ae(TO,dAe,e=>{var{typed:t,BigNumber:r}=e;return t(TO,{number:QV,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),kO="acoth",mAe=["typed","config","Complex","BigNumber"],hAe=Ae(kO,mAe,e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t(kO,{number:function(s){return s>=1||s<=-1||r.predictable?eH(s):new n(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new i(1).div(s).atanh()}})}),IO="acsc",vAe=["typed","config","Complex","BigNumber"],gAe=Ae(IO,vAe,e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t(IO,{number:function(s){return s<=-1||s>=1||r.predictable?tH(s):new n(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new i(1).div(s).asin()}})}),OO="acsch",yAe=["typed","BigNumber"],bAe=Ae(OO,yAe,e=>{var{typed:t,BigNumber:r}=e;return t(OO,{number:rH,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),MO="asec",_Ae=["typed","config","Complex","BigNumber"],AAe=Ae(MO,_Ae,e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t(MO,{number:function(s){return s<=-1||s>=1||r.predictable?nH(s):new n(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new i(1).div(s).acos()}})}),PO="asech",wAe=["typed","config","Complex","BigNumber"],xAe=Ae(PO,wAe,e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t(PO,{number:function(s){if(s<=1&&s>=-1||r.predictable){var o=1/s;if(o>0||r.predictable)return iH(s);var u=Math.sqrt(o*o-1);return new n(Math.log(u-o),Math.PI)}return new n(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new i(1).div(s).acosh()}})}),BO="asin",SAe=["typed","config","Complex"],EAe=Ae(BO,SAe,e=>{var{typed:t,config:r,Complex:n}=e;return t(BO,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),CAe="asinh",$Ae=["typed"],NAe=Ae(CAe,$Ae,e=>{var{typed:t}=e;return t("asinh",{number:aH,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),DAe="atan",TAe=["typed"],kAe=Ae(DAe,TAe,e=>{var{typed:t}=e;return t("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),LO="atan2",IAe=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],OAe=Ae(LO,IAe,e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:s}=e,o=pu({typed:t,equalScalar:n}),u=ts({typed:t}),l=bH({typed:t,equalScalar:n}),c=ya({typed:t,equalScalar:n}),f=Zi({typed:t,DenseMatrix:a}),d=Rn({typed:t,matrix:r,concat:s});return t(LO,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,m)=>i.atan2(p,m)},d({scalar:"number | BigNumber",SS:l,DS:u,SD:o,Ss:c,sS:f}))}),FO="atanh",MAe=["typed","config","Complex"],PAe=Ae(FO,MAe,e=>{var{typed:t,config:r,Complex:n}=e;return t(FO,{number:function(a){return a<=1&&a>=-1||r.predictable?sH(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),kh=Ae("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(r,n.valueType())(n.value)})}}),RO="cos",BAe=["typed"],LAe=Ae(RO,BAe,e=>{var{typed:t}=e,r=kh({typed:t});return t(RO,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),UO="cosh",FAe=["typed"],RAe=Ae(UO,FAe,e=>{var{typed:t}=e;return t(UO,{number:Bhe,"Complex | BigNumber":r=>r.cosh()})}),zO="cot",UAe=["typed","BigNumber"],zAe=Ae(zO,UAe,e=>{var{typed:t,BigNumber:r}=e,n=kh({typed:t});return t(zO,{number:oH,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)}),qO="coth",qAe=["typed","BigNumber"],jAe=Ae(qO,qAe,e=>{var{typed:t,BigNumber:r}=e;return t(qO,{number:uH,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),jO="csc",VAe=["typed","BigNumber"],HAe=Ae(jO,VAe,e=>{var{typed:t,BigNumber:r}=e,n=kh({typed:t});return t(jO,{number:lH,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)}),VO="csch",GAe=["typed","BigNumber"],ZAe=Ae(VO,GAe,e=>{var{typed:t,BigNumber:r}=e;return t(VO,{number:cH,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),HO="sec",WAe=["typed","BigNumber"],KAe=Ae(HO,WAe,e=>{var{typed:t,BigNumber:r}=e,n=kh({typed:t});return t(HO,{number:fH,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)}),GO="sech",JAe=["typed","BigNumber"],YAe=Ae(GO,JAe,e=>{var{typed:t,BigNumber:r}=e;return t(GO,{number:dH,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),ZO="sin",XAe=["typed"],QAe=Ae(ZO,XAe,e=>{var{typed:t}=e,r=kh({typed:t});return t(ZO,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),WO="sinh",ewe=["typed"],twe=Ae(WO,ewe,e=>{var{typed:t}=e;return t(WO,{number:pH,"Complex | BigNumber":r=>r.sinh()})}),KO="tan",rwe=["typed"],nwe=Ae(KO,rwe,e=>{var{typed:t}=e,r=kh({typed:t});return t(KO,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),iwe="tanh",awe=["typed"],swe=Ae(iwe,awe,e=>{var{typed:t}=e;return t("tanh",{number:Fhe,"Complex | BigNumber":r=>r.tanh()})}),JO="setCartesian",owe=["typed","size","subset","compareNatural","Index","DenseMatrix"],uwe=Ae(JO,owe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=e;return t(JO,{"Array | Matrix, Array | Matrix":function(u,l){var c=[];if(n(r(u),new a(0))!==0&&n(r(l),new a(0))!==0){var f=ln(Array.isArray(u)?u:u.toArray()).sort(i),d=ln(Array.isArray(l)?l:l.toArray()).sort(i);c=[];for(var p=0;p<f.length;p++)for(var m=0;m<d.length;m++)c.push([f[p],d[m]])}return Array.isArray(u)&&Array.isArray(l)?c:new s(c)}})}),YO="setDifference",lwe=["typed","size","subset","compareNatural","Index","DenseMatrix"],cwe=Ae(YO,lwe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=e;return t(YO,{"Array | Matrix, Array | Matrix":function(u,l){var c;if(n(r(u),new a(0))===0)c=[];else{if(n(r(l),new a(0))===0)return ln(u.toArray());var f=Gm(ln(Array.isArray(u)?u:u.toArray()).sort(i)),d=Gm(ln(Array.isArray(l)?l:l.toArray()).sort(i));c=[];for(var p,m=0;m<f.length;m++){p=!1;for(var h=0;h<d.length;h++)if(i(f[m].value,d[h].value)===0&&f[m].identifier===d[h].identifier){p=!0;break}p||c.push(f[m])}}return Array.isArray(u)&&Array.isArray(l)?Qb(c):new s(Qb(c))}})}),XO="setDistinct",fwe=["typed","size","subset","compareNatural","Index","DenseMatrix"],dwe=Ae(XO,fwe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=e;return t(XO,{"Array | Matrix":function(u){var l;if(n(r(u),new a(0))===0)l=[];else{var c=ln(Array.isArray(u)?u:u.toArray()).sort(i);l=[],l.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&l.push(c[f])}return Array.isArray(u)?l:new s(l)}})}),QO="setIntersect",pwe=["typed","size","subset","compareNatural","Index","DenseMatrix"],mwe=Ae(QO,pwe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=e;return t(QO,{"Array | Matrix, Array | Matrix":function(u,l){var c;if(n(r(u),new a(0))===0||n(r(l),new a(0))===0)c=[];else{var f=Gm(ln(Array.isArray(u)?u:u.toArray()).sort(i)),d=Gm(ln(Array.isArray(l)?l:l.toArray()).sort(i));c=[];for(var p=0;p<f.length;p++)for(var m=0;m<d.length;m++)if(i(f[p].value,d[m].value)===0&&f[p].identifier===d[m].identifier){c.push(f[p]);break}}return Array.isArray(u)&&Array.isArray(l)?Qb(c):new s(Qb(c))}})}),eM="setIsSubset",hwe=["typed","size","subset","compareNatural","Index"],vwe=Ae(eM,hwe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a}=e;return t(eM,{"Array | Matrix, Array | Matrix":function(o,u){if(n(r(o),new a(0))===0)return!0;if(n(r(u),new a(0))===0)return!1;for(var l=Gm(ln(Array.isArray(o)?o:o.toArray()).sort(i)),c=Gm(ln(Array.isArray(u)?u:u.toArray()).sort(i)),f,d=0;d<l.length;d++){f=!1;for(var p=0;p<c.length;p++)if(i(l[d].value,c[p].value)===0&&l[d].identifier===c[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),tM="setMultiplicity",gwe=["typed","size","subset","compareNatural","Index"],ywe=Ae(tM,gwe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a}=e;return t(tM,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(o,u){if(n(r(u),new a(0))===0)return 0;for(var l=ln(Array.isArray(u)?u:u.toArray()),c=0,f=0;f<l.length;f++)i(l[f],o)===0&&c++;return c}})}),rM="setPowerset",bwe=["typed","size","subset","compareNatural","Index"],_we=Ae(rM,bwe,e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a}=e;return t(rM,{"Array | Matrix":function(l){if(n(r(l),new a(0))===0)return[];for(var c=ln(Array.isArray(l)?l:l.toArray()).sort(i),f=[],d=0;d.toString(2).length<=c.length;)f.push(s(c,d.toString(2).split("").reverse())),d++;return o(f)}});function s(u,l){for(var c=[],f=0;f<l.length;f++)l[f]==="1"&&c.push(u[f]);return c}function o(u){for(var l=[],c=u.length-1;c>0;c--)for(var f=0;f<c;f++)u[f].length>u[f+1].length&&(l=u[f],u[f]=u[f+1],u[f+1]=l);return u}}),nM="setSize",Awe=["typed","compareNatural"],wwe=Ae(nM,Awe,e=>{var{typed:t,compareNatural:r}=e;return t(nM,{"Array | Matrix":function(i){return Array.isArray(i)?ln(i).length:ln(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?ln(i).length:ln(i.toArray()).length;for(var s=ln(Array.isArray(i)?i:i.toArray()).sort(r),o=1,u=1;u<s.length;u++)r(s[u],s[u-1])!==0&&o++;return o}})}),iM="setSymDifference",xwe=["typed","size","concat","subset","setDifference","Index"],Swe=Ae(iM,xwe,e=>{var{typed:t,size:r,concat:n,subset:i,setDifference:a,Index:s}=e;return t(iM,{"Array | Matrix, Array | Matrix":function(u,l){if(i(r(u),new s(0))===0)return ln(l);if(i(r(l),new s(0))===0)return ln(u);var c=ln(u),f=ln(l);return n(a(c,f),a(f,c))}})}),aM="setUnion",Ewe=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],Cwe=Ae(aM,Ewe,e=>{var{typed:t,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:s,Index:o}=e;return t(aM,{"Array | Matrix, Array | Matrix":function(l,c){if(i(r(l),new o(0))===0)return ln(c);if(i(r(c),new o(0))===0)return ln(l);var f=ln(l),d=ln(c);return n(s(f,d),a(f,d))}})}),sM="add",$we=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Nwe=Ae(sM,$we,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:o}=e,u=Nf({typed:t}),l=l$({typed:t,equalScalar:i}),c=op({typed:t,DenseMatrix:a}),f=Rn({typed:t,matrix:r,concat:o});return t(sM,{"any, any":n,"any, any, ...any":t.referToSelf(d=>(p,m,h)=>{for(var v=d(p,m),y=0;y<h.length;y++)v=d(v,h[y]);return v})},f({elop:n,DS:u,SS:l,Ss:c}))}),oM="hypot",Dwe=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],Twe=Ae(oM,Dwe,e=>{var{typed:t,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:s,smaller:o,isPositive:u}=e;return t(oM,{"... number | BigNumber":l,Array:l,Matrix:c=>l(ln(c.toArray(),!0))});function l(c){for(var f=0,d=0,p=0;p<c.length;p++){if(zl(c[p]))throw new TypeError("Unexpected type of argument to hypot");var m=r(c[p]);o(d,m)?(f=a(f,a(i(d,m),i(d,m))),f=n(f,1),d=m):f=n(f,u(m)?a(i(m,d),i(m,d)):m)}return a(d,s(f))}}),uM="norm",kwe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Iwe=Ae(uM,kwe,e=>{var{typed:t,abs:r,add:n,pow:i,conj:a,sqrt:s,multiply:o,equalScalar:u,larger:l,smaller:c,matrix:f,ctranspose:d,eigs:p}=e;return t(uM,{number:Math.abs,Complex:function(C){return C.abs()},BigNumber:function(C){return C.abs()},boolean:function(C){return Math.abs(C)},Array:function(C){return x(f(C),2)},Matrix:function(C){return x(C,2)},"Array, number | BigNumber | string":function(C,$){return x(f(C),$)},"Matrix, number | BigNumber | string":function(C,$){return x(C,$)}});function m(E){var C=0;return E.forEach(function($){var D=r($);l(D,C)&&(C=D)},!0),C}function h(E){var C;return E.forEach(function($){var D=r($);(!C||c(D,C))&&(C=D)},!0),C||0}function v(E,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return m(E);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return h(E);if(C==="fro")return x(E,2);if(typeof C=="number"&&!isNaN(C)){if(!u(C,0)){var $=0;return E.forEach(function(D){$=n(i(r(D),C),$)},!0),i($,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(E){var C=0;return E.forEach(function($,D){C=n(C,o($,a($)))}),r(s(C))}function w(E){var C=[],$=0;return E.forEach(function(D,N){var k=N[1],P=n(C[k]||0,r(D));l(P,$)&&($=P),C[k]=P},!0),$}function g(E){var C=E.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var $=d(E),D=o($,E),N=p(D).values.toArray(),k=N[N.length-1];return r(s(k))}function b(E){var C=[],$=0;return E.forEach(function(D,N){var k=N[0],P=n(C[k]||0,r(D));l(P,$)&&($=P),C[k]=P},!0),$}function _(E,C){if(C===1)return w(E);if(C===Number.POSITIVE_INFINITY||C==="inf")return b(E);if(C==="fro")return y(E);if(C===2)return g(E);throw new Error("Unsupported parameter value "+C)}function x(E,C){var $=E.size();if($.length===1)return v(E,C);if($.length===2){if($[0]&&$[1])return _(E,C);throw new RangeError("Invalid matrix dimensions")}}}),lM="dot",Owe=["typed","addScalar","multiplyScalar","conj","size"],Mwe=Ae(lM,Owe,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:a}=e;return t(lM,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":u});function s(c,f){var d=l(c),p=l(f),m,h;if(d.length===1)m=d[0];else if(d.length===2&&d[1]===1)m=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m!==h)throw new RangeError("Vectors must have equal length ("+m+" != "+h+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function o(c,f){var d=s(c,f),p=Jt(c)?c._data:c,m=Jt(c)?c._datatype||c.getDataType():void 0,h=Jt(f)?f._data:f,v=Jt(f)?f._datatype||f.getDataType():void 0,y=l(c).length===2,w=l(f).length===2,g=r,b=n;if(m&&v&&m===v&&typeof m=="string"&&m!=="mixed"){var _=m;g=t.find(r,[_,_]),b=t.find(n,[_,_])}if(!y&&!w){for(var x=b(i(p[0]),h[0]),E=1;E<d;E++)x=g(x,b(i(p[E]),h[E]));return x}if(!y&&w){for(var C=b(i(p[0]),h[0][0]),$=1;$<d;$++)C=g(C,b(i(p[$]),h[$][0]));return C}if(y&&!w){for(var D=b(i(p[0][0]),h[0]),N=1;N<d;N++)D=g(D,b(i(p[N][0]),h[N]));return D}if(y&&w){for(var k=b(i(p[0][0]),h[0][0]),P=1;P<d;P++)k=g(k,b(i(p[P][0]),h[P][0]));return k}}function u(c,f){s(c,f);for(var d=c._index,p=c._values,m=f._index,h=f._values,v=0,y=r,w=n,g=0,b=0;g<d.length&&b<m.length;){var _=d[g],x=m[b];if(_<x){g++;continue}if(_>x){b++;continue}_===x&&(v=y(v,w(p[g],h[b])),g++,b++)}return v}function l(c){return Jt(c)?c.size():a(c)}}),Pwe="trace",Bwe=["typed","matrix","add"],Lwe=Ae(Pwe,Bwe,e=>{var{typed:t,matrix:r,add:n}=e;return t("trace",{Array:function(o){return i(r(o))},SparseMatrix:a,DenseMatrix:i,any:hr});function i(s){var o=s._size,u=s._data;switch(o.length){case 1:if(o[0]===1)return hr(u[0]);throw new RangeError("Matrix must be square (size: "+Ir(o)+")");case 2:{var l=o[0],c=o[1];if(l===c){for(var f=0,d=0;d<l;d++)f=n(f,u[d][d]);return f}else throw new RangeError("Matrix must be square (size: "+Ir(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ir(o)+")")}}function a(s){var o=s._values,u=s._index,l=s._ptr,c=s._size,f=c[0],d=c[1];if(f===d){var p=0;if(o.length>0)for(var m=0;m<d;m++)for(var h=l[m],v=l[m+1],y=h;y<v;y++){var w=u[y];if(w===m){p=n(p,o[y]);break}if(w>m)break}return p}throw new RangeError("Matrix must be square (size: "+Ir(c)+")")}}),cM="index",Fwe=["typed","Index"],Rwe=Ae(cM,Fwe,e=>{var{typed:t,Index:r}=e;return t(cM,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(o){return Ar(o)?o.toNumber():Cn(o)||Jt(o)?o.map(function(u){return Ar(u)?u.toNumber():u}):o}),s=new r;return r.apply(s,a),s}})}),RH=new Set(["end"]),Uwe="Node",zwe=["mathWithTransform"],qwe=Ae(Uwe,zwe,e=>{var{mathWithTransform:t}=e;function r(i){for(var a of[...RH])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(t,{}),s={},o=null;function u(l){var c=Sm(l);return r(c),a(c,s,o)}return{evaluate:u}}_compile(a,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!bn(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function s(o,u){o.forEach(function(l,c,f){u(l,c,f),s(l,u)})}s(this,a)}transform(a){function s(o,u,l){var c=a(o,u,l);return c!==o?c:o.map(s)}return s(this,null,null)}filter(a){var s=[];return this.traverse(function(o,u,l){a(o,u,l)&&s.push(o)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Zl(this,a):!1}toString(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function rs(e){return e&&e.isIndexError?new cu(e.index+1,e.min+1,e.max!==void 0?e.max+1:void 0):e}function UH(e){var{subset:t}=e;return function(n,i){try{if(Array.isArray(n))return t(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return t(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Wa(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw rs(a)}}}var dy="AccessorNode",jwe=["subset","Node"],Vwe=Ae(dy,jwe,e=>{var{subset:t,Node:r}=e,n=UH({subset:t});function i(s){return!(jd(s)||oo(s)||Jr(s)||lf(s)||F2(s)||Gl(s)||ea(s))}class a extends r{constructor(o,u){if(super(),!bn(o))throw new TypeError('Node expected for parameter "object"');if(!Ch(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=o,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return dy}get isAccessorNode(){return!0}_compile(o,u){var l=this.object._compile(o,u),c=this.index._compile(o,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,m,h){return Wa(l(p,m,h),f)}}else return function(p,m,h){var v=l(p,m,h),y=c(p,m,v);return n(v,y)}}forEach(o){o(this.object,"object",this),o(this.index,"index",this)}map(o){return new a(this._ifNode(o(this.object,"object",this)),this._ifNode(o(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(o){var u=this.object.toString(o);return i(this.object)&&(u="("+u+")"),u+this.index.toString(o)}_toHTML(o){var u=this.object.toHTML(o);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(o)}_toTex(o){var u=this.object.toTex(o);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(o)}toJSON(){return{mathjs:dy,object:this.object,index:this.index}}static fromJSON(o){return new a(o.object,o.index)}}return Ti(a,"name",dy),a},{isClass:!0,isNode:!0}),py="ArrayNode",Hwe=["Node"],Gwe=Ae(py,Hwe,e=>{var{Node:t}=e;class r extends t{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(bn))throw new TypeError("Array containing Nodes expected")}get type(){return py}get isArrayNode(){return!0}_compile(i,a){var s=Yc(this.items,function(l){return l._compile(i,a)}),o=i.config.matrix!=="Array";if(o){var u=i.matrix;return function(c,f,d){return u(Yc(s,function(p){return p(c,f,d)}))}}else return function(c,f,d){return Yc(s,function(p){return p(c,f,d)})}}forEach(i){for(var a=0;a<this.items.length;a++){var s=this.items[a];i(s,"items["+a+"]",this)}}map(i){for(var a=[],s=0;s<this.items.length;s++)a[s]=this._ifNode(i(this.items[s],"items["+s+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(s){return s.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:py,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){var a=this.items.map(function(s){return s.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(s,o){var u=s.some(oo)&&!s.every(oo),l=o||u,c=l?"&":"\\\\",f=s.map(function(d){return d.items?a(d.items,!o):d.toTex(i)}).join(c);return u||!l||l&&!o?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return Ti(r,"name",py),r},{isClass:!0,isNode:!0});function Zwe(e){var{subset:t,matrix:r}=e;return function(i,a,s){try{if(Array.isArray(i)){var o=r(i).subset(a,s).valueOf();return o.forEach((u,l)=>{i[l]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,s);if(typeof i=="string")return t(i,a,s);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return qm(i,a.getObjectProperty(),s),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw rs(u)}}}var Uo=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function my(e,t){if(!t||t!=="auto")return e;for(var r=e;Gl(r);)r=r.content;return r}function Dn(e,t,r,n){var i=e;t!=="keep"&&(i=e.getContent());for(var a=i.getIdentifier(),s=null,o=0;o<Uo.length;o++)if(a in Uo[o]){s=o;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var u=my(i.args[0],t);!(Jr(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&B3(my(n.args[0],t)))&&!(u.getIdentifier()==="OperatorNode:divide"&&B3(my(u.args[0],t))&&Jr(my(u.args[1])))&&(s+=1)}return s}function N0(e,t){var r=e;t!=="keep"&&(r=e.getContent());var n=r.getIdentifier(),i=Dn(r,t);if(i===null)return null;var a=Uo[i][n];if(Ft(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function Fx(e,t,r){var n=r!=="keep"?e.getContent():e,i=r!=="keep"?e.getContent():t,a=n.getIdentifier(),s=i.getIdentifier(),o=Dn(n,r);if(o===null)return null;var u=Uo[o][a];if(Ft(u,"associativeWith")&&u.associativeWith instanceof Array){for(var l=0;l<u.associativeWith.length;l++)if(u.associativeWith[l]===s)return!0;return!1}return null}function Wwe(e){var t="OperatorNode:"+e;for(var r of Uo)if(t in r)return r[t].op;return null}var hy="AssignmentNode",Kwe=["subset","?matrix","Node"],Jwe=Ae(hy,Kwe,e=>{var{subset:t,matrix:r,Node:n}=e,i=UH({subset:t}),a=Zwe({subset:t,matrix:r});function s(u,l,c){l||(l="keep");var f=Dn(u,l,c),d=Dn(u.value,l,c);return l==="all"||d!==null&&d<=f}class o extends n{constructor(l,c,f){if(super(),this.object=l,this.index=f?c:null,this.value=f||c,!ea(l)&&!jd(l))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(ea(l)&&l.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Ch(this.index))throw new TypeError('IndexNode expected as "index"');if(!bn(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return hy}get isAssignmentNode(){return!0}_compile(l,c){var f=this.object._compile(l,c),d=this.index?this.index._compile(l,c):null,p=this.value._compile(l,c),m=this.object.name;if(this.index)if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(b,_,x){var E=f(b,_,x),C=p(b,_,x);return qm(E,h,C),C}}else{if(ea(this.object))return function(b,_,x){var E=f(b,_,x),C=p(b,_,x),$=d(b,_,E);return b.set(m,a(E,$,C)),C};var v=this.object.object._compile(l,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(b,_,x){var E=v(b,_,x),C=Wa(E,y),$=d(b,_,C),D=p(b,_,x);return qm(E,y,a(C,$,D)),D}}else{var w=this.object.index._compile(l,c);return function(b,_,x){var E=v(b,_,x),C=w(b,_,E),$=i(E,C),D=d(b,_,$),N=p(b,_,x);return a(E,C,a($,D,N)),N}}}else{if(!ea(this.object))throw new TypeError("SymbolNode expected as object");return function(b,_,x){var E=p(b,_,x);return b.set(m,E),E}}}forEach(l){l(this.object,"object",this),this.index&&l(this.index,"index",this),l(this.value,"value",this)}map(l){var c=this._ifNode(l(this.object,"object",this)),f=this.index?this._ifNode(l(this.index,"index",this)):null,d=this._ifNode(l(this.value,"value",this));return new o(c,f,d)}clone(){return new o(this.object,this.index,this.value)}_toString(l){var c=this.object.toString(l),f=this.index?this.index.toString(l):"",d=this.value.toString(l);return s(this,l&&l.parenthesis,l&&l.implicit)&&(d="("+d+")"),c+f+" = "+d}toJSON(){return{mathjs:hy,object:this.object,index:this.index,value:this.value}}static fromJSON(l){return new o(l.object,l.index,l.value)}_toHTML(l){var c=this.object.toHTML(l),f=this.index?this.index.toHTML(l):"",d=this.value.toHTML(l);return s(this,l&&l.parenthesis,l&&l.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(l){var c=this.object.toTex(l),f=this.index?this.index.toTex(l):"",d=this.value.toTex(l);return s(this,l&&l.parenthesis,l&&l.implicit)&&(d="\\left(".concat(d,"\\right)")),c+f+"="+d}}return Ti(o,"name",hy),o},{isClass:!0,isNode:!0}),vy="BlockNode",Ywe=["ResultSet","Node"],Xwe=Ae(vy,Ywe,e=>{var{ResultSet:t,Node:r}=e;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(s){var o=s&&s.node,u=s&&s.visible!==void 0?s.visible:!0;if(!bn(o))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:u}})}get type(){return vy}get isBlockNode(){return!0}_compile(a,s){var o=Yc(this.blocks,function(u){return{evaluate:u.node._compile(a,s),visible:u.visible}});return function(l,c,f){var d=[];return wV(o,function(m){var h=m.evaluate(l,c,f);m.visible&&d.push(h)}),new t(d)}}forEach(a){for(var s=0;s<this.blocks.length;s++)a(this.blocks[s].node,"blocks["+s+"].node",this)}map(a){for(var s=[],o=0;o<this.blocks.length;o++){var u=this.blocks[o],l=this._ifNode(a(u.node,"blocks["+o+"].node",this));s[o]={node:l,visible:u.visible}}return new n(s)}clone(){var a=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new n(a)}_toString(a){return this.blocks.map(function(s){return s.node.toString(a)+(s.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:vy,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(s){return s.node.toHTML(a)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(s){return s.node.toTex(a)+(s.visible?"":";")}).join(`\\;\\;
`)}}return Ti(n,"name",vy),n},{isClass:!0,isNode:!0}),gy="ConditionalNode",Qwe=["Node"],exe=Ae(gy,Qwe,e=>{var{Node:t}=e;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Ar(i))return!i.isZero();if(zl(i))return!!(i.re||i.im);if(lo(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Tn(i)+'"')}class n extends t{constructor(a,s,o){if(super(),!bn(a))throw new TypeError("Parameter condition must be a Node");if(!bn(s))throw new TypeError("Parameter trueExpr must be a Node");if(!bn(o))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=s,this.falseExpr=o}get type(){return gy}get isConditionalNode(){return!0}_compile(a,s){var o=this.condition._compile(a,s),u=this.trueExpr._compile(a,s),l=this.falseExpr._compile(a,s);return function(f,d,p){return r(o(f,d,p))?u(f,d,p):l(f,d,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=Dn(this,s,a&&a.implicit),u=this.condition.toString(a),l=Dn(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=o)&&(u="("+u+")");var c=this.trueExpr.toString(a),f=Dn(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=o)&&(c="("+c+")");var d=this.falseExpr.toString(a),p=Dn(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=o)&&(d="("+d+")"),u+" ? "+c+" : "+d}toJSON(){return{mathjs:gy,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=Dn(this,s,a&&a.implicit),u=this.condition.toHTML(a),l=Dn(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=o)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=Dn(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=o)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(a),p=Dn(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=o)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Ti(n,"name",gy),n},{isClass:!0,isNode:!0}),rE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},txe={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},rxe={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},nxe=function(t,r){return rE({},t,r)},ixe=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.preserveFormatting,n=r===void 0?!1:r,i=t.escapeMapFn,a=i===void 0?nxe:i,s=String(e),o="",u=a(rE({},txe),n?rE({},rxe):{}),l=Object.keys(u),c=function(){var d=!1;l.forEach(function(p,m){d||s.length>=p.length&&s.slice(0,p.length)===p&&(o+=u[l[m]],s=s.slice(p.length,s.length),d=!0)}),d||(o+=s.slice(0,1),s=s.slice(1,s.length))};s;)c();return o};const axe=el(ixe);var nE={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},on={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},fM={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(on.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(on.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(on.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(on.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(on.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(on.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(on.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(on.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(on.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(on.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(on.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(on.bitAnd,"${args[1]}\\right)")},bitNot:{1:on.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(on.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(on.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(on.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(on.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(on.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(on.and,"${args[1]}\\right)")},not:{1:on.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(on.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(on.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(on.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(on.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(on.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(on.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(on.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(on.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(on.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(on.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(on.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(on.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(on.to,"${args[1]}\\right)")},numeric:function(t,r){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(nE.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},sxe="\\mathrm{${name}}\\left(${args}\\right)",dM={deg:"^\\circ"};function iE(e){return axe(e,{preserveFormatting:!0})}function zH(e,t){return t=typeof t>"u"?!1:t,t?Ft(dM,e)?dM[e]:"\\mathrm{"+iE(e)+"}":Ft(nE,e)?nE[e]:iE(e)}var yy="ConstantNode",oxe=["Node"],uxe=Ae(yy,oxe,e=>{var{Node:t}=e;class r extends t{constructor(i){super(),this.value=i}get type(){return yy}get isConstantNode(){return!0}_compile(i,a){var s=this.value;return function(){return s}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return Ir(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Tn(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:yy,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i),s=Tn(this.value);switch(s){case"string":return"\\mathtt{"+iE(a)+"}";case"number":case"BigNumber":{var o=s==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!o)return this.value.valueOf()<0?"-\\infty":"\\infty";var u=a.toLowerCase().indexOf("e");return u!==-1?a.substring(0,u)+"\\cdot10^{"+a.substring(u+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return Ti(r,"name",yy),r},{isClass:!0,isNode:!0}),by="FunctionAssignmentNode",lxe=["typed","Node"],cxe=Ae(by,lxe,e=>{var{typed:t,Node:r}=e;function n(a,s,o){var u=Dn(a,s,o),l=Dn(a.expr,s,o);return s==="all"||l!==null&&l<=u}class i extends r{constructor(s,o,u){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(o))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!bn(u))throw new TypeError('Node expected for parameter "expr"');if(RH.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var l=new Set;for(var c of o){var f=typeof c=="string"?c:c.name;if(l.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));l.add(f)}this.name=s,this.params=o.map(function(d){return d&&d.name||d}),this.types=o.map(function(d){return d&&d.type||"any"}),this.expr=u}get type(){return by}get isFunctionAssignmentNode(){return!0}_compile(s,o){var u=Object.create(o);wV(this.params,function(m){u[m]=!0});var l=this.expr._compile(s,u),c=this.name,f=this.params,d=p5(this.types,","),p=c+"("+p5(this.params,", ")+")";return function(h,v,y){var w={};w[d]=function(){for(var b=Object.create(v),_=0;_<f.length;_++)b[f[_]]=arguments[_];return l(h,b,y)};var g=t(c,w);return g.syntax=p,h.set(c,g),g}}forEach(s){s(this.expr,"expr",this)}map(s){var o=this._ifNode(s(this.expr,"expr",this));return new i(this.name,this.params.slice(0),o)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",u=this.expr.toString(s);return n(this,o,s&&s.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var s=this.types;return{mathjs:by,name:this.name,params:this.params.map(function(o,u){return{name:o,type:s[u]}}),expr:this.expr}}static fromJSON(s){return new i(s.name,s.params,s.expr)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",u=[],l=0;l<this.params.length;l++)u.push('<span class="math-symbol math-parameter">'+co(this.params[l])+"</span>");var c=this.expr.toHTML(s);return n(this,o,s&&s.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+co(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",u=this.expr.toTex(s);return n(this,o,s&&s.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(zH).join(",")+"\\right)="+u}}return Ti(i,"name",by),i},{isClass:!0,isNode:!0}),_y="IndexNode",fxe=["Node","size"],dxe=Ae(_y,fxe,e=>{var{Node:t,size:r}=e;class n extends t{constructor(a,s){if(super(),this.dimensions=a,this.dotNotation=s||!1,!Array.isArray(a)||!a.every(bn))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return _y}get isIndexNode(){return!0}_compile(a,s){var o=Yc(this.dimensions,function(l,c){var f=l.filter(m=>m.isSymbolNode&&m.name==="end").length>0;if(f){var d=Object.create(s);d.end=!0;var p=l._compile(a,d);return function(h,v,y){if(!Jt(y)&&!Cn(y)&&!Ca(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Tn(y));var w=r(y).valueOf(),g=Object.create(v);return g.end=w[c],p(h,g,y)}}else return l._compile(a,s)}),u=Wa(a,"index");return function(c,f,d){var p=Yc(o,function(m){return m(c,f,d)});return u(...p)}}forEach(a){for(var s=0;s<this.dimensions.length;s++)a(this.dimensions[s],"dimensions["+s+"]",this)}map(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this._ifNode(a(this.dimensions[o],"dimensions["+o+"]",this));return new n(s,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Jr(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:_y,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this.dimensions[o].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+co(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var s=this.dimensions.map(function(o){return o.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return Ti(n,"name",_y),n},{isClass:!0,isNode:!0}),Ay="ObjectNode",pxe=["Node"],mxe=Ae(Ay,pxe,e=>{var{Node:t}=e;class r extends t{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return bn(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Ay}get isObjectNode(){return!0}_compile(i,a){var s={};for(var o in this.properties)if(Ft(this.properties,o)){var u=mm(o),l=JSON.parse(u),c=Wa(this.properties,o);s[l]=c._compile(i,a)}return function(d,p,m){var h={};for(var v in s)Ft(s,v)&&(h[v]=s[v](d,p,m));return h}}forEach(i){for(var a in this.properties)Ft(this.properties,a)&&i(this.properties[a],"properties["+mm(a)+"]",this)}map(i){var a={};for(var s in this.properties)Ft(this.properties,s)&&(a[s]=this._ifNode(i(this.properties[s],"properties["+mm(s)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)Ft(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var s in this.properties)Ft(this.properties,s)&&a.push(mm(s)+": "+this.properties[s].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Ay,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var a=[];for(var s in this.properties)Ft(this.properties,s)&&a.push('<span class="math-symbol math-property">'+co(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var s in this.properties)Ft(this.properties,s)&&a.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(i)+"\\\\");var o="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return o}}return Ti(r,"name",Ay),r},{isClass:!0,isNode:!0});function V0(e,t){return new Wj(e,new P2(t),new Set(Object.keys(t)))}var wy="OperatorNode",hxe=["Node"],vxe=Ae(wy,hxe,e=>{var{Node:t}=e;function r(a,s){var o=a;if(s==="auto")for(;Gl(o);)o=o.content;return Jr(o)?!0:_i(o)?r(o.args[0],s):!1}function n(a,s,o,u,l){var c=Dn(a,s,o),f=N0(a,s);if(s==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(D){switch(D.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var d;switch(u.length){case 0:d=[];break;case 1:{var p=Dn(u[0],s,o,a);if(l&&p!==null){var m,h;if(s==="keep"?(m=u[0].getIdentifier(),h=a.getIdentifier()):(m=u[0].getContent().getIdentifier(),h=a.getContent().getIdentifier()),Uo[c][h].latexLeftParens===!1){d=[!1];break}if(Uo[p][m].latexParens===!1){d=[!1];break}}if(p===null){d=[!1];break}if(p<=c){d=[!0];break}d=[!1]}break;case 2:{var v,y=Dn(u[0],s,o,a),w=Fx(a,u[0],s);y===null?v=!1:y===c&&f==="right"&&!w||y<c?v=!0:v=!1;var g,b=Dn(u[1],s,o,a),_=Fx(a,u[1],s);if(b===null?g=!1:b===c&&f==="left"&&!_||b<c?g=!0:g=!1,l){var x,E,C;s==="keep"?(x=a.getIdentifier(),E=a.args[0].getIdentifier(),C=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),E=a.args[0].getContent().getIdentifier(),C=a.args[1].getContent().getIdentifier()),y!==null&&(Uo[c][x].latexLeftParens===!1&&(v=!1),Uo[y][E].latexParens===!1&&(v=!1)),b!==null&&(Uo[c][x].latexRightParens===!1&&(g=!1),Uo[b][C].latexParens===!1&&(g=!1))}d=[v,g]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(d=u.map(function(D){var N=Dn(D,s,o,a),k=Fx(a,D,s),P=N0(D,s);return N===null?!1:c===N&&f===P&&!k?!0:N<c}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&s!=="all"&&o==="hide")for(var $=1;$<d.length;++$)r(u[$],s)&&!d[$-1]&&(s!=="keep"||!Gl(u[$-1]))&&(d[$]=!0);return d}class i extends t{constructor(s,o,u,l,c){if(super(),typeof s!="string")throw new TypeError('string expected for parameter "op"');if(typeof o!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(bn))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=l===!0,this.isPercentage=c===!0,this.op=s,this.fn=o,this.args=u||[]}get type(){return wy}get isOperatorNode(){return!0}_compile(s,o){if(typeof this.fn!="string"||!Q6(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=Wa(s,this.fn),l=Yc(this.args,function(m){return m._compile(s,o)});if(typeof u=="function"&&u.rawArgs===!0){var c=this.args;return function(h,v,y){return u(c,s,V0(h,v))}}else if(l.length===1){var f=l[0];return function(h,v,y){return u(f(h,v,y))}}else if(l.length===2){var d=l[0],p=l[1];return function(h,v,y){return u(d(h,v,y),p(h,v,y))}}else return function(h,v,y){return u.apply(null,Yc(l,function(w){return w(h,v,y)}))}}forEach(s){for(var o=0;o<this.args.length;o++)s(this.args[o],"args["+o+"]",this)}map(s){for(var o=[],u=0;u<this.args.length;u++)o[u]=this._ifNode(s(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,o,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",u=s&&s.implicit?s.implicit:"hide",l=this.args,c=n(this,o,u,l,!1);if(l.length===1){var f=N0(this,o),d=l[0].toString(s);c[0]&&(d="("+d+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+d:f==="left"?d+(p?" ":"")+this.op:d+this.op}else if(l.length===2){var m=l[0].toString(s),h=l[1].toString(s);return c[0]&&(m="("+m+")"),c[1]&&(h="("+h+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?m+" "+h:m+" "+this.op+" "+h}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=l.map(function(y,w){return y=y.toString(s),c[w]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:wy,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new i(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",u=s&&s.implicit?s.implicit:"hide",l=this.args,c=n(this,o,u,l,!1);if(l.length===1){var f=N0(this,o),d=l[0].toHTML(s);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+co(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+co(this.op)+"</span>"}else if(l.length===2){var p=l[0].toHTML(s),m=l[1].toHTML(s);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+co(this.op)+"</span>"+m}else{var h=l.map(function(v,y){return v=v.toHTML(s),c[y]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):h.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+co(this.op)+"</span>"):'<span class="math-function">'+co(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",u=s&&s.implicit?s.implicit:"hide",l=this.args,c=n(this,o,u,l,!0),f=on[this.fn];if(f=typeof f>"u"?this.op:f,l.length===1){var d=N0(this,o),p=l[0].toTex(s);return c[0]&&(p="\\left(".concat(p,"\\right)")),d==="right"?f+p:p+f}else if(l.length===2){var m=l[0],h=m.toTex(s);c[0]&&(h="\\left(".concat(h,"\\right)"));var v=l[1],y=v.toTex(s);c[1]&&(y="\\left(".concat(y,"\\right)"));var w;switch(o==="keep"?w=m.getIdentifier():w=m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+h+"}{"+y+"}";case"OperatorNode:pow":switch(h="{"+h+"}",y="{"+y+"}",w){case"ConditionalNode":case"OperatorNode:divide":h="\\left(".concat(h,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return h+"~"+y}return h+f+y}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=l.map(function(b,_){return b=b.toTex(s),c[_]&&(b="\\left(".concat(b,"\\right)")),b});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?g.join("~"):g.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+l.map(function(b){return b.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Ti(i,"name",wy),i},{isClass:!0,isNode:!0}),xy="ParenthesisNode",gxe=["Node"],yxe=Ae(xy,gxe,e=>{var{Node:t}=e;class r extends t{constructor(i){if(super(),!bn(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return xy}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:xy,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Ti(r,"name",xy),r},{isClass:!0,isNode:!0}),Sy="RangeNode",bxe=["Node"],_xe=Ae(Sy,bxe,e=>{var{Node:t}=e;function r(i,a,s){var o=Dn(i,a,s),u={},l=Dn(i.start,a,s);if(u.start=l!==null&&l<=o||a==="all",i.step){var c=Dn(i.step,a,s);u.step=c!==null&&c<=o||a==="all"}var f=Dn(i.end,a,s);return u.end=f!==null&&f<=o||a==="all",u}class n extends t{constructor(a,s,o){if(super(),!bn(a))throw new TypeError("Node expected");if(!bn(s))throw new TypeError("Node expected");if(o&&!bn(o))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=s,this.step=o||null}get type(){return Sy}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(s){return ea(s)&&s.name==="end"});return a.length>0}_compile(a,s){var o=a.range,u=this.start._compile(a,s),l=this.end._compile(a,s);if(this.step){var c=this.step._compile(a,s);return function(d,p,m){return o(u(d,p,m),l(d,p,m),c(d,p,m))}}else return function(d,p,m){return o(u(d,p,m),l(d,p,m))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),u,l=this.start.toString(a);if(o.start&&(l="("+l+")"),u=l,this.step){var c=this.step.toString(a);o.step&&(c="("+c+")"),u+=":"+c}var f=this.end.toString(a);return o.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:Sy,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),u,l=this.start.toHTML(a);if(o.start&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=l,this.step){var c=this.step.toHTML(a);o.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return o.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),u=this.start.toTex(a);if(o.start&&(u="\\left(".concat(u,"\\right)")),this.step){var l=this.step.toTex(a);o.step&&(l="\\left(".concat(l,"\\right)")),u+=":"+l}var c=this.end.toTex(a);return o.end&&(c="\\left(".concat(c,"\\right)")),u+=":"+c,u}}return Ti(n,"name",Sy),n},{isClass:!0,isNode:!0}),Ey="RelationalNode",Axe=["Node"],wxe=Ae(Ey,Axe,e=>{var{Node:t}=e,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends t{constructor(a,s){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(a.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=s}get type(){return Ey}get isRelationalNode(){return!0}_compile(a,s){var o=this,u=this.params.map(l=>l._compile(a,s));return function(c,f,d){for(var p,m=u[0](c,f,d),h=0;h<o.conditionals.length;h++){p=m,m=u[h+1](c,f,d);var v=Wa(a,o.conditionals[h]);if(!v(p,m))return!1}return!0}}forEach(a){this.params.forEach((s,o)=>a(s,"params["+o+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((s,o)=>this._ifNode(a(s,"params["+o+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=Dn(this,s,a&&a.implicit),u=this.params.map(function(f,d){var p=Dn(f,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?"("+f.toString(a)+")":f.toString(a)}),l=u[0],c=0;c<this.conditionals.length;c++)l+=" "+r[this.conditionals[c]],l+=" "+u[c+1];return l}toJSON(){return{mathjs:Ey,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=Dn(this,s,a&&a.implicit),u=this.params.map(function(f,d){var p=Dn(f,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),l=u[0],c=0;c<this.conditionals.length;c++)l+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+co(r[this.conditionals[c]])+"</span>"+u[c+1];return l}_toTex(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=Dn(this,s,a&&a.implicit),u=this.params.map(function(f,d){var p=Dn(f,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),l=u[0],c=0;c<this.conditionals.length;c++)l+=on[this.conditionals[c]]+u[c+1];return l}}return Ti(n,"name",Ey),n},{isClass:!0,isNode:!0}),xxe="SymbolNode",Sxe=["math","?Unit","Node"],Exe=Ae(xxe,Sxe,e=>{var{math:t,Unit:r,Node:n}=e;function i(s){return r?r.isValuelessUnit(s):!1}class a extends n{constructor(o){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');this.name=o}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(o,u){var l=this.name;if(u[l]===!0)return function(f,d,p){return Wa(d,l)};if(l in o)return function(f,d,p){return f.has(l)?f.get(l):Wa(o,l)};var c=i(l);return function(f,d,p){return f.has(l)?f.get(l):c?new r(null,l):a.onUndefinedSymbol(l)}}forEach(o){}map(o){return this.clone()}static onUndefinedSymbol(o){throw new Error("Undefined symbol "+o)}clone(){return new a(this.name)}_toString(o){return this.name}_toHTML(o){var u=co(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(o){return new a(o.name)}_toTex(o){var u=!1;typeof t[this.name]>"u"&&i(this.name)&&(u=!0);var l=zH(this.name,u);return l[0]==="\\"?l:" "+l}}return a},{isClass:!0,isNode:!0}),Cy="FunctionNode",Cxe=["math","Node","SymbolNode"],$xe=Ae(Cy,Cxe,e=>{var t,{math:r,Node:n,SymbolNode:i}=e,a=u=>Ir(u,{truncate:78});function s(u,l,c){for(var f="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,m;(m=d.exec(u))!==null;)if(f+=u.substring(p,m.index),p=m.index,m[0]==="$$")f+="$",p++;else{p+=m[0].length;var h=l[m[1]];if(!h)throw new ReferenceError("Template: Property "+m[1]+" does not exist.");if(m[2]===void 0)switch(typeof h){case"string":f+=h;break;case"object":if(bn(h))f+=h.toTex(c);else if(Array.isArray(h))f+=h.map(function(v,y){if(bn(v))return v.toTex(c);throw new TypeError("Template: "+m[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes")}else if(bn(h[m[2]]&&h[m[2]]))f+=h[m[2]].toTex(c);else throw new TypeError("Template: "+m[1]+"["+m[2]+"] is not a Node.")}return f+=u.slice(p),f}class o extends n{constructor(l,c){if(super(),typeof l=="string"&&(l=new i(l)),!bn(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(bn))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Cy}get isFunctionNode(){return!0}_compile(l,c){var f=this.args.map(C=>C._compile(l,c));if(ea(this.fn)){var d=this.fn.name;if(c[d]){var y=this.args;return function($,D,N){var k=Wa(D,d);if(typeof k!="function")throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(a(k)));if(k.rawArgs)return k(y,l,V0($,D));var P=f.map(U=>U($,D,N));return k.apply(k,P)}}else{var p=d in l?Wa(l,d):void 0,m=typeof p=="function"&&p.rawArgs===!0,h=C=>{var $;if(C.has(d))$=C.get(d);else if(d in l)$=Wa(l,d);else return o.onUndefinedFunction(d);if(typeof $=="function")return $;throw new TypeError("'".concat(d,`' is not a function; its value is:
  `).concat(a($)))};if(m){var v=this.args;return function($,D,N){var k=h($);if(k.rawArgs===!0)return k(v,l,V0($,D));var P=f.map(U=>U($,D,N));return k(...P)}}else switch(f.length){case 0:return function($,D,N){var k=h($);return k()};case 1:return function($,D,N){var k=h($),P=f[0];return k(P($,D,N))};case 2:return function($,D,N){var k=h($),P=f[0],U=f[1];return k(P($,D,N),U($,D,N))};default:return function($,D,N){var k=h($),P=f.map(U=>U($,D,N));return k(...P)}}}}else if(jd(this.fn)&&Ch(this.fn.index)&&this.fn.index.isObjectProperty()){var w=this.fn.object._compile(l,c),g=this.fn.index.getObjectProperty(),b=this.args;return function($,D,N){var k=w($,D,N),P=ehe(k,g);if(P!=null&&P.rawArgs)return P(b,l,V0($,D));var U=f.map(L=>L($,D,N));return P.apply(k,U)}}else{var _=this.fn.toString(),x=this.fn._compile(l,c),E=this.args;return function($,D,N){var k=x($,D,N);if(typeof k!="function")throw new TypeError("Expression '".concat(_,"' did not evaluate to a function; value is:")+`
  `.concat(a(k)));if(k.rawArgs)return k(E,l,V0($,D));var P=f.map(U=>U($,D,N));return k.apply(k,P)}}}forEach(l){l(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)l(this.args[c],"args["+c+"]",this)}map(l){for(var c=this._ifNode(l(this.fn,"fn",this)),f=[],d=0;d<this.args.length;d++)f[d]=this._ifNode(l(this.args[d],"args["+d+"]",this));return new o(c,f)}clone(){return new o(this.fn,this.args.slice(0))}toString(l){var c,f=this.fn.toString(l);return l&&typeof l.handler=="object"&&Ft(l.handler,f)&&(c=l.handler[f](this,l)),typeof c<"u"?c:super.toString(l)}_toString(l){var c=this.args.map(function(d){return d.toString(l)}),f=hg(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Cy,fn:this.fn,args:this.args}}_toHTML(l){var c=this.args.map(function(f){return f.toHTML(l)});return'<span class="math-function">'+co(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(l){var c;return l&&typeof l.handler=="object"&&Ft(l.handler,this.name)&&(c=l.handler[this.name](this,l)),typeof c<"u"?c:super.toTex(l)}_toTex(l){var c=this.args.map(function(p){return p.toTex(l)}),f;fM[this.name]&&(f=fM[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var d;switch(typeof f){case"function":d=f(this,l);break;case"string":d=s(f,this,l);break;case"object":switch(typeof f[c.length]){case"function":d=f[c.length](this,l);break;case"string":d=s(f[c.length],this,l);break}}return typeof d<"u"?d:s(sxe,this,l)}getIdentifier(){return this.type+":"+this.name}}return t=o,Ti(o,"name",Cy),Ti(o,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),Ti(o,"fromJSON",function(u){return new t(u.fn,u.args)}),o},{isClass:!0,isNode:!0}),pM="parse",Nxe=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Dxe=Ae(pM,Nxe,e=>{var{typed:t,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:s,BlockNode:o,ConditionalNode:u,ConstantNode:l,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:m,ParenthesisNode:h,RangeNode:v,RelationalNode:y,SymbolNode:w}=e,g=t(pM,{string:function(Ne){return le(Ne,{})},"Array | Matrix":function(Ne){return b(Ne,{})},"string, Object":function(Ne,Ge){var ot=Ge.nodes!==void 0?Ge.nodes:{};return le(Ne,ot)},"Array | Matrix, Object":b});function b(G){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ge=Ne.nodes!==void 0?Ne.nodes:{};return wr(G,function(ot){if(typeof ot!="string")throw new TypeError("String expected");return le(ot,Ge)})}var _={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},E={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},C={true:!0,false:!1,null:null,undefined:void 0},$=["NaN","Infinity"],D={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:_.NULL,nestingLevel:0,conditionalLevel:null}}function k(G,Ne){return G.expression.substr(G.index,Ne)}function P(G){return k(G,1)}function U(G){G.index++}function L(G){return G.expression.charAt(G.index-1)}function B(G){return G.expression.charAt(G.index+1)}function O(G){for(G.tokenType=_.NULL,G.token="",G.comment="";;){if(P(G)==="#")for(;P(G)!==`
`&&P(G)!=="";)G.comment+=P(G),U(G);if(g.isWhitespace(P(G),G.nestingLevel))U(G);else break}if(P(G)===""){G.tokenType=_.DELIMITER;return}if(P(G)===`
`&&!G.nestingLevel){G.tokenType=_.DELIMITER,G.token=P(G),U(G);return}var Ne=P(G),Ge=k(G,2),ot=k(G,3);if(ot.length===3&&x[ot]){G.tokenType=_.DELIMITER,G.token=ot,U(G),U(G),U(G);return}if(Ge.length===2&&x[Ge]){G.tokenType=_.DELIMITER,G.token=Ge,U(G),U(G);return}if(x[Ne]){G.tokenType=_.DELIMITER,G.token=Ne,U(G);return}if(g.isDigitDot(Ne)){G.tokenType=_.NUMBER;var Ht=k(G,2);if(Ht==="0b"||Ht==="0o"||Ht==="0x"){for(G.token+=P(G),U(G),G.token+=P(G),U(G);g.isHexDigit(P(G));)G.token+=P(G),U(G);if(P(G)===".")for(G.token+=".",U(G);g.isHexDigit(P(G));)G.token+=P(G),U(G);else if(P(G)==="i")for(G.token+="i",U(G);g.isDigit(P(G));)G.token+=P(G),U(G);return}if(P(G)==="."){if(G.token+=P(G),U(G),!g.isDigit(P(G))){G.tokenType=_.DELIMITER;return}}else{for(;g.isDigit(P(G));)G.token+=P(G),U(G);g.isDecimalMark(P(G),B(G))&&(G.token+=P(G),U(G))}for(;g.isDigit(P(G));)G.token+=P(G),U(G);if(P(G)==="E"||P(G)==="e"){if(g.isDigit(B(G))||B(G)==="-"||B(G)==="+"){if(G.token+=P(G),U(G),(P(G)==="+"||P(G)==="-")&&(G.token+=P(G),U(G)),!g.isDigit(P(G)))throw Pt(G,'Digit expected, got "'+P(G)+'"');for(;g.isDigit(P(G));)G.token+=P(G),U(G);if(g.isDecimalMark(P(G),B(G)))throw Pt(G,'Digit expected, got "'+P(G)+'"')}else if(g.isDecimalMark(B(G),G.expression.charAt(G.index+2)))throw U(G),Pt(G,'Digit expected, got "'+P(G)+'"')}return}if(g.isAlpha(P(G),L(G),B(G))){for(;g.isAlpha(P(G),L(G),B(G))||g.isDigit(P(G));)G.token+=P(G),U(G);Ft(E,G.token)?G.tokenType=_.DELIMITER:G.tokenType=_.SYMBOL;return}for(G.tokenType=_.UNKNOWN;P(G)!=="";)G.token+=P(G),U(G);throw Pt(G,'Syntax error in part "'+G.token+'"')}function T(G){do O(G);while(G.token===`
`)}function j(G){G.nestingLevel++}function R(G){G.nestingLevel--}g.isAlpha=function(Ne,Ge,ot){return g.isValidLatinOrGreek(Ne)||g.isValidMathSymbol(Ne,ot)||g.isValidMathSymbol(Ge,Ne)},g.isValidLatinOrGreek=function(Ne){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Ne)},g.isValidMathSymbol=function(Ne,Ge){return/^[\uD835]$/.test(Ne)&&/^[\uDC00-\uDFFF]$/.test(Ge)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ge)},g.isWhitespace=function(Ne,Ge){return Ne===" "||Ne==="	"||Ne===""||Ne===`
`&&Ge>0},g.isDecimalMark=function(Ne,Ge){return Ne==="."&&Ge!=="/"&&Ge!=="*"&&Ge!=="^"},g.isDigitDot=function(Ne){return Ne>="0"&&Ne<="9"||Ne==="."},g.isDigit=function(Ne){return Ne>="0"&&Ne<="9"},g.isHexDigit=function(Ne){return Ne>="0"&&Ne<="9"||Ne>="a"&&Ne<="f"||Ne>="A"&&Ne<="F"};function le(G,Ne){var Ge=N();qi(Ge,{expression:G,extraNodes:Ne}),O(Ge);var ot=re(Ge);if(Ge.token!=="")throw Ge.tokenType===_.DELIMITER?cr(Ge,"Unexpected operator "+Ge.token):Pt(Ge,'Unexpected part "'+Ge.token+'"');return ot}function re(G){var Ne,Ge=[],ot;for(G.token!==""&&G.token!==`
`&&G.token!==";"&&(Ne=F(G),G.comment&&(Ne.comment=G.comment));G.token===`
`||G.token===";";)Ge.length===0&&Ne&&(ot=G.token!==";",Ge.push({node:Ne,visible:ot})),O(G),G.token!==`
`&&G.token!==";"&&G.token!==""&&(Ne=F(G),G.comment&&(Ne.comment=G.comment),ot=G.token!==";",Ge.push({node:Ne,visible:ot}));return Ge.length>0?new o(Ge):(Ne||(Ne=new l(void 0),G.comment&&(Ne.comment=G.comment)),Ne)}function F(G){var Ne,Ge,ot,Ht,Xt=H(G);if(G.token==="="){if(ea(Xt))return Ne=Xt.name,T(G),ot=F(G),new s(new w(Ne),ot);if(jd(Xt))return T(G),ot=F(G),new s(Xt.object,Xt.index,ot);if(lf(Xt)&&ea(Xt.fn)&&(Ht=!0,Ge=[],Ne=Xt.name,Xt.args.forEach(function(oi,bu){ea(oi)?Ge[bu]=oi.name:Ht=!1}),Ht))return T(G),ot=F(G),new c(Ne,Ge,ot);throw Pt(G,"Invalid left hand side of assignment operator =")}return Xt}function H(G){for(var Ne=ve(G);G.token==="?";){var Ge=G.conditionalLevel;G.conditionalLevel=G.nestingLevel,T(G);var ot=Ne,Ht=F(G);if(G.token!==":")throw Pt(G,"False part of conditional expression expected");G.conditionalLevel=null,T(G);var Xt=F(G);Ne=new u(ot,Ht,Xt),G.conditionalLevel=Ge}return Ne}function ve(G){for(var Ne=ae(G);G.token==="or";)T(G),Ne=new m("or","or",[Ne,ae(G)]);return Ne}function ae(G){for(var Ne=W(G);G.token==="xor";)T(G),Ne=new m("xor","xor",[Ne,W(G)]);return Ne}function W(G){for(var Ne=Q(G);G.token==="and";)T(G),Ne=new m("and","and",[Ne,Q(G)]);return Ne}function Q(G){for(var Ne=J(G);G.token==="|";)T(G),Ne=new m("|","bitOr",[Ne,J(G)]);return Ne}function J(G){for(var Ne=se(G);G.token==="^|";)T(G),Ne=new m("^|","bitXor",[Ne,se(G)]);return Ne}function se(G){for(var Ne=Ce(G);G.token==="&";)T(G),Ne=new m("&","bitAnd",[Ne,Ce(G)]);return Ne}function Ce(G){for(var Ne=[Te(G)],Ge=[],ot={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ft(ot,G.token);){var Ht={name:G.token,fn:ot[G.token]};Ge.push(Ht),T(G),Ne.push(Te(G))}return Ne.length===1?Ne[0]:Ne.length===2?new m(Ge[0].name,Ge[0].fn,Ne):new y(Ge.map(Xt=>Xt.fn),Ne)}function Te(G){var Ne,Ge,ot,Ht;Ne=oe(G);for(var Xt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ft(Xt,G.token);)Ge=G.token,ot=Xt[Ge],T(G),Ht=[Ne,oe(G)],Ne=new m(Ge,ot,Ht);return Ne}function oe(G){var Ne,Ge,ot,Ht;Ne=q(G);for(var Xt={to:"to",in:"to"};Ft(Xt,G.token);)Ge=G.token,ot=Xt[Ge],T(G),Ge==="in"&&"])},;".includes(G.token)?Ne=new m("*","multiply",[Ne,new w("in")],!0):(Ht=[Ne,q(G)],Ne=new m(Ge,ot,Ht));return Ne}function q(G){var Ne,Ge=[];if(G.token===":"?Ne=new l(1):Ne=me(G),G.token===":"&&G.conditionalLevel!==G.nestingLevel){for(Ge.push(Ne);G.token===":"&&Ge.length<3;)T(G),G.token===")"||G.token==="]"||G.token===","||G.token===""?Ge.push(new w("end")):Ge.push(me(G));Ge.length===3?Ne=new v(Ge[0],Ge[2],Ge[1]):Ne=new v(Ge[0],Ge[1])}return Ne}function me(G){var Ne,Ge,ot,Ht;Ne=X(G);for(var Xt={"+":"add","-":"subtract"};Ft(Xt,G.token);){Ge=G.token,ot=Xt[Ge],T(G);var oi=X(G);oi.isPercentage?Ht=[Ne,new m("*","multiply",[Ne,oi])]:Ht=[Ne,oi],Ne=new m(Ge,ot,Ht)}return Ne}function X(G){var Ne,Ge,ot,Ht;Ne=K(G),Ge=Ne;for(var Xt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Ft(Xt,G.token);)if(ot=G.token,Ht=Xt[ot],T(G),ot==="%"&&G.tokenType===_.DELIMITER&&G.token!=="(")if(G.token!==""&&Xt[G.token]){var oi=new m("/","divide",[Ne,new l(100)],!1,!0);ot=G.token,Ht=Xt[ot],T(G),Ge=K(G),Ne=new m(ot,Ht,[oi,Ge])}else Ne=new m("/","divide",[Ne,new l(100)],!1,!0);else Ge=K(G),Ne=new m(ot,Ht,[Ne,Ge]);return Ne}function K(G){var Ne,Ge;for(Ne=de(G),Ge=Ne;G.tokenType===_.SYMBOL||G.token==="in"&&Jr(Ne)||G.token==="in"&&_i(Ne)&&Ne.fn==="unaryMinus"&&Jr(Ne.args[0])||G.tokenType===_.NUMBER&&!Jr(Ge)&&(!_i(Ge)||Ge.op==="!")||G.token==="(";)Ge=de(G),Ne=new m("*","multiply",[Ne,Ge],!0);return Ne}function de(G){for(var Ne=Ee(G),Ge=Ne,ot=[];G.token==="/"&&B3(Ge);)if(ot.push(qi({},G)),T(G),G.tokenType===_.NUMBER)if(ot.push(qi({},G)),T(G),G.tokenType===_.SYMBOL||G.token==="("||G.token==="in")qi(G,ot.pop()),ot.pop(),Ge=Ee(G),Ne=new m("/","divide",[Ne,Ge]);else{ot.pop(),qi(G,ot.pop());break}else{qi(G,ot.pop());break}return Ne}function Ee(G){var Ne,Ge,ot,Ht={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ft(Ht,G.token)?(ot=Ht[G.token],Ne=G.token,T(G),Ge=[Ee(G)],new m(Ne,ot,Ge)):te(G)}function te(G){var Ne,Ge,ot,Ht;return Ne=ce(G),(G.token==="^"||G.token===".^")&&(Ge=G.token,ot=Ge==="^"?"pow":"dotPow",T(G),Ht=[Ne,Ee(G)],Ne=new m(Ge,ot,Ht)),Ne}function ce(G){var Ne,Ge,ot,Ht;Ne=pe(G);for(var Xt={"!":"factorial","'":"ctranspose"};Ft(Xt,G.token);)Ge=G.token,ot=Xt[Ge],O(G),Ht=[Ne],Ne=new m(Ge,ot,Ht),Ne=be(G,Ne);return Ne}function pe(G){var Ne=[];if(G.tokenType===_.SYMBOL&&Ft(G.extraNodes,G.token)){var Ge=G.extraNodes[G.token];if(O(G),G.token==="("){if(Ne=[],j(G),O(G),G.token!==")")for(Ne.push(F(G));G.token===",";)O(G),Ne.push(F(G));if(G.token!==")")throw Pt(G,"Parenthesis ) expected");R(G),O(G)}return new Ge(Ne)}return Y(G)}function Y(G){var Ne,Ge;return G.tokenType===_.SYMBOL||G.tokenType===_.DELIMITER&&G.token in E?(Ge=G.token,O(G),Ft(C,Ge)?Ne=new l(C[Ge]):$.includes(Ge)?Ne=new l(r(Ge,"number")):Ne=new w(Ge),Ne=be(G,Ne),Ne):ye(G)}function be(G,Ne,Ge){for(var ot;(G.token==="("||G.token==="["||G.token===".")&&(!Ge||Ge.includes(G.token));)if(ot=[],G.token==="(")if(ea(Ne)||jd(Ne)){if(j(G),O(G),G.token!==")")for(ot.push(F(G));G.token===",";)O(G),ot.push(F(G));if(G.token!==")")throw Pt(G,"Parenthesis ) expected");R(G),O(G),Ne=new f(Ne,ot)}else return Ne;else if(G.token==="["){if(j(G),O(G),G.token!=="]")for(ot.push(F(G));G.token===",";)O(G),ot.push(F(G));if(G.token!=="]")throw Pt(G,"Parenthesis ] expected");R(G),O(G),Ne=new i(Ne,new d(ot))}else{O(G);var Ht=G.tokenType===_.SYMBOL||G.tokenType===_.DELIMITER&&G.token in E;if(!Ht)throw Pt(G,"Property name expected after dot");ot.push(new l(G.token)),O(G);var Xt=!0;Ne=new i(Ne,new d(ot,Xt))}return Ne}function ye(G){var Ne,Ge;return G.token==='"'||G.token==="'"?(Ge=ge(G,G.token),Ne=new l(Ge),Ne=be(G,Ne),Ne):xe(G)}function ge(G,Ne){for(var Ge="";P(G)!==""&&P(G)!==Ne;)if(P(G)==="\\"){U(G);var ot=P(G),Ht=D[ot];if(Ht!==void 0)Ge+=Ht,G.index+=1;else if(ot==="u"){var Xt=G.expression.slice(G.index+1,G.index+5);if(/^[0-9A-Fa-f]{4}$/.test(Xt))Ge+=String.fromCharCode(parseInt(Xt,16)),G.index+=5;else throw Pt(G,"Invalid unicode character \\u".concat(Xt))}else throw Pt(G,"Bad escape character \\".concat(ot))}else Ge+=P(G),U(G);if(O(G),G.token!==Ne)throw Pt(G,"End of string ".concat(Ne," expected"));return O(G),Ge}function xe(G){var Ne,Ge,ot,Ht;if(G.token==="["){if(j(G),O(G),G.token!=="]"){var Xt=ke(G);if(G.token===";"){for(ot=1,Ge=[Xt];G.token===";";)O(G),G.token!=="]"&&(Ge[ot]=ke(G),ot++);if(G.token!=="]")throw Pt(G,"End of matrix ] expected");R(G),O(G),Ht=Ge[0].items.length;for(var oi=1;oi<ot;oi++)if(Ge[oi].items.length!==Ht)throw cr(G,"Column dimensions mismatch ("+Ge[oi].items.length+" !== "+Ht+")");Ne=new a(Ge)}else{if(G.token!=="]")throw Pt(G,"End of matrix ] expected");R(G),O(G),Ne=Xt}}else R(G),O(G),Ne=new a([]);return be(G,Ne)}return Ke(G)}function ke(G){for(var Ne=[F(G)],Ge=1;G.token===",";)O(G),G.token!=="]"&&G.token!==";"&&(Ne[Ge]=F(G),Ge++);return new a(Ne)}function Ke(G){if(G.token==="{"){j(G);var Ne,Ge={};do if(O(G),G.token!=="}"){if(G.token==='"'||G.token==="'")Ne=ge(G,G.token);else if(G.tokenType===_.SYMBOL||G.tokenType===_.DELIMITER&&G.token in E)Ne=G.token,O(G);else throw Pt(G,"Symbol or string expected as object key");if(G.token!==":")throw Pt(G,"Colon : expected after object key");O(G),Ge[Ne]=F(G)}while(G.token===",");if(G.token!=="}")throw Pt(G,"Comma , or bracket } expected after object value");R(G),O(G);var ot=new p(Ge);return ot=be(G,ot),ot}return Ue(G)}function Ue(G){var Ne;if(G.tokenType===_.NUMBER){Ne=G.token,O(G);var Ge=Cf(Ne,n),ot=r(Ne,Ge);return new l(ot)}return rt(G)}function rt(G){var Ne;if(G.token==="("){if(j(G),O(G),Ne=F(G),G.token!==")")throw Pt(G,"Parenthesis ) expected");return R(G),O(G),Ne=new h(Ne),Ne=be(G,Ne),Ne}return je(G)}function je(G){throw G.token===""?Pt(G,"Unexpected end of expression"):Pt(G,"Value expected")}function Rt(G){return G.index-G.token.length+1}function Pt(G,Ne){var Ge=Rt(G),ot=new SyntaxError(Ne+" (char "+Ge+")");return ot.char=Ge,ot}function cr(G,Ne){var Ge=Rt(G),ot=new SyntaxError(Ne+" (char "+Ge+")");return ot.char=Ge,ot}return t.addConversion({from:"string",to:"Node",convert:g}),g}),mM="compile",Txe=["typed","parse"],kxe=Ae(mM,Txe,e=>{var{typed:t,parse:r}=e;return t(mM,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return wr(i,function(a){return r(a).compile()})}})}),hM="evaluate",Ixe=["typed","parse"],Oxe=Ae(hM,Ixe,e=>{var{typed:t,parse:r}=e;return t(hM,{string:function(i){var a=Cv();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Cv();return wr(i,function(s){return r(s).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return wr(i,function(s){return r(s).compile().evaluate(a)})}})}),Mxe="Parser",Pxe=["evaluate","parse"],Bxe=Ae(Mxe,Pxe,e=>{var{evaluate:t,parse:r}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Cv(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(a){return t(a,this.scope)},n.prototype.get=function(a){if(this.scope.has(a))return this.scope.get(a)},n.prototype.getAll=function(){return ihe(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(a){if(a.length===0)return!1;for(var s=0;s<a.length;s++){var o=a.charAt(s-1),u=a.charAt(s),l=a.charAt(s+1),c=r.isAlpha(u,o,l)||s>0&&r.isDigit(u);if(!c)return!1}return!0}return n.prototype.set=function(a,s){if(!i(a))throw new Error("Invalid variable name: '".concat(a,"'. Variable names must follow the specified rules."));return this.scope.set(a,s),s},n.prototype.remove=function(a){this.scope.delete(a)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),vM="parser",Lxe=["typed","Parser"],Fxe=Ae(vM,Lxe,e=>{var{typed:t,Parser:r}=e;return t(vM,{"":function(){return new r}})}),gM="lup",Rxe=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Uxe=Ae(gM,Rxe,e=>{var{typed:t,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:s,subtractScalar:o,larger:u,equalScalar:l,unaryMinus:c,DenseMatrix:f,SparseMatrix:d,Spa:p}=e;return t(gM,{DenseMatrix:function(y){return m(y)},SparseMatrix:function(y){return h(y)},Array:function(y){var w=r(y),g=m(w);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function m(v){var y=v._size[0],w=v._size[1],g=Math.min(y,w),b=hr(v._data),_=[],x=[y,g],E=[],C=[g,w],$,D,N,k=[];for($=0;$<y;$++)k[$]=$;for(D=0;D<w;D++){if(D>0)for($=0;$<y;$++){var P=Math.min($,D),U=0;for(N=0;N<P;N++)U=i(U,s(b[$][N],b[N][D]));b[$][D]=o(b[$][D],U)}var L=D,B=0,O=0;for($=D;$<y;$++){var T=b[$][D],j=n(T);u(j,B)&&(L=$,B=j,O=T)}if(D!==L&&(k[D]=[k[L],k[L]=k[D]][0],f._swapRows(D,L,b)),D<y)for($=D+1;$<y;$++){var R=b[$][D];l(R,0)||(b[$][D]=a(b[$][D],O))}}for(D=0;D<w;D++)for($=0;$<y;$++){if(D===0&&($<w&&(E[$]=[]),_[$]=[]),$<D){$<w&&(E[$][D]=b[$][D]),D<y&&(_[$][D]=0);continue}if($===D){$<w&&(E[$][D]=b[$][D]),D<y&&(_[$][D]=1);continue}$<w&&(E[$][D]=0),D<y&&(_[$][D]=b[$][D])}var le=new f({data:_,size:x}),re=new f({data:E,size:C}),F=[];for($=0,g=k.length;$<g;$++)F[k[$]]=$;return{L:le,U:re,p:F,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(v){var y=v._size[0],w=v._size[1],g=Math.min(y,w),b=v._values,_=v._index,x=v._ptr,E=[],C=[],$=[],D=[y,g],N=[],k=[],P=[],U=[g,w],L,B,O,T=[],j=[];for(L=0;L<y;L++)T[L]=L,j[L]=L;var R=function(F,H){var ve=j[F],ae=j[H];T[ve]=H,T[ae]=F,j[F]=ae,j[H]=ve},le=function(){var F=new p;B<y&&($.push(E.length),E.push(1),C.push(B)),P.push(N.length);var H=x[B],ve=x[B+1];for(O=H;O<ve;O++)L=_[O],F.set(T[L],b[O]);B>0&&F.forEach(0,B-1,function(J,se){d._forEachRow(J,E,C,$,function(Ce,Te){Ce>J&&F.accumulate(Ce,c(s(Te,se)))})});var ae=B,W=F.get(B),Q=n(W);F.forEach(B+1,y-1,function(J,se){var Ce=n(se);u(Ce,Q)&&(ae=J,Q=Ce,W=se)}),B!==ae&&(d._swapRows(B,ae,D[1],E,C,$),d._swapRows(B,ae,U[1],N,k,P),F.swap(B,ae),R(B,ae)),F.forEach(0,y-1,function(J,se){J<=B?(N.push(se),k.push(J)):(se=a(se,W),l(se,0)||(E.push(se),C.push(J)))})};for(B=0;B<w;B++)le();return P.push(N.length),$.push(E.length),{L:new d({values:E,index:C,ptr:$,size:D}),U:new d({values:N,index:k,ptr:P,size:U}),p:T,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),yM="qr",zxe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],qxe=Ae(yM,zxe,e=>{var{typed:t,matrix:r,zeros:n,identity:i,isZero:a,equal:s,sign:o,sqrt:u,conj:l,unaryMinus:c,addScalar:f,divideScalar:d,multiplyScalar:p,subtractScalar:m,complex:h}=e;return qi(t(yM,{DenseMatrix:function(b){return y(b)},SparseMatrix:function(b){return w()},Array:function(b){var _=r(b),x=y(_);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:v});function v(g){var b=g._size[0],_=g._size[1],x=i([b],"dense"),E=x._data,C=g.clone(),$=C._data,D,N,k,P=n([b],"");for(k=0;k<Math.min(_,b);++k){var U=$[k][k],L=c(s(U,0)?1:o(U)),B=l(L),O=0;for(D=k;D<b;D++)O=f(O,p($[D][k],l($[D][k])));var T=p(L,u(O));if(!a(T)){var j=m(U,T);for(P[k]=1,D=k+1;D<b;D++)P[D]=d($[D][k],j);var R=c(l(d(j,T))),le=void 0;for(N=k;N<_;N++){for(le=0,D=k;D<b;D++)le=f(le,p(l(P[D]),$[D][N]));for(le=p(le,R),D=k;D<b;D++)$[D][N]=p(m($[D][N],p(P[D],le)),B)}for(D=0;D<b;D++){for(le=0,N=k;N<b;N++)le=f(le,p(E[D][N],P[N]));for(le=p(le,R),N=k;N<b;++N)E[D][N]=d(m(E[D][N],p(le,l(P[N]))),B)}}}return{Q:x,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(g){var b=v(g),_=b.R._data;if(g._data.length>0)for(var x=_[0][0].type==="Complex"?h(0):0,E=0;E<_.length;++E)for(var C=0;C<E&&C<(_[0]||[]).length;++C)_[E][C]=x;return b}function w(g){throw new Error("qr not implemented for sparse matrices yet")}});function jxe(e,t,r,n){for(var i=e._values,a=e._index,s=e._ptr,o=e._size,u=e._datatype,l=o[0],c=o[1],f=n&&e._values?[]:null,d=[],p=[],m=0,h=0;h<c;h++){p[h]=m;for(var v=r?r[h]:h,y=s[v],w=s[v+1],g=y;g<w;g++){var b=t?t[a[g]]:a[g];d[m]=b,f&&(f[m]=i[g]),m++}}return p[c]=m,e.createSparseMatrix({values:f,index:d,ptr:p,size:[l,c],datatype:u})}function qH(e,t,r,n,i,a,s){var o=0;for(r[s]=e;o>=0;){var u=r[s+o],l=r[n+u];l===-1?(o--,a[t++]=u):(r[n+u]=r[i+l],++o,r[s+o]=l)}return t}function Vxe(e,t){if(!e)return null;var r=0,n,i=[],a=[],s=0,o=t,u=2*t;for(n=0;n<t;n++)a[s+n]=-1;for(n=t-1;n>=0;n--)e[n]!==-1&&(a[o+n]=a[s+e[n]],a[s+e[n]]=n);for(n=0;n<t;n++)e[n]===-1&&(r=qH(n,r,a,s,o,i,u));return i}function Hxe(e,t){if(!e)return null;var r=e._index,n=e._ptr,i=e._size,a=i[0],s=i[1],o=[],u=[],l=0,c=s,f,d;if(t)for(f=0;f<a;f++)u[c+f]=-1;for(var p=0;p<s;p++){o[p]=-1,u[l+p]=-1;for(var m=n[p],h=n[p+1],v=m;v<h;v++){var y=r[v];for(f=t?u[c+y]:y;f!==-1&&f<p;f=d)d=u[l+f],u[l+f]=p,d===-1&&(o[f]=p);t&&(u[c+y]=p)}}return o}function Gxe(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,s=e._size,o=s[1],u=0,l=0;l<o;l++){var c=a[l];for(a[l]=u;c<a[l+1];c++)t(i[c],l,n?n[c]:1,r)&&(i[u]=i[c],n&&(n[u]=n[c]),u++)}return a[o]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function qc(e){return-e-2}var Zxe="csAmd",Wxe=["add","multiply","transpose"],Kxe=Ae(Zxe,Wxe,e=>{var{add:t,multiply:r,transpose:n}=e;return function(c,f){if(!f||c<=0||c>3)return null;var d=f._size,p=d[0],m=d[1],h=0,v=Math.max(16,10*Math.sqrt(m));v=Math.min(m-2,v);var y=i(c,f,p,m,v);Gxe(y,u,null);for(var w=y._index,g=y._ptr,b=g[m],_=[],x=[],E=0,C=m+1,$=2*(m+1),D=3*(m+1),N=4*(m+1),k=5*(m+1),P=6*(m+1),U=7*(m+1),L=_,B=a(m,g,x,E,D,L,$,U,C,P,N,k),O=s(m,g,x,k,N,P,v,C,D,L,$),T=0,j,R,le,re,F,H,ve,ae,W,Q,J,se,Ce,Te,oe,q;O<m;){for(le=-1;T<m&&(le=x[D+T])===-1;T++);x[$+le]!==-1&&(L[x[$+le]]=-1),x[D+T]=x[$+le];var me=x[N+le],X=x[C+le];O+=X;var K=0;x[C+le]=-X;var de=g[le],Ee=me===0?de:b,te=Ee;for(re=1;re<=me+1;re++){for(re>me?(H=le,ve=de,ae=x[E+le]-me):(H=w[de++],ve=g[H],ae=x[E+H]),F=1;F<=ae;F++)j=w[ve++],!((W=x[C+j])<=0)&&(K+=W,x[C+j]=-W,w[te++]=j,x[$+j]!==-1&&(L[x[$+j]]=L[j]),L[j]!==-1?x[$+L[j]]=x[$+j]:x[D+x[k+j]]=x[$+j]);H!==le&&(g[H]=qc(le),x[P+H]=0)}for(me!==0&&(b=te),x[k+le]=K,g[le]=Ee,x[E+le]=te-Ee,x[N+le]=-2,B=o(B,h,x,P,m),Q=Ee;Q<te;Q++)if(j=w[Q],!((J=x[N+j])<=0)){W=-x[C+j];var ce=B-W;for(de=g[j],se=g[j]+J-1;de<=se;de++)H=w[de],x[P+H]>=B?x[P+H]-=W:x[P+H]!==0&&(x[P+H]=x[k+H]+ce)}for(Q=Ee;Q<te;Q++){for(j=w[Q],se=g[j],Ce=se+x[N+j]-1,Te=se,oe=0,q=0,de=se;de<=Ce;de++)if(H=w[de],x[P+H]!==0){var pe=x[P+H]-B;pe>0?(q+=pe,w[Te++]=H,oe+=H):(g[H]=qc(le),x[P+H]=0)}x[N+j]=Te-se+1;var Y=Te,be=se+x[E+j];for(de=Ce+1;de<be;de++){R=w[de];var ye=x[C+R];ye<=0||(q+=ye,w[Te++]=R,oe+=R)}q===0?(g[j]=qc(le),W=-x[C+j],K-=W,X+=W,O+=W,x[C+j]=0,x[N+j]=-1):(x[k+j]=Math.min(x[k+j],q),w[Te]=w[Y],w[Y]=w[se],w[se]=le,x[E+j]=Te-se+1,oe=(oe<0?-oe:oe)%m,x[$+j]=x[U+oe],x[U+oe]=j,L[j]=oe)}for(x[k+le]=K,h=Math.max(h,K),B=o(B+h,h,x,P,m),Q=Ee;Q<te;Q++)if(j=w[Q],!(x[C+j]>=0))for(oe=L[j],j=x[U+oe],x[U+oe]=-1;j!==-1&&x[$+j]!==-1;j=x[$+j],B++){for(ae=x[E+j],J=x[N+j],de=g[j]+1;de<=g[j]+ae-1;de++)x[P+w[de]]=B;var ge=j;for(R=x[$+j];R!==-1;){var xe=x[E+R]===ae&&x[N+R]===J;for(de=g[R]+1;xe&&de<=g[R]+ae-1;de++)x[P+w[de]]!==B&&(xe=0);xe?(g[R]=qc(j),x[C+j]+=x[C+R],x[C+R]=0,x[N+R]=-1,R=x[$+R],x[$+ge]=R):(ge=R,R=x[$+R])}}for(de=Ee,Q=Ee;Q<te;Q++)j=w[Q],!((W=-x[C+j])<=0)&&(x[C+j]=W,q=x[k+j]+K-W,q=Math.min(q,m-O-W),x[D+q]!==-1&&(L[x[D+q]]=j),x[$+j]=x[D+q],L[j]=-1,x[D+q]=j,T=Math.min(T,q),x[k+j]=q,w[de++]=j);x[C+le]=X,(x[E+le]=de-Ee)===0&&(g[le]=-1,x[P+le]=0),me!==0&&(b=de)}for(j=0;j<m;j++)g[j]=qc(g[j]);for(R=0;R<=m;R++)x[D+R]=-1;for(R=m;R>=0;R--)x[C+R]>0||(x[$+R]=x[D+g[R]],x[D+g[R]]=R);for(H=m;H>=0;H--)x[C+H]<=0||g[H]!==-1&&(x[$+H]=x[D+g[H]],x[D+g[H]]=H);for(le=0,j=0;j<=m;j++)g[j]===-1&&(le=qH(j,le,x,D,$,_,P));return _.splice(_.length-1,1),_};function i(l,c,f,d,p){var m=n(c);if(l===1&&d===f)return t(c,m);if(l===2){for(var h=m._index,v=m._ptr,y=0,w=0;w<f;w++){var g=v[w];if(v[w]=y,!(v[w+1]-g>p))for(var b=v[w+1];g<b;g++)h[y++]=h[g]}return v[f]=y,c=n(m),r(m,c)}return r(m,c)}function a(l,c,f,d,p,m,h,v,y,w,g,b){for(var _=0;_<l;_++)f[d+_]=c[_+1]-c[_];f[d+l]=0;for(var x=0;x<=l;x++)f[p+x]=-1,m[x]=-1,f[h+x]=-1,f[v+x]=-1,f[y+x]=1,f[w+x]=1,f[g+x]=0,f[b+x]=f[d+x];var E=o(0,0,f,w,l);return f[g+l]=-2,c[l]=-1,f[w+l]=0,E}function s(l,c,f,d,p,m,h,v,y,w,g){for(var b=0,_=0;_<l;_++){var x=f[d+_];if(x===0)f[p+_]=-2,b++,c[_]=-1,f[m+_]=0;else if(x>h)f[v+_]=0,f[p+_]=-1,b++,c[_]=qc(l),f[v+l]++;else{var E=f[y+x];E!==-1&&(w[E]=_),f[g+_]=f[y+x],f[y+x]=_}}return b}function o(l,c,f,d,p){if(l<2||l+c<0){for(var m=0;m<p;m++)f[d+m]!==0&&(f[d+m]=1);l=2}return l}function u(l,c){return l!==c}});function Jxe(e,t,r,n,i,a,s){var o,u,l=0,c;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var f=r[a+e];if(r[a+e]=t,f===-1)l=1,c=e;else{for(l=2,c=f;c!==r[s+c];c=r[s+c]);for(o=f;o!==c;o=u)u=r[s+o],r[s+o]=c}return{jleaf:l,q:c}}var Yxe="csCounts",Xxe=["transpose"],Qxe=Ae(Yxe,Xxe,e=>{var{transpose:t}=e;return function(r,n,i,a){if(!r||!n||!i)return null;var s=r._size,o=s[0],u=s[1],l,c,f,d,p,m,h,v=4*u+(a?u+o+1:0),y=[],w=0,g=u,b=2*u,_=3*u,x=4*u,E=5*u+1;for(f=0;f<v;f++)y[f]=-1;var C=[],$=t(r),D=$._index,N=$._ptr;for(f=0;f<u;f++)for(c=i[f],C[c]=y[_+c]===-1?1:0;c!==-1&&y[_+c]===-1;c=n[c])y[_+c]=f;if(a){for(f=0;f<u;f++)y[i[f]]=f;for(l=0;l<o;l++){for(f=u,m=N[l],h=N[l+1],p=m;p<h;p++)f=Math.min(f,y[D[p]]);y[E+l]=y[x+f],y[x+f]=l}}for(l=0;l<u;l++)y[w+l]=l;for(f=0;f<u;f++){for(c=i[f],n[c]!==-1&&C[n[c]]--,d=a?y[x+f]:c;d!==-1;d=a?y[E+d]:-1)for(p=N[d];p<N[d+1];p++){l=D[p];var k=Jxe(l,c,y,_,g,b,w);k.jleaf>=1&&C[c]++,k.jleaf===2&&C[k.q]--}n[c]!==-1&&(y[w+c]=n[c])}for(c=0;c<u;c++)n[c]!==-1&&(C[n[c]]+=C[c]);return C}}),eSe="csSqr",tSe=["add","multiply","transpose"],rSe=Ae(eSe,tSe,e=>{var{add:t,multiply:r,transpose:n}=e,i=Kxe({add:t,multiply:r,transpose:n}),a=Qxe({transpose:n});return function(u,l,c){var f=l._ptr,d=l._size,p=d[1],m,h={};if(h.q=i(u,l),u&&!h.q)return null;if(c){var v=u?jxe(l,null,h.q,0):l;h.parent=Hxe(v,1);var y=Vxe(h.parent,p);if(h.cp=a(v,h.parent,y,1),v&&h.parent&&h.cp&&s(v,h))for(h.unz=0,m=0;m<p;m++)h.unz+=h.cp[m]}else h.unz=4*f[p]+p,h.lnz=h.unz;return h};function s(o,u){var l=o._ptr,c=o._index,f=o._size,d=f[0],p=f[1];u.pinv=[],u.leftmost=[];var m=u.parent,h=u.pinv,v=u.leftmost,y=[],w=0,g=d,b=d+p,_=d+2*p,x,E,C,$,D;for(E=0;E<p;E++)y[g+E]=-1,y[b+E]=-1,y[_+E]=0;for(x=0;x<d;x++)v[x]=-1;for(E=p-1;E>=0;E--)for($=l[E],D=l[E+1],C=$;C<D;C++)v[c[C]]=E;for(x=d-1;x>=0;x--)h[x]=-1,E=v[x],E!==-1&&(y[_+E]++===0&&(y[b+E]=x),y[w+x]=y[g+E],y[g+E]=x);for(u.lnz=0,u.m2=d,E=0;E<p;E++)if(x=y[g+E],u.lnz++,x<0&&(x=u.m2++),h[x]=E,!(--_[E]<=0)){u.lnz+=y[_+E];var N=m[E];N!==-1&&(y[_+N]===0&&(y[b+N]=y[b+E]),y[w+y[b+E]]=y[g+N],y[g+N]=y[w+x],y[_+N]+=y[_+E])}for(x=0;x<d;x++)h[x]<0&&(h[x]=E++);return!0}});function aE(e,t){return e[t]<0}function jH(e,t){e[t]=qc(e[t])}function bM(e){return e<0?qc(e):e}function nSe(e,t,r,n,i){var a=t._index,s=t._ptr,o=t._size,u=o[1],l,c,f,d=0;for(n[0]=e;d>=0;){e=n[d];var p=i?i[e]:e;aE(s,e)||(jH(s,e),n[u+d]=p<0?0:bM(s[p]));var m=1;for(c=n[u+d],f=p<0?0:bM(s[p+1]);c<f;c++)if(l=a[c],!aE(s,l)){n[u+d]=c,n[++d]=l,m=0;break}m&&(d--,n[--r]=e)}return r}function iSe(e,t,r,n,i){var a=e._ptr,s=e._size,o=t._index,u=t._ptr,l=s[1],c,f,d,p=l;for(f=u[r],d=u[r+1],c=f;c<d;c++){var m=o[c];aE(a,m)||(p=nSe(m,e,p,n,i))}for(c=p;c<l;c++)jH(a,n[c]);return p}var aSe="csSpsolve",sSe=["divideScalar","multiply","subtract"],oSe=Ae(aSe,sSe,e=>{var{divideScalar:t,multiply:r,subtract:n}=e;return function(a,s,o,u,l,c,f){var d=a._values,p=a._index,m=a._ptr,h=a._size,v=h[1],y=s._values,w=s._index,g=s._ptr,b,_,x,E,C=iSe(a,s,o,u,c);for(b=C;b<v;b++)l[u[b]]=0;for(_=g[o],x=g[o+1],b=_;b<x;b++)l[w[b]]=y[b];for(var $=C;$<v;$++){var D=u[$],N=c?c[D]:D;if(!(N<0))for(_=m[N],x=m[N+1],l[D]=t(l[D],d[f?_:x-1]),b=f?_+1:_,E=f?x:x-1;b<E;b++){var k=p[b];l[k]=n(l[k],r(d[b],l[D]))}}return C}}),uSe="csLu",lSe=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],cSe=Ae(uSe,lSe,e=>{var{abs:t,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:s,SparseMatrix:o}=e,u=oSe({divideScalar:r,multiply:n,subtract:i});return function(c,f,d){if(!c)return null;var p=c._size,m=p[1],h,v=100,y=100;f&&(h=f.q,v=f.lnz||v,y=f.unz||y);var w=[],g=[],b=[],_=new o({values:w,index:g,ptr:b,size:[m,m]}),x=[],E=[],C=[],$=new o({values:x,index:E,ptr:C,size:[m,m]}),D=[],N,k,P=[],U=[];for(N=0;N<m;N++)P[N]=0,D[N]=-1,b[N+1]=0;v=0,y=0;for(var L=0;L<m;L++){b[L]=v,C[L]=y;var B=h?h[L]:L,O=u(_,c,B,U,P,D,1),T=-1,j=-1;for(k=O;k<m;k++)if(N=U[k],D[N]<0){var R=t(P[N]);a(R,j)&&(j=R,T=N)}else E[y]=D[N],x[y++]=P[N];if(T===-1||j<=0)return null;D[B]<0&&s(t(P[B]),n(j,d))&&(T=B);var le=P[T];for(E[y]=L,x[y++]=le,D[T]=L,g[v]=T,w[v++]=1,k=O;k<m;k++)N=U[k],D[N]<0&&(g[v]=N,w[v++]=r(P[N],le)),P[N]=0}for(b[m]=v,C[m]=y,k=0;k<v;k++)g[k]=D[g[k]];return w.splice(v,w.length-v),g.splice(v,g.length-v),x.splice(y,x.length-y),E.splice(y,E.length-y),{L:_,U:$,pinv:D}}}),_M="slu",fSe=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],dSe=Ae(_M,fSe,e=>{var{typed:t,abs:r,add:n,multiply:i,transpose:a,divideScalar:s,subtract:o,larger:u,largerEq:l,SparseMatrix:c}=e,f=rSe({add:n,multiply:i,transpose:a}),d=cSe({abs:r,divideScalar:s,multiply:i,subtract:o,larger:u,largerEq:l,SparseMatrix:c});return t(_M,{"SparseMatrix, number, number":function(m,h,v){if(!zt(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=f(h,m,!1),w=d(m,y,v);return{L:w.L,U:w.U,p:w.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function AM(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var wM="lusolve",pSe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],mSe=Ae(wM,pSe,e=>{var{typed:t,matrix:r,lup:n,slu:i,usolve:a,lsolve:s,DenseMatrix:o}=e,u=gg({DenseMatrix:o});return t(wM,{"Array, Array | Matrix":function(d,p){d=r(d);var m=n(d),h=c(m.L,m.U,m.p,null,p);return h.valueOf()},"DenseMatrix, Array | Matrix":function(d,p){var m=n(d);return c(m.L,m.U,m.p,null,p)},"SparseMatrix, Array | Matrix":function(d,p){var m=n(d);return c(m.L,m.U,m.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(d,p,m,h){var v=i(d,m,h);return c(v.L,v.U,v.p,v.q,p)},"Object, Array | Matrix":function(d,p){return c(d.L,d.U,d.p,d.q,p)}});function l(f){if(Jt(f))return f;if(Cn(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,d,p,m,h){f=l(f),d=l(d),p&&(h=u(f,h,!0),h._data=AM(p,h._data));var v=s(f,h),y=a(d,v);return m&&(y._data=AM(m,y._data)),y}}),xM="polynomialRoot",hSe=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],vSe=Ae(xM,hSe,e=>{var{typed:t,isZero:r,equalScalar:n,add:i,subtract:a,multiply:s,divide:o,sqrt:u,unaryMinus:l,cbrt:c,typeOf:f,im:d,re:p}=e;return t(xM,{"number|Complex, ...number|Complex":(m,h)=>{for(var v=[m,...h];v.length>0&&r(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(m,", ").concat(h,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[l(o(v[0],v[1]))];case 3:{var[y,w,g]=v,b=s(2,g),_=s(w,w),x=s(4,g,y);if(n(_,x))return[o(l(w),b)];var E=u(a(_,x));return[o(a(E,w),b),o(a(l(E),w),b)]}case 4:{var[C,$,D,N]=v,k=l(s(3,N)),P=s(D,D),U=s(3,N,$),L=i(s(2,D,D,D),s(27,N,N,C)),B=s(9,N,D,$);if(n(P,U)&&n(L,B))return[o(D,k)];var O=a(P,U),T=a(L,B),j=i(s(18,N,D,$,C),s(D,D,$,$)),R=i(s(4,D,D,D,C),s(4,N,$,$,$),s(27,N,N,C,C));if(n(j,R))return[o(a(s(4,N,D,$),i(s(9,N,N,C),s(D,D,D))),s(N,O)),o(a(s(9,N,C),s(D,$)),s(2,O))];var le;n(P,U)?le=T:le=o(i(T,u(a(s(T,T),s(4,O,O,O)))),2);var re=!0,F=c(le,re).toArray().map(H=>o(i(D,H,o(O,H)),k));return F.map(H=>f(H)==="Complex"&&n(p(H),p(H)+d(H))?p(H):H)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})}),gSe="Help",ySe=["evaluate"],bSe=Ae(gSe,ySe,e=>{var{evaluate:t}=e;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,s=t("config()"),o={config:f=>(a=!0,t("config(newConfig)",{newConfig:f}))},u=0;u<n.examples.length;u++){var l=n.examples[u];i+="    "+l+`
`;var c=void 0;try{c=t(l,o)}catch(f){c=f}c!==void 0&&!Jj(c)&&(i+="        "+Ir(c,{precision:14})+`
`)}i+=`
`,a&&t("config(originalConfig)",{originalConfig:s})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=hr(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),_Se="Chain",ASe=["?on","math","typed"],wSe=Ae(_Se,ASe,e=>{var{on:t,math:r,typed:n}=e;function i(l){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Xj(l)?this.value=l.value:this.value=l}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Ir(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(l){return new i(l.value)};function a(l,c){typeof c=="function"&&(i.prototype[l]=o(c))}function s(l,c){yhe(i.prototype,l,function(){var d=c();if(typeof d=="function")return o(d)})}function o(l){return function(){if(arguments.length===0)return new i(l(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(l)){var d=n.resolve(l,c);if(d.params.length===1)throw new Error("chain function "+l.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(l,c))}return new i(l.apply(l,c))}}i.createProxy=function(l,c){if(typeof l=="string")a(l,c);else{var f=function(m){Ft(l,m)&&u[m]===void 0&&s(m,()=>l[m])};for(var d in l)f(d)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),t&&t("import",function(l,c,f){f||s(l,c)}),i},{isClass:!0}),SM={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},xSe={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},SSe={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},ESe={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},CSe={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},$Se={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},NSe={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},DSe={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},TSe={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},kSe={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},ISe={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},EM={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},OSe={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},MSe={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},PSe={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},BSe={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},LSe={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},FSe={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},RSe={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},USe={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},zSe={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},qSe={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},jSe={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},VSe={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},HSe={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},GSe={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},ZSe={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},WSe={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},KSe={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},JSe={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},YSe={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},XSe={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},QSe={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},e3e={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},t3e={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},r3e={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},n3e={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},i3e={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},a3e={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},s3e={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},o3e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},u3e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},l3e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},c3e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},f3e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},d3e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},p3e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},m3e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},h3e={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},v3e={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},g3e={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},y3e={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},b3e={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},_3e={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},A3e={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},w3e={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},x3e={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},S3e={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},E3e={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},C3e={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},$3e={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},N3e={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},D3e={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},T3e={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},k3e={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},I3e={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},O3e={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},M3e={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},P3e={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},B3e={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},L3e={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},F3e={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},R3e={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},U3e={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},z3e={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},q3e={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},j3e={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},V3e={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},H3e={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},G3e={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},Z3e={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},W3e={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},K3e={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},J3e={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},Y3e={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},X3e={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},Q3e={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},eEe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},tEe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},rEe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},nEe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},iEe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},aEe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},sEe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},oEe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},uEe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},lEe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},cEe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},fEe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},dEe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},pEe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},mEe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},hEe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},vEe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},gEe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},yEe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},bEe={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},_Ee={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},AEe={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},wEe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},xEe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},SEe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},EEe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},CEe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},$Ee={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},NEe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},DEe={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},TEe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},kEe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},IEe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},OEe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},MEe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},PEe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},BEe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},LEe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},FEe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},REe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},UEe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},zEe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},qEe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},jEe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},VEe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},HEe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},GEe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},ZEe={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},WEe={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},KEe={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},JEe={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},YEe={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},XEe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},QEe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},e4e={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},t4e={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},r4e={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},n4e={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},i4e={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},a4e={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},s4e={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},o4e={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},u4e={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},l4e={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},c4e={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},f4e={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},d4e={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},p4e={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},m4e={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},h4e={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},v4e={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},g4e={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},y4e={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},b4e={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},_4e={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},A4e={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},w4e={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},x4e={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},S4e={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},E4e={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},C4e={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},$4e={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},N4e={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},D4e={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},T4e={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},k4e={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},I4e={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},O4e={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},M4e={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},P4e={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},B4e={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},L4e={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},F4e={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},R4e={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},U4e={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},z4e={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},q4e={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},j4e={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},V4e={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},H4e={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},G4e={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},Z4e={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},W4e={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},K4e={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},J4e={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},Y4e={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},X4e={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},Q4e={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},eCe={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},tCe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},rCe={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},nCe={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},iCe={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},aCe={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sCe={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},oCe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},uCe={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},lCe={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},cCe={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},fCe={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},dCe={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},pCe={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},mCe={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},hCe={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},vCe={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},gCe={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},yCe={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},bCe={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},_Ce={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},ACe={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},wCe={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},xCe={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},SCe={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},ECe={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},CCe={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},$Ce={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},NCe={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},DCe={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},TCe={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},kCe={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},ICe={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},OCe={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},MCe={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},PCe={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},BCe={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},LCe={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},FCe={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},RCe={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},UCe={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},zCe={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},qCe={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},jCe={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},VCe={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},HCe={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},GCe={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},ZCe={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},WCe={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},KCe={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},JCe={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},YCe={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},XCe={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},QCe={bignumber:FSe,bigint:RSe,boolean:USe,complex:zSe,createUnit:qSe,fraction:jSe,index:VSe,matrix:HSe,number:GSe,sparse:ZSe,splitUnit:WSe,string:KSe,unit:JSe,e:SM,E:SM,false:xSe,i:SSe,Infinity:ESe,LN2:$Se,LN10:CSe,LOG2E:DSe,LOG10E:NSe,NaN:TSe,null:kSe,pi:EM,PI:EM,phi:ISe,SQRT1_2:OSe,SQRT2:MSe,tau:PSe,true:BSe,version:LSe,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:e3e,lsolve:r3e,lsolveAll:n3e,lup:i3e,lusolve:a3e,leafCount:t3e,polynomialRoot:s3e,resolve:l3e,simplify:c3e,simplifyConstant:f3e,simplifyCore:d3e,symbolicEqual:m3e,rationalize:u3e,slu:p3e,usolve:h3e,usolveAll:v3e,qr:o3e,abs:g3e,add:y3e,cbrt:b3e,ceil:_3e,cube:A3e,divide:w3e,dotDivide:x3e,dotMultiply:S3e,dotPow:E3e,exp:C3e,expm:$3e,expm1:N3e,fix:D3e,floor:T3e,gcd:k3e,hypot:I3e,lcm:M3e,log:P3e,log2:F3e,log1p:L3e,log10:B3e,mod:R3e,multiply:U3e,norm:z3e,nthRoot:q3e,nthRoots:j3e,pow:V3e,round:H3e,sign:G3e,sqrt:Z3e,sqrtm:W3e,square:X3e,subtract:Q3e,unaryMinus:eEe,unaryPlus:tEe,xgcd:rEe,invmod:O3e,bitAnd:nEe,bitNot:iEe,bitOr:aEe,bitXor:sEe,leftShift:oEe,rightArithShift:uEe,rightLogShift:lEe,bellNumbers:cEe,catalan:fEe,composition:dEe,stirlingS2:pEe,config:YSe,import:XSe,typed:QSe,arg:mEe,conj:hEe,re:gEe,im:vEe,evaluate:yEe,help:wEe,parse:_Ee,parser:bEe,compile:AEe,distance:xEe,intersect:SEe,and:EEe,not:CEe,or:$Ee,xor:NEe,mapSlices:DEe,concat:kEe,count:IEe,cross:OEe,column:TEe,ctranspose:MEe,det:PEe,diag:BEe,diff:LEe,dot:FEe,getMatrixDataType:jEe,identity:VEe,filter:UEe,flatten:zEe,forEach:qEe,inv:HEe,pinv:GEe,eigs:REe,kron:ZEe,matrixFromFunction:JEe,matrixFromRows:YEe,matrixFromColumns:KEe,map:WEe,ones:XEe,partitionSelect:QEe,range:e4e,resize:r4e,reshape:t4e,rotate:n4e,rotationMatrix:i4e,row:a4e,size:s4e,sort:o4e,squeeze:u4e,subset:l4e,trace:c4e,transpose:f4e,zeros:d4e,fft:p4e,ifft:m4e,sylvester:K3e,schur:J3e,lyap:Y3e,solveODE:XCe,combinations:h4e,combinationsWithRep:v4e,factorial:g4e,gamma:y4e,kldivergence:_4e,lgamma:b4e,multinomial:A4e,permutations:w4e,pickRandom:x4e,random:S4e,randomInt:E4e,compare:C4e,compareNatural:$4e,compareText:N4e,deepEqual:D4e,equal:T4e,equalText:k4e,larger:I4e,largerEq:O4e,smaller:M4e,smallerEq:P4e,unequal:B4e,setCartesian:L4e,setDifference:F4e,setDistinct:R4e,setIntersect:U4e,setIsSubset:z4e,setMultiplicity:q4e,setPowerset:j4e,setSize:V4e,setSymDifference:H4e,setUnion:G4e,zpk2tf:Z4e,freqz:W4e,erf:K4e,zeta:J4e,cumsum:sCe,mad:Y4e,max:X4e,mean:Q4e,median:eCe,min:tCe,mode:rCe,prod:nCe,quantileSeq:iCe,std:aCe,sum:oCe,variance:uCe,corr:lCe,acos:cCe,acosh:fCe,acot:dCe,acoth:pCe,acsc:mCe,acsch:hCe,asec:vCe,asech:gCe,asin:yCe,asinh:bCe,atan:_Ce,atanh:wCe,atan2:ACe,cos:xCe,cosh:SCe,cot:ECe,coth:CCe,csc:$Ce,csch:NCe,sec:DCe,sech:TCe,sin:kCe,sinh:ICe,tan:OCe,tanh:MCe,to:PCe,clone:LCe,format:FCe,bin:BCe,oct:KCe,hex:UCe,isNaN:qCe,isInteger:zCe,isNegative:jCe,isNumeric:VCe,hasNumericValue:RCe,isPositive:HCe,isPrime:GCe,isZero:ZCe,print:JCe,typeOf:YCe,numeric:WCe},CM="help",e6e=["typed","mathWithTransform","Help"],t6e=Ae(CM,e6e,e=>{var{typed:t,mathWithTransform:r,Help:n}=e;return t(CM,{any:function(a){var s,o=a;if(typeof a!="string"){for(s in r)if(Ft(r,s)&&a===r[s]){o=s;break}}var u=Wa(QCe,o);if(!u){var l=typeof o=="function"?o.name:o;throw new Error('No documentation found on "'+l+'"')}return new n(u)}})}),$M="chain",r6e=["typed","Chain"],n6e=Ae($M,r6e,e=>{var{typed:t,Chain:r}=e;return t($M,{"":function(){return new r},any:function(i){return new r(i)}})}),NM="det",i6e=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],a6e=Ae(NM,i6e,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:s,unaryMinus:o}=e;return t(NM,{any:function(c){return hr(c)},"Array | Matrix":function(c){var f;switch(Jt(c)?f=c.size():Array.isArray(c)?(c=r(c),f=c.size()):f=[],f.length){case 0:return hr(c);case 1:if(f[0]===1)return hr(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ir(f)+")");case 2:{var d=f[0],p=f[1];if(d===p)return u(c.clone().valueOf(),d);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+Ir(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ir(f)+")")}}});function u(l,c,f){if(c===1)return hr(l[0][0]);if(c===2)return n(i(l[0][0],l[1][1]),i(l[1][0],l[0][1]));for(var d=!1,p=new Array(c).fill(0).map((E,C)=>C),m=0;m<c;m++){var h=p[m];if(s(l[h][m])){var v=void 0;for(v=m+1;v<c;v++)if(!s(l[p[v]][m])){h=p[v],p[v]=p[m],p[m]=h,d=!d;break}if(v===c)return l[h][m]}for(var y=l[h][m],w=m===0?1:l[p[m-1]][m-1],g=m+1;g<c;g++)for(var b=p[g],_=m+1;_<c;_++)l[b][_]=a(n(i(l[b][_],y),i(l[b][m],l[h][_])),w)}var x=l[p[c-1]][c-1];return d?o(x):x}}),DM="inv",s6e=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],o6e=Ae(DM,s6e,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:s,det:o,identity:u,abs:l}=e;return t(DM,{"Array | Matrix":function(d){var p=Jt(d)?d.size():mr(d);switch(p.length){case 1:if(p[0]===1)return Jt(d)?r([n(1,d.valueOf()[0])]):[n(1,d[0])];throw new RangeError("Matrix must be square (size: "+Ir(p)+")");case 2:{var m=p[0],h=p[1];if(m===h)return Jt(d)?r(c(d.valueOf(),m,h),d.storage()):c(d,m,h);throw new RangeError("Matrix must be square (size: "+Ir(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ir(p)+")")}},any:function(d){return n(1,d)}});function c(f,d,p){var m,h,v,y,w;if(d===1){if(y=f[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(d===2){var g=o(f);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],g),n(s(f[0][1]),g)],[n(s(f[1][0]),g),n(f[0][0],g)]]}else{var b=f.concat();for(m=0;m<d;m++)b[m]=b[m].concat();for(var _=u(d).valueOf(),x=0;x<p;x++){var E=l(b[x][x]),C=x;for(m=x+1;m<d;)l(b[m][x])>E&&(E=l(b[m][x]),C=m),m++;if(E===0)throw Error("Cannot calculate inverse, determinant is zero");m=C,m!==x&&(w=b[x],b[x]=b[m],b[m]=w,w=_[x],_[x]=_[m],_[m]=w);var $=b[x],D=_[x];for(m=0;m<d;m++){var N=b[m],k=_[m];if(m!==x){if(N[x]!==0){for(v=n(s(N[x]),$[x]),h=x;h<p;h++)N[h]=i(N[h],a(v,$[h]));for(h=0;h<p;h++)k[h]=i(k[h],a(v,D[h]))}}else{for(v=$[x],h=x;h<p;h++)N[h]=n(N[h],v);for(h=0;h<p;h++)k[h]=n(k[h],v)}}}return _}}}),TM="pinv",u6e=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],l6e=Ae(TM,u6e,e=>{var{typed:t,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:s,dot:o,ctranspose:u,divideScalar:l,multiply:c,add:f,Complex:d}=e;return t(TM,{"Array | Matrix":function(g){var b=Jt(g)?g.size():mr(g);switch(b.length){case 1:return y(g)?u(g):b[0]===1?n(g):s(u(g),o(g,g));case 2:{if(y(g))return u(g);var _=b[0],x=b[1];if(_===x)try{return n(g)}catch(E){if(!(E instanceof Error&&E.message.match(/Cannot calculate inverse, determinant is zero/)))throw E}return Jt(g)?r(p(g.valueOf(),_,x),g.storage()):p(g,_,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+Ir(b)+")")}},any:function(g){return a(g,0)?hr(g):l(1,g)}});function p(w,g,b){var{C:_,F:x}=h(w,g,b),E=c(n(c(u(_),_)),u(_)),C=c(u(x),n(c(x,u(x))));return c(C,E)}function m(w,g,b){for(var _=hr(w),x=0,E=0;E<g;E++){if(b<=x)return _;for(var C=E;v(_[C][x]);)if(C++,g===C&&(C=E,x++,b===x))return _;[_[C],_[E]]=[_[E],_[C]];for(var $=_[E][x],D=0;D<b;D++)_[E][D]=s(_[E][D],$);for(var N=0;N<g;N++)if(N!==E){$=_[N][x];for(var k=0;k<b;k++)_[N][k]=f(_[N][k],c(-1,c($,_[E][k])))}x++}return _}function h(w,g,b){var _=m(w,g,b),x=w.map((C,$)=>C.filter((D,N)=>N<g&&!v(o(_[N],_[N])))),E=_.filter((C,$)=>!v(o(_[$],_[$])));return{C:x,F:E}}function v(w){return a(f(w,d(1,1)),f(0,d(1,1)))}function y(w){return i(f(w,d(1,1)),f(c(w,0),d(1,1)))}});function c6e(e){var{addScalar:t,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:s,sqrt:o,abs:u,bignumber:l,diag:c,size:f,reshape:d,inv:p,qr:m,usolve:h,usolveAll:v,equal:y,complex:w,larger:g,smaller:b,matrixFromColumns:_,dot:x}=e;function E(re,F,H,ve){var ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,W=C(re,F,H,ve,ae);$(re,F,H,ve,ae,W);var{values:Q,C:J}=D(re,F,H,ve,ae);if(ae){var se=N(re,F,J,W,Q,H,ve);return{values:Q,eigenvectors:se}}return{values:Q}}function C(re,F,H,ve,ae){var W=ve==="BigNumber",Q=ve==="Complex",J=W?l(0):0,se=W?l(1):Q?w(1):1,Ce=W?l(1):1,Te=W?l(10):2,oe=a(Te,Te),q;ae&&(q=Array(F).fill(se));for(var me=!1;!me;){me=!0;for(var X=0;X<F;X++){for(var K=J,de=J,Ee=0;Ee<F;Ee++)X!==Ee&&(K=t(K,u(re[Ee][X])),de=t(de,u(re[X][Ee])));if(!y(K,0)&&!y(de,0)){for(var te=Ce,ce=K,pe=s(de,Te),Y=a(de,Te);b(ce,pe);)ce=a(ce,oe),te=a(te,Te);for(;g(ce,Y);)ce=s(ce,oe),te=s(te,Te);var be=b(s(t(ce,de),te),a(t(K,de),.95));if(be){me=!1;for(var ye=s(1,te),ge=0;ge<F;ge++)X!==ge&&(re[X][ge]=a(re[X][ge],ye),re[ge][X]=a(re[ge][X],te));ae&&(q[X]=a(q[X],ye))}}}}return ae?c(q):null}function $(re,F,H,ve,ae,W){var Q=ve==="BigNumber",J=ve==="Complex",se=Q?l(0):J?w(0):0;Q&&(H=l(H));for(var Ce=0;Ce<F-2;Ce++){for(var Te=0,oe=se,q=Ce+1;q<F;q++){var me=re[q][Ce];b(u(oe),u(me))&&(oe=me,Te=q)}if(!b(u(oe),H)){if(Te!==Ce+1){var X=re[Te];re[Te]=re[Ce+1],re[Ce+1]=X;for(var K=0;K<F;K++){var de=re[K][Te];re[K][Te]=re[K][Ce+1],re[K][Ce+1]=de}if(ae){var Ee=W[Te];W[Te]=W[Ce+1],W[Ce+1]=Ee}}for(var te=Ce+2;te<F;te++){var ce=s(re[te][Ce],oe);if(ce!==0){for(var pe=0;pe<F;pe++)re[te][pe]=r(re[te][pe],a(ce,re[Ce+1][pe]));for(var Y=0;Y<F;Y++)re[Y][Ce+1]=t(re[Y][Ce+1],a(ce,re[Y][te]));if(ae)for(var be=0;be<F;be++)W[te][be]=r(W[te][be],a(ce,W[Ce+1][be]))}}}}return W}function D(re,F,H,ve,ae){var W=ve==="BigNumber",Q=ve==="Complex",J=W?l(1):Q?w(1):1;W&&(H=l(H));for(var se=hr(re),Ce=[],Te=F,oe=[],q=ae?c(Array(F).fill(J)):void 0,me=ae?c(Array(Te).fill(J)):void 0,X=0;X<=100;){X+=1;for(var K=se[Te-1][Te-1],de=0;de<Te;de++)se[de][de]=r(se[de][de],K);var{Q:Ee,R:te}=m(se);se=i(te,Ee);for(var ce=0;ce<Te;ce++)se[ce][ce]=t(se[ce][ce],K);if(ae&&(me=i(me,Ee)),Te===1||b(u(se[Te-1][Te-2]),H)){X=0,Ce.push(se[Te-1][Te-1]),ae&&(oe.unshift([[1]]),U(me,F),q=i(q,me),Te>1&&(me=c(Array(Te-1).fill(J)))),Te-=1,se.pop();for(var pe=0;pe<Te;pe++)se[pe].pop()}else if(Te===2||b(u(se[Te-2][Te-3]),H)){X=0;var Y=k(se[Te-2][Te-2],se[Te-2][Te-1],se[Te-1][Te-2],se[Te-1][Te-1]);Ce.push(...Y),ae&&(oe.unshift(P(se[Te-2][Te-2],se[Te-2][Te-1],se[Te-1][Te-2],se[Te-1][Te-1],Y[0],Y[1],H,ve)),U(me,F),q=i(q,me),Te>2&&(me=c(Array(Te-2).fill(J)))),Te-=2,se.pop(),se.pop();for(var be=0;be<Te;be++)se[be].pop(),se[be].pop()}if(Te===0)break}if(Ce.sort((xe,ke)=>+r(u(xe),u(ke))),X>100){var ye=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Ce.join(", "));throw ye.values=Ce,ye.vectors=[],ye}var ge=ae?i(q,L(oe,F)):void 0;return{values:Ce,C:ge}}function N(re,F,H,ve,ae,W,Q){var J=p(H),se=i(J,re,H),Ce=Q==="BigNumber",Te=Q==="Complex",oe=Ce?l(0):Te?w(0):0,q=Ce?l(1):Te?w(1):1,me=[],X=[];for(var K of ae){var de=B(me,K,y);de===-1?(me.push(K),X.push(1)):X[de]+=1}for(var Ee=[],te=me.length,ce=Array(F).fill(oe),pe=c(Array(F).fill(q)),Y=function(){var ge=me[be],xe=r(se,i(ge,pe)),ke=v(xe,ce);for(ke.shift();ke.length<X[be];){var Ke=O(xe,F,ke,W,Q);if(Ke===null)break;ke.push(Ke)}var Ue=i(p(ve),H);ke=ke.map(rt=>i(Ue,rt)),Ee.push(...ke.map(rt=>({value:ge,vector:n(rt)})))},be=0;be<te;be++)Y();return Ee}function k(re,F,H,ve){var ae=t(re,ve),W=r(a(re,ve),a(F,H)),Q=a(ae,.5),J=a(o(r(a(ae,ae),a(4,W))),.5);return[t(Q,J),r(Q,J)]}function P(re,F,H,ve,ae,W,Q,J){var se=J==="BigNumber",Ce=J==="Complex",Te=se?l(0):Ce?w(0):0,oe=se?l(1):Ce?w(1):1;if(b(u(H),Q))return[[oe,Te],[Te,oe]];if(g(u(r(ae,W)),Q))return[[r(ae,ve),r(W,ve)],[H,H]];var q=r(re,ae),me=r(ve,ae);return b(u(F),Q)&&b(u(me),Q)?[[q,oe],[H,Te]]:[[F,Te],[me,oe]]}function U(re,F){for(var H=0;H<re.length;H++)re[H].push(...Array(F-re[H].length).fill(0));for(var ve=re.length;ve<F;ve++)re.push(Array(F).fill(0)),re[ve][ve]=1;return re}function L(re,F){for(var H=[],ve=0;ve<F;ve++)H[ve]=Array(F).fill(0);var ae=0;for(var W of re){for(var Q=W.length,J=0;J<Q;J++)for(var se=0;se<Q;se++)H[ae+J][ae+se]=W[J][se];ae+=Q}return H}function B(re,F,H){for(var ve=0;ve<re.length;ve++)if(H(re[ve],F))return ve;return-1}function O(re,F,H,ve,ae){for(var W=ae==="BigNumber"?l(1e3):1e3,Q,J=0;J<5;++J){Q=T(F,H,ae);try{Q=h(re,Q)}catch{continue}if(g(R(Q),W))break}if(J>=5)return null;for(J=0;;){var se=h(re,Q);if(b(R(j(Q,[se])),ve))break;if(++J>=10)return null;Q=le(se)}return Q}function T(re,F,H){var ve=H==="BigNumber",ae=H==="Complex",W=Array(re).fill(0).map(Q=>2*Math.random()-1);return ve&&(W=W.map(Q=>l(Q))),ae&&(W=W.map(Q=>w(Q))),W=j(W,F),le(W,H)}function j(re,F){var H=f(re);for(var ve of F)ve=d(ve,H),re=r(re,i(s(x(ve,re),x(ve,ve)),ve));return re}function R(re){return u(o(x(re,re)))}function le(re,F){var H=F==="BigNumber",ve=F==="Complex",ae=H?l(1):ve?w(1):1;return i(s(ae,R(re)),re)}return E}function f6e(e){var{config:t,addScalar:r,subtract:n,abs:i,atan:a,cos:s,sin:o,multiplyScalar:u,inv:l,bignumber:c,multiply:f,add:d}=e;function p($,D){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.relTol,k=arguments.length>3?arguments[3]:void 0,P=arguments.length>4?arguments[4]:void 0;if(k==="number")return m($,N,P);if(k==="BigNumber")return h($,N,P);throw TypeError("Unsupported data type: "+k)}function m($,D,N){var k=$.length,P=Math.abs(D/k),U,L;if(N){L=new Array(k);for(var B=0;B<k;B++)L[B]=Array(k).fill(0),L[B][B]=1}for(var O=x($);Math.abs(O[1])>=Math.abs(P);){var T=O[0][0],j=O[0][1];U=v($[T][T],$[j][j],$[T][j]),$=_($,U,T,j),N&&(L=w(L,U,T,j)),O=x($)}for(var R=Array(k).fill(0),le=0;le<k;le++)R[le]=$[le][le];return C(hr(R),L,N)}function h($,D,N){var k=$.length,P=i(D/k),U,L;if(N){L=new Array(k);for(var B=0;B<k;B++)L[B]=Array(k).fill(0),L[B][B]=1}for(var O=E($);i(O[1])>=i(P);){var T=O[0][0],j=O[0][1];U=y($[T][T],$[j][j],$[T][j]),$=b($,U,T,j),N&&(L=g(L,U,T,j)),O=E($)}for(var R=Array(k).fill(0),le=0;le<k;le++)R[le]=$[le][le];return C(hr(R),L,N)}function v($,D,N){var k=D-$;return Math.abs(k)<=t.relTol?Math.PI/4:.5*Math.atan(2*N/(D-$))}function y($,D,N){var k=n(D,$);return i(k)<=t.relTol?c(-1).acos().div(4):u(.5,a(f(2,N,l(k))))}function w($,D,N,k){for(var P=$.length,U=Math.cos(D),L=Math.sin(D),B=Array(P).fill(0),O=Array(P).fill(0),T=0;T<P;T++)B[T]=U*$[T][N]-L*$[T][k],O[T]=L*$[T][N]+U*$[T][k];for(var j=0;j<P;j++)$[j][N]=B[j],$[j][k]=O[j];return $}function g($,D,N,k){for(var P=$.length,U=s(D),L=o(D),B=Array(P).fill(c(0)),O=Array(P).fill(c(0)),T=0;T<P;T++)B[T]=n(u(U,$[T][N]),u(L,$[T][k])),O[T]=r(u(L,$[T][N]),u(U,$[T][k]));for(var j=0;j<P;j++)$[j][N]=B[j],$[j][k]=O[j];return $}function b($,D,N,k){for(var P=$.length,U=c(s(D)),L=c(o(D)),B=u(U,U),O=u(L,L),T=Array(P).fill(c(0)),j=Array(P).fill(c(0)),R=f(c(2),U,L,$[N][k]),le=r(n(u(B,$[N][N]),R),u(O,$[k][k])),re=d(u(O,$[N][N]),R,u(B,$[k][k])),F=0;F<P;F++)T[F]=n(u(U,$[N][F]),u(L,$[k][F])),j[F]=r(u(L,$[N][F]),u(U,$[k][F]));$[N][N]=le,$[k][k]=re,$[N][k]=c(0),$[k][N]=c(0);for(var H=0;H<P;H++)H!==N&&H!==k&&($[N][H]=T[H],$[H][N]=T[H],$[k][H]=j[H],$[H][k]=j[H]);return $}function _($,D,N,k){for(var P=$.length,U=Math.cos(D),L=Math.sin(D),B=U*U,O=L*L,T=Array(P).fill(0),j=Array(P).fill(0),R=B*$[N][N]-2*U*L*$[N][k]+O*$[k][k],le=O*$[N][N]+2*U*L*$[N][k]+B*$[k][k],re=0;re<P;re++)T[re]=U*$[N][re]-L*$[k][re],j[re]=L*$[N][re]+U*$[k][re];$[N][N]=R,$[k][k]=le,$[N][k]=0,$[k][N]=0;for(var F=0;F<P;F++)F!==N&&F!==k&&($[N][F]=T[F],$[F][N]=T[F],$[k][F]=j[F],$[F][k]=j[F]);return $}function x($){for(var D=$.length,N=0,k=[0,1],P=0;P<D;P++)for(var U=P+1;U<D;U++)Math.abs(N)<Math.abs($[P][U])&&(N=Math.abs($[P][U]),k=[P,U]);return[k,N]}function E($){for(var D=$.length,N=0,k=[0,1],P=0;P<D;P++)for(var U=P+1;U<D;U++)i(N)<i($[P][U])&&(N=i($[P][U]),k=[P,U]);return[k,N]}function C($,D,N){var k=$.length,P=Array(k),U;if(N){U=Array(k);for(var L=0;L<k;L++)U[L]=Array(k)}for(var B=0;B<k;B++){for(var O=0,T=$[0],j=0;j<$.length;j++)i($[j])<i(T)&&(O=j,T=$[O]);if(P[B]=$.splice(O,1)[0],N)for(var R=0;R<k;R++)U[B][R]=D[R][O],D[R].splice(O,1)}if(!N)return{values:P};var le=U.map((re,F)=>({value:P[F],vector:re}));return{values:P,eigenvectors:le}}return p}var d6e="eigs",p6e=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],m6e=Ae(d6e,p6e,e=>{var{config:t,typed:r,matrix:n,addScalar:i,subtract:a,equal:s,abs:o,atan:u,cos:l,sin:c,multiplyScalar:f,divideScalar:d,inv:p,bignumber:m,multiply:h,add:v,larger:y,column:w,flatten:g,number:b,complex:_,sqrt:x,diag:E,size:C,reshape:$,qr:D,usolve:N,usolveAll:k,im:P,re:U,smaller:L,matrixFromColumns:B,dot:O}=e,T=f6e({config:t,addScalar:i,subtract:a,column:w,flatten:g,equal:s,abs:o,atan:u,cos:l,sin:c,multiplyScalar:f,inv:p,bignumber:m,complex:_,multiply:h,add:v}),j=c6e({config:t,addScalar:i,subtract:a,multiply:h,multiplyScalar:f,flatten:g,divideScalar:d,sqrt:x,abs:o,bignumber:m,diag:E,size:C,reshape:$,qr:D,inv:p,usolve:N,usolveAll:k,equal:s,complex:_,larger:y,smaller:L,matrixFromColumns:B,dot:O});return r("eigs",{Array:function(W){return R(n(W))},"Array, number|BigNumber":function(W,Q){return R(n(W),{precision:Q})},"Array, Object"(ae,W){return R(n(ae),W)},Matrix:function(W){return R(W,{matricize:!0})},"Matrix, number|BigNumber":function(W,Q){return R(W,{precision:Q,matricize:!0})},"Matrix, Object":function(W,Q){var J={matricize:!0};return qi(J,Q),R(W,J)}});function R(ae){var W,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J="eigenvectors"in Q?Q.eigenvectors:!0,se=(W=Q.precision)!==null&&W!==void 0?W:t.relTol,Ce=le(ae,se,J);return Q.matricize&&(Ce.values=n(Ce.values),J&&(Ce.eigenvectors=Ce.eigenvectors.map(Te=>{var{value:oe,vector:q}=Te;return{value:oe,vector:n(q)}}))),J&&Object.defineProperty(Ce,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Ce}function le(ae,W,Q){var J=ae.toArray(),se=ae.size();if(se.length!==2||se[0]!==se[1])throw new RangeError("Matrix must be square (size: ".concat(Ir(se),")"));var Ce=se[0];if(F(J,Ce,W)&&(H(J,Ce),re(J,Ce,W))){var Te=ve(ae,J,Ce);return T(J,Ce,W,Te,Q)}var oe=ve(ae,J,Ce);return j(J,Ce,W,oe,Q)}function re(ae,W,Q){for(var J=0;J<W;J++)for(var se=J;se<W;se++)if(y(m(o(a(ae[J][se],ae[se][J]))),Q))return!1;return!0}function F(ae,W,Q){for(var J=0;J<W;J++)for(var se=0;se<W;se++)if(y(m(o(P(ae[J][se]))),Q))return!1;return!0}function H(ae,W){for(var Q=0;Q<W;Q++)for(var J=0;J<W;J++)ae[Q][J]=U(ae[Q][J])}function ve(ae,W,Q){var J=ae.datatype();if(J==="number"||J==="BigNumber"||J==="Complex")return J;for(var se=!1,Ce=!1,Te=!1,oe=0;oe<Q;oe++)for(var q=0;q<Q;q++){var me=W[oe][q];if(br(me)||mg(me))se=!0;else if(Ar(me))Ce=!0;else if(zl(me))Te=!0;else throw TypeError("Unsupported type in Matrix: "+Tn(me))}if(Ce&&Te&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Te){for(var X=0;X<Q;X++)for(var K=0;K<Q;K++)W[X][K]=_(W[X][K]);return"Complex"}if(Ce){for(var de=0;de<Q;de++)for(var Ee=0;Ee<Q;Ee++)W[de][Ee]=m(W[de][Ee]);return"BigNumber"}if(se){for(var te=0;te<Q;te++)for(var ce=0;ce<Q;ce++)W[te][ce]=b(W[te][ce]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),kM="expm",h6e=["typed","abs","add","identity","inv","multiply"],v6e=Ae(kM,h6e,e=>{var{typed:t,abs:r,add:n,identity:i,inv:a,multiply:s}=e;return t(kM,{Matrix:function(f){var d=f.size();if(d.length!==2||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+Ir(d)+")");for(var p=d[0],m=1e-15,h=o(f),v=u(h,m),y=v.q,w=v.j,g=s(f,Math.pow(2,-w)),b=i(p),_=i(p),x=1,E=g,C=-1,$=1;$<=y;$++)$>1&&(E=s(E,g),C=-C),x=x*(y-$+1)/((2*y-$+1)*$),b=n(b,s(x,E)),_=n(_,s(x*C,E));for(var D=s(a(_),b),N=0;N<w;N++)D=s(D,D);return Sd(f)?f.createSparseMatrix(D):D}});function o(c){for(var f=c.size()[0],d=0,p=0;p<f;p++){for(var m=0,h=0;h<f;h++)m+=r(c.get([p,h]));d=Math.max(m,d)}return d}function u(c,f){for(var d=30,p=0;p<d;p++)for(var m=0;m<=p;m++){var h=p-m;if(l(c,m,h)<f)return{q:m,j:h}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function l(c,f,d){for(var p=1,m=2;m<=f;m++)p*=m;for(var h=p,v=f+1;v<=2*f;v++)h*=v;var y=h*(2*f+1);return 8*Math.pow(c/Math.pow(2,d),2*f)*p*p/(h*y)}}),IM="sqrtm",g6e=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],y6e=Ae(IM,g6e,e=>{var{typed:t,abs:r,add:n,multiply:i,map:a,sqrt:s,subtract:o,inv:u,size:l,max:c,identity:f}=e,d=1e3,p=1e-6;function m(h){var v,y=0,w=h,g=f(l(h));do{var b=w;if(w=i(.5,n(b,u(g))),g=i(.5,n(g,u(b))),v=c(r(o(w,b))),v>p&&++y>d)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>p);return w}return t(IM,{"Array | Matrix":function(v){var y=Jt(v)?v.size():mr(v);switch(y.length){case 1:if(y[0]===1)return a(v,s);throw new RangeError("Matrix must be square (size: "+Ir(y)+")");case 2:{var w=y[0],g=y[1];if(w===g)return m(v);throw new RangeError("Matrix must be square (size: "+Ir(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Ir(y)+")")}}})}),OM="sylvester",b6e=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],_6e=Ae(OM,b6e,e=>{var{typed:t,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:s,concat:o,transpose:u,index:l,subset:c,add:f,subtract:d,identity:p,lusolve:m,abs:h}=e;return t(OM,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(w,g,b){return v(i(w),g,b)},"Array, Array, Matrix":function(w,g,b){return v(i(w),i(g),b)},"Array, Matrix, Array":function(w,g,b){return v(i(w),g,i(b))},"Matrix, Array, Matrix":function(w,g,b){return v(w,i(g),b)},"Matrix, Array, Array":function(w,g,b){return v(w,i(g),i(b))},"Matrix, Matrix, Array":function(w,g,b){return v(w,g,i(b))},"Array, Array, Array":function(w,g,b){return v(i(w),i(g),i(b)).toArray()}});function v(y,w,g){for(var b=w.size()[0],_=y.size()[0],x=r(y),E=x.T,C=x.U,$=r(a(-1,w)),D=$.T,N=$.U,k=a(a(u(C),g),N),P=s(0,_),U=[],L=(Te,oe)=>o(Te,oe,1),B=(Te,oe)=>o(Te,oe,0),O=0;O<b;O++)if(O<b-1&&h(c(D,l(O+1,O)))>1e-5){for(var T=B(c(k,l(P,O)),c(k,l(P,O+1))),j=0;j<O;j++)T=f(T,B(a(U[j],c(D,l(j,O))),a(U[j],c(D,l(j,O+1)))));var R=a(p(_),a(-1,c(D,l(O,O)))),le=a(p(_),a(-1,c(D,l(O+1,O)))),re=a(p(_),a(-1,c(D,l(O,O+1)))),F=a(p(_),a(-1,c(D,l(O+1,O+1)))),H=B(L(f(E,R),le),L(re,f(E,F))),ve=m(H,T);U[O]=ve.subset(l(s(0,_),0)),U[O+1]=ve.subset(l(s(_,2*_),0)),O++}else{for(var ae=c(k,l(P,O)),W=0;W<O;W++)ae=f(ae,a(U[W],c(D,l(W,O))));var Q=c(D,l(O,O)),J=d(E,a(Q,p(_)));U[O]=m(J,ae)}var se=i(n(...U)),Ce=a(C,a(se,u(N)));return Ce}}),MM="schur",A6e=["typed","matrix","identity","multiply","qr","norm","subtract"],w6e=Ae(MM,A6e,e=>{var{typed:t,matrix:r,identity:n,multiply:i,qr:a,norm:s,subtract:o}=e;return t(MM,{Array:function(c){var f=u(r(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return u(c)}});function u(l){var c=l.size()[0],f=l,d=n(c),p=0,m;do{m=f;var h=a(f),v=h.Q,y=h.R;if(f=i(y,v),d=i(d,v),p++>100)break}while(s(o(f,m))>1e-4);return{U:d,T:f}}}),PM="lyap",x6e=["typed","matrix","sylvester","multiply","transpose"],S6e=Ae(PM,x6e,e=>{var{typed:t,matrix:r,sylvester:n,multiply:i,transpose:a}=e;return t(PM,{"Matrix, Matrix":function(o,u){return n(o,a(o),i(-1,u))},"Array, Matrix":function(o,u){return n(r(o),a(r(o)),i(-1,u))},"Matrix, Array":function(o,u){return n(o,a(r(o)),r(i(-1,u)))},"Array, Array":function(o,u){return n(r(o),a(r(o)),r(i(-1,u))).toArray()}})}),E6e="divide",C6e=["typed","matrix","multiply","equalScalar","divideScalar","inv"],$6e=Ae(E6e,C6e,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:s}=e,o=ya({typed:t,equalScalar:i}),u=du({typed:t});return t("divide",Qj({"Array | Matrix, Array | Matrix":function(c,f){return n(c,s(f))},"DenseMatrix, any":function(c,f){return u(c,f,a,!1)},"SparseMatrix, any":function(c,f){return o(c,f,a,!1)},"Array, any":function(c,f){return u(r(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,s(f))}},a.signatures))}),BM="distance",N6e=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],D6e=Ae(BM,N6e,e=>{var{typed:t,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:s,sqrt:o,abs:u}=e;return t(BM,{"Array, Array, Array":function(_,x,E){if(_.length===2&&x.length===2&&E.length===2){if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(x,E))throw new TypeError("LinePoint1 should not be same with LinePoint2");var C=n(E[1],x[1]),$=n(x[0],E[0]),D=n(i(E[0],x[1]),i(x[0],E[1]));return v(_[0],_[1],C,$,D)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(_,x,E){if(Object.keys(_).length===2&&Object.keys(x).length===2&&Object.keys(E).length===2){if(!c(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(E))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(m(x),m(E)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in _&&"pointY"in _&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in E&&"lineTwoPtY"in E){var C=n(E.lineTwoPtY,x.lineOnePtY),$=n(x.lineOnePtX,E.lineTwoPtX),D=n(i(E.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,E.lineTwoPtY));return v(_.pointX,_.pointY,C,$,D)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(_,x){if(_.length===2&&x.length===3){if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(_[0],_[1],x[0],x[1],x[2])}else if(_.length===3&&x.length===6){if(!f(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(_[0],_[1],_[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(_.length===x.length&&_.length>0){if(!d(_))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return w(_,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(_,x){if(Object.keys(_).length===2&&Object.keys(x).length===3){if(!c(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return v(_.pointX,_.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(x).length===6){if(!f(_))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return y(_.pointX,_.pointY,_.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===2&&Object.keys(x).length===2){if(!c(_))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointTwoX"in x&&"pointTwoY"in x)return w([_.pointOneX,_.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(x).length===3){if(!f(_))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointOneZ"in _&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return w([_.pointOneX,_.pointOneY,_.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(_){if(!h(_))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return g(_)}});function l(b){return typeof b=="number"||Ar(b)}function c(b){return b.constructor!==Array&&(b=m(b)),l(b[0])&&l(b[1])}function f(b){return b.constructor!==Array&&(b=m(b)),l(b[0])&&l(b[1])&&l(b[2])}function d(b){return Array.isArray(b)||(b=m(b)),b.every(l)}function p(b){return b.constructor!==Array&&(b=m(b)),l(b[0])&&l(b[1])&&l(b[2])&&l(b[3])&&l(b[4])&&l(b[5])}function m(b){for(var _=Object.keys(b),x=[],E=0;E<_.length;E++)x.push(b[_[E]]);return x}function h(b){if(b[0].length===2&&l(b[0][0])&&l(b[0][1])){if(b.some(_=>_.length!==2||!l(_[0])||!l(_[1])))return!1}else if(b[0].length===3&&l(b[0][0])&&l(b[0][1])&&l(b[0][2])){if(b.some(_=>_.length!==3||!l(_[0])||!l(_[1])||!l(_[2])))return!1}else return!1;return!0}function v(b,_,x,E,C){var $=u(r(r(i(x,b),i(E,_)),C)),D=o(r(i(x,x),i(E,E)));return a($,D)}function y(b,_,x,E,C,$,D,N,k){var P=[n(i(n(C,_),k),i(n($,x),N)),n(i(n($,x),D),i(n(E,b),k)),n(i(n(E,b),N),i(n(C,_),D))];P=o(r(r(i(P[0],P[0]),i(P[1],P[1])),i(P[2],P[2])));var U=o(r(r(i(D,D),i(N,N)),i(k,k)));return a(P,U)}function w(b,_){for(var x=b.length,E=0,C=0,$=0;$<x;$++)C=n(b[$],_[$]),E=r(i(C,C),E);return o(E)}function g(b){for(var _=[],x=[],E=[],C=0;C<b.length-1;C++)for(var $=C+1;$<b.length;$++)b[0].length===2?(x=[b[C][0],b[C][1]],E=[b[$][0],b[$][1]]):b[0].length===3&&(x=[b[C][0],b[C][1],b[C][2]],E=[b[$][0],b[$][1],b[$][2]]),_.push(w(x,E));return _}}),T6e="intersect",k6e=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],I6e=Ae(T6e,k6e,e=>{var{typed:t,config:r,abs:n,add:i,addScalar:a,matrix:s,multiply:o,multiplyScalar:u,divideScalar:l,subtract:c,smaller:f,equalScalar:d,flatten:p,isZero:m,isNumeric:h}=e;return t("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(N,k,P){var U=v(N.valueOf(),k.valueOf(),P.valueOf());return U===null?null:s(U)},"Matrix, Matrix, Matrix, Matrix":function(N,k,P,U){var L=y(N.valueOf(),k.valueOf(),P.valueOf(),U.valueOf());return L===null?null:s(L)}});function v(D,N,k){if(D=w(D),N=w(N),k=w(k),!b(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(k))throw new TypeError("Array with 4 numbers expected as third argument");return $(D[0],D[1],D[2],N[0],N[1],N[2],k[0],k[1],k[2],k[3])}function y(D,N,k,P){if(D=w(D),N=w(N),k=w(k),P=w(P),D.length===2){if(!g(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!g(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!g(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!g(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(D,N,k,P)}else if(D.length===3){if(!b(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!b(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return C(D[0],D[1],D[2],N[0],N[1],N[2],k[0],k[1],k[2],P[0],P[1],P[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function w(D){return D.length===1?D[0]:D.length>1&&Array.isArray(D[0])&&D.every(N=>Array.isArray(N)&&N.length===1)?p(D):D}function g(D){return D.length===2&&h(D[0])&&h(D[1])}function b(D){return D.length===3&&h(D[0])&&h(D[1])&&h(D[2])}function _(D){return D.length===4&&h(D[0])&&h(D[1])&&h(D[2])&&h(D[3])}function x(D,N,k,P){var U=D,L=k,B=c(U,N),O=c(L,P),T=c(u(B[0],O[1]),u(O[0],B[1]));if(m(T)||f(n(T),r.relTol))return null;var j=u(O[0],U[1]),R=u(O[1],U[0]),le=u(O[0],L[1]),re=u(O[1],L[0]),F=l(a(c(c(j,R),le),re),T);return i(o(B,F),U)}function E(D,N,k,P,U,L,B,O,T,j,R,le){var re=u(c(D,N),c(k,P)),F=u(c(U,L),c(B,O)),H=u(c(T,j),c(R,le));return a(a(re,F),H)}function C(D,N,k,P,U,L,B,O,T,j,R,le){var re=E(D,B,j,B,N,O,R,O,k,T,le,T),F=E(j,B,P,D,R,O,U,N,le,T,L,k),H=E(D,B,P,D,N,O,U,N,k,T,L,k),ve=E(j,B,j,B,R,O,R,O,le,T,le,T),ae=E(P,D,P,D,U,N,U,N,L,k,L,k),W=c(u(re,F),u(H,ve)),Q=c(u(ae,ve),u(F,F));if(m(Q))return null;var J=l(W,Q),se=l(a(re,u(J,F)),ve),Ce=a(D,u(J,c(P,D))),Te=a(N,u(J,c(U,N))),oe=a(k,u(J,c(L,k))),q=a(B,u(se,c(j,B))),me=a(O,u(se,c(R,O))),X=a(T,u(se,c(le,T)));return d(Ce,q)&&d(Te,me)&&d(oe,X)?[Ce,Te,oe]:null}function $(D,N,k,P,U,L,B,O,T,j){var R=u(D,B),le=u(P,B),re=u(N,O),F=u(U,O),H=u(k,T),ve=u(L,T),ae=c(c(c(j,R),re),H),W=c(c(c(a(a(le,F),ve),R),re),H),Q=l(ae,W),J=a(D,u(Q,c(P,D))),se=a(N,u(Q,c(U,N))),Ce=a(k,u(Q,c(L,k)));return[J,se,Ce]}}),LM="sum",O6e=["typed","config","add","numeric"],VH=Ae(LM,O6e,e=>{var{typed:t,config:r,add:n,numeric:i}=e;return t(LM,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":s,"...":function(u){if($h(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(o){var u;return df(o,function(l){try{u=u===void 0?l:n(u,l)}catch(c){throw Qa(c,"sum",l)}}),u===void 0&&(u=i(0,r.number)),typeof u=="string"&&(u=i(u,Cf(u,r))),u}function s(o,u){try{var l=V2(o,u,n);return l}catch(c){throw Qa(c,"sum")}}}),$y="cumsum",M6e=["typed","add","unaryPlus"],HH=Ae($y,M6e,e=>{var{typed:t,add:r,unaryPlus:n}=e;return t($y,{Array:i,Matrix:function(l){return l.create(i(l.valueOf(),l.datatype()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(l,c){return l.create(s(l.valueOf(),c),l.datatype())},"...":function(l){if($h(l))throw new TypeError("All values expected to be scalar in function cumsum");return i(l)}});function i(u){try{return a(u)}catch(l){throw Qa(l,$y)}}function a(u){if(u.length===0)return[];for(var l=[n(u[0])],c=1;c<u.length;++c)l.push(r(l[c-1],u[c]));return l}function s(u,l){var c=mr(u);if(l<0||l>=c.length)throw new cu(l,c.length);try{return o(u,l)}catch(f){throw Qa(f,$y)}}function o(u,l){var c,f,d;if(l<=0){var p=u[0][0];if(Array.isArray(p)){for(d=$V(u),f=[],c=0;c<d.length;c++)f[c]=o(d[c],l-1);return f}else return a(u)}else{for(f=[],c=0;c<u.length;c++)f[c]=o(u[c],l-1);return f}}}),FM="mean",P6e=["typed","add","divide"],GH=Ae(FM,P6e,e=>{var{typed:t,add:r,divide:n}=e;return t(FM,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(o){if($h(o))throw new TypeError("Scalar values expected in function mean");return a(o)}});function i(s,o){try{var u=V2(s,o,r),l=Array.isArray(s)?mr(s):s.size();return n(u,l[o])}catch(c){throw Qa(c,"mean")}}function a(s){var o,u=0;if(df(s,function(l){try{o=o===void 0?l:r(o,l),u++}catch(c){throw Qa(c,"mean",l)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(o,u)}}),RM="median",B6e=["typed","add","divide","compare","partitionSelect"],L6e=Ae(RM,B6e,e=>{var{typed:t,add:r,divide:n,compare:i,partitionSelect:a}=e;function s(l){try{l=ln(l.valueOf());var c=l.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,d=a(l,f+1),p=l[f],m=0;m<f;++m)i(l[m],p)>0&&(p=l[m]);return u(p,d)}else{var h=a(l,(c-1)/2);return o(h)}}catch(v){throw Qa(v,"median")}}var o=t({"number | BigNumber | Complex | Unit":function(c){return c}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(r(c,f),2)}});return t(RM,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if($h(c))throw new TypeError("Scalar values expected in function median");return s(c)}})}),UM="mad",F6e=["typed","abs","map","median","subtract"],R6e=Ae(UM,F6e,e=>{var{typed:t,abs:r,map:n,median:i,subtract:a}=e;return t(UM,{"Array | Matrix":s,"...":function(u){return s(u)}});function s(o){if(o=ln(o.valueOf()),o.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(o);return i(n(o,function(l){return r(a(l,u))}))}catch(l){throw l instanceof TypeError&&l.message.includes("median")?new TypeError(l.message.replace("median","mad")):Qa(l,"mad")}}}),Rx="unbiased",zM="variance",U6e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],ZH=Ae(zM,U6e,e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,mapSlices:s,isNaN:o}=e;return t(zM,{"Array | Matrix":function(f){return u(f,Rx)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,d){return l(f,d,Rx)},"Array | Matrix, number | BigNumber, string":l,"...":function(f){return u(f,Rx)}});function u(c,f){var d,p=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(df(c,function(v){try{d=d===void 0?v:r(d,v),p++}catch(y){throw Qa(y,"variance",v)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var m=a(d,p);if(d=void 0,df(c,function(v){var y=n(v,m);d=d===void 0?i(y,y):r(d,i(y,y))}),o(d))return d;switch(f){case"uncorrected":return a(d,p);case"biased":return a(d,p+1);case"unbiased":{var h=Ar(d)?d.mul(0):0;return p===1?h:a(d,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(c,f,d){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(c,f,p=>u(p,d))}catch(p){throw Qa(p,"variance")}}}),qM="quantileSeq",z6e=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],WH=Ae(qM,z6e,e=>{var{typed:t,bignumber:r,add:n,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:u,isInteger:l,smaller:c,smallerEq:f,larger:d,mapSlices:p}=e;return t(qM,{"Array | Matrix, number | BigNumber":(w,g)=>h(w,g,!1),"Array | Matrix, number | BigNumber, number":(w,g,b)=>m(w,g,!1,b,h),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(w,g,b,_)=>m(w,g,b,_,h),"Array | Matrix, Array | Matrix":(w,g)=>v(w,g,!1),"Array | Matrix, Array | Matrix, number":(w,g,b)=>m(w,g,!1,b,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(w,g,b,_)=>m(w,g,b,_,v)});function m(w,g,b,_,x){return p(w,_,E=>x(E,g,b))}function h(w,g,b){var _,x=w.valueOf();if(c(g,0))throw new Error("N/prob must be non-negative");if(f(g,1))return br(g)?y(x,g,b):r(y(x,g,b));if(d(g,1)){if(!l(g))throw new Error("N must be a positive integer");if(d(g,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var E=n(g,1);_=[];for(var C=0;c(C,g);C++){var $=a(C+1,E);_.push(y(x,$,b))}return br(g)?_:r(_)}}function v(w,g,b){for(var _=w.valueOf(),x=g.valueOf(),E=[],C=0;C<x.length;++C)E.push(y(_,x[C],b));return E}function y(w,g,b){var _=ln(w),x=_.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var E=br(g)?g*(x-1):g.times(x-1),C=br(g)?Math.floor(E):E.floor().toNumber(),$=br(g)?E%1:E.minus(C);if(l(E))return b?_[E]:o(_,br(g)?E:E.valueOf());var D,N;if(b)D=_[C],N=_[C+1];else{N=o(_,C+1),D=_[C];for(var k=0;k<C;++k)u(_[k],D)>0&&(D=_[k])}return n(s(D,i(1,$)),s(N,$))}}),jM="std",q6e=["typed","map","sqrt","variance"],KH=Ae(jM,q6e,e=>{var{typed:t,map:r,sqrt:n,variance:i}=e;return t(jM,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(o){return a(o)}});function a(s,o){if(s.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return bo(u)?r(u,n):n(u)}catch(l){throw l instanceof TypeError&&l.message.includes(" variance")?new TypeError(l.message.replace(" variance"," std")):l}}}),VM="corr",j6e=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],V6e=Ae(VM,j6e,e=>{var{typed:t,matrix:r,sqrt:n,sum:i,add:a,subtract:s,multiply:o,pow:u,divide:l}=e;return t(VM,{"Array, Array":function(p,m){return c(p,m)},"Matrix, Matrix":function(p,m){var h=c(p.toArray(),m.toArray());return Array.isArray(h)?r(h):h}});function c(d,p){var m=[];if(Array.isArray(d[0])&&Array.isArray(p[0])){if(d.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var h=0;h<d.length;h++){if(d[h].length!==p[h].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");m.push(f(d[h],p[h]))}return m}else{if(d.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(d,p)}}function f(d,p){var m=d.length,h=i(d),v=i(p),y=d.reduce((x,E,C)=>a(x,o(E,p[C])),0),w=i(d.map(x=>u(x,2))),g=i(p.map(x=>u(x,2))),b=s(o(m,y),o(h,v)),_=n(o(s(o(m,w),u(h,2)),s(o(m,g),u(v,2))));return l(b,_)}}),HM="combinations",H6e=["typed"],G6e=Ae(HM,H6e,e=>{var{typed:t}=e;return t(HM,{"number, number":WV,"BigNumber, BigNumber":function(n,i){var a=n.constructor,s,o,u=n.minus(i),l=new a(1);if(!GM(n)||!GM(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(s=l,i.lt(u))for(o=l;o.lte(u);o=o.plus(l))s=s.times(i.plus(o)).dividedBy(o);else for(o=l;o.lte(i);o=o.plus(l))s=s.times(u.plus(o)).dividedBy(o);return s}})});function GM(e){return e.isInteger()&&e.gte(0)}var ZM="combinationsWithRep",Z6e=["typed"],W6e=Ae(ZM,Z6e,e=>{var{typed:t}=e;return t(ZM,{"number, number":function(n,i){if(!zt(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!zt(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Ml(n,n+i-1);return a/Ml(1,i)}var s=Ml(i+1,n+i-1);return s/Ml(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,s,o,u=new a(1),l=n.minus(u);if(!WM(n)||!WM(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=u,i.lt(l))for(o=u;o.lte(l);o=o.plus(u))s=s.times(i.plus(o)).dividedBy(o);else for(o=u;o.lte(i);o=o.plus(u))s=s.times(l.plus(o)).dividedBy(o);return s}})});function WM(e){return e.isInteger()&&e.gte(0)}var KM="gamma",K6e=["typed","config","multiplyScalar","pow","BigNumber","Complex"],J6e=Ae(KM,K6e,e=>{var{typed:t,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:s}=e;function o(l){if(l.im===0)return r_(l.re);if(l.re<.5){var c=new s(1-l.re,-l.im),f=new s(Math.PI*l.re,Math.PI*l.im);return new s(Math.PI).div(f.sin()).div(o(c))}l=new s(l.re-1,l.im);for(var d=new s(Cm[0],0),p=1;p<Cm.length;++p){var m=new s(Cm[p],0);d=d.add(m.div(l.add(p)))}var h=new s(l.re+JV+.5,l.im),v=Math.sqrt(2*Math.PI),y=h.pow(l.add(.5)),w=h.neg().exp();return d.mul(v).mul(y).mul(w)}return t(KM,{number:r_,Complex:o,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):u(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(l){if(l<8)return new a([1,1,2,6,24,120,720,5040][l]);var c=r.precision+(Math.log(l.toNumber())|0),f=a.clone({precision:c});if(l%2===1)return l.times(u(new a(l-1)));for(var d=l,p=new f(l),m=l.toNumber();d>2;)d-=2,m+=d,p=p.times(m);return new a(p.toPrecision(a.precision))}}),JM="lgamma",Y6e=["Complex","typed"],X6e=Ae(JM,Y6e,e=>{var{Complex:t,typed:r}=e,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(JM,{number:n_,Complex:s,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(l){var c=6.283185307179586,f=1.1447298858494002,d=.1;if(l.isNaN())return new t(NaN,NaN);if(l.im===0)return new t(n_(l.re),0);if(l.re>=n||Math.abs(l.im)>=i)return o(l);if(l.re<=d){var p=Rhe(c,l.im)*Math.floor(.5*l.re+.25),m=l.mul(Math.PI).sin().log(),h=s(new t(1-l.re,-l.im));return new t(f,p).sub(m).sub(h)}else return l.im>=0?u(l):u(l.conjugate()).conjugate()}function o(l){for(var c=l.sub(.5).mul(l.log()).sub(l).add(YV),f=new t(1,0).div(l),d=f.div(l),p=a[0],m=a[1],h=2*d.re,v=d.re*d.re+d.im*d.im,y=2;y<8;y++){var w=m;m=-v*p+a[y],p=h*p+w}var g=f.mul(d.mul(p).add(m));return c.add(g)}function u(l){var c=0,f=0,d=l;for(l=l.add(1);l.re<=n;){d=d.mul(l);var p=d.im<0?1:0;p!==0&&f===0&&c++,f=p,l=l.add(1)}return o(l).sub(d.log()).sub(new t(0,c*2*Math.PI*1))}}),YM="factorial",Q6e=["typed","gamma"],e$e=Ae(YM,Q6e,e=>{var{typed:t,gamma:r}=e;return t(YM,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":t.referToSelf(n=>i=>wr(i,n))})}),XM="kldivergence",t$e=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],r$e=Ae(XM,t$e,e=>{var{typed:t,matrix:r,divide:n,sum:i,multiply:a,map:s,dotDivide:o,log:u,isNumeric:l}=e;return t(XM,{"Array, Array":function(d,p){return c(r(d),r(p))},"Matrix, Array":function(d,p){return c(d,r(p))},"Array, Matrix":function(d,p){return c(r(d),p)},"Matrix, Matrix":function(d,p){return c(d,p)}});function c(f,d){var p=d.size().length,m=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(m>1)throw new Error("second object must be one dimensional");if(p!==m)throw new Error("Length of two vectors must be equal");var h=i(f);if(h===0)throw new Error("Sum of elements in first object must be non zero");var v=i(d);if(v===0)throw new Error("Sum of elements in second object must be non zero");var y=n(f,i(f)),w=n(d,i(d)),g=i(a(y,s(o(y,w),b=>u(b))));return l(g)?g:Number.NaN}}),QM="multinomial",n$e=["typed","add","divide","multiply","factorial","isInteger","isPositive"],i$e=Ae(QM,n$e,e=>{var{typed:t,add:r,divide:n,multiply:i,factorial:a,isInteger:s,isPositive:o}=e;return t(QM,{"Array | Matrix":function(l){var c=0,f=1;return df(l,function(d){if(!s(d)||!o(d))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,d),f=i(f,a(d))}),n(a(c),f)}})}),e7="permutations",a$e=["typed","factorial"],s$e=Ae(e7,a$e,e=>{var{typed:t,factorial:r}=e;return t(e7,{"number | BigNumber":r,"number, number":function(i,a){if(!zt(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!zt(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Ml(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var s,o;if(!t7(i)||!t7(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(s=u,o=i.minus(a).plus(1);o.lte(i);o=o.plus(1))s=s.times(o);return s}})});function t7(e){return e.isInteger()&&e.gte(0)}var v$={exports:{}};v$.exports;(function(e){(function(t,r,n){function i(u){var l=this,c=o();l.next=function(){var f=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=f-(l.c=f|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(u),l.s0<0&&(l.s0+=1),l.s1-=c(u),l.s1<0&&(l.s1+=1),l.s2-=c(u),l.s2<0&&(l.s2+=1),c=null}function a(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function s(u,l){var c=new i(u),f=l&&l.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&a(f,c),d.state=function(){return a(c,{})}),d}function o(){var u=4022871197,l=function(c){c=String(c);for(var f=0;f<c.length;f++){u+=c.charCodeAt(f);var d=.02519603282416938*u;u=d>>>0,d-=u,d*=u,u=d>>>0,d-=u,u+=d*4294967296}return(u>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.alea=s})(Ut,e,!1)})(v$);var o$e=v$.exports,g$={exports:{}};g$.exports;(function(e){(function(t,r,n){function i(o){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var f=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^f^f>>>8},o===(o|0)?u.x=o:l+=o;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,u.next()}function a(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u}function s(o,u){var l=new i(o),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(d+p)/(1<<21);while(m===0);return m},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&a(c,l),f.state=function(){return a(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor128=s})(Ut,e,!1)})(g$);var u$e=g$.exports,y$={exports:{}};y$.exports;(function(e){(function(t,r,n){function i(o){var u=this,l="";u.next=function(){var f=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(f^f<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,o===(o|0)?u.x=o:l+=o;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function a(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u.v=o.v,u.d=o.d,u}function s(o,u){var l=new i(o),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(d+p)/(1<<21);while(m===0);return m},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&a(c,l),f.state=function(){return a(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorwow=s})(Ut,e,!1)})(y$);var l$e=y$.exports,b$={exports:{}};b$.exports;(function(e){(function(t,r,n){function i(o){var u=this;u.next=function(){var c=u.x,f=u.i,d,p;return d=c[f],d^=d>>>7,p=d^d<<24,d=c[f+1&7],p^=d^d>>>10,d=c[f+3&7],p^=d^d>>>3,d=c[f+4&7],p^=d^d<<7,d=c[f+7&7],d=d^d<<13,p^=d^d<<9,c[f]=p,u.i=f+1&7,p};function l(c,f){var d,p=[];if(f===(f|0))p[0]=f;else for(f=""+f,d=0;d<f.length;++d)p[d&7]=p[d&7]<<15^f.charCodeAt(d)+p[d+1&7]<<13;for(;p.length<8;)p.push(0);for(d=0;d<8&&p[d]===0;++d);for(d==8?p[7]=-1:p[d],c.x=p,c.i=0,d=256;d>0;--d)c.next()}l(u,o)}function a(o,u){return u.x=o.x.slice(),u.i=o.i,u}function s(o,u){o==null&&(o=+new Date);var l=new i(o),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(d+p)/(1<<21);while(m===0);return m},f.int32=l.next,f.quick=f,c&&(c.x&&a(c,l),f.state=function(){return a(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorshift7=s})(Ut,e,!1)})(b$);var c$e=b$.exports,_$={exports:{}};_$.exports;(function(e){(function(t,r,n){function i(o){var u=this;u.next=function(){var c=u.w,f=u.X,d=u.i,p,m;return u.w=c=c+1640531527|0,m=f[d+34&127],p=f[d=d+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=f[d]=m^p,u.i=d,m+(c^c>>>16)|0};function l(c,f){var d,p,m,h,v,y=[],w=128;for(f===(f|0)?(p=f,f=null):(f=f+"\0",p=0,w=Math.max(w,f.length)),m=0,h=-32;h<w;++h)f&&(p^=f.charCodeAt((h+32)%f.length)),h===0&&(v=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(v=v+1640531527|0,d=y[h&127]^=p+v,m=d==0?m+1:0);for(m>=128&&(y[(f&&f.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=y[m+34&127],d=y[m=m+1&127],p^=p<<13,d^=d<<17,p^=p>>>15,d^=d>>>12,y[m]=p^d;c.w=v,c.X=y,c.i=m}l(u,o)}function a(o,u){return u.i=o.i,u.w=o.w,u.X=o.X.slice(),u}function s(o,u){o==null&&(o=+new Date);var l=new i(o),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(d+p)/(1<<21);while(m===0);return m},f.int32=l.next,f.quick=f,c&&(c.X&&a(c,l),f.state=function(){return a(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor4096=s})(Ut,e,!1)})(_$);var f$e=_$.exports,A$={exports:{}};A$.exports;(function(e){(function(t,r,n){function i(o){var u=this,l="";u.next=function(){var f=u.b,d=u.c,p=u.d,m=u.a;return f=f<<25^f>>>7^d,d=d-p|0,p=p<<24^p>>>8^m,m=m-f|0,u.b=f=f<<20^f>>>12^d,u.c=d=d-p|0,u.d=p<<16^d>>>16^m,u.a=m-f|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,o===Math.floor(o)?(u.a=o/4294967296|0,u.b=o|0):l+=o;for(var c=0;c<l.length+20;c++)u.b^=l.charCodeAt(c)|0,u.next()}function a(o,u){return u.a=o.a,u.b=o.b,u.c=o.c,u.d=o.d,u}function s(o,u){var l=new i(o),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(d+p)/(1<<21);while(m===0);return m},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&a(c,l),f.state=function(){return a(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.tychei=s})(Ut,e,!1)})(A$);var d$e=A$.exports,JH={exports:{}};const p$e={},m$e=Object.freeze(Object.defineProperty({__proto__:null,default:p$e},Symbol.toStringTag,{value:"Module"})),xo=OR(m$e);(function(e){(function(t,r,n){var i=256,a=6,s=52,o="random",u=n.pow(i,a),l=n.pow(2,s),c=l*2,f=i-1,d;function p(b,_,x){var E=[];_=_==!0?{entropy:!0}:_||{};var C=y(v(_.entropy?[b,g(r)]:b??w(),3),E),$=new m(E),D=function(){for(var N=$.g(a),k=u,P=0;N<l;)N=(N+P)*i,k*=i,P=$.g(1);for(;N>=c;)N/=2,k/=2,P>>>=1;return(N+P)/k};return D.int32=function(){return $.g(4)|0},D.quick=function(){return $.g(4)/4294967296},D.double=D,y(g($.S),r),(_.pass||x||function(N,k,P,U){return U&&(U.S&&h(U,$),N.state=function(){return h($,{})}),P?(n[o]=N,k):N})(D,C,"global"in _?_.global:this==n,_.state)}function m(b){var _,x=b.length,E=this,C=0,$=E.i=E.j=0,D=E.S=[];for(x||(b=[x++]);C<i;)D[C]=C++;for(C=0;C<i;C++)D[C]=D[$=f&$+b[C%x]+(_=D[C])],D[$]=_;(E.g=function(N){for(var k,P=0,U=E.i,L=E.j,B=E.S;N--;)k=B[U=f&U+1],P=P*i+B[f&(B[U]=B[L=f&L+k])+(B[L]=k)];return E.i=U,E.j=L,P})(i)}function h(b,_){return _.i=b.i,_.j=b.j,_.S=b.S.slice(),_}function v(b,_){var x=[],E=typeof b,C;if(_&&E=="object")for(C in b)try{x.push(v(b[C],_-1))}catch{}return x.length?x:E=="string"?b:b+"\0"}function y(b,_){for(var x=b+"",E,C=0;C<x.length;)_[f&C]=f&(E^=_[f&C]*19)+x.charCodeAt(C++);return g(_)}function w(){try{var b;return d&&(b=d.randomBytes)?b=b(i):(b=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(b)),g(b)}catch{var _=t.navigator,x=_&&_.plugins;return[+new Date,t,x,t.screen,g(r)]}}function g(b){return String.fromCharCode.apply(0,b)}if(y(n.random(),r),e.exports){e.exports=p;try{d=xo}catch{}}else n["seed"+o]=p})(typeof self<"u"?self:Ut,[],Math)})(JH);var h$e=JH.exports,v$e=o$e,g$e=u$e,y$e=l$e,b$e=c$e,_$e=f$e,A$e=d$e,lp=h$e;lp.alea=v$e;lp.xor128=g$e;lp.xorwow=y$e;lp.xorshift7=b$e;lp.xor4096=_$e;lp.tychei=A$e;var w$e=lp;const YH=el(w$e);var x$e=YH(Date.now());function Zm(e){var t;function r(i){t=i===null?x$e:YH(String(i))}r(e);function n(){return t()}return n}var r7="pickRandom",S$e=["typed","config","?on"],E$e=Ae(r7,S$e,e=>{var{typed:t,config:r,on:n}=e,i=Zm(r.randomSeed);return n&&n("config",function(s,o){s.randomSeed!==o.randomSeed&&(i=Zm(s.randomSeed))}),t(r7,{"Array | Matrix":function(o){return a(o,{})},"Array | Matrix, Object":function(o,u){return a(o,u)},"Array | Matrix, number":function(o,u){return a(o,{number:u})},"Array | Matrix, Array | Matrix":function(o,u){return a(o,{weights:u})},"Array | Matrix, Array | Matrix, number":function(o,u,l){return a(o,{number:l,weights:u})},"Array | Matrix, number, Array | Matrix":function(o,u,l){return a(o,{number:u,weights:l})}});function a(s,o){var{number:u,weights:l,elementWise:c=!0}=o,f=typeof u>"u";f&&(u=1);var d=Jt(s)?s.create:Jt(l)?l.create:null;s=s.valueOf(),l&&(l=l.valueOf()),c===!0&&(s=ln(s),l=ln(l));var p=0;if(typeof l<"u"){if(l.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var m=0,h=l.length;m<h;m++){if(!br(l[m])||l[m]<0)throw new Error("Weights must be an array of positive numbers");p+=l[m]}}for(var v=s.length,y=[],w;y.length<u;){if(typeof l>"u")w=s[Math.floor(i()*v)];else for(var g=i()*p,b=0,_=s.length;b<_;b++)if(g-=l[b],g<0){w=s[b];break}y.push(w)}return f?y[0]:d?d(y):y}});function w$(e,t){var r=[];if(e=e.slice(0),e.length>1)for(var n=0,i=e.shift();n<i;n++)r.push(w$(e,t));else for(var a=0,s=e.shift();a<s;a++)r.push(t());return r}var n7="random",C$e=["typed","config","?on"],$$e=Ae(n7,C$e,e=>{var{typed:t,config:r,on:n}=e,i=Zm(r.randomSeed);return n&&n("config",function(o,u){o.randomSeed!==u.randomSeed&&(i=Zm(o.randomSeed))}),t(n7,{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,u)=>s(o,u),"Array | Matrix":o=>a(o,0,1),"Array | Matrix, number":(o,u)=>a(o,0,u),"Array | Matrix, number, number":(o,u,l)=>a(o,u,l)});function a(o,u,l){var c=w$(o.valueOf(),()=>s(u,l));return Jt(o)?o.create(c,"number"):c}function s(o,u){return o+i()*(u-o)}}),i7="randomInt",N$e=["typed","config","log2","?on"],D$e=Ae(i7,N$e,e=>{var{typed:t,config:r,log2:n,on:i}=e,a=Zm(r.randomSeed);return i&&i("config",function(l,c){l.randomSeed!==c.randomSeed&&(a=Zm(l.randomSeed))}),t(i7,{"":()=>o(0,2),number:l=>o(0,l),"number, number":(l,c)=>o(l,c),bigint:l=>u(0n,l),"bigint, bigint":u,"Array | Matrix":l=>s(l,0,1),"Array | Matrix, number":(l,c)=>s(l,0,c),"Array | Matrix, number, number":(l,c,f)=>s(l,c,f)});function s(l,c,f){var d=w$(l.valueOf(),()=>o(c,f));return Jt(l)?l.create(d,"number"):d}function o(l,c){return Math.floor(l+a()*(c-l))}function u(l,c){var f=2n**30n,d=c-l;if(d<=f)return l+BigInt(o(0,Number(d)));for(var p=n(d),m=d;m>=d;){m=0n;for(var h=0;h<p;++h)m=2n*m+(a()<.5?0n:1n)}return l+m}}),a7="stirlingS2",T$e=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],k$e=Ae(a7,T$e,e=>{var{typed:t,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:s,factorial:o,combinations:u,isNegative:l,isInteger:c,number:f,bignumber:d,larger:p}=e,m=[],h=[];return t(a7,{"number | BigNumber, number | BigNumber":function(y,w){if(!c(y)||l(y)||!c(w)||l(w))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(w,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var g=!(br(y)&&br(w)),b=g?h:m,_=g?d:f,x=f(y),E=f(w);if(b[x]&&b[x].length>E)return b[x][E];for(var C=0;C<=x;++C)if(b[C]||(b[C]=[_(C===0?1:0)]),C!==0)for(var $=b[C],D=b[C-1],N=$.length;N<=C&&N<=E;++N)N===C?$[N]=1:$[N]=r(i(_(N),D[N]),D[N-1]);return b[x][E]}})}),s7="bellNumbers",I$e=["typed","addScalar","isNegative","isInteger","stirlingS2"],O$e=Ae(s7,I$e,e=>{var{typed:t,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=e;return t(s7,{"number | BigNumber":function(o){if(!i(o)||n(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,l=0;l<=o;l++)u=r(u,a(o,l));return u}})}),o7="catalan",M$e=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],P$e=Ae(o7,M$e,e=>{var{typed:t,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:s,isInteger:o}=e;return t(o7,{"number | BigNumber":function(l){if(!o(l)||s(l))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(l,2),l),r(l,1))}})}),u7="composition",B$e=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],L$e=Ae(u7,B$e,e=>{var{typed:t,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:s,larger:o}=e;return t(u7,{"number | BigNumber, number | BigNumber":function(l,c){if(!s(l)||!i(l)||!s(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(o(c,l))throw new TypeError("k must be less than or equal to n in function composition");return n(r(l,-1),r(c,-1))}})}),l7="leafCount",F$e=["parse","typed"],R$e=Ae(l7,F$e,e=>{var{parse:t,typed:r}=e;function n(i){var a=0;return i.forEach(s=>{a+=n(s)}),a||1}return r(l7,{Node:function(a){return n(a)}})});function c7(e){return Jr(e)||_i(e)&&e.isUnary()&&Jr(e.args[0])}function p_(e){return!!(Jr(e)||(lf(e)||_i(e))&&e.args.every(p_)||Gl(e)&&p_(e.content))}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ux(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var U$e="simplifyUtil",z$e=["FunctionNode","OperatorNode","SymbolNode"],x$=Ae(U$e,z$e,e=>{var{FunctionNode:t,OperatorNode:r,SymbolNode:n}=e,i=!0,a=!1,s="defaultF",o={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},l={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(g,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o,x=s;if(typeof g=="string"?x=g:_i(g)?x=g.fn.toString():lf(g)?x=g.name:Gl(g)&&(x="paren"),Ft(_,x)){var E=_[x];if(Ft(E,b))return E[b];if(Ft(o,x))return o[x][b]}if(Ft(_,s)){var C=_[s];return Ft(C,b)?C[b]:o[s][b]}if(Ft(o,x)){var $=o[x];if(Ft($,b))return $[b]}return o[s][b]}function f(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(g,"commutative",b)}function d(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(g,"associative",b)}function p(g,b){var _=Ux({},g);for(var x in b)Ft(g,x)?_[x]=Ux(Ux({},b[x]),g[x]):_[x]=b[x];return _}function m(g,b){if(!g.args||g.args.length===0)return g;g.args=h(g,b);for(var _=0;_<g.args.length;_++)m(g.args[_],b)}function h(g,b){var _,x=[],E=function($){for(var D=0;D<$.args.length;D++){var N=$.args[D];_i(N)&&_===N.op?E(N):x.push(N)}};return d(g,b)?(_=g.op,E(g),x):g.args}function v(g,b){if(!(!g.args||g.args.length===0)){for(var _=w(g),x=g.args.length,E=0;E<x;E++)v(g.args[E],b);if(x>2&&d(g,b)){for(var C=g.args.pop();g.args.length>0;)C=_([g.args.pop(),C]);g.args=C.args}}}function y(g,b){if(!(!g.args||g.args.length===0)){for(var _=w(g),x=g.args.length,E=0;E<x;E++)y(g.args[E],b);if(x>2&&d(g,b)){for(var C=g.args.shift();g.args.length>0;)C=_([C,g.args.shift()]);g.args=C.args}}}function w(g){return _i(g)?function(b){try{return new r(g.op,g.fn,b,g.implicit)}catch(_){return console.error(_),[]}}:function(b){return new t(new n(g.name),b)}}return{createMakeNodeFunction:w,hasProperty:c,isCommutative:f,isAssociative:d,mergeContext:p,flatten:m,allChildren:h,unflattenr:v,unflattenl:y,defaultContext:o,realContext:u,positiveContext:l}}),q$e="simplify",j$e=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],V$e=Ae(q$e,j$e,e=>{var{typed:t,parse:r,equal:n,resolve:i,simplifyConstant:a,simplifyCore:s,AccessorNode:o,ArrayNode:u,ConstantNode:l,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:p,ParenthesisNode:m,SymbolNode:h,replacer:v}=e,{hasProperty:y,isCommutative:w,isAssociative:g,mergeContext:b,flatten:_,unflattenr:x,unflattenl:E,createMakeNodeFunction:C,defaultContext:$,realContext:D,positiveContext:N}=x$({FunctionNode:c,OperatorNode:p,SymbolNode:h});t.addConversion({from:"Object",to:"Map",convert:Sm});var k=t("simplify",{Node:j,"Node, Map":(Q,J)=>j(Q,!1,J),"Node, Map, Object":(Q,J,se)=>j(Q,!1,J,se),"Node, Array":j,"Node, Array, Map":j,"Node, Array, Map, Object":j});t.removeConversion({from:"Object",to:"Map",convert:Sm}),k.defaultContext=$,k.realContext=D,k.positiveContext=N;function P(Q){return Q.transform(function(J){return Gl(J)?P(J.content):J})}var U={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};k.rules=[s,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},a,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},a,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function L(Q,J){var se={};if(Q.s){var Ce=Q.s.split("->");if(Ce.length===2)se.l=Ce[0],se.r=Ce[1];else throw SyntaxError("Could not parse rule: "+Q.s)}else se.l=Q.l,se.r=Q.r;se.l=P(r(se.l)),se.r=P(r(se.r));for(var Te of["imposeContext","repeat","assuming"])Te in Q&&(se[Te]=Q[Te]);if(Q.evaluate&&(se.evaluate=r(Q.evaluate)),g(se.l,J)){var oe=!w(se.l,J),q;oe&&(q=T());var me=C(se.l),X=T();se.expanded={},se.expanded.l=me([se.l,X]),_(se.expanded.l,J),x(se.expanded.l,J),se.expanded.r=me([se.r,X]),oe&&(se.expandedNC1={},se.expandedNC1.l=me([q,se.l]),se.expandedNC1.r=me([q,se.r]),se.expandedNC2={},se.expandedNC2.l=me([q,se.expanded.l]),se.expandedNC2.r=me([q,se.expanded.r]))}return se}function B(Q,J){for(var se=[],Ce=0;Ce<Q.length;Ce++){var Te=Q[Ce],oe=void 0,q=typeof Te;switch(q){case"string":Te={s:Te};case"object":oe=L(Te,J);break;case"function":oe=Te;break;default:throw TypeError("Unsupported type of rule: "+q)}se.push(oe)}return se}var O=0;function T(){return new h("_p"+O++)}function j(Q,J){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cv(),Ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Te=Ce.consoleDebug;J=B(J||k.rules,Ce.context);var oe=i(Q,se);oe=P(oe);for(var q={},me=oe.toString({parenthesis:"all"});!q[me];){q[me]=!0,O=0;var X=me;Te&&console.log("Working on: ",me);for(var K=0;K<J.length;K++){var de="";if(typeof J[K]=="function"?(oe=J[K](oe,Ce),Te&&(de=J[K].name)):(_(oe,Ce.context),oe=le(oe,J[K],Ce.context),Te&&(de="".concat(J[K].l.toString()," -> ").concat(J[K].r.toString()))),Te){var Ee=oe.toString({parenthesis:"all"});Ee!==X&&(console.log("Applying",de,"produced",Ee),X=Ee)}E(oe,Ce.context)}me=oe.toString({parenthesis:"all"})}return oe}function R(Q,J,se){var Ce=Q;if(Q)for(var Te=0;Te<Q.length;++Te){var oe=le(Q[Te],J,se);oe!==Q[Te]&&(Ce===Q&&(Ce=Q.slice()),Ce[Te]=oe)}return Ce}function le(Q,J,se){if(J.assuming){for(var Ce in J.assuming)for(var Te in J.assuming[Ce])if(y(Ce,Te,se)!==J.assuming[Ce][Te])return Q}var oe=b(J.imposeContext,se),q=Q;if(q instanceof p||q instanceof c){var me=R(q.args,J,se);me!==q.args&&(q=q.clone(),q.args=me)}else if(q instanceof m){if(q.content){var X=le(q.content,J,se);X!==q.content&&(q=new m(X))}}else if(q instanceof u){var K=R(q.items,J,se);K!==q.items&&(q=new u(K))}else if(q instanceof o){var de=q.object;q.object&&(de=le(q.object,J,se));var Ee=q.index;q.index&&(Ee=le(q.index,J,se)),(de!==q.object||Ee!==q.index)&&(q=new o(de,Ee))}else if(q instanceof f){var te=R(q.dimensions,J,se);te!==q.dimensions&&(q=new f(te))}else if(q instanceof d){var ce=!1,pe={};for(var Y in q.properties)pe[Y]=le(q.properties[Y],J,se),pe[Y]!==q.properties[Y]&&(ce=!0);ce&&(q=new d(pe))}var be=J.r,ye=ae(J.l,q,oe)[0];if(!ye&&J.expanded&&(be=J.expanded.r,ye=ae(J.expanded.l,q,oe)[0]),!ye&&J.expandedNC1&&(be=J.expandedNC1.r,ye=ae(J.expandedNC1.l,q,oe)[0],ye||(be=J.expandedNC2.r,ye=ae(J.expandedNC2.l,q,oe)[0])),ye){var ge=q.implicit;q=be.clone(),ge&&"implicit"in be&&(q.implicit=!0),q=q.transform(function(xe){return xe.isSymbolNode&&Ft(ye.placeholders,xe.name)?ye.placeholders[xe.name].clone():xe})}return J.repeat&&q!==Q&&(q=le(q,J,se)),q}function re(Q,J){var se=[],Ce,Te,oe=C(Q);if(w(Q,J))for(var q=0;q<Q.args.length;q++)Te=Q.args.slice(0),Te.splice(q,1),Ce=Te.length===1?Te[0]:oe(Te),se.push(oe([Q.args[q],Ce]));else for(var me=1;me<Q.args.length;me++){var X=Q.args[0];me>1&&(X=oe(Q.args.slice(0,me))),Te=Q.args.slice(me),Ce=Te.length===1?Te[0]:oe(Te),se.push(oe([X,Ce]))}return se}function F(Q,J){var se={placeholders:{}};if(!Q.placeholders&&!J.placeholders)return se;if(Q.placeholders){if(!J.placeholders)return Q}else return J;for(var Ce in Q.placeholders)if(Ft(Q.placeholders,Ce)&&(se.placeholders[Ce]=Q.placeholders[Ce],Ft(J.placeholders,Ce)&&!W(Q.placeholders[Ce],J.placeholders[Ce])))return null;for(var Te in J.placeholders)Ft(J.placeholders,Te)&&(se.placeholders[Te]=J.placeholders[Te]);return se}function H(Q,J){var se=[];if(Q.length===0||J.length===0)return se;for(var Ce,Te=0;Te<Q.length;Te++)for(var oe=0;oe<J.length;oe++)Ce=F(Q[Te],J[oe]),Ce&&se.push(Ce);return se}function ve(Q){if(Q.length===0)return Q;for(var J=Q.reduce(H),se=[],Ce={},Te=0;Te<J.length;Te++){var oe=JSON.stringify(J[Te],v);Ce[oe]||(Ce[oe]=!0,se.push(J[Te]))}return se}function ae(Q,J,se,Ce){var Te=[{placeholders:{}}];if(Q instanceof p&&J instanceof p||Q instanceof c&&J instanceof c){if(Q instanceof p){if(Q.op!==J.op||Q.fn!==J.fn)return[]}else if(Q instanceof c&&Q.name!==J.name)return[];if(J.args.length===1&&Q.args.length===1||!g(J,se)&&J.args.length===Q.args.length||Ce){for(var oe=[],q=0;q<Q.args.length;q++){var me=ae(Q.args[q],J.args[q],se);if(me.length===0)break;oe.push(me)}if(oe.length!==Q.args.length){if(!w(J,se)||Q.args.length===1)return[];if(Q.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var X=ae(Q.args[0],J.args[1],se);if(X.length===0)return[];var K=ae(Q.args[1],J.args[0],se);if(K.length===0)return[];oe=[X,K]}Te=ve(oe)}else if(J.args.length>=2&&Q.args.length===2){for(var de=re(J,se),Ee=[],te=0;te<de.length;te++){var ce=ae(Q,de[te],se,!0);Ee=Ee.concat(ce)}return Ee}else{if(Q.args.length>2)throw Error("Unexpected non-binary associative function: "+Q.toString());return[]}}else if(Q instanceof h){if(Q.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(U[Q.name]){if(Q.name!==J.name)return[]}else switch(Q.name[1]>="a"&&Q.name[1]<="z"?Q.name.substring(0,2):Q.name[0]){case"n":case"_p":Te[0].placeholders[Q.name]=J;break;case"c":case"cl":if(Jr(J))Te[0].placeholders[Q.name]=J;else return[];break;case"v":if(!Jr(J))Te[0].placeholders[Q.name]=J;else return[];break;case"vl":if(ea(J))Te[0].placeholders[Q.name]=J;else return[];break;case"cd":if(c7(J))Te[0].placeholders[Q.name]=J;else return[];break;case"vd":if(!c7(J))Te[0].placeholders[Q.name]=J;else return[];break;case"ce":if(p_(J))Te[0].placeholders[Q.name]=J;else return[];break;case"ve":if(!p_(J))Te[0].placeholders[Q.name]=J;else return[];break;default:throw new Error("Invalid symbol in rule: "+Q.name)}}else if(Q instanceof l){if(!n(Q.value,J.value))return[]}else return[];return Te}function W(Q,J){if(Q instanceof l&&J instanceof l){if(!n(Q.value,J.value))return!1}else if(Q instanceof h&&J instanceof h){if(Q.name!==J.name)return!1}else if(Q instanceof p&&J instanceof p||Q instanceof c&&J instanceof c){if(Q instanceof p){if(Q.op!==J.op||Q.fn!==J.fn)return!1}else if(Q instanceof c&&Q.name!==J.name)return!1;if(Q.args.length!==J.args.length)return!1;for(var se=0;se<Q.args.length;se++)if(!W(Q.args[se],J.args[se]))return!1}else return!1;return!0}return k}),H$e="simplifyConstant",G$e=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Z$e=Ae(H$e,G$e,e=>{var{typed:t,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:s,AccessorNode:o,ArrayNode:u,ConstantNode:l,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:p,SymbolNode:m}=e,{isCommutative:h,isAssociative:v,allChildren:y,createMakeNodeFunction:w}=x$({FunctionNode:c,OperatorNode:p,SymbolNode:m}),g=t("simplifyConstant",{Node:L=>E(U(L,{})),"Node, Object":function(B,O){return E(U(B,O))}});function b(L){return mg(L)?L.valueOf():L instanceof Array?L.map(b):Jt(L)?i(b(L.valueOf())):L}function _(L,B,O){try{return n[L].apply(null,B)}catch{return B=B.map(b),$(n[L].apply(null,B),O)}}var x=t({Fraction:N,number:function(B){return B<0?D(new l(-B)):new l(B)},BigNumber:function(B){return B<0?D(new l(-B)):new l(B)},bigint:function(B){return B<0n?D(new l(-B)):new l(B)},Complex:function(B){throw new Error("Cannot convert Complex number to Node")},string:function(B){return new l(B)},Matrix:function(B){return new u(B.valueOf().map(O=>x(O)))}});function E(L){return bn(L)?L:x(L)}function C(L,B){var O=B&&B.exactFractions!==!1;if(O&&isFinite(L)&&a){var T=a(L),j=B&&typeof B.fractionsLimit=="number"?B.fractionsLimit:1/0;if(T.valueOf()===L&&T.n<j&&T.d<j)return T}return L}var $=t({"string, Object":function(B,O){var T=Cf(B,r);if(T==="BigNumber")return s===void 0&&d$(),s(B);if(T==="bigint")return BigInt(B);if(T==="Fraction")return a===void 0&&DH(),a(B);var j=parseFloat(B);return C(j,O)},"Fraction, Object":function(B,O){return B},"BigNumber, Object":function(B,O){return B},"number, Object":function(B,O){return C(B,O)},"bigint, Object":function(B,O){return B},"Complex, Object":function(B,O){return B.im!==0?B:C(B.re,O)},"Matrix, Object":function(B,O){return i(C(B.valueOf()))},"Array, Object":function(B,O){return B.map(C)}});function D(L){return new p("-","unaryMinus",[L])}function N(L){var B=j=>r.number==="BigNumber"&&s?s(j):Number(j),O=L.s*L.n,T=O<0n?new p("-","unaryMinus",[new l(-B(O))]):new l(B(O));return L.d===1n?T:new p("/","divide",[T,new l(B(L.d))])}function k(L,B,O){if(!Ch(B))return new o(E(L),E(B));if(oo(L)||Jt(L)){for(var T=Array.from(B.dimensions);T.length>0;)if(Jr(T[0])&&typeof T[0].value!="string"){var j=$(T.shift().value,O);oo(L)?L=L.items[j-1]:(L=L.valueOf()[j-1],L instanceof Array&&(L=i(L)))}else if(T.length>1&&Jr(T[1])&&typeof T[1].value!="string"){var R=$(T[1].value,O),le=[],re=oo(L)?L.items:L.valueOf();for(var F of re)if(oo(F))le.push(F.items[R-1]);else if(Jt(L))le.push(F[R-1]);else break;if(le.length===re.length)oo(L)?L=new u(le):L=i(le),T.splice(1,1);else break}else break;return T.length===B.dimensions.length?new o(E(L),B):T.length>0?(B=new f(T),new o(E(L),B)):L}if(F2(L)&&B.dimensions.length===1&&Jr(B.dimensions[0])){var H=B.dimensions[0].value;return H in L.properties?L.properties[H]:new l}return new o(E(L),B)}function P(L,B,O,T){var j=B.shift(),R=B.reduce((le,re)=>{if(!bn(re)){var F=le.pop();if(bn(F))return[F,re];try{return le.push(_(L,[F,re],T)),le}catch{le.push(F)}}le.push(E(le.pop()));var H=le.length===1?le[0]:O(le);return[O([H,E(re)])]},[j]);return R.length===1?R[0]:O([R[0],x(R[1])])}function U(L,B){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return $(L.value,B);case"bigint":return $(L.value,B);case"string":return L.value;default:if(!isNaN(L.value))return $(L.value,B)}return L;case"FunctionNode":if(n[L.name]&&n[L.name].rawArgs)return L;{var O=["add","multiply"];if(!O.includes(L.name)){var T=L.args.map(Ce=>U(Ce,B));if(!T.some(bn))try{return _(L.name,T,B)}catch{}if(L.name==="size"&&T.length===1&&oo(T[0])){for(var j=[],R=T[0];oo(R);)j.push(R.items.length),R=R.items[0];return i(j)}return new c(L.name,T.map(E))}}case"OperatorNode":{var le=L.fn.toString(),re,F,H=w(L);if(_i(L)&&L.isUnary())re=[U(L.args[0],B)],bn(re[0])?F=H(re):F=_(le,re,B);else if(v(L,B.context))if(re=y(L,B.context),re=re.map(Ce=>U(Ce,B)),h(le,B.context)){for(var ve=[],ae=[],W=0;W<re.length;W++)bn(re[W])?ae.push(re[W]):ve.push(re[W]);ve.length>1?(F=P(le,ve,H,B),ae.unshift(F),F=P(le,ae,H,B)):F=P(le,re,H,B)}else F=P(le,re,H,B);else re=L.args.map(Ce=>U(Ce,B)),F=P(le,re,H,B);return F}case"ParenthesisNode":return U(L.content,B);case"AccessorNode":return k(U(L.object,B),U(L.index,B),B);case"ArrayNode":{var Q=L.items.map(Ce=>U(Ce,B));return Q.some(bn)?new u(Q.map(E)):i(Q)}case"IndexNode":return new f(L.dimensions.map(Ce=>g(Ce,B)));case"ObjectNode":{var J={};for(var se in L.properties)J[se]=g(L.properties[se],B);return new d(J)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return g}),d7="simplifyCore",W$e=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],K$e=Ae(d7,W$e,e=>{var{typed:t,parse:r,equal:n,isZero:i,add:a,subtract:s,multiply:o,divide:u,pow:l,AccessorNode:c,ArrayNode:f,ConstantNode:d,FunctionNode:p,IndexNode:m,ObjectNode:h,OperatorNode:v,ParenthesisNode:y,SymbolNode:w}=e,g=new d(0),b=new d(1),_=new d(!0),x=new d(!1);function E(N){return _i(N)&&["and","not","or"].includes(N.op)}var{hasProperty:C,isCommutative:$}=x$({FunctionNode:p,OperatorNode:v,SymbolNode:w});function D(N){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=k?k.context:void 0;if(C(N,"trivial",P)){if(lf(N)&&N.args.length===1)return D(N.args[0],k);var U=!1,L=0;if(N.forEach(ae=>{++L,L===1&&(U=D(ae,k))}),L===1)return U}var B=N;if(lf(B)){var O=Wwe(B.name);if(O){if(B.args.length>2&&C(B,"associative",P))for(;B.args.length>2;){var T=B.args.pop(),j=B.args.pop();B.args.push(new v(O,B.name,[T,j]))}B=new v(O,B.name,B.args)}else return new p(D(B.fn),B.args.map(ae=>D(ae,k)))}if(_i(B)&&B.isUnary()){var R=D(B.args[0],k);if(B.op==="~"&&_i(R)&&R.isUnary()&&R.op==="~"||B.op==="not"&&_i(R)&&R.isUnary()&&R.op==="not"&&E(R.args[0]))return R.args[0];var le=!0;if(B.op==="-"&&_i(R)&&(R.isBinary()&&R.fn==="subtract"&&(B=new v("-","subtract",[R.args[1],R.args[0]]),le=!1),R.isUnary()&&R.op==="-"))return R.args[0];if(le)return new v(B.op,B.fn,[R])}if(_i(B)&&B.isBinary()){var re=D(B.args[0],k),F=D(B.args[1],k);if(B.op==="+"){if(Jr(re)&&i(re.value))return F;if(Jr(F)&&i(F.value))return re;_i(F)&&F.isUnary()&&F.op==="-"&&(F=F.args[0],B=new v("-","subtract",[re,F]))}if(B.op==="-")return _i(F)&&F.isUnary()&&F.op==="-"?D(new v("+","add",[re,F.args[0]]),k):Jr(re)&&i(re.value)?D(new v("-","unaryMinus",[F])):Jr(F)&&i(F.value)?re:new v(B.op,B.fn,[re,F]);if(B.op==="*"){if(Jr(re)){if(i(re.value))return g;if(n(re.value,1))return F}if(Jr(F)){if(i(F.value))return g;if(n(F.value,1))return re;if($(B,P))return new v(B.op,B.fn,[F,re],B.implicit)}return new v(B.op,B.fn,[re,F],B.implicit)}if(B.op==="/")return Jr(re)&&i(re.value)?g:Jr(F)&&n(F.value,1)?re:new v(B.op,B.fn,[re,F]);if(B.op==="^"&&Jr(F)){if(i(F.value))return b;if(n(F.value,1))return re}if(B.op==="and"){if(Jr(re))if(re.value){if(E(F))return F;if(Jr(F))return F.value?_:x}else return x;if(Jr(F))if(F.value){if(E(re))return re}else return x}if(B.op==="or"){if(Jr(re)){if(re.value)return _;if(E(F))return F}if(Jr(F)){if(F.value)return _;if(E(re))return re}}return new v(B.op,B.fn,[re,F])}if(_i(B))return new v(B.op,B.fn,B.args.map(ae=>D(ae,k)));if(oo(B))return new f(B.items.map(ae=>D(ae,k)));if(jd(B))return new c(D(B.object,k),D(B.index,k));if(Ch(B))return new m(B.dimensions.map(ae=>D(ae,k)));if(F2(B)){var H={};for(var ve in B.properties)H[ve]=D(B.properties[ve],k);return new h(H)}return B}return t(d7,{Node:D,"Node,Object":D})}),J$e="resolve",Y$e=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],X$e=Ae(J$e,Y$e,e=>{var{typed:t,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:s}=e;function o(u,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!l)return u;if(ea(u)){if(c.has(u.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var d=l.get(u.name);if(bn(d)){var p=new Set(c);return p.add(u.name),o(d,l,p)}else return typeof d=="number"?r(String(d)):d!==void 0?new n(d):u}else if(_i(u)){var m=u.args.map(function(v){return o(v,l,c)});return new a(u.op,u.fn,m,u.implicit)}else{if(Gl(u))return new s(o(u.content,l,c));if(lf(u)){var h=u.args.map(function(v){return o(v,l,c)});return new i(u.name,h)}}return u.map(v=>o(v,l,c))}return t("resolve",{Node:o,"Node, Map | null | undefined":o,"Node, Object":(u,l)=>o(u,Sm(l)),"Array | Matrix":t.referToSelf(u=>l=>l.map(c=>u(c))),"Array | Matrix, null | undefined":t.referToSelf(u=>l=>l.map(c=>u(c))),"Array, Object":t.referTo("Array,Map",u=>(l,c)=>u(l,Sm(c))),"Matrix, Object":t.referTo("Matrix,Map",u=>(l,c)=>u(l,Sm(c))),"Array | Matrix, Map":t.referToSelf(u=>(l,c)=>l.map(f=>u(f,c)))})}),p7="symbolicEqual",Q$e=["parse","simplify","typed","OperatorNode"],eNe=Ae(p7,Q$e,e=>{var{parse:t,simplify:r,typed:n,OperatorNode:i}=e;function a(s,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=new i("-","subtract",[s,o]),c=r(l,{},u);return Jr(c)&&!c.value}return n(p7,{"Node, Node":a,"Node, Node, Object":a})}),m7="derivative",tNe=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],rNe=Ae(m7,tNe,e=>{var{typed:t,config:r,parse:n,simplify:i,equal:a,isZero:s,numeric:o,ConstantNode:u,FunctionNode:l,OperatorNode:c,ParenthesisNode:f,SymbolNode:d}=e;function p(b,_){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},E=new Map,C=_.name;function $(N){var k=E.get(N);if(k!==void 0)return k;var P=y($,N,C);return E.set(N,P),P}var D=w(b,$);return x.simplify?i(D):D}function m(b){var _=n(b);if(!_.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(b)," into a variable in function derivative"));return _}var h=t(m7,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p,"Node, string":(b,_)=>p(b,m(_)),"Node, string, Object":(b,_,x)=>p(b,m(_),x)});h._simplify=!0,h.toTex=function(b){return v.apply(null,b.args)};var v=t("_derivTex",{"Node, SymbolNode":function(_,x){return Jr(_)&&Tn(_.value)==="string"?v(n(_.value).toString(),x.toString(),1):v(_.toTex(),x.toString(),1)},"Node, ConstantNode":function(_,x){if(Tn(x.value)==="string")return v(_,n(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(_,x,E){return v(_.toString(),x.name,E.value)},"string, string, number":function(_,x,E){var C;return E===1?C="{d\\over d"+x+"}":C="{d^{"+E+"}\\over d"+x+"^{"+E+"}}",C+"\\left[".concat(_,"\\right]")}}),y=t("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(_,x,E){return x.name!==E},"function, ParenthesisNode, string":function(_,x,E){return _(x.content,E)},"function, FunctionAssignmentNode, string":function(_,x,E){return x.params.includes(E)?_(x.expr,E):!0},"function, FunctionNode | OperatorNode, string":function(_,x,E){return x.args.every(C=>_(C,E))}}),w=t("_derivative",{"ConstantNode, function":function(){return g(0)},"SymbolNode, function":function(_,x){return x(_)?g(0):g(1)},"ParenthesisNode, function":function(_,x){return new f(w(_.content,x))},"FunctionAssignmentNode, function":function(_,x){return x(_)?g(0):w(_.expr,x)},"FunctionNode, function":function(_,x){if(x(_))return g(0);var E=_.args[0],C,$=!1,D=!1,N;switch(_.name){case"cbrt":$=!0,N=new c("*","multiply",[g(3),new c("^","pow",[E,new c("/","divide",[g(2),g(3)])])]);break;case"sqrt":case"nthRoot":if(_.args.length===1)$=!0,N=new c("*","multiply",[g(2),new l("sqrt",[E])]);else if(_.args.length===2)return C=new c("/","divide",[g(1),_.args[1]]),w(new c("^","pow",[E,C]),x);break;case"log10":C=g(10);case"log":if(!C&&_.args.length===1)N=E.clone(),$=!0;else if(_.args.length===1&&C||_.args.length===2&&x(_.args[1]))N=new c("*","multiply",[E.clone(),new l("log",[C||_.args[1]])]),$=!0;else if(_.args.length===2)return w(new c("/","divide",[new l("log",[E]),new l("log",[_.args[1]])]),x);break;case"pow":if(_.args.length===2)return w(new c("^","pow",[E,_.args[1]]),x);break;case"exp":N=new l("exp",[E.clone()]);break;case"sin":N=new l("cos",[E.clone()]);break;case"cos":N=new c("-","unaryMinus",[new l("sin",[E.clone()])]);break;case"tan":N=new c("^","pow",[new l("sec",[E.clone()]),g(2)]);break;case"sec":N=new c("*","multiply",[_,new l("tan",[E.clone()])]);break;case"csc":D=!0,N=new c("*","multiply",[_,new l("cot",[E.clone()])]);break;case"cot":D=!0,N=new c("^","pow",[new l("csc",[E.clone()]),g(2)]);break;case"asin":$=!0,N=new l("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[E.clone(),g(2)])])]);break;case"acos":$=!0,D=!0,N=new l("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[E.clone(),g(2)])])]);break;case"atan":$=!0,N=new c("+","add",[new c("^","pow",[E.clone(),g(2)]),g(1)]);break;case"asec":$=!0,N=new c("*","multiply",[new l("abs",[E.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[E.clone(),g(2)]),g(1)])])]);break;case"acsc":$=!0,D=!0,N=new c("*","multiply",[new l("abs",[E.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[E.clone(),g(2)]),g(1)])])]);break;case"acot":$=!0,D=!0,N=new c("+","add",[new c("^","pow",[E.clone(),g(2)]),g(1)]);break;case"sinh":N=new l("cosh",[E.clone()]);break;case"cosh":N=new l("sinh",[E.clone()]);break;case"tanh":N=new c("^","pow",[new l("sech",[E.clone()]),g(2)]);break;case"sech":D=!0,N=new c("*","multiply",[_,new l("tanh",[E.clone()])]);break;case"csch":D=!0,N=new c("*","multiply",[_,new l("coth",[E.clone()])]);break;case"coth":D=!0,N=new c("^","pow",[new l("csch",[E.clone()]),g(2)]);break;case"asinh":$=!0,N=new l("sqrt",[new c("+","add",[new c("^","pow",[E.clone(),g(2)]),g(1)])]);break;case"acosh":$=!0,N=new l("sqrt",[new c("-","subtract",[new c("^","pow",[E.clone(),g(2)]),g(1)])]);break;case"atanh":$=!0,N=new c("-","subtract",[g(1),new c("^","pow",[E.clone(),g(2)])]);break;case"asech":$=!0,D=!0,N=new c("*","multiply",[E.clone(),new l("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[E.clone(),g(2)])])])]);break;case"acsch":$=!0,D=!0,N=new c("*","multiply",[new l("abs",[E.clone()]),new l("sqrt",[new c("+","add",[new c("^","pow",[E.clone(),g(2)]),g(1)])])]);break;case"acoth":$=!0,D=!0,N=new c("-","subtract",[g(1),new c("^","pow",[E.clone(),g(2)])]);break;case"abs":N=new c("/","divide",[new l(new d("abs"),[E.clone()]),E.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+_.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var k,P;$?(k="/",P="divide"):(k="*",P="multiply");var U=w(E,x);return D&&(U=new c("-","unaryMinus",[U])),new c(k,P,[U,N])},"OperatorNode, function":function(_,x){if(x(_))return g(0);if(_.op==="+")return new c(_.op,_.fn,_.args.map(function(B){return w(B,x)}));if(_.op==="-"){if(_.isUnary())return new c(_.op,_.fn,[w(_.args[0],x)]);if(_.isBinary())return new c(_.op,_.fn,[w(_.args[0],x),w(_.args[1],x)])}if(_.op==="*"){var E=_.args.filter(function(B){return x(B)});if(E.length>0){var C=_.args.filter(function(B){return!x(B)}),$=C.length===1?C[0]:new c("*","multiply",C),D=E.concat(w($,x));return new c("*","multiply",D)}return new c("+","add",_.args.map(function(B){return new c("*","multiply",_.args.map(function(O){return O===B?w(O,x):O.clone()}))}))}if(_.op==="/"&&_.isBinary()){var N=_.args[0],k=_.args[1];return x(k)?new c("/","divide",[w(N,x),k]):x(N)?new c("*","multiply",[new c("-","unaryMinus",[N]),new c("/","divide",[w(k,x),new c("^","pow",[k.clone(),g(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[w(N,x),k.clone()]),new c("*","multiply",[N.clone(),w(k,x)])]),new c("^","pow",[k.clone(),g(2)])])}if(_.op==="^"&&_.isBinary()){var P=_.args[0],U=_.args[1];if(x(P))return Jr(P)&&(s(P.value)||a(P.value,1))?g(0):new c("*","multiply",[_,new c("*","multiply",[new l("log",[P.clone()]),w(U.clone(),x)])]);if(x(U)){if(Jr(U)){if(s(U.value))return g(0);if(a(U.value,1))return w(P,x)}var L=new c("^","pow",[P.clone(),new c("-","subtract",[U,g(1)])]);return new c("*","multiply",[U.clone(),new c("*","multiply",[w(P,x),L])])}return new c("*","multiply",[new c("^","pow",[P.clone(),U.clone()]),new c("+","add",[new c("*","multiply",[w(P,x),new c("/","divide",[U.clone(),P.clone()])]),new c("*","multiply",[w(U,x),new l("log",[P.clone()])])])])}throw new Error('Cannot process operator "'+_.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function g(b,_){return new u(o(b,_||Cf(String(b),r)))}return h}),h7="rationalize",nNe=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],iNe=Ae(h7,nNe,e=>{var{config:t,typed:r,equal:n,isZero:i,add:a,subtract:s,multiply:o,divide:u,pow:l,parse:c,simplifyConstant:f,simplifyCore:d,simplify:p,fraction:m,bignumber:h,mathWithTransform:v,matrix:y,AccessorNode:w,ArrayNode:g,ConstantNode:b,FunctionNode:_,IndexNode:x,ObjectNode:E,OperatorNode:C,SymbolNode:$,ParenthesisNode:D}=e;function N(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=P(),R=k(B,O,!0,j.firstRules),le=R.variables.length,re={exactFractions:!1},F={exactFractions:!0};if(B=R.expression,le>=1){B=U(B);var H,ve,ae=!0,W=!1;B=p(B,j.firstRules,{},re);for(var Q;ve=ae?j.distrDivRules:j.sucDivRules,B=p(B,ve,{},F),ae=!ae,Q=B.toString(),Q!==H;)W=!0,H=Q;W&&(B=p(B,j.firstRulesAgain,{},re)),B=p(B,j.finalRules,{},re)}var J=[],se={};return B.type==="OperatorNode"&&B.isBinary()&&B.op==="/"?(le===1&&(B.args[0]=L(B.args[0],J),B.args[1]=L(B.args[1])),T&&(se.numerator=B.args[0],se.denominator=B.args[1])):(le===1&&(B=L(B,J)),T&&(se.numerator=B,se.denominator=null)),T?(se.coefficients=J,se.variables=R.variables,se.expression=B,se):B}return r(h7,{Node:N,"Node, boolean":(B,O)=>N(B,{},O),"Node, Object":N,"Node, Object, boolean":N});function k(B,O,T,j){var R=[],le=p(B,j,O,{exactFractions:!1});T=!!T;var re="+-*"+(T?"/":"");H(le);var F={};return F.expression=le,F.variables=R,F;function H(ve){var ae=ve.type;if(ae==="FunctionNode")throw new Error("There is an unsolved function call");if(ae==="OperatorNode")if(ve.op==="^"){if(ve.args[1].type!=="ConstantNode"||!zt(parseFloat(ve.args[1].value)))throw new Error("There is a non-integer exponent");H(ve.args[0])}else{if(!re.includes(ve.op))throw new Error("Operator "+ve.op+" invalid in polynomial expression");for(var W=0;W<ve.args.length;W++)H(ve.args[W])}else if(ae==="SymbolNode"){var Q=ve.name,J=R.indexOf(Q);J===-1&&R.push(Q)}else if(ae==="ParenthesisNode")H(ve.content);else if(ae!=="ConstantNode")throw new Error("type "+ae+" is not allowed in polynomial expression")}}function P(){var B=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],O=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],T=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],j=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],R={};return R.firstRules=B.concat(O,j),R.distrDivRules=T,R.sucDivRules=j,R.firstRulesAgain=B.concat(O),R.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],R}function U(B,O,T){var j=B.type,R=arguments.length>1;if(j==="OperatorNode"&&B.isBinary()){var le=!1,re;if(B.op==="^"&&(B.args[0].type==="ParenthesisNode"||B.args[0].type==="OperatorNode")&&B.args[1].type==="ConstantNode"&&(re=parseFloat(B.args[1].value),le=re>=2&&zt(re)),le){if(re>2){var F=B.args[0],H=new C("^","pow",[B.args[0].cloneDeep(),new b(re-1)]);B=new C("*","multiply",[F,H])}else B=new C("*","multiply",[B.args[0],B.args[0].cloneDeep()]);R&&(T==="content"?O.content=B:O.args[T]=B)}}if(j==="ParenthesisNode")U(B.content,B,"content");else if(j!=="ConstantNode"&&j!=="SymbolNode")for(var ve=0;ve<B.args.length;ve++)U(B.args[ve],B,ve);if(!R)return B}function L(B,O){O===void 0&&(O=[]),O[0]=0;var T={};T.cte=1,T.oper="+",T.fire="";var j=0,R="";Q(B,null,T),j=O.length-1;for(var le=!0,re,F=j;F>=0;F--)if(O[F]!==0){var H=new b(le?O[F]:Math.abs(O[F])),ve=O[F]<0?"-":"+";if(F>0){var ae=new $(R);if(F>1){var W=new b(F);ae=new C("^","pow",[ae,W])}O[F]===-1&&le?H=new C("-","unaryMinus",[ae]):Math.abs(O[F])===1?H=ae:H=new C("*","multiply",[H,ae])}le?re=H:ve==="+"?re=new C("+","add",[re,H]):re=new C("-","subtract",[re,H]),le=!1}if(le)return new b(0);return re;function Q(J,se,Ce){var Te=J.type;if(Te==="FunctionNode")throw new Error("There is an unsolved function call");if(Te==="OperatorNode"){if(!"+-*^".includes(J.op))throw new Error("Operator "+J.op+" invalid");if(se!==null){if((J.fn==="unaryMinus"||J.fn==="pow")&&se.fn!=="add"&&se.fn!=="subtract"&&se.fn!=="multiply")throw new Error("Invalid "+J.op+" placing");if((J.fn==="subtract"||J.fn==="add"||J.fn==="multiply")&&se.fn!=="add"&&se.fn!=="subtract")throw new Error("Invalid "+J.op+" placing");if((J.fn==="subtract"||J.fn==="add"||J.fn==="unaryMinus")&&Ce.noFil!==0)throw new Error("Invalid "+J.op+" placing")}(J.op==="^"||J.op==="*")&&(Ce.fire=J.op);for(var oe=0;oe<J.args.length;oe++)J.fn==="unaryMinus"&&(Ce.oper="-"),(J.op==="+"||J.fn==="subtract")&&(Ce.fire="",Ce.cte=1,Ce.oper=oe===0?"+":J.op),Ce.noFil=oe,Q(J.args[oe],J,Ce)}else if(Te==="SymbolNode"){if(J.name!==R&&R!=="")throw new Error("There is more than one variable");if(R=J.name,se===null){O[1]=1;return}if(se.op==="^"&&Ce.noFil!==0)throw new Error("In power the variable should be the first parameter");if(se.op==="*"&&Ce.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(Ce.fire===""||Ce.fire==="*")&&(j<1&&(O[1]=0),O[1]+=Ce.cte*(Ce.oper==="+"?1:-1),j=Math.max(1,j))}else if(Te==="ConstantNode"){var q=parseFloat(J.value);if(se===null){O[0]=q;return}if(se.op==="^"){if(Ce.noFil!==1)throw new Error("Constant cannot be powered");if(!zt(q)||q<=0)throw new Error("Non-integer exponent is not allowed");for(var me=j+1;me<q;me++)O[me]=0;q>j&&(O[q]=0),O[q]+=Ce.cte*(Ce.oper==="+"?1:-1),j=Math.max(q,j);return}Ce.cte=q,Ce.fire===""&&(O[0]+=Ce.cte*(Ce.oper==="+"?1:-1))}else throw new Error("Type "+Te+" is not allowed")}}}),v7="zpk2tf",aNe=["typed","add","multiply","Complex","number"],sNe=Ae(v7,aNe,e=>{var{typed:t,add:r,multiply:n,Complex:i,number:a}=e;return t(v7,{"Array,Array,number":function(l,c,f){return s(l,c,f)},"Array,Array":function(l,c){return s(l,c,1)},"Matrix,Matrix,number":function(l,c,f){return s(l.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(l,c){return s(l.valueOf(),c.valueOf(),1)}});function s(u,l,c){u.some(w=>w.type==="BigNumber")&&(u=u.map(w=>a(w))),l.some(w=>w.type==="BigNumber")&&(l=l.map(w=>a(w)));for(var f=[i(1,0)],d=[i(1,0)],p=0;p<u.length;p++){var m=u[p];typeof m=="number"&&(m=i(m,0)),f=o(f,[i(1,0),i(-m.re,-m.im)])}for(var h=0;h<l.length;h++){var v=l[h];typeof v=="number"&&(v=i(v,0)),d=o(d,[i(1,0),i(-v.re,-v.im)])}for(var y=0;y<f.length;y++)f[y]=n(f[y],c);return[f,d]}function o(u,l){for(var c=[],f=0;f<u.length+l.length-1;f++){c[f]=i(0,0);for(var d=0;d<u.length;d++)f-d>=0&&f-d<l.length&&(c[f]=r(c[f],n(u[d],l[f-d])))}return c}}),g7="freqz",oNe=["typed","add","multiply","Complex","divide","matrix"],uNe=Ae(g7,oNe,e=>{var{typed:t,add:r,multiply:n,Complex:i,divide:a,matrix:s}=e;return t(g7,{"Array, Array":function(c,f){var d=u(512);return o(c,f,d)},"Array, Array, Array":function(c,f,d){return o(c,f,d)},"Array, Array, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var p=u(d);return o(c,f,p)},"Matrix, Matrix":function(c,f){var d=u(512),{w:p,h:m}=o(c.valueOf(),f.valueOf(),d);return{w:s(p),h:s(m)}},"Matrix, Matrix, Matrix":function(c,f,d){var{h:p}=o(c.valueOf(),f.valueOf(),d.valueOf());return{h:s(p),w:s(d)}},"Matrix, Matrix, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var p=u(d),{h:m}=o(c.valueOf(),f.valueOf(),p);return{h:s(m),w:s(p)}}});function o(l,c,f){for(var d=[],p=[],m=0;m<f.length;m++){for(var h=i(0,0),v=i(0,0),y=0;y<l.length;y++)h=r(h,n(l[y],i(Math.cos(-y*f[m]),Math.sin(-y*f[m]))));for(var w=0;w<c.length;w++)v=r(v,n(c[w],i(Math.cos(-w*f[m]),Math.sin(-w*f[m]))));d.push(h),p.push(v)}for(var g=[],b=0;b<d.length;b++)g.push(a(d[b],p[b]));return{h:g,w:f}}function u(l){for(var c=[],f=0;f<l;f++)c.push(f/l*Math.PI);return c}}),lNe="reviver",cNe=["classes"],fNe=Ae(lNe,cNe,e=>{var{classes:t}=e;return function(n,i){var a=t[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),dNe="replacer",pNe=[],mNe=Ae(dNe,pNe,()=>function(t,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),hNe="14.5.3",vNe=Ae("true",[],()=>!0),gNe=Ae("false",[],()=>!1),yNe=Ae("null",[],()=>null),bNe=Zs("Infinity",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(1/0):1/0}),_Ne=Zs("NaN",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(NaN):NaN}),ANe=Zs("pi",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?h$(r):$ve}),wNe=Zs("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?X2e(r):Nve}),xNe=Zs("e",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?J2e(r):Dve}),SNe=Zs("phi",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?Y2e(r):Tve}),ENe=Zs("LN2",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(2).ln():Math.LN2}),CNe=Zs("LN10",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(10).ln():Math.LN10}),$Ne=Zs("LOG2E",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),NNe=Zs("LOG10E",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),DNe=Zs("SQRT1_2",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),TNe=Zs("SQRT2",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return t.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),kNe=Zs("i",["Complex"],e=>{var{Complex:t}=e;return t.I}),INe=Ae("version",[],()=>hNe);function Zs(e,t,r){return Ae(e,t,r,{recreateOnConfigChange:!0})}var ONe=gr("speedOfLight","299792458","m s^-1"),MNe=gr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),PNe=gr("planckConstant","6.62607015e-34","J s"),BNe=gr("reducedPlanckConstant","1.0545718176461565e-34","J s"),LNe=gr("magneticConstant","1.25663706212e-6","N A^-2"),FNe=gr("electricConstant","8.8541878128e-12","F m^-1"),RNe=gr("vacuumImpedance","376.730313667","ohm"),UNe=gr("coulomb","8.987551792261171e9","N m^2 C^-2"),zNe=gr("coulombConstant","8.987551792261171e9","N m^2 C^-2"),qNe=gr("elementaryCharge","1.602176634e-19","C"),jNe=gr("bohrMagneton","9.2740100783e-24","J T^-1"),VNe=gr("conductanceQuantum","7.748091729863649e-5","S"),HNe=gr("inverseConductanceQuantum","12906.403729652257","ohm"),GNe=gr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),ZNe=gr("nuclearMagneton","5.0507837461e-27","J T^-1"),WNe=gr("klitzing","25812.807459304513","ohm"),KNe=gr("bohrRadius","5.29177210903e-11","m"),JNe=gr("classicalElectronRadius","2.8179403262e-15","m"),YNe=gr("electronMass","9.1093837015e-31","kg"),XNe=gr("fermiCoupling","1.1663787e-5","GeV^-2"),QNe=W2("fineStructure",.0072973525693),eDe=gr("hartreeEnergy","4.3597447222071e-18","J"),tDe=gr("protonMass","1.67262192369e-27","kg"),rDe=gr("deuteronMass","3.3435830926e-27","kg"),nDe=gr("neutronMass","1.6749271613e-27","kg"),iDe=gr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),aDe=gr("rydberg","10973731.568160","m^-1"),sDe=gr("thomsonCrossSection","6.6524587321e-29","m^2"),oDe=W2("weakMixingAngle",.2229),uDe=W2("efimovFactor",22.7),lDe=gr("atomicMass","1.66053906660e-27","kg"),cDe=gr("avogadro","6.02214076e23","mol^-1"),fDe=gr("boltzmann","1.380649e-23","J K^-1"),dDe=gr("faraday","96485.33212331001","C mol^-1"),pDe=gr("firstRadiation","3.7417718521927573e-16","W m^2"),mDe=gr("loschmidt","2.686780111798444e25","m^-3"),hDe=gr("gasConstant","8.31446261815324","J K^-1 mol^-1"),vDe=gr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),gDe=gr("molarVolume","0.022413969545014137","m^3 mol^-1"),yDe=W2("sackurTetrode",-1.16487052358),bDe=gr("secondRadiation","0.014387768775039337","m K"),_De=gr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),ADe=gr("wienDisplacement","2.897771955e-3","m K"),wDe=gr("molarMass","0.99999999965e-3","kg mol^-1"),xDe=gr("molarMassC12","11.9999999958e-3","kg mol^-1"),SDe=gr("gravity","9.80665","m s^-2"),EDe=gr("planckLength","1.616255e-35","m"),CDe=gr("planckMass","2.176435e-8","kg"),$De=gr("planckTime","5.391245e-44","s"),NDe=gr("planckCharge","1.87554603778e-18","C"),DDe=gr("planckTemperature","1.416785e+32","K");function gr(e,t,r){var n=["config","Unit","BigNumber"];return Ae(e,n,i=>{var{config:a,Unit:s,BigNumber:o}=i,u=a.number==="BigNumber"?new o(t):parseFloat(t),l=new s(u,r);return l.fixPrefix=!0,l})}function W2(e,t){var r=["config","BigNumber"];return Ae(e,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(t):t})}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var kDe="mapSlices",IDe=["typed","isInteger"],ODe=Ae(kDe,IDe,e=>{var{typed:t,isInteger:r}=e,n=Y3({typed:t,isInteger:r});return t("mapSlices",{"...any":function(a){var s=a[1];br(s)?a[1]=s-1:Ar(s)&&(a[1]=s.minus(1));try{return n.apply(null,a)}catch(o){throw rs(o)}}})},TDe({isTransformFunction:!0},Y3.meta)),MDe="column",PDe=["typed","Index","matrix","range"],BDe=Ae(MDe,PDe,e=>{var{typed:t,Index:r,matrix:n,range:i}=e,a=SH({typed:t,Index:r,matrix:n,range:i});return t("column",{"...any":function(o){var u=o.length-1,l=o[u];br(l)&&(o[u]=l-1);try{return a.apply(null,o)}catch(c){throw rs(c)}}})},{isTransformFunction:!0});function S$(e,t,r){var n=e.filter(function(u){return ea(u)&&!(u.name in t)&&!r.has(u.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=n.name,a=new Map,s=new Wj(r,a,new Set([i])),o=e.compile();return function(l){return a.set(i,l),o.evaluate(s)}}var LDe="transformCallback",FDe=["typed"],E$=Ae(LDe,FDe,e=>{var{typed:t}=e;return function(n,i){return t.isTypedFunction(n)?r(n,i):b7(n,n.length,i)};function r(n,i){var a=Object.fromEntries(Object.entries(n.signatures).map(s=>{var[o,u]=s,l=o.split(",").length;return t.isTypedFunction(u)?[o,r(u,i)]:[o,b7(u,l,i)]}));return typeof n.name=="string"?t(n.name,a):t(a)}});function b7(e,t,r){return t===r?e:t===r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.slice(0,r),o=_7(i[r]);return e(...s,o)}:t>r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.slice(0,r),o=_7(i[r]),u=i.slice(r+1);return e(...s,o,...u)}:e}function _7(e){return e.map(t=>t+1)}var RDe="filter",UDe=["typed"],zDe=Ae(RDe,UDe,e=>{var{typed:t}=e;function r(i,a,s){var o=EH({typed:t}),u=E$({typed:t});if(i.length===0)return o();var l=i[0];if(i.length===1)return o(l);var c=i.length-1,f=i[c];return l&&(l=n(l,s)),f&&(ea(f)||hg(f)?f=n(f,s):f=S$(f,a,s)),o(l,u(f,c))}r.rawArgs=!0;function n(i,a){return i.compile().evaluate(a)}return r},{isTransformFunction:!0}),qDe="forEach",jDe=["typed"],VDe=Ae(qDe,jDe,e=>{var{typed:t}=e,r=CH({typed:t}),n=E$({typed:t});function i(s,o,u){if(s.length===0)return r();var l=s[0];if(s.length===1)return r(l);var c=s.length-1,f=s[c];return l&&(l=a(l,u)),f&&(ea(f)||hg(f)?f=a(f,u):f=S$(f,o,u)),r(l,n(f,c))}i.rawArgs=!0;function a(s,o){return s.compile().evaluate(o)}return i},{isTransformFunction:!0}),HDe="index",GDe=["Index","getMatrixDataType"],ZDe=Ae(HDe,GDe,e=>{var{Index:t,getMatrixDataType:r}=e;return function(){for(var i=[],a=0,s=arguments.length;a<s;a++){var o=arguments[a];if(e$(o))o.start--,o.end-=o.step>0?0:2;else if(o&&o.isSet===!0)o=o.map(function(l){return l-1});else if(Cn(o)||Jt(o))r(o)!=="boolean"&&(o=o.map(function(l){return l-1}));else if(br(o)||Q0(o))o--;else if(Ar(o))o=o.toNumber()-1;else if(typeof o!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[a]=o}var u=new t;return t.apply(u,i),u}},{isTransformFunction:!0}),WDe="map",KDe=["typed"],JDe=Ae(WDe,KDe,e=>{var{typed:t}=e,r=$H({typed:t}),n=E$({typed:t});function i(a,s,o){if(a.length===0)return r();if(a.length===1)return r(a[0]);var u=a.length-1,l=a.slice(0,u),c=a[u];return l=l.map(d=>f(d,o)),c&&(ea(c)||hg(c)?c=f(c,o):c=S$(c,s,o)),r(...l,n(c,u));function f(d,p){return d.compile().evaluate(p)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function YDe(e){return br(e)?e-1:Ar(e)?e.minus(1):e}function XDe(e){return br(e)||Ar(e)}function Df(e){if(e.length===2&&bo(e[0])){e=e.slice();var t=e[1];XDe(t)&&(e[1]=YDe(t))}return e}var QDe="max",e8e=["typed","config","numeric","larger","isNaN"],t8e=Ae(QDe,e8e,e=>{var{typed:t,config:r,numeric:n,larger:i,isNaN:a}=e,s=LH({typed:t,config:r,numeric:n,larger:i,isNaN:a});return t("max",{"...any":function(u){u=Df(u);try{return s.apply(null,u)}catch(l){throw rs(l)}}})},{isTransformFunction:!0}),r8e="mean",n8e=["typed","add","divide"],i8e=Ae(r8e,n8e,e=>{var{typed:t,add:r,divide:n}=e,i=GH({typed:t,add:r,divide:n});return t("mean",{"...any":function(s){s=Df(s);try{return i.apply(null,s)}catch(o){throw rs(o)}}})},{isTransformFunction:!0}),a8e="min",s8e=["typed","config","numeric","smaller","isNaN"],o8e=Ae(a8e,s8e,e=>{var{typed:t,config:r,numeric:n,smaller:i,isNaN:a}=e,s=FH({typed:t,config:r,numeric:n,smaller:i,isNaN:a});return t("min",{"...any":function(u){u=Df(u);try{return s.apply(null,u)}catch(l){throw rs(l)}}})},{isTransformFunction:!0}),u8e="range",l8e=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],c8e=Ae(u8e,l8e,e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:u,add:l,isPositive:c}=e,f=kH({typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:u,add:l,isPositive:c});return t("range",{"...any":function(p){var m=p.length-1,h=p[m];return typeof h!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0}),f8e="row",d8e=["typed","Index","matrix","range"],p8e=Ae(f8e,d8e,e=>{var{typed:t,Index:r,matrix:n,range:i}=e,a=IH({typed:t,Index:r,matrix:n,range:i});return t("row",{"...any":function(o){var u=o.length-1,l=o[u];br(l)&&(o[u]=l-1);try{return a.apply(null,o)}catch(c){throw rs(c)}}})},{isTransformFunction:!0}),m8e="subset",h8e=["typed","matrix","zeros","add"],v8e=Ae(m8e,h8e,e=>{var{typed:t,matrix:r,zeros:n,add:i}=e,a=OH({typed:t,matrix:r,zeros:n,add:i});return t("subset",{"...any":function(o){try{return a.apply(null,o)}catch(u){throw rs(u)}}})},{isTransformFunction:!0}),g8e="concat",y8e=["typed","matrix","isInteger"],b8e=Ae(g8e,y8e,e=>{var{typed:t,matrix:r,isInteger:n}=e,i=xH({typed:t,matrix:r,isInteger:n});return t("concat",{"...any":function(s){var o=s.length-1,u=s[o];br(u)?s[o]=u-1:Ar(u)&&(s[o]=u.minus(1));try{return i.apply(null,s)}catch(l){throw rs(l)}}})},{isTransformFunction:!0}),A7="diff",_8e=["typed","matrix","subtract","number","bignumber"],A8e=Ae(A7,_8e,e=>{var{typed:t,matrix:r,subtract:n,number:i,bignumber:a}=e,s=NH({typed:t,matrix:r,subtract:n,number:i,bignumber:a});return t(A7,{"...any":function(u){u=Df(u);try{return s.apply(null,u)}catch(l){throw rs(l)}}})},{isTransformFunction:!0}),w8e="std",x8e=["typed","map","sqrt","variance"],S8e=Ae(w8e,x8e,e=>{var{typed:t,map:r,sqrt:n,variance:i}=e,a=KH({typed:t,map:r,sqrt:n,variance:i});return t("std",{"...any":function(o){o=Df(o);try{return a.apply(null,o)}catch(u){throw rs(u)}}})},{isTransformFunction:!0}),w7="sum",E8e=["typed","config","add","numeric"],C8e=Ae(w7,E8e,e=>{var{typed:t,config:r,add:n,numeric:i}=e,a=VH({typed:t,config:r,add:n,numeric:i});return t(w7,{"...any":function(o){o=Df(o);try{return a.apply(null,o)}catch(u){throw rs(u)}}})},{isTransformFunction:!0}),$8e="quantileSeq",N8e=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],D8e=Ae($8e,N8e,e=>{var{typed:t,bignumber:r,add:n,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:u,isInteger:l,smaller:c,smallerEq:f,larger:d,mapSlices:p}=e,m=WH({typed:t,bignumber:r,add:n,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:u,isInteger:l,smaller:c,smallerEq:f,larger:d,mapSlices:p});return t("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(v,y,w)=>m(v,y,h(w)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(v,y,w,g)=>m(v,y,w,h(g)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(v,y,w)=>m(v,y,h(w)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(v,y,w,g)=>m(v,y,w,h(g))});function h(v){return Df([[],v])[1]}},{isTransformFunction:!0}),x7="cumsum",T8e=["typed","add","unaryPlus"],k8e=Ae(x7,T8e,e=>{var{typed:t,add:r,unaryPlus:n}=e,i=HH({typed:t,add:r,unaryPlus:n});return t(x7,{"...any":function(s){if(s.length===2&&bo(s[0])){var o=s[1];br(o)?s[1]=o-1:Ar(o)&&(s[1]=o.minus(1))}try{return i.apply(null,s)}catch(u){throw rs(u)}}})},{isTransformFunction:!0}),S7="variance",I8e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],O8e=Ae(S7,I8e,e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,mapSlices:s,isNaN:o}=e,u=ZH({typed:t,add:r,subtract:n,multiply:i,divide:a,mapSlices:s,isNaN:o});return t(S7,{"...any":function(c){c=Df(c);try{return u.apply(null,c)}catch(f){throw rs(f)}}})},{isTransformFunction:!0}),E7="print",M8e=["typed","matrix","zeros","add"],P8e=Ae(E7,M8e,e=>{var{typed:t,matrix:r,zeros:n,add:i}=e,a=PH({typed:t,matrix:r,zeros:n,add:i});return t(E7,{"string, Object | Array":function(u,l){return a(s(u),l)},"string, Object | Array, number | Object":function(u,l,c){return a(s(u),l,c)}});function s(o){return o.replace(MH,u=>{var l=u.slice(1).split("."),c=l.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0}),B8e="and",L8e=["typed","matrix","zeros","add","equalScalar","not","concat"],F8e=Ae(B8e,L8e,e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:s}=e,o=BH({typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:s});function u(l,c,f){var d=l[0].compile().evaluate(f);if(!bo(d)&&!o(d,!0))return!1;var p=l[1].compile().evaluate(f);return o(d,p)}return u.rawArgs=!0,u},{isTransformFunction:!0}),R8e="or",U8e=["typed","matrix","equalScalar","DenseMatrix","concat"],z8e=Ae(R8e,U8e,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,s=wH({typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function o(u,l,c){var f=u[0].compile().evaluate(c);if(!bo(f)&&s(f,!1))return!0;var d=u[1].compile().evaluate(c);return s(f,d)}return o.rawArgs=!0,o},{isTransformFunction:!0}),q8e="bitAnd",j8e=["typed","matrix","zeros","add","equalScalar","not","concat"],V8e=Ae(q8e,j8e,e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:s}=e,o=_H({typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:s});function u(l,c,f){var d=l[0].compile().evaluate(f);if(!bo(d)){if(isNaN(d))return NaN;if(d===0||d===!1)return 0}var p=l[1].compile().evaluate(f);return o(d,p)}return u.rawArgs=!0,u},{isTransformFunction:!0}),H8e="bitOr",G8e=["typed","matrix","equalScalar","DenseMatrix","concat"],Z8e=Ae(H8e,G8e,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,s=AH({typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function o(u,l,c){var f=u[0].compile().evaluate(c);if(!bo(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var d=u[1].compile().evaluate(c);return s(f,d)}return o.rawArgs=!0,o},{isTransformFunction:!0}),At=z0e({config:it}),In=G0e({}),C7=xNe({BigNumber:At,config:it}),W8e=gNe({}),K8e=QNe({BigNumber:At,config:it}),cp=Q0e({}),XH=kNe({Complex:In}),J8e=bNe({BigNumber:At,config:it}),Y8e=CNe({BigNumber:At,config:it}),X8e=NNe({BigNumber:At,config:it}),K2=ave({}),Q8e=_Ne({BigNumber:At,config:it}),eTe=yNe({}),tTe=SNe({BigNumber:At,config:it}),rTe=rve({}),QH=Hhe({}),nTe=DNe({BigNumber:At,config:it}),iTe=yDe({BigNumber:At,config:it}),eG=wNe({BigNumber:At,config:it}),aTe=vNe({}),sTe=INe({}),Cr=Ave({Matrix:K2}),oTe=uDe({BigNumber:At,config:it}),uTe=ENe({BigNumber:At,config:it}),sE=ANe({BigNumber:At,config:it}),tG=mNe({}),lTe=TNe({BigNumber:At,config:it}),De=zhe({BigNumber:At,Complex:In,DenseMatrix:Cr,Fraction:cp}),cTe=oDe({BigNumber:At,config:it}),ns=Bge({typed:De}),fTe=lAe({Complex:In,config:it,typed:De}),dTe=pAe({BigNumber:At,typed:De}),pTe=gAe({BigNumber:At,Complex:In,config:it,typed:De}),Wi=Uge({typed:De}),mTe=Nye({typed:De}),hTe=xAe({BigNumber:At,Complex:In,config:it,typed:De}),vTe=NAe({typed:De}),rG=kAe({typed:De}),gTe=PAe({Complex:In,config:it,typed:De}),yTe=oge({typed:De}),bTe=Aye({typed:De}),_Te=fge({typed:De}),ATe=xve({typed:De}),J2=G6e({typed:De}),Y2=gge({Complex:In,typed:De}),fp=Tye({typed:De}),C$=LAe({typed:De}),wTe=zAe({BigNumber:At,typed:De}),xTe=HAe({BigNumber:At,typed:De}),STe=r1e({typed:De}),Pr=Jve({config:it,typed:De}),ETe=Wbe({typed:De}),nG=i1e({typed:De}),CTe=s1e({Complex:In,typed:De}),$Te=EH({typed:De}),bg=Yye({typed:De}),NTe=CH({typed:De}),_g=a_e({typed:De}),$$=tbe({typed:De}),DTe=f_e({format:_g,typed:De}),N$=Iye({typed:De}),bs=Eve({typed:De}),Tf=Pve({config:it,typed:De}),dp=zve({config:it,typed:De}),nl=jve({equalScalar:Pr,typed:De}),TTe=$Ne({BigNumber:At,config:it}),kTe=X6e({Complex:In,typed:De}),ITe=z1e({Complex:In,config:it,typed:De}),D$=j1e({Complex:In,config:it,typed:De}),pp=$H({typed:De}),vi=G1e({typed:De}),m_=Bye({typed:De}),ic=ige({typed:De}),OTe=l_e({format:_g,typed:De}),MTe=E$e({config:it,typed:De}),PTe=PH({typed:De}),BTe=$$e({config:it,typed:De}),T$=Mye({typed:De}),LTe=KAe({BigNumber:At,typed:De}),iG=X1e({BigNumber:At,Fraction:cp,complex:Y2,typed:De}),X2=QAe({typed:De}),Ki=Qve({Matrix:K2,equalScalar:Pr,typed:De}),FTe=Tge({typed:De}),RTe=nye({typed:De}),UTe=lge({typed:De}),So=qge({typed:De}),zTe=nwe({typed:De}),k$=Zve({typed:De}),qTe=fAe({Complex:In,config:it,typed:De}),jTe=bAe({BigNumber:At,typed:De}),VTe=AAe({BigNumber:At,Complex:In,config:it,typed:De}),_s=mge({BigNumber:At,typed:De}),HTe=W6e({typed:De}),GTe=RAe({typed:De}),ZTe=ZAe({BigNumber:At,typed:De}),ql=Hve({typed:De}),WTe=v_e({typed:De}),kv=Y3({isInteger:bs,typed:De}),bt=wge({DenseMatrix:Cr,Matrix:K2,SparseMatrix:Ki,typed:De}),KTe=Sge({isZero:nl,matrix:bt,typed:De}),JTe=cbe({BigNumber:At,config:it,matrix:bt,typed:De}),YTe=D$e({config:it,log2:D$,typed:De}),aG=pbe({isInteger:bs,matrix:bt,typed:De}),XTe=YAe({BigNumber:At,typed:De}),QTe=twe({typed:De}),eke=aAe({SparseMatrix:Ki,typed:De}),mu=tye({Complex:In,config:it,typed:De}),tke=Ebe({typed:De}),rke=swe({typed:De}),Ag=kbe({matrix:bt,typed:De}),sG=oye({BigNumber:At,config:it,matrix:bt,typed:De}),pa=Pbe({BigNumber:At,config:it,matrix:bt,typed:De}),nke=hAe({BigNumber:At,Complex:In,config:it,typed:De}),ike=EAe({Complex:In,config:it,typed:De}),ake=o_e({format:_g,typed:De}),nn=xH({isInteger:bs,matrix:bt,typed:De}),ske=jAe({BigNumber:At,typed:De}),I$=Obe({conj:fp,transpose:Ag,typed:De}),oG=Zye({DenseMatrix:Cr,SparseMatrix:Ki,matrix:bt,typed:De}),oke=pye({concat:nn,equalScalar:Pr,matrix:bt,multiplyScalar:vi,typed:De}),Eo=c2e({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),wg=_ge({Fraction:cp,typed:De}),kf=nbe({BigNumber:At,DenseMatrix:Cr,SparseMatrix:Ki,config:it,matrix:bt,typed:De}),mp=Lve({typed:De}),uke=abe({matrix:bt,multiplyScalar:vi,typed:De}),Q2=S2e({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,config:it,matrix:bt,typed:De}),lke=W_e({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De,zeros:pa}),cke=t_e({isNaN:ql,isNumeric:mp,typed:De}),fke=J1e({BigNumber:At,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),vo=b_e({bignumber:_s,fraction:wg,number:ic}),uG=n_e({config:it,multiplyScalar:vi,numeric:vo,typed:De}),dke=vbe({config:it,matrix:bt}),pke=J_e({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De,zeros:pa}),Ih=E_e({BigNumber:At,DenseMatrix:Cr,config:it,equalScalar:Pr,matrix:bt,typed:De,zeros:pa}),ba=xbe({matrix:bt,config:it,typed:De}),Ka=h2e({DenseMatrix:Cr,SparseMatrix:Ki,bignumber:_s,concat:nn,config:it,matrix:bt,typed:De}),mke=m_e({concat:nn,matrix:bt,typed:De}),il=Ige({typed:De}),hke=D2e({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,config:it,equalScalar:Pr,matrix:bt,typed:De}),vke=Rye({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,matrix:bt,typed:De}),Gr=Nwe({DenseMatrix:Cr,SparseMatrix:Ki,addScalar:Wi,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),gke=OAe({BigNumber:At,DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),yke=_H({concat:nn,equalScalar:Pr,matrix:bt,typed:De}),bke=AH({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),_ke=Cye({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,matrix:bt,typed:De}),lG=Vge({BigNumber:At,Complex:In,Fraction:cp,config:it,isNegative:Tf,matrix:bt,typed:De,unaryMinus:il}),hp=t2e({BigNumber:At,DenseMatrix:Cr,Fraction:cp,concat:nn,config:it,equalScalar:Pr,matrix:bt,typed:De}),cG=u2e({concat:nn,matrix:bt,typed:De}),Ake=jye({prod:uG,size:ba,typed:De}),O$=$2e({equal:Eo,typed:De}),si=A_e({numeric:vo,typed:De}),xg=B_e({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,divideScalar:si,equalScalar:Pr,matrix:bt,typed:De}),wke=p2e({compareText:cG,isZero:nl,typed:De}),fG=gH({DenseMatrix:Cr,config:it,equalScalar:Pr,matrix:bt,round:Ih,typed:De,zeros:pa}),xke=M1e({BigNumber:At,DenseMatrix:Cr,concat:nn,config:it,equalScalar:Pr,matrix:bt,round:Ih,typed:De,zeros:pa}),Ske=Rve({isNumeric:mp,typed:De}),Eke=Twe({abs:ns,addScalar:Wi,divideScalar:si,isPositive:dp,multiplyScalar:vi,smaller:Ka,sqrt:mu,typed:De}),dG=R2e({DenseMatrix:Cr,smaller:Ka}),Ta=q2e({ImmutableDenseMatrix:dG,getMatrixDataType:$$}),Ja=A2e({DenseMatrix:Cr,SparseMatrix:Ki,bignumber:_s,concat:nn,config:it,matrix:bt,typed:De}),M$=N_e({Complex:In,config:it,divideScalar:si,typeOf:k$,typed:De}),pG=F_e({DenseMatrix:Cr,divideScalar:si,equalScalar:Pr,matrix:bt,multiplyScalar:vi,subtractScalar:So,typed:De}),P$=Nge({flatten:bg,matrix:bt,size:ba,typed:De}),B$=LH({config:it,isNaN:ql,larger:Ja,numeric:vo,typed:De}),Cke=FH({config:it,isNaN:ql,numeric:vo,smaller:Ka,typed:De}),mG=yH({DenseMatrix:Cr,concat:nn,config:it,equalScalar:Pr,matrix:bt,round:Ih,typed:De,zeros:pa}),$ke=I_e({Complex:In,config:it,divideScalar:si,typed:De}),Nke=wH({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),eA=I2e({compare:hp,isNaN:ql,isNumeric:mp,typed:De}),L$=qxe({addScalar:Wi,complex:Y2,conj:fp,divideScalar:si,equal:Eo,identity:kf,isZero:nl,matrix:bt,multiplyScalar:vi,sign:iG,sqrt:mu,subtractScalar:So,typed:De,unaryMinus:il,zeros:pa}),Dke=X_e({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De,zeros:pa}),Wm=y2e({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,config:it,matrix:bt,typed:De}),Ws=OH({add:Gr,matrix:bt,typed:De,zeros:pa}),Si=aye({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,subtractScalar:So,typed:De,unaryMinus:il}),Tke=Lwe({add:Gr,matrix:bt,typed:De}),F$=U_e({DenseMatrix:Cr,divideScalar:si,equalScalar:Pr,matrix:bt,multiplyScalar:vi,subtractScalar:So,typed:De}),kke=P$e({addScalar:Wi,combinations:J2,divideScalar:si,isInteger:bs,isNegative:Tf,multiplyScalar:vi,typed:De}),al=a2e({compare:hp,typed:De}),Ike=L$e({addScalar:Wi,combinations:J2,isInteger:bs,isNegative:Tf,isPositive:dp,larger:Ja,typed:De}),Oke=NH({matrix:bt,number:ic,subtract:Si,typed:De}),Mke=D6e({abs:ns,addScalar:Wi,deepEqual:O$,divideScalar:si,multiplyScalar:vi,sqrt:mu,subtractScalar:So,typed:De}),tA=Mwe({addScalar:Wi,conj:fp,multiplyScalar:vi,size:ba,typed:De}),hG=H2e({larger:Ja,smaller:Ka}),vG=Rwe({Index:Ta,typed:De}),Pke=lye({BigNumber:At,add:Gr,config:it,equal:Eo,isInteger:bs,mod:mG,smaller:Ka,typed:De,xgcd:sG}),Bke=F1e({concat:nn,equalScalar:Pr,matrix:bt,typed:De}),Lke=T_e({Complex:In,config:it,divideScalar:si,log:M$,typed:De}),Fke=q_e({DenseMatrix:Cr,divideScalar:si,equalScalar:Pr,matrix:bt,multiplyScalar:vi,subtractScalar:So,typed:De}),Rke=Cge({flatten:bg,matrix:bt,size:ba,typed:De}),gn=W1e({addScalar:Wi,dot:tA,equalScalar:Pr,matrix:bt,multiplyScalar:vi,typed:De}),Km=kH({bignumber:_s,matrix:bt,add:Gr,config:it,isPositive:dp,larger:Ja,largerEq:Q2,smaller:Ka,smallerEq:Wm,typed:De}),Uke=IH({Index:Ta,matrix:bt,range:Km,typed:De}),zke=uwe({DenseMatrix:Cr,Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),qke=dwe({DenseMatrix:Cr,Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),jke=vwe({Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),Vke=_we({Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),gG=dSe({SparseMatrix:Ki,abs:ns,add:Gr,divideScalar:si,larger:Ja,largerEq:Q2,multiply:gn,subtract:Si,transpose:Ag,typed:De}),Hke=M2e({compare:hp,compareNatural:al,matrix:bt,typed:De}),R$=Mge({config:it,numeric:vo,typed:De}),yG=V_e({DenseMatrix:Cr,divideScalar:si,equalScalar:Pr,matrix:bt,multiplyScalar:vi,subtractScalar:So,typed:De}),Gke=sNe({Complex:In,add:Gr,multiply:gn,number:ic,typed:De}),Zke=BH({concat:nn,equalScalar:Pr,matrix:bt,not:m_,typed:De,zeros:pa}),U$=e1e({DenseMatrix:Cr,config:it,equalScalar:Pr,matrix:bt,round:Ih,typed:De,zeros:pa}),bG=SH({Index:Ta,matrix:bt,range:Km,typed:De}),Wke=Hye({matrix:bt,multiply:gn,subtract:Si,typed:De}),_G=a6e({divideScalar:si,isZero:nl,matrix:bt,multiply:gn,subtractScalar:So,typed:De,unaryMinus:il}),AG=l1e({Complex:In,DenseMatrix:Cr,ceil:U$,equalScalar:Pr,floor:fG,matrix:bt,typed:De,zeros:pa}),vp=o6e({abs:ns,addScalar:Wi,det:_G,divideScalar:si,identity:kf,matrix:bt,multiply:gn,typed:De,unaryMinus:il}),Kke=l6e({Complex:In,add:Gr,ctranspose:I$,deepEqual:O$,divideScalar:si,dot:tA,dotDivide:xg,equal:Eo,inv:vp,matrix:bt,multiply:gn,typed:De}),hu=x_e({Complex:In,config:it,fraction:wg,identity:kf,inv:vp,matrix:bt,multiply:gn,number:ic,typed:De}),wG=cwe({DenseMatrix:Cr,Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),Jke=ywe({Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),xG=Swe({Index:Ta,concat:nn,setDifference:wG,size:ba,subset:Ws,typed:De}),SG=W2e({FibonacciHeap:hG,addScalar:Wi,equalScalar:Pr}),Yke=y6e({abs:ns,add:Gr,identity:kf,inv:vp,map:pp,max:B$,multiply:gn,size:ba,sqrt:mu,subtract:Si,typed:De}),z$=VH({add:Gr,config:it,numeric:vo,typed:De}),rr=tAe({BigNumber:At,Complex:In,Fraction:cp,abs:ns,addScalar:Wi,config:it,divideScalar:si,equal:Eo,fix:AG,format:_g,isNumeric:mp,multiplyScalar:vi,number:ic,pow:hu,round:Ih,subtractScalar:So}),Xke=RNe({BigNumber:At,Unit:rr,config:it}),Qke=ADe({BigNumber:At,Unit:rr,config:it}),e5e=lDe({BigNumber:At,Unit:rr,config:it}),t5e=jNe({BigNumber:At,Unit:rr,config:it}),r5e=fDe({BigNumber:At,Unit:rr,config:it}),n5e=VNe({BigNumber:At,Unit:rr,config:it}),i5e=UNe({BigNumber:At,Unit:rr,config:it}),a5e=oAe({Unit:rr,typed:De}),s5e=rDe({BigNumber:At,Unit:rr,config:it}),o5e=M_e({DenseMatrix:Cr,SparseMatrix:Ki,concat:nn,equalScalar:Pr,matrix:bt,pow:hu,typed:De}),u5e=FNe({BigNumber:At,Unit:rr,config:it}),l5e=qNe({BigNumber:At,Unit:rr,config:it}),c5e=v6e({abs:ns,add:Gr,identity:kf,inv:vp,multiply:gn,typed:De}),f5e=dDe({BigNumber:At,Unit:rr,config:it}),EG=Lbe({addScalar:Wi,ceil:U$,conj:fp,divideScalar:si,dotDivide:xg,exp:nG,i:XH,log2:D$,matrix:bt,multiplyScalar:vi,pow:hu,tau:eG,typed:De}),q$=J6e({BigNumber:At,Complex:In,config:it,multiplyScalar:vi,pow:hu,typed:De}),d5e=MNe({BigNumber:At,Unit:rr,config:it}),p5e=eDe({BigNumber:At,Unit:rr,config:it}),m5e=Rbe({conj:fp,dotDivide:xg,fft:EG,typed:De}),h5e=HNe({BigNumber:At,Unit:rr,config:it}),v5e=WNe({BigNumber:At,Unit:rr,config:it}),g5e=mDe({BigNumber:At,Unit:rr,config:it}),y5e=LNe({BigNumber:At,Unit:rr,config:it}),b5e=wDe({BigNumber:At,Unit:rr,config:it}),_5e=vDe({BigNumber:At,Unit:rr,config:it}),A5e=nDe({BigNumber:At,Unit:rr,config:it}),w5e=ZNe({BigNumber:At,Unit:rr,config:it}),x5e=NDe({BigNumber:At,Unit:rr,config:it}),S5e=EDe({BigNumber:At,Unit:rr,config:it}),E5e=DDe({BigNumber:At,Unit:rr,config:it}),C5e=tDe({BigNumber:At,Unit:rr,config:it}),$5e=iDe({BigNumber:At,Unit:rr,config:it}),N5e=BNe({BigNumber:At,Unit:rr,config:it}),D5e=aDe({BigNumber:At,Unit:rr,config:it}),T5e=bDe({BigNumber:At,Unit:rr,config:it}),k5e=wwe({compareNatural:al,typed:De}),I5e=ONe({BigNumber:At,Unit:rr,config:it}),O5e=_De({BigNumber:At,Unit:rr,config:it}),M5e=sDe({BigNumber:At,Unit:rr,config:it}),P5e=cDe({BigNumber:At,Unit:rr,config:it}),B5e=KNe({BigNumber:At,Unit:rr,config:it}),L5e=zNe({BigNumber:At,Unit:rr,config:it}),ha=$6e({divideScalar:si,equalScalar:Pr,inv:vp,matrix:bt,multiply:gn,typed:De}),F5e=YNe({BigNumber:At,Unit:rr,config:it}),Sg=e$e({gamma:q$,typed:De}),R5e=pDe({BigNumber:At,Unit:rr,config:it}),U5e=SDe({BigNumber:At,Unit:rr,config:it}),z5e=I6e({abs:ns,add:Gr,addScalar:Wi,config:it,divideScalar:si,equalScalar:Pr,flatten:bg,isNumeric:mp,isZero:nl,matrix:bt,multiply:gn,multiplyScalar:vi,smaller:Ka,subtract:Si,typed:De}),CG=Uxe({DenseMatrix:Cr,Spa:SG,SparseMatrix:Ki,abs:ns,addScalar:Wi,divideScalar:si,equalScalar:Pr,larger:Ja,matrix:bt,multiplyScalar:vi,subtractScalar:So,typed:De,unaryMinus:il}),q5e=GNe({BigNumber:At,Unit:rr,config:it}),j5e=xDe({BigNumber:At,Unit:rr,config:it}),V5e=i$e({add:Gr,divide:ha,factorial:Sg,isInteger:bs,isPositive:dp,multiply:gn,typed:De}),H5e=s$e({factorial:Sg,typed:De}),G5e=CDe({BigNumber:At,Unit:rr,config:it}),Z5e=vSe({add:Gr,cbrt:lG,divide:ha,equalScalar:Pr,im:N$,isZero:nl,multiply:gn,re:T$,sqrt:mu,subtract:Si,typeOf:k$,typed:De,unaryMinus:il}),$G=mwe({DenseMatrix:Cr,Index:Ta,compareNatural:al,size:ba,subset:Ws,typed:De}),W5e=Hbe({abs:ns,add:Gr,bignumber:_s,divide:ha,isNegative:Tf,isPositive:dp,larger:Ja,map:pp,matrix:bt,max:B$,multiply:gn,smaller:Ka,subtract:Si,typed:De,unaryMinus:il}),NG=k$e({bignumber:_s,addScalar:Wi,combinations:J2,divideScalar:si,factorial:Sg,isInteger:bs,isNegative:Tf,larger:Ja,multiplyScalar:vi,number:ic,pow:hu,subtractScalar:So,typed:De}),K5e=nAe({Unit:rr,typed:De}),J5e=O$e({addScalar:Wi,isInteger:bs,isNegative:Tf,stirlingS2:NG,typed:De}),Y5e=HH({add:Gr,typed:De,unaryPlus:R$}),DG=m6e({abs:ns,add:Gr,addScalar:Wi,atan:rG,bignumber:_s,column:bG,complex:Y2,config:it,cos:C$,diag:oG,divideScalar:si,dot:tA,equal:Eo,flatten:bg,im:N$,inv:vp,larger:Ja,matrix:bt,matrixFromColumns:P$,multiply:gn,multiplyScalar:vi,number:ic,qr:L$,re:T$,reshape:aG,sin:X2,size:ba,smaller:Ka,sqrt:mu,subtract:Si,typed:De,usolve:F$,usolveAll:yG}),X5e=XNe({BigNumber:At,Unit:rr,config:it}),Q5e=hDe({BigNumber:At,Unit:rr,config:it}),eIe=r$e({divide:ha,dotDivide:xg,isNumeric:mp,log:M$,map:pp,matrix:bt,multiply:gn,sum:z$,typed:De}),TG=mSe({DenseMatrix:Cr,lsolve:pG,lup:CG,matrix:bt,slu:gG,typed:De,usolve:F$}),kG=GH({add:Gr,divide:ha,typed:De}),tIe=gDe({BigNumber:At,Unit:rr,config:it}),rIe=PNe({BigNumber:At,Unit:rr,config:it}),nIe=WH({bignumber:_s,add:Gr,compare:hp,divide:ha,isInteger:bs,larger:Ja,mapSlices:kv,multiply:gn,partitionSelect:eA,smaller:Ka,smallerEq:Wm,subtract:Si,typed:De}),iIe=Cwe({Index:Ta,concat:nn,setIntersect:$G,setSymDifference:xG,size:ba,subset:Ws,typed:De}),j$=ZH({add:Gr,divide:ha,isNaN:ql,mapSlices:kv,multiply:gn,subtract:Si,typed:De}),aIe=JNe({BigNumber:At,Unit:rr,config:it}),IG=L6e({add:Gr,compare:hp,divide:ha,partitionSelect:eA,typed:De}),sIe=V6e({add:Gr,divide:ha,matrix:bt,mean:kG,multiply:gn,pow:hu,sqrt:mu,subtract:Si,sum:z$,typed:De}),oIe=uNe({Complex:In,add:Gr,divide:ha,matrix:bt,multiply:gn,typed:De}),uIe=R6e({abs:ns,map:pp,median:IG,subtract:Si,typed:De}),lIe=KH({map:pp,sqrt:mu,typed:De,variance:j$}),cIe=Qbe({BigNumber:At,Complex:In,add:Gr,config:it,divide:ha,equal:Eo,factorial:Sg,gamma:q$,isNegative:Tf,multiply:gn,pi:sE,pow:hu,sin:X2,smallerEq:Wm,subtract:Si,typed:De}),V$=Iwe({abs:ns,add:Gr,conj:fp,ctranspose:I$,eigs:DG,equalScalar:Pr,larger:Ja,matrix:bt,multiply:gn,pow:hu,smaller:Ka,sqrt:mu,typed:De}),OG=_be({BigNumber:At,DenseMatrix:Cr,SparseMatrix:Ki,addScalar:Wi,config:it,cos:C$,matrix:bt,multiplyScalar:vi,norm:V$,sin:X2,typed:De,unaryMinus:il}),fIe=$De({BigNumber:At,Unit:rr,config:it}),MG=w6e({identity:kf,matrix:bt,multiply:gn,norm:V$,qr:L$,subtract:Si,typed:De}),dIe=ybe({multiply:gn,rotationMatrix:OG,typed:De}),PG=_6e({abs:ns,add:Gr,concat:nn,identity:kf,index:vG,lusolve:TG,matrix:bt,matrixFromColumns:P$,multiply:gn,range:Km,schur:MG,subset:Ws,subtract:Si,transpose:Ag,typed:De}),pIe=S6e({matrix:bt,multiply:gn,sylvester:PG,transpose:Ag,typed:De}),Oh={},Eg={},BG={},Ba=qwe({mathWithTransform:Eg}),Mh=mxe({Node:Ba}),ac=vxe({Node:Ba}),gp=yxe({Node:Ba}),LG=wxe({Node:Ba}),Ph=Gwe({Node:Ba}),FG=Xwe({Node:Ba,ResultSet:QH}),RG=exe({Node:Ba}),If=uxe({Node:Ba}),UG=_xe({Node:Ba}),mIe=fNe({classes:BG}),H$=wSe({math:Oh,typed:De}),zG=cxe({Node:Ba,typed:De}),hIe=n6e({Chain:H$,typed:De}),Bh=Vwe({Node:Ba,subset:Ws}),qG=Jwe({matrix:bt,Node:Ba,subset:Ws}),Lh=dxe({Node:Ba,size:ba}),Of=Exe({Unit:rr,Node:Ba,math:Oh}),Mf=$xe({Node:Ba,SymbolNode:Of,math:Oh}),vu=Dxe({AccessorNode:Bh,ArrayNode:Ph,AssignmentNode:qG,BlockNode:FG,ConditionalNode:RG,ConstantNode:If,FunctionAssignmentNode:zG,FunctionNode:Mf,IndexNode:Lh,ObjectNode:Mh,OperatorNode:ac,ParenthesisNode:gp,RangeNode:UG,RelationalNode:LG,SymbolNode:Of,config:it,numeric:vo,typed:De}),jG=X$e({ConstantNode:If,FunctionNode:Mf,OperatorNode:ac,ParenthesisNode:gp,parse:vu,typed:De}),G$=Z$e({bignumber:_s,fraction:wg,AccessorNode:Bh,ArrayNode:Ph,ConstantNode:If,FunctionNode:Mf,IndexNode:Lh,ObjectNode:Mh,OperatorNode:ac,SymbolNode:Of,config:it,mathWithTransform:Eg,matrix:bt,typed:De}),vIe=kxe({parse:vu,typed:De}),Z$=K$e({AccessorNode:Bh,ArrayNode:Ph,ConstantNode:If,FunctionNode:Mf,IndexNode:Lh,ObjectNode:Mh,OperatorNode:ac,ParenthesisNode:gp,SymbolNode:Of,add:Gr,divide:ha,equal:Eo,isZero:nl,multiply:gn,parse:vu,pow:hu,subtract:Si,typed:De}),Wl=Oxe({parse:vu,typed:De}),VG=bSe({evaluate:Wl}),HG=Bxe({evaluate:Wl,parse:vu}),rA=V$e({AccessorNode:Bh,ArrayNode:Ph,ConstantNode:If,FunctionNode:Mf,IndexNode:Lh,ObjectNode:Mh,OperatorNode:ac,ParenthesisNode:gp,SymbolNode:Of,equal:Eo,parse:vu,replacer:tG,resolve:jG,simplifyConstant:G$,simplifyCore:Z$,typed:De}),gIe=eNe({OperatorNode:ac,parse:vu,simplify:rA,typed:De}),yIe=R$e({parse:vu,typed:De}),bIe=Fxe({Parser:HG,typed:De}),_Ie=iNe({bignumber:_s,fraction:wg,AccessorNode:Bh,ArrayNode:Ph,ConstantNode:If,FunctionNode:Mf,IndexNode:Lh,ObjectNode:Mh,OperatorNode:ac,ParenthesisNode:gp,SymbolNode:Of,add:Gr,config:it,divide:ha,equal:Eo,isZero:nl,mathWithTransform:Eg,matrix:bt,multiply:gn,parse:vu,pow:hu,simplify:rA,simplifyConstant:G$,simplifyCore:Z$,subtract:Si,typed:De}),AIe=rNe({ConstantNode:If,FunctionNode:Mf,OperatorNode:ac,ParenthesisNode:gp,SymbolNode:Of,config:it,equal:Eo,isZero:nl,numeric:vo,parse:vu,simplify:rA,typed:De}),wIe=t6e({Help:VG,mathWithTransform:Eg,typed:De});qi(Oh,{e:C7,false:W8e,fineStructure:K8e,i:XH,Infinity:J8e,LN10:Y8e,LOG10E:X8e,NaN:Q8e,null:eTe,phi:tTe,SQRT1_2:nTe,sackurTetrode:iTe,tau:eG,true:aTe,E:C7,version:sTe,efimovFactor:oTe,LN2:uTe,pi:sE,replacer:tG,reviver:mIe,SQRT2:lTe,typed:De,PI:sE,weakMixingAngle:cTe,abs:ns,acos:fTe,acot:dTe,acsc:pTe,addScalar:Wi,arg:mTe,asech:hTe,asinh:vTe,atan:rG,atanh:gTe,bigint:yTe,bitNot:bTe,boolean:_Te,clone:ATe,combinations:J2,complex:Y2,conj:fp,cos:C$,cot:wTe,csc:xTe,cube:STe,equalScalar:Pr,erf:ETe,exp:nG,expm1:CTe,filter:$Te,flatten:bg,forEach:NTe,format:_g,getMatrixDataType:$$,hex:DTe,im:N$,isInteger:bs,isNegative:Tf,isPositive:dp,isZero:nl,LOG2E:TTe,lgamma:kTe,log10:ITe,log2:D$,map:pp,multiplyScalar:vi,not:m_,number:ic,oct:OTe,pickRandom:MTe,print:PTe,random:BTe,re:T$,sec:LTe,sign:iG,sin:X2,splitUnit:FTe,square:RTe,string:UTe,subtractScalar:So,tan:zTe,typeOf:k$,acosh:qTe,acsch:jTe,asec:VTe,bignumber:_s,chain:hIe,combinationsWithRep:HTe,cosh:GTe,csch:ZTe,isNaN:ql,isPrime:WTe,mapSlices:kv,matrix:bt,matrixFromFunction:KTe,ones:JTe,randomInt:YTe,reshape:aG,sech:XTe,sinh:QTe,sparse:eke,sqrt:mu,squeeze:tke,tanh:rke,transpose:Ag,xgcd:sG,zeros:pa,acoth:nke,asin:ike,bin:ake,concat:nn,coth:ske,ctranspose:I$,diag:oG,dotMultiply:oke,equal:Eo,fraction:wg,identity:kf,isNumeric:mp,kron:uke,largerEq:Q2,leftShift:lke,mode:cke,nthRoot:fke,numeric:vo,prod:uG,resize:dke,rightArithShift:pke,round:Ih,size:ba,smaller:Ka,to:mke,unaryMinus:il,unequal:hke,xor:vke,add:Gr,atan2:gke,bitAnd:yke,bitOr:bke,bitXor:_ke,cbrt:lG,compare:hp,compareText:cG,count:Ake,deepEqual:O$,divideScalar:si,dotDivide:xg,equalText:wke,floor:fG,gcd:xke,hasNumericValue:Ske,hypot:Eke,larger:Ja,log:M$,lsolve:pG,matrixFromColumns:P$,max:B$,min:Cke,mod:mG,nthRoots:$ke,or:Nke,partitionSelect:eA,qr:L$,rightLogShift:Dke,smallerEq:Wm,subset:Ws,subtract:Si,trace:Tke,usolve:F$,catalan:kke,compareNatural:al,composition:Ike,diff:Oke,distance:Mke,dot:tA,index:vG,invmod:Pke,lcm:Bke,log1p:Lke,lsolveAll:Fke,matrixFromRows:Rke,multiply:gn,range:Km,row:Uke,setCartesian:zke,setDistinct:qke,setIsSubset:jke,setPowerset:Vke,slu:gG,sort:Hke,unaryPlus:R$,usolveAll:yG,zpk2tf:Gke,and:Zke,ceil:U$,column:bG,cross:Wke,det:_G,fix:AG,inv:vp,pinv:Kke,pow:hu,setDifference:wG,setMultiplicity:Jke,setSymDifference:xG,sqrtm:Yke,sum:z$,vacuumImpedance:Xke,wienDisplacement:Qke,atomicMass:e5e,bohrMagneton:t5e,boltzmann:r5e,conductanceQuantum:n5e,coulomb:i5e,createUnit:a5e,deuteronMass:s5e,dotPow:o5e,electricConstant:u5e,elementaryCharge:l5e,expm:c5e,faraday:f5e,fft:EG,gamma:q$,gravitationConstant:d5e,hartreeEnergy:p5e,ifft:m5e,inverseConductanceQuantum:h5e,klitzing:v5e,loschmidt:g5e,magneticConstant:y5e,molarMass:b5e,molarPlanckConstant:_5e,neutronMass:A5e,nuclearMagneton:w5e,planckCharge:x5e,planckLength:S5e,planckTemperature:E5e,protonMass:C5e,quantumOfCirculation:$5e,reducedPlanckConstant:N5e,rydberg:D5e,secondRadiation:T5e,setSize:k5e,speedOfLight:I5e,stefanBoltzmann:O5e,thomsonCrossSection:M5e,avogadro:P5e,bohrRadius:B5e,coulombConstant:L5e,divide:ha,electronMass:F5e,factorial:Sg,firstRadiation:R5e,gravity:U5e,intersect:z5e,lup:CG,magneticFluxQuantum:q5e,molarMassC12:j5e,multinomial:V5e,parse:vu,permutations:H5e,planckMass:G5e,polynomialRoot:Z5e,resolve:jG,setIntersect:$G,simplifyConstant:G$,solveODE:W5e,stirlingS2:NG,unit:K5e,bellNumbers:J5e,compile:vIe,cumsum:Y5e,eigs:DG,fermiCoupling:X5e,gasConstant:Q5e,kldivergence:eIe,lusolve:TG,mean:kG,molarVolume:tIe,planckConstant:rIe,quantileSeq:nIe,setUnion:iIe,simplifyCore:Z$,variance:j$,classicalElectronRadius:aIe,evaluate:Wl,median:IG,simplify:rA,symbolicEqual:gIe,corr:sIe,freqz:oIe,leafCount:yIe,mad:uIe,parser:bIe,rationalize:_Ie,std:lIe,zeta:cIe,derivative:AIe,norm:V$,rotationMatrix:OG,help:wIe,planckTime:fIe,schur:MG,rotate:dIe,sylvester:PG,lyap:pIe,config:it});qi(Eg,Oh,{mapSlices:ODe({isInteger:bs,typed:De}),filter:zDe({typed:De}),forEach:VDe({typed:De}),map:JDe({typed:De}),or:z8e({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),and:F8e({add:Gr,concat:nn,equalScalar:Pr,matrix:bt,not:m_,typed:De,zeros:pa}),concat:b8e({isInteger:bs,matrix:bt,typed:De}),index:ZDe({Index:Ta,getMatrixDataType:$$}),print:P8e({add:Gr,matrix:bt,typed:De,zeros:pa}),sum:C8e({add:Gr,config:it,numeric:vo,typed:De}),bitAnd:V8e({add:Gr,concat:nn,equalScalar:Pr,matrix:bt,not:m_,typed:De,zeros:pa}),min:o8e({config:it,isNaN:ql,numeric:vo,smaller:Ka,typed:De}),subset:v8e({add:Gr,matrix:bt,typed:De,zeros:pa}),bitOr:Z8e({DenseMatrix:Cr,concat:nn,equalScalar:Pr,matrix:bt,typed:De}),cumsum:k8e({add:Gr,typed:De,unaryPlus:R$}),diff:A8e({bignumber:_s,matrix:bt,number:ic,subtract:Si,typed:De}),max:t8e({config:it,isNaN:ql,larger:Ja,numeric:vo,typed:De}),range:c8e({bignumber:_s,matrix:bt,add:Gr,config:it,isPositive:dp,larger:Ja,largerEq:Q2,smaller:Ka,smallerEq:Wm,typed:De}),row:p8e({Index:Ta,matrix:bt,range:Km,typed:De}),column:BDe({Index:Ta,matrix:bt,range:Km,typed:De}),mean:i8e({add:Gr,divide:ha,typed:De}),quantileSeq:D8e({add:Gr,bignumber:_s,compare:hp,divide:ha,isInteger:bs,larger:Ja,mapSlices:kv,multiply:gn,partitionSelect:eA,smaller:Ka,smallerEq:Wm,subtract:Si,typed:De}),variance:O8e({add:Gr,divide:ha,isNaN:ql,mapSlices:kv,multiply:gn,subtract:Si,typed:De}),std:S8e({map:pp,sqrt:mu,typed:De,variance:j$})});qi(BG,{BigNumber:At,Complex:In,Fraction:cp,Matrix:K2,Node:Ba,ObjectNode:Mh,OperatorNode:ac,ParenthesisNode:gp,Range:rTe,RelationalNode:LG,ResultSet:QH,ArrayNode:Ph,BlockNode:FG,ConditionalNode:RG,ConstantNode:If,DenseMatrix:Cr,RangeNode:UG,Chain:H$,FunctionAssignmentNode:zG,SparseMatrix:Ki,ImmutableDenseMatrix:dG,Index:Ta,AccessorNode:Bh,AssignmentNode:qG,FibonacciHeap:hG,IndexNode:Lh,Spa:SG,Unit:rr,SymbolNode:Of,FunctionNode:Mf,Help:VG,Parser:HG});H$.createProxy(Oh);const xIe={"armor-class":"armor-class","manual-armor-class":"manual-armor-class",attack:"attack-modifier","melee-attack":"melee-attack-modifier","ranged-attack":"ranged-attack-modifier","weapon-attack":"weapon-attack-modifier","melee-weapon-attack":"melee-weapon-attack-modifier","ranged-weapon-attack":"ranged-weapon-attack-modifier","melee-spell-attack":"melee-spell-attack-modifier","ranged-spell-attack":"ranged-spell-attack-modifier","attack-roll":"attack-roll-modifier","melee-attack-roll":"melee-attack-roll-modifier","ranged-attack-roll":"ranged-attack-roll-modifier","weapon-attack-roll":"weapon-attack-roll-modifier","melee-weapon-attack-roll":"melee-weapon-attack-roll-modifier","ranged-weapon-attack-roll":"ranged-weapon-attack-roll-modifier","melee-spell-attack-roll":"melee-spell-attack-roll-modifier","ranged-spell-attack-roll":"ranged-spell-attack-roll-modifier","attack-action-die":"attack-action-die","attack-action-die-min":"attack-action-die-min","melee-attack-action-die":"melee-attack-action-die","melee-attack-action-die-min":"melee-attack-action-die-min","ranged-attack-action-die":"ranged-attack-action-die","ranged-attack-action-die-min":"ranged-attack-action-die-min","weapon-attack-action-die":"weapon-attack-action-die","weapon-attack-action-die-min":"weapon-attack-action-die-min","melee-weapon-attack-action-die":"melee-weapon-attack-action-die","melee-weapon-attack-action-die-min":"melee-weapon-attack-action-die-min","ranged-weapon-attack-action-die":"ranged-weapon-attack-action-die","ranged-weapon-attack-action-die-min":"ranged-weapon-attack-action-die-min","melee-spell-attack-action-die":"melee-spell-attack-action-die","melee-spell-attack-action-die-min":"melee-spell-attack-action-die-min","ranged-spell-attack-action-die":"ranged-spell-attack-action-die","ranged-spell-attack-action-die-min":"ranged-spell-attack-action-die-min","hit-points-max":"hit-points-max","hit-dice-bonus":"hit-dice-bonus-modifier","hit-dice-roll":"hit-dice-roll-modifier",check:"check-modifier","check-roll":"check-roll-modifier","check-action-die":"check-action-die","check-action-die-min":"check-action-die-min",initiative:"initiative-modifier","initiative-roll":"initiative-roll-modifier","initiative-action-die":"initiative-action-die","initiative-action-die-min":"initiative-action-die-min","proficiency-bonus":"proficiency-bonus","spell-attack":"spell-attack-modifier","spell-attack-roll":"spell-attack-roll-modifier","spell-attack-action-die":"spell-attack-action-die","spell-dc":"spell-dc",saving:"saving-modifier","saving-roll":"saving-roll-modifier","saving-action-die":"saving-action-die","saving-action-die-min":"saving-action-die-min","saving-proficiency":"saving-proficiency","death-saving":"death-saving-modifier","death-saving-roll":"death-saving-roll-modifier","death-saving-action-die":"death-saving-action-die","death-saving-action-die-min":"death-saving-action-die-min","death-saves-max":"death-saves-max","death-saves-failures-max":"death-saves-failures-max","death-saves-successes-max":"death-saves-successes-max",skill:"skill-modifier","skill-roll":"skill-roll-modifier","skill-action-die":"skill-action-die","skill-action-die-min":"skill-action-die-min","skill-proficiency":"skill-proficiency",tools:"tools-modifier","tools-roll":"tools-roll-modifier","tools-action-die":"tools-action-die","tools-action-die-min":"tools-action-die-min","tools-proficiency":"tools-proficiency","crit-range":"crit-range","melee-crit-range":"melee-crit-range","ranged-crit-range":"ranged-crit-range","weapon-crit-range":"weapon-crit-range","spell-crit-range":"spell-crit-range","melee-weapon-crit-range":"melee-weapon-crit-range","ranged-weapon-crit-range":"ranged-weapon-crit-range","melee-spell-crit-range":"melee-spell-crit-range","ranged-spell-crit-range":"ranged-spell-crit-range",damage:"damage-modifier","weapon-damage":"weapon-damage-modifier","spell-damage":"spell-damage-modifier","melee-damage":"melee-damage-modifier","ranged-damage":"ranged-damage-modifier","melee-weapon-damage":"melee-weapon-damage-modifier","ranged-weapon-damage":"ranged-weapon-damage-modifier","melee-spell-damage":"melee-spell-damage-modifier","ranged-spell-damage":"ranged-spell-damage-modifier","damage-roll":"damage-roll-modifier","weapon-damage-roll":"weapon-damage-roll-modifier","spell-damage-roll":"spell-damage-roll-modifier","melee-damage-roll":"melee-damage-roll-modifier","ranged-damage-roll":"ranged-damage-roll-modifier","melee-weapon-damage-roll":"melee-weapon-damage-roll-modifier","ranged-weapon-damage-roll":"ranged-weapon-damage-roll-modifier","melee-spell-damage-roll":"melee-spell-damage-roll-modifier","ranged-spell-damage-roll":"ranged-spell-damage-roll-modifier","carry-capacity":"carry-capacity-multiplier",speed:"speed"},SIe=Je.abilities.reduce((e,t)=>(e[t]=t,e),{}),EIe=Je.abilities.reduce((e,t)=>{const r=`${t}-check`,n=`${t}-check-modifier`;return e[r]=n,e},{}),CIe=Je.abilities.reduce((e,t)=>{const r=`${t}-check-roll`,n=`${t}-check-roll-modifier`;return e[r]=n,e},{}),$Ie=Je.abilities.reduce((e,t)=>{const r=`${t}-check-action-die`,n=`${t}-check-action-die`;return e[r]=n,e},{}),NIe=Je.abilities.reduce((e,t)=>{const r=`${t}-check-action-die-min`,n=`${t}-check-action-die-min`;return e[r]=n,e},{}),DIe=Je.abilities.reduce((e,t)=>{const r=`${t}-saving`,n=`${t}-saving-modifier`;return e[r]=n,e},{}),TIe=Je.abilities.reduce((e,t)=>{const r=`${t}-saving-roll`,n=`${t}-saving-roll-modifier`;return e[r]=n,e},{}),kIe=Je.abilities.reduce((e,t)=>{const r=`${t}-saving-action-die`,n=`${t}-saving-action-die`;return e[r]=n,e},{}),IIe=Je.abilities.reduce((e,t)=>{const r=`${t}-saving-action-die-min`,n=`${t}-saving-action-die-min`;return e[r]=n,e},{}),OIe=Je.abilities.reduce((e,t)=>{const r=`${t}-saving-proficiency`,n=`${t}-saving-proficiency`;return e[r]=n,e},{}),MIe=Object.keys(Je.skills).reduce((e,t)=>{const r=t,n=`${t}-modifier`;return e[r]=n,e},{}),PIe=Object.keys(Je.skills).reduce((e,t)=>{const r=`${t}-roll`,n=`${t}-roll-modifier`;return e[r]=n,e},{}),BIe=Object.keys(Je.skills).reduce((e,t)=>{const r=`${t}-action-die`,n=`${t}-action-die`;return e[r]=n,e},{}),LIe=Object.keys(Je.skills).reduce((e,t)=>{const r=`${t}-action-die-min`,n=`${t}-action-die-min`;return e[r]=n,e},{}),FIe=Object.keys(Je.skills).reduce((e,t)=>{const r=`${t}-proficiency`,n=`${t}-proficiency`;return e[r]=n,e},{}),RIe=Object.keys(Je.skills).reduce((e,t)=>{const r=`${t}-passive`,n=`${t}-passive`;return e[r]=n,e},{}),oE={};for(let e=1;e<=9;e++)oE[`spell-slots-${e}`]=`spell-slots-${e}`,oE[`pact-spell-slots-${e}`]=`pact-spell-slots-${e}`;const UIe=Je.senses.reduce((e,t)=>{const r=`sense-${t}`,n=`sense-${t}`;return e[r]=n,e},{}),zIe=Je.speeds.reduce((e,t)=>{const r=`${t}-speed`;return e[r]=`${t}-speed`,e},{}),qIe={"damage-resistances":"damage-resistances","damage-immunities":"damage-immunities","damage-vulnerabilities":"damage-vulnerabilities","condition-immunities":"condition-immunities"},jIe={languages:"languages","armor-proficiencies":"armor-proficiencies","weapon-proficiencies":"weapon-proficiencies"},VIe=Je.hitDieSize.reduce((e,t)=>{const n=`${t.replace("1","")}-hit-dice`;return e[n]=n,e},{}),Be={...xIe,...SIe,...EIe,...DIe,...OIe,...FIe,...MIe,...VIe,...CIe,...TIe,...PIe,...RIe,...$Ie,...kIe,...BIe,...oE,...UIe,...zIe,...qIe,...jIe,...NIe,...IIe,...LIe};function HIe(e,t,r){var n=r||{},i=n.noTrailing,a=i===void 0?!1:i,s=n.noLeading,o=s===void 0?!1:s,u=n.debounceMode,l=u===void 0?void 0:u,c,f=!1,d=0;function p(){c&&clearTimeout(c)}function m(v){var y=v||{},w=y.upcomingOnly,g=w===void 0?!1:w;p(),f=!g}function h(){for(var v=arguments.length,y=new Array(v),w=0;w<v;w++)y[w]=arguments[w];var g=this,b=Date.now()-d;if(f)return;function _(){d=Date.now(),t.apply(g,y)}function x(){c=void 0}!o&&l&&!c&&_(),p(),l===void 0&&b>e?o?(d=Date.now(),a||(c=setTimeout(l?x:_,e))):_():a!==!0&&(c=setTimeout(l?x:_,l===void 0?e-b:e))}return h.cancel=m,h}function GG(e,t,r){var n=r||{},i=n.atBegin,a=i===void 0?!1:i;return HIe(e,t,{debounceMode:a!==!1})}const W$=(e,t)=>{const r=document.createElement("html");r.innerHTML=e;const n="[data-i18n],[data-i18n-placeholder],[data-i18n-title],[data-i18n-alt],[data-i18n-aria-label],[data-i18n-label]",i=r.querySelectorAll(n);for(const s of i)GIe(s,t);const a=r.querySelectorAll("[data-i18n-list]");for(const s of a)ZIe(s,t);return r.innerHTML},GIe=(e,t)=>{const r=["-placeholder","-title","-alt","-aria-label","-label",""];for(const n of r)try{const i=e.getAttribute(`data-i18n${n}`);if(i===null)continue;const a=n?`[${i}]`:`<span style="color: red;">[${i}]</span>`,s=t[i]||a;n?e.setAttribute(n.slice(1),s):e.innerHTML=s}catch(i){console.error("Translation Error",i),console.error(e)}},ZIe=(e,t)=>{const r=e.getAttribute("data-i18n-list"),n=t[r];if(!n){const s=n===""?"Empty list entry.":"Missing list key.";e.setAttribute("data-i18n-error",s);return}const i=n.split(",").map(s=>s.trim());e.querySelectorAll("[data-i18n-list-item]");const a=e.cloneNode(!1);for(const s of i){const o=e.querySelector(`[data-i18n-list-item="${s}"]`);if(!o)return;const u=o.cloneNode(!0);u.removeAttribute("data-i18n-list-item"),a.append(u)}e.replaceWith(a)};var ZG={},Iv={},K$={},Ov={},J$={};Object.defineProperty(J$,"__esModule",{value:!0});J$.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}));var Y$={};Object.defineProperty(Y$,"__esModule",{value:!0});Y$.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}));var uE={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(a){var s="";return a>65535&&(a-=65536,s+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),s+=String.fromCharCode(a),s};function n(a){var s;return a>=55296&&a<=57343||a>1114111?65533:(s=r.get(a))!==null&&s!==void 0?s:a}e.replaceCodePoint=n;function i(a){return(0,e.fromCodePoint)(n(a))}e.default=i})(uE);(function(e){var t=Ut&&Ut.__createBinding||(Object.create?function(N,k,P,U){U===void 0&&(U=P);var L=Object.getOwnPropertyDescriptor(k,P);(!L||("get"in L?!k.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return k[P]}}),Object.defineProperty(N,U,L)}:function(N,k,P,U){U===void 0&&(U=P),N[U]=k[P]}),r=Ut&&Ut.__setModuleDefault||(Object.create?function(N,k){Object.defineProperty(N,"default",{enumerable:!0,value:k})}:function(N,k){N.default=k}),n=Ut&&Ut.__importStar||function(N){if(N&&N.__esModule)return N;var k={};if(N!=null)for(var P in N)P!=="default"&&Object.prototype.hasOwnProperty.call(N,P)&&t(k,N,P);return r(k,N),k},i=Ut&&Ut.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var a=i(J$);e.htmlDecodeTree=a.default;var s=i(Y$);e.xmlDecodeTree=s.default;var o=n(uE);e.decodeCodePoint=o.default;var u=uE;Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return u.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return u.fromCodePoint}});var l;(function(N){N[N.NUM=35]="NUM",N[N.SEMI=59]="SEMI",N[N.EQUALS=61]="EQUALS",N[N.ZERO=48]="ZERO",N[N.NINE=57]="NINE",N[N.LOWER_A=97]="LOWER_A",N[N.LOWER_F=102]="LOWER_F",N[N.LOWER_X=120]="LOWER_X",N[N.LOWER_Z=122]="LOWER_Z",N[N.UPPER_A=65]="UPPER_A",N[N.UPPER_F=70]="UPPER_F",N[N.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var c=32,f;(function(N){N[N.VALUE_LENGTH=49152]="VALUE_LENGTH",N[N.BRANCH_LENGTH=16256]="BRANCH_LENGTH",N[N.JUMP_TABLE=127]="JUMP_TABLE"})(f=e.BinTrieFlags||(e.BinTrieFlags={}));function d(N){return N>=l.ZERO&&N<=l.NINE}function p(N){return N>=l.UPPER_A&&N<=l.UPPER_F||N>=l.LOWER_A&&N<=l.LOWER_F}function m(N){return N>=l.UPPER_A&&N<=l.UPPER_Z||N>=l.LOWER_A&&N<=l.LOWER_Z||d(N)}function h(N){return N===l.EQUALS||m(N)}var v;(function(N){N[N.EntityStart=0]="EntityStart",N[N.NumericStart=1]="NumericStart",N[N.NumericDecimal=2]="NumericDecimal",N[N.NumericHex=3]="NumericHex",N[N.NamedEntity=4]="NamedEntity"})(v||(v={}));var y;(function(N){N[N.Legacy=0]="Legacy",N[N.Strict=1]="Strict",N[N.Attribute=2]="Attribute"})(y=e.DecodingMode||(e.DecodingMode={}));var w=function(){function N(k,P,U){this.decodeTree=k,this.emitCodePoint=P,this.errors=U,this.state=v.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return N.prototype.startEntity=function(k){this.decodeMode=k,this.state=v.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},N.prototype.write=function(k,P){switch(this.state){case v.EntityStart:return k.charCodeAt(P)===l.NUM?(this.state=v.NumericStart,this.consumed+=1,this.stateNumericStart(k,P+1)):(this.state=v.NamedEntity,this.stateNamedEntity(k,P));case v.NumericStart:return this.stateNumericStart(k,P);case v.NumericDecimal:return this.stateNumericDecimal(k,P);case v.NumericHex:return this.stateNumericHex(k,P);case v.NamedEntity:return this.stateNamedEntity(k,P)}},N.prototype.stateNumericStart=function(k,P){return P>=k.length?-1:(k.charCodeAt(P)|c)===l.LOWER_X?(this.state=v.NumericHex,this.consumed+=1,this.stateNumericHex(k,P+1)):(this.state=v.NumericDecimal,this.stateNumericDecimal(k,P))},N.prototype.addToNumericResult=function(k,P,U,L){if(P!==U){var B=U-P;this.result=this.result*Math.pow(L,B)+parseInt(k.substr(P,B),L),this.consumed+=B}},N.prototype.stateNumericHex=function(k,P){for(var U=P;P<k.length;){var L=k.charCodeAt(P);if(d(L)||p(L))P+=1;else return this.addToNumericResult(k,U,P,16),this.emitNumericEntity(L,3)}return this.addToNumericResult(k,U,P,16),-1},N.prototype.stateNumericDecimal=function(k,P){for(var U=P;P<k.length;){var L=k.charCodeAt(P);if(d(L))P+=1;else return this.addToNumericResult(k,U,P,10),this.emitNumericEntity(L,2)}return this.addToNumericResult(k,U,P,10),-1},N.prototype.emitNumericEntity=function(k,P){var U;if(this.consumed<=P)return(U=this.errors)===null||U===void 0||U.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(k===l.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(k!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},N.prototype.stateNamedEntity=function(k,P){for(var U=this.decodeTree,L=U[this.treeIndex],B=(L&f.VALUE_LENGTH)>>14;P<k.length;P++,this.excess++){var O=k.charCodeAt(P);if(this.treeIndex=b(U,L,this.treeIndex+Math.max(1,B),O),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(B===0||h(O))?0:this.emitNotTerminatedNamedEntity();if(L=U[this.treeIndex],B=(L&f.VALUE_LENGTH)>>14,B!==0){if(O===l.SEMI)return this.emitNamedEntityData(this.treeIndex,B,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},N.prototype.emitNotTerminatedNamedEntity=function(){var k,P=this,U=P.result,L=P.decodeTree,B=(L[U]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(U,B,this.consumed),(k=this.errors)===null||k===void 0||k.missingSemicolonAfterCharacterReference(),this.consumed},N.prototype.emitNamedEntityData=function(k,P,U){var L=this.decodeTree;return this.emitCodePoint(P===1?L[k]&~f.VALUE_LENGTH:L[k+1],U),P===3&&this.emitCodePoint(L[k+2],U),U},N.prototype.end=function(){var k;switch(this.state){case v.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case v.NumericDecimal:return this.emitNumericEntity(0,2);case v.NumericHex:return this.emitNumericEntity(0,3);case v.NumericStart:return(k=this.errors)===null||k===void 0||k.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case v.EntityStart:return 0}},N}();e.EntityDecoder=w;function g(N){var k="",P=new w(N,function(U){return k+=(0,o.fromCodePoint)(U)});return function(L,B){for(var O=0,T=0;(T=L.indexOf("&",T))>=0;){k+=L.slice(O,T),P.startEntity(B);var j=P.write(L,T+1);if(j<0){O=T+P.end();break}O=T+j,T=j===0?O+1:O}var R=k+L.slice(O);return k="",R}}function b(N,k,P,U){var L=(k&f.BRANCH_LENGTH)>>7,B=k&f.JUMP_TABLE;if(L===0)return B!==0&&U===B?P:-1;if(B){var O=U-B;return O<0||O>=L?-1:N[P+O]-1}for(var T=P,j=T+L-1;T<=j;){var R=T+j>>>1,le=N[R];if(le<U)T=R+1;else if(le>U)j=R-1;else return N[R+L]}return-1}e.determineBranch=b;var _=g(a.default),x=g(s.default);function E(N,k){return k===void 0&&(k=y.Legacy),_(N,k)}e.decodeHTML=E;function C(N){return _(N,y.Attribute)}e.decodeHTMLAttribute=C;function $(N){return _(N,y.Strict)}e.decodeHTMLStrict=$;function D(N){return x(N,y.Strict)}e.decodeXML=D})(Ov);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Ov,r;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(n||(n={}));function i(d){return d===r.Space||d===r.NewLine||d===r.Tab||d===r.FormFeed||d===r.CarriageReturn}function a(d){return d===r.Slash||d===r.Gt||i(d)}function s(d){return d>=r.Zero&&d<=r.Nine}function o(d){return d>=r.LowerA&&d<=r.LowerZ||d>=r.UpperA&&d<=r.UpperZ}function u(d){return d>=r.UpperA&&d<=r.UpperF||d>=r.LowerA&&d<=r.LowerF}var l;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(l=e.QuoteType||(e.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function d(p,m){var h=p.xmlMode,v=h===void 0?!1:h,y=p.decodeEntities,w=y===void 0?!0:y;this.cbs=m,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=v,this.decodeEntities=w,this.entityTrie=v?t.xmlDecodeTree:t.htmlDecodeTree}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(p){var m=this.sequenceIndex===this.currentSequence.length,h=m?a(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!h)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},d.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||i(p)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var h=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=h}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},d.prototype.stateCDATASequence=function(p){p===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},d.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(p){return this.xmlMode?!a(p):o(p)},d.prototype.startSpecial=function(p,m){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=m,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var m=p|32;this.sectionStart=this.index,!this.xmlMode&&m===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&m===c.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},d.prototype.stateInTagName=function(p){a(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(p){(p===r.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},d.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:i(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateInAttributeName=function(p){(p===r.Eq||a(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},d.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},d.prototype.handleInAttributeValue=function(p,m){p===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===r.DoubleQuote?l.Double:l.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(p){var m=p|32;m===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):m===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},d.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},d.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(m){var h=(m>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=h;else{var v=this.index-this.entityExcess+1;v>this.sectionStart&&this.emitPartial(this.sectionStart,v),this.entityResult=this.trieIndex,this.trieIndex+=h,this.entityExcess=0,this.sectionStart=this.index+1,h===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},d.prototype.emitNumericEntity=function(p){var m=this.index-this.entityExcess-1,h=m+2+ +(this.state===n.InHexEntity);h!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):s(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):s(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):u(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},d.prototype.emitPartial=function(p,m){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,m):this.cbs.ontext(p,m)},d.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},d}();e.default=f})(K$);var WIe=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KIe=Ut&&Ut.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JIe=Ut&&Ut.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&WIe(t,e,r);return KIe(t,e),t};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.Parser=void 0;var Ny=JIe(K$),$7=Ov,Qp=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Mn=new Set(["p"]),N7=new Set(["thead","tbody"]),D7=new Set(["dd","dt"]),T7=new Set(["rt","rp"]),YIe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Mn],["h1",Mn],["h2",Mn],["h3",Mn],["h4",Mn],["h5",Mn],["h6",Mn],["select",Qp],["input",Qp],["output",Qp],["button",Qp],["datalist",Qp],["textarea",Qp],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",D7],["dt",D7],["address",Mn],["article",Mn],["aside",Mn],["blockquote",Mn],["details",Mn],["div",Mn],["dl",Mn],["fieldset",Mn],["figcaption",Mn],["figure",Mn],["footer",Mn],["form",Mn],["header",Mn],["hr",Mn],["main",Mn],["nav",Mn],["ol",Mn],["pre",Mn],["section",Mn],["table",Mn],["ul",Mn],["rt",T7],["rp",T7],["tbody",N7],["tfoot",N7]]),XIe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),k7=new Set(["math","svg"]),I7=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),QIe=/\s|\//,eOe=function(){function e(t,r){r===void 0&&(r={});var n,i,a,s,o;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(i=r.lowerCaseAttributeNames)!==null&&i!==void 0?i:!r.xmlMode,this.tokenizer=new((a=r.Tokenizer)!==null&&a!==void 0?a:Ny.default)(this.options,this),(o=(s=this.cbs).onparserinit)===null||o===void 0||o.call(s,this)}return e.prototype.ontext=function(t,r){var n,i,a=this.getSlice(t,r);this.endIndex=r-1,(i=(n=this.cbs).ontext)===null||i===void 0||i.call(n,a),this.startIndex=r},e.prototype.ontextentity=function(t){var r,n,i=this.tokenizer.getSectionStart();this.endIndex=i-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,$7.fromCodePoint)(t)),this.startIndex=i},e.prototype.isVoidElement=function(t){return!this.options.xmlMode&&XIe.has(t)},e.prototype.onopentagname=function(t,r){this.endIndex=r;var n=this.getSlice(t,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(t){var r,n,i,a;this.openTagStart=this.startIndex,this.tagname=t;var s=!this.options.xmlMode&&YIe.get(t);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var o=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,o,!0)}this.isVoidElement(t)||(this.stack.push(t),k7.has(t)?this.foreignContext.push(!0):I7.has(t)&&this.foreignContext.push(!1)),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,t),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(t){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1},e.prototype.onclosetag=function(t,r){var n,i,a,s,o,u;this.endIndex=r;var l=this.getSlice(t,r);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(k7.has(l)||I7.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((i=(n=this.cbs).onopentagname)===null||i===void 0||i.call(n,"br"),(s=(a=this.cbs).onopentag)===null||s===void 0||s.call(a,"br",{},!0),(u=(o=this.cbs).onclosetag)===null||u===void 0||u.call(o,"br",!1));else{var c=this.stack.lastIndexOf(l);if(c!==-1)if(this.cbs.onclosetag)for(var f=this.stack.length-c;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0);else this.stack.length=c;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},e.prototype.onselfclosingtag=function(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)},e.prototype.closeCurrentTag=function(t){var r,n,i=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===i&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,i,!t),this.stack.pop())},e.prototype.onattribname=function(t,r){this.startIndex=t;var n=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(t,r){this.attribvalue+=this.getSlice(t,r)},e.prototype.onattribentity=function(t){this.attribvalue+=(0,$7.fromCodePoint)(t)},e.prototype.onattribend=function(t,r){var n,i;this.endIndex=r,(i=(n=this.cbs).onattribute)===null||i===void 0||i.call(n,this.attribname,this.attribvalue,t===Ny.QuoteType.Double?'"':t===Ny.QuoteType.Single?"'":t===Ny.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(t){var r=t.search(QIe),n=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(t,r){this.endIndex=r;var n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(n))}this.startIndex=r+1},e.prototype.onprocessinginstruction=function(t,r){this.endIndex=r;var n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(n))}this.startIndex=r+1},e.prototype.oncomment=function(t,r,n){var i,a,s,o;this.endIndex=r,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(t,r-n)),(o=(s=this.cbs).oncommentend)===null||o===void 0||o.call(s),this.startIndex=r+1},e.prototype.oncdata=function(t,r,n){var i,a,s,o,u,l,c,f,d,p;this.endIndex=r;var m=this.getSlice(t,r-n);this.options.xmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(o=(s=this.cbs).ontext)===null||o===void 0||o.call(s,m),(l=(u=this.cbs).oncdataend)===null||l===void 0||l.call(u)):((f=(c=this.cbs).oncomment)===null||f===void 0||f.call(c,"[CDATA[".concat(m,"]]")),(p=(d=this.cbs).oncommentend)===null||p===void 0||p.call(d)),this.startIndex=r+1},e.prototype.onend=function(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)},e.prototype.reset=function(){var t,r,n,i;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(n=this.cbs).onparserinit)===null||i===void 0||i.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.getSlice=function(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)},e.prototype.end=function(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(t){this.write(t)},e.prototype.done=function(t){this.end(t)},e}();Iv.Parser=eOe;var Kl={},Fh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Fh);var Kr={},Pf=Ut&&Ut.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ev=Ut&&Ut.__assign||function(){return ev=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ev.apply(this,arguments)};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.cloneNode=Kr.hasChildren=Kr.isDocument=Kr.isDirective=Kr.isComment=Kr.isText=Kr.isCDATA=Kr.isTag=Kr.Element=Kr.Document=Kr.CDATA=Kr.NodeWithChildren=Kr.ProcessingInstruction=Kr.Comment=Kr.Text=Kr.DataNode=Kr.Node=void 0;var As=Fh,X$=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Q$(this,t)},e}();Kr.Node=X$;var nA=function(e){Pf(t,e);function t(r){var n=e.call(this)||this;return n.data=r,n}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t}(X$);Kr.DataNode=nA;var WG=function(e){Pf(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=As.ElementType.Text,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(nA);Kr.Text=WG;var KG=function(e){Pf(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=As.ElementType.Comment,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(nA);Kr.Comment=KG;var JG=function(e){Pf(t,e);function t(r,n){var i=e.call(this,n)||this;return i.name=r,i.type=As.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(nA);Kr.ProcessingInstruction=JG;var iA=function(e){Pf(t,e);function t(r){var n=e.call(this)||this;return n.children=r,n}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t}(X$);Kr.NodeWithChildren=iA;var YG=function(e){Pf(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=As.ElementType.CDATA,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(iA);Kr.CDATA=YG;var XG=function(e){Pf(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=As.ElementType.Root,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(iA);Kr.Document=XG;var QG=function(e){Pf(t,e);function t(r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=r==="script"?As.ElementType.Script:r==="style"?As.ElementType.Style:As.ElementType.Tag);var s=e.call(this,i)||this;return s.name=r,s.attribs=n,s.type=a,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var i,a;return{name:n,value:r.attribs[n],namespace:(i=r["x-attribsNamespace"])===null||i===void 0?void 0:i[n],prefix:(a=r["x-attribsPrefix"])===null||a===void 0?void 0:a[n]}})},enumerable:!1,configurable:!0}),t}(iA);Kr.Element=QG;function eZ(e){return(0,As.isTag)(e)}Kr.isTag=eZ;function tZ(e){return e.type===As.ElementType.CDATA}Kr.isCDATA=tZ;function rZ(e){return e.type===As.ElementType.Text}Kr.isText=rZ;function nZ(e){return e.type===As.ElementType.Comment}Kr.isComment=nZ;function iZ(e){return e.type===As.ElementType.Directive}Kr.isDirective=iZ;function aZ(e){return e.type===As.ElementType.Root}Kr.isDocument=aZ;function tOe(e){return Object.prototype.hasOwnProperty.call(e,"children")}Kr.hasChildren=tOe;function Q$(e,t){t===void 0&&(t=!1);var r;if(rZ(e))r=new WG(e.data);else if(nZ(e))r=new KG(e.data);else if(eZ(e)){var n=t?zx(e.children):[],i=new QG(e.name,ev({},e.attribs),n);n.forEach(function(u){return u.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=ev({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=ev({},e["x-attribsPrefix"])),r=i}else if(tZ(e)){var n=t?zx(e.children):[],a=new YG(n);n.forEach(function(l){return l.parent=a}),r=a}else if(aZ(e)){var n=t?zx(e.children):[],s=new XG(n);n.forEach(function(l){return l.parent=s}),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),r=s}else if(iZ(e)){var o=new JG(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),r=o}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}Kr.cloneNode=Q$;function zx(e){for(var t=e.map(function(n){return Q$(n,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=Ut&&Ut.__createBinding||(Object.create?function(o,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(o,c,f)}:function(o,u,l,c){c===void 0&&(c=l),o[c]=u[l]}),r=Ut&&Ut.__exportStar||function(o,u){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&t(u,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Fh,i=Kr;r(Kr,e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function o(u,l,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(c=l,l=a),typeof u=="object"&&(l=u,u=void 0),this.callback=u??null,this.options=l??a,this.elementCB=c??null}return o.prototype.onparserinit=function(u){this.parser=u},o.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(u){this.handleCallback(u)},o.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},o.prototype.onopentag=function(u,l){var c=this.options.xmlMode?n.ElementType.Tag:void 0,f=new i.Element(u,l,void 0,c);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(u){var l=this.lastNode;if(l&&l.type===n.ElementType.Text)l.data+=u,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var c=new i.Text(u);this.addNode(c),this.lastNode=c}},o.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=u;return}var l=new i.Comment(u);this.addNode(l),this.lastNode=l},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var u=new i.Text(""),l=new i.CDATA([u]);this.addNode(l),u.parent=l,this.lastNode=u},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(u,l){var c=new i.ProcessingInstruction(u,l);this.addNode(c)},o.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},o.prototype.addNode=function(u){var l=this.tagStack[this.tagStack.length-1],c=l.children[l.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),l.children.push(u),c&&(u.prev=c,c.next=u),u.parent=l,this.lastNode=null},o}();e.DomHandler=s,e.default=s})(Kl);var sb={},Rs={},Cg={},sZ={},Hd={},eN={};Object.defineProperty(eN,"__esModule",{value:!0});function Dy(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}eN.default=new Map(Dy([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Dy([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Dy([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Dy([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var h_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(i,a){return i.codePointAt(a)}:function(i,a){return(i.charCodeAt(a)&64512)===55296?(i.charCodeAt(a)-55296)*1024+i.charCodeAt(a+1)-56320+65536:i.charCodeAt(a)};function r(i){for(var a="",s=0,o;(o=e.xmlReplacer.exec(i))!==null;){var u=o.index,l=i.charCodeAt(u),c=t.get(l);c!==void 0?(a+=i.substring(s,u)+c,s=u+1):(a+="".concat(i.substring(s,u),"&#x").concat((0,e.getCodePoint)(i,u).toString(16),";"),s=e.xmlReplacer.lastIndex+=+((l&64512)===55296))}return a+i.substr(s)}e.encodeXML=r,e.escape=r;function n(i,a){return function(o){for(var u,l=0,c="";u=i.exec(o);)l!==u.index&&(c+=o.substring(l,u.index)),c+=a.get(u[0].charCodeAt(0)),l=u.index+1;return c+o.substring(l)}}e.escapeUTF8=n(/[&<>'"]/g,t),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(h_);var rOe=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.encodeNonAsciiHTML=Hd.encodeHTML=void 0;var nOe=rOe(eN),oZ=h_,iOe=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function aOe(e){return uZ(iOe,e)}Hd.encodeHTML=aOe;function sOe(e){return uZ(oZ.xmlReplacer,e)}Hd.encodeNonAsciiHTML=sOe;function uZ(e,t){for(var r="",n=0,i;(i=e.exec(t))!==null;){var a=i.index;r+=t.substring(n,a);var s=t.charCodeAt(a),o=nOe.default.get(s);if(typeof o=="object"){if(a+1<t.length){var u=t.charCodeAt(a+1),l=typeof o.n=="number"?o.n===u?o.o:void 0:o.n.get(u);if(l!==void 0){r+=l,n=e.lastIndex+=1;continue}}o=o.v}if(o!==void 0)r+=o,n=a+1;else{var c=(0,oZ.getCodePoint)(t,a);r+="&#x".concat(c.toString(16),";"),n=e.lastIndex+=+(c!==s)}}return r+t.substr(n)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=Ov,r=Hd,n=h_,i;(function(d){d[d.XML=0]="XML",d[d.HTML=1]="HTML"})(i=e.EntityLevel||(e.EntityLevel={}));var a;(function(d){d[d.UTF8=0]="UTF8",d[d.ASCII=1]="ASCII",d[d.Extensive=2]="Extensive",d[d.Attribute=3]="Attribute",d[d.Text=4]="Text"})(a=e.EncodingMode||(e.EncodingMode={}));function s(d,p){p===void 0&&(p=i.XML);var m=typeof p=="number"?p:p.level;if(m===i.HTML){var h=typeof p=="object"?p.mode:void 0;return(0,t.decodeHTML)(d,h)}return(0,t.decodeXML)(d)}e.decode=s;function o(d,p){var m;p===void 0&&(p=i.XML);var h=typeof p=="number"?{level:p}:p;return(m=h.mode)!==null&&m!==void 0||(h.mode=t.DecodingMode.Strict),s(d,h)}e.decodeStrict=o;function u(d,p){p===void 0&&(p=i.XML);var m=typeof p=="number"?{level:p}:p;return m.mode===a.UTF8?(0,n.escapeUTF8)(d):m.mode===a.Attribute?(0,n.escapeAttribute)(d):m.mode===a.Text?(0,n.escapeText)(d):m.level===i.HTML?m.mode===a.ASCII?(0,r.encodeNonAsciiHTML)(d):(0,r.encodeHTML)(d):(0,n.encodeXML)(d)}e.encode=u;var l=h_;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return l.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return l.escapeText}});var c=Hd;Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var f=Ov;Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})})(sZ);var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.attributeNames=Jm.elementNames=void 0;Jm.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]}));Jm.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}));var hm=Ut&&Ut.__assign||function(){return hm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},hm.apply(this,arguments)},oOe=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uOe=Ut&&Ut.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lOe=Ut&&Ut.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oOe(t,e,r);return uOe(t,e),t};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.render=void 0;var wl=lOe(Fh),v_=sZ,lZ=Jm,cOe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function fOe(e){return e.replace(/"/g,"&quot;")}function dOe(e,t){var r;if(e){var n=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?fOe:t.xmlMode||t.encodeEntities!=="utf8"?v_.encodeXML:v_.escapeAttribute;return Object.keys(e).map(function(i){var a,s,o=(a=e[i])!==null&&a!==void 0?a:"";return t.xmlMode==="foreign"&&(i=(s=lZ.attributeNames.get(i))!==null&&s!==void 0?s:i),!t.emptyAttrs&&!t.xmlMode&&o===""?i:"".concat(i,'="').concat(n(o),'"')}).join(" ")}}var O7=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function aA(e,t){t===void 0&&(t={});for(var r=("length"in e)?e:[e],n="",i=0;i<r.length;i++)n+=pOe(r[i],t);return n}Cg.render=aA;Cg.default=aA;function pOe(e,t){switch(e.type){case wl.Root:return aA(e.children,t);case wl.Doctype:case wl.Directive:return gOe(e);case wl.Comment:return _Oe(e);case wl.CDATA:return bOe(e);case wl.Script:case wl.Style:case wl.Tag:return vOe(e,t);case wl.Text:return yOe(e,t)}}var mOe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),hOe=new Set(["svg","math"]);function vOe(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=lZ.elementNames.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&mOe.has(e.parent.name)&&(t=hm(hm({},t),{xmlMode:!1}))),!t.xmlMode&&hOe.has(e.name)&&(t=hm(hm({},t),{xmlMode:"foreign"}));var n="<".concat(e.name),i=dOe(e.attribs,t);return i&&(n+=" ".concat(i)),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&O7.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=aA(e.children,t)),(t.xmlMode||!O7.has(e.name))&&(n+="</".concat(e.name,">"))),n}function gOe(e){return"<".concat(e.data,">")}function yOe(e,t){var r,n=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&cOe.has(e.parent.name))&&(n=t.xmlMode||t.encodeEntities!=="utf8"?(0,v_.encodeXML)(n):(0,v_.escapeText)(n)),n}function bOe(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}function _Oe(e){return"<!--".concat(e.data,"-->")}var AOe=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.innerText=Rs.textContent=Rs.getText=Rs.getInnerHTML=Rs.getOuterHTML=void 0;var ju=Kl,wOe=AOe(Cg),xOe=Fh;function cZ(e,t){return(0,wOe.default)(e,t)}Rs.getOuterHTML=cZ;function SOe(e,t){return(0,ju.hasChildren)(e)?e.children.map(function(r){return cZ(r,t)}).join(""):""}Rs.getInnerHTML=SOe;function ob(e){return Array.isArray(e)?e.map(ob).join(""):(0,ju.isTag)(e)?e.name==="br"?`
`:ob(e.children):(0,ju.isCDATA)(e)?ob(e.children):(0,ju.isText)(e)?e.data:""}Rs.getText=ob;function lE(e){return Array.isArray(e)?e.map(lE).join(""):(0,ju.hasChildren)(e)&&!(0,ju.isComment)(e)?lE(e.children):(0,ju.isText)(e)?e.data:""}Rs.textContent=lE;function cE(e){return Array.isArray(e)?e.map(cE).join(""):(0,ju.hasChildren)(e)&&(e.type===xOe.ElementType.Tag||(0,ju.isCDATA)(e))?cE(e.children):(0,ju.isText)(e)?e.data:""}Rs.innerText=cE;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.prevElementSibling=Qi.nextElementSibling=Qi.getName=Qi.hasAttrib=Qi.getAttributeValue=Qi.getSiblings=Qi.getParent=Qi.getChildren=void 0;var tN=Kl;function fZ(e){return(0,tN.hasChildren)(e)?e.children:[]}Qi.getChildren=fZ;function dZ(e){return e.parent||null}Qi.getParent=dZ;function EOe(e){var t,r,n=dZ(e);if(n!=null)return fZ(n);for(var i=[e],a=e.prev,s=e.next;a!=null;)i.unshift(a),t=a,a=t.prev;for(;s!=null;)i.push(s),r=s,s=r.next;return i}Qi.getSiblings=EOe;function COe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}Qi.getAttributeValue=COe;function $Oe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}Qi.hasAttrib=$Oe;function NOe(e){return e.name}Qi.getName=NOe;function DOe(e){for(var t,r=e.next;r!==null&&!(0,tN.isTag)(r);)t=r,r=t.next;return r}Qi.nextElementSibling=DOe;function TOe(e){for(var t,r=e.prev;r!==null&&!(0,tN.isTag)(r);)t=r,r=t.prev;return r}Qi.prevElementSibling=TOe;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.prepend=vs.prependChild=vs.append=vs.appendChild=vs.replaceElement=vs.removeElement=void 0;function $g(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children,r=t.lastIndexOf(e);r>=0&&t.splice(r,1)}e.next=null,e.prev=null,e.parent=null}vs.removeElement=$g;function kOe(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var i=t.parent=e.parent;if(i){var a=i.children;a[a.lastIndexOf(e)]=t,e.parent=null}}vs.replaceElement=kOe;function IOe(e,t){if($g(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}vs.appendChild=IOe;function OOe(e,t){$g(t);var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var i=r.children;i.splice(i.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}vs.append=OOe;function MOe(e,t){if($g(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){var r=e.children[1];r.prev=t,t.next=r}else t.next=null}vs.prependChild=MOe;function POe(e,t){$g(t);var r=e.parent;if(r){var n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}vs.prepend=POe;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.findAll=Va.existsOne=Va.findOne=Va.findOneChild=Va.find=Va.filter=void 0;var sA=Kl;function BOe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),pZ(e,Array.isArray(t)?t:[t],r,n)}Va.filter=BOe;function pZ(e,t,r,n){for(var i=[],a=[t],s=[0];;){if(s[0]>=a[0].length){if(s.length===1)return i;a.shift(),s.shift();continue}var o=a[0][s[0]++];if(e(o)&&(i.push(o),--n<=0))return i;r&&(0,sA.hasChildren)(o)&&o.children.length>0&&(s.unshift(0),a.unshift(o.children))}}Va.find=pZ;function LOe(e,t){return t.find(e)}Va.findOneChild=LOe;function mZ(e,t,r){r===void 0&&(r=!0);for(var n=null,i=0;i<t.length&&!n;i++){var a=t[i];if((0,sA.isTag)(a))e(a)?n=a:r&&a.children.length>0&&(n=mZ(e,a.children,!0));else continue}return n}Va.findOne=mZ;function hZ(e,t){return t.some(function(r){return(0,sA.isTag)(r)&&(e(r)||hZ(e,r.children))})}Va.existsOne=hZ;function FOe(e,t){for(var r=[],n=[t],i=[0];;){if(i[0]>=n[0].length){if(n.length===1)return r;n.shift(),i.shift();continue}var a=n[0][i[0]++];(0,sA.isTag)(a)&&(e(a)&&r.push(a),a.children.length>0&&(i.unshift(0),n.unshift(a.children)))}}Va.findAll=FOe;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.getElementsByTagType=Us.getElementsByTagName=Us.getElementById=Us.getElements=Us.testElement=void 0;var Ad=Kl,oA=Va,g_={tag_name:function(e){return typeof e=="function"?function(t){return(0,Ad.isTag)(t)&&e(t.name)}:e==="*"?Ad.isTag:function(t){return(0,Ad.isTag)(t)&&t.name===e}},tag_type:function(e){return typeof e=="function"?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return typeof e=="function"?function(t){return(0,Ad.isText)(t)&&e(t.data)}:function(t){return(0,Ad.isText)(t)&&t.data===e}}};function vZ(e,t){return typeof t=="function"?function(r){return(0,Ad.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,Ad.isTag)(r)&&r.attribs[e]===t}}function ROe(e,t){return function(r){return e(r)||t(r)}}function gZ(e){var t=Object.keys(e).map(function(r){var n=e[r];return Object.prototype.hasOwnProperty.call(g_,r)?g_[r](n):vZ(r,n)});return t.length===0?null:t.reduce(ROe)}function UOe(e,t){var r=gZ(e);return r?r(t):!0}Us.testElement=UOe;function zOe(e,t,r,n){n===void 0&&(n=1/0);var i=gZ(e);return i?(0,oA.filter)(i,t,r,n):[]}Us.getElements=zOe;function qOe(e,t,r){return r===void 0&&(r=!0),Array.isArray(t)||(t=[t]),(0,oA.findOne)(vZ("id",e),t,r)}Us.getElementById=qOe;function jOe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,oA.filter)(g_.tag_name(e),t,r,n)}Us.getElementsByTagName=jOe;function VOe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,oA.filter)(g_.tag_type(e),t,r,n)}Us.getElementsByTagType=VOe;var yZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var t=Kl;function r(s){for(var o=s.length;--o>=0;){var u=s[o];if(o>0&&s.lastIndexOf(u,o-1)>=0){s.splice(o,1);continue}for(var l=u.parent;l;l=l.parent)if(s.includes(l)){s.splice(o,1);break}}return s}e.removeSubsets=r;var n;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(n=e.DocumentPosition||(e.DocumentPosition={}));function i(s,o){var u=[],l=[];if(s===o)return 0;for(var c=(0,t.hasChildren)(s)?s:s.parent;c;)u.unshift(c),c=c.parent;for(c=(0,t.hasChildren)(o)?o:o.parent;c;)l.unshift(c),c=c.parent;for(var f=Math.min(u.length,l.length),d=0;d<f&&u[d]===l[d];)d++;if(d===0)return n.DISCONNECTED;var p=u[d-1],m=p.children,h=u[d],v=l[d];return m.indexOf(h)>m.indexOf(v)?p===o?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===s?n.PRECEDING|n.CONTAINS:n.PRECEDING}e.compareDocumentPosition=i;function a(s){return s=s.filter(function(o,u,l){return!l.includes(o,u+1)}),s.sort(function(o,u){var l=i(o,u);return l&n.PRECEDING?-1:l&n.FOLLOWING?1:0}),s}e.uniqueSort=a})(yZ);var uA={};Object.defineProperty(uA,"__esModule",{value:!0});uA.getFeed=void 0;var HOe=Rs,Ng=Us;function GOe(e){var t=y_(YOe,e);return t?t.name==="feed"?ZOe(t):WOe(t):null}uA.getFeed=GOe;function ZOe(e){var t,r=e.children,n={type:"atom",items:(0,Ng.getElementsByTagName)("entry",r).map(function(s){var o,u=s.children,l={media:bZ(u)};ms(l,"id","id",u),ms(l,"title","title",u);var c=(o=y_("link",u))===null||o===void 0?void 0:o.attribs.href;c&&(l.link=c);var f=Zc("summary",u)||Zc("content",u);f&&(l.description=f);var d=Zc("updated",u);return d&&(l.pubDate=new Date(d)),l})};ms(n,"id","id",r),ms(n,"title","title",r);var i=(t=y_("link",r))===null||t===void 0?void 0:t.attribs.href;i&&(n.link=i),ms(n,"description","subtitle",r);var a=Zc("updated",r);return a&&(n.updated=new Date(a)),ms(n,"author","email",r,!0),n}function WOe(e){var t,r,n=(r=(t=y_("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],i={type:e.name.substr(0,3),id:"",items:(0,Ng.getElementsByTagName)("item",e.children).map(function(s){var o=s.children,u={media:bZ(o)};ms(u,"id","guid",o),ms(u,"title","title",o),ms(u,"link","link",o),ms(u,"description","description",o);var l=Zc("pubDate",o)||Zc("dc:date",o);return l&&(u.pubDate=new Date(l)),u})};ms(i,"title","title",n),ms(i,"link","link",n),ms(i,"description","description",n);var a=Zc("lastBuildDate",n);return a&&(i.updated=new Date(a)),ms(i,"author","managingEditor",n,!0),i}var KOe=["url","type","lang"],JOe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function bZ(e){return(0,Ng.getElementsByTagName)("media:content",e).map(function(t){for(var r=t.attribs,n={medium:r.medium,isDefault:!!r.isDefault},i=0,a=KOe;i<a.length;i++){var s=a[i];r[s]&&(n[s]=r[s])}for(var o=0,u=JOe;o<u.length;o++){var s=u[o];r[s]&&(n[s]=parseInt(r[s],10))}return r.expression&&(n.expression=r.expression),n})}function y_(e,t){return(0,Ng.getElementsByTagName)(e,t,!0,1)[0]}function Zc(e,t,r){return r===void 0&&(r=!1),(0,HOe.textContent)((0,Ng.getElementsByTagName)(e,t,r,1)).trim()}function ms(e,t,r,n,i){i===void 0&&(i=!1);var a=Zc(r,n,i);a&&(e[t]=a)}function YOe(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}(function(e){var t=Ut&&Ut.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,u)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),r=Ut&&Ut.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(Rs,e),r(Qi,e),r(vs,e),r(Va,e),r(Us,e),r(yZ,e),r(uA,e);var n=Kl;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(sb);(function(e){var t=Ut&&Ut.__createBinding||(Object.create?function(y,w,g,b){b===void 0&&(b=g);var _=Object.getOwnPropertyDescriptor(w,g);(!_||("get"in _?!w.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return w[g]}}),Object.defineProperty(y,b,_)}:function(y,w,g,b){b===void 0&&(b=g),y[b]=w[g]}),r=Ut&&Ut.__setModuleDefault||(Object.create?function(y,w){Object.defineProperty(y,"default",{enumerable:!0,value:w})}:function(y,w){y.default=w}),n=Ut&&Ut.__importStar||function(y){if(y&&y.__esModule)return y;var w={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&t(w,y,g);return r(w,y),w},i=Ut&&Ut.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=Iv,s=Iv;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=Kl,u=Kl;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function l(y,w){var g=new o.DomHandler(void 0,w);return new a.Parser(g,w).end(y),g.root}e.parseDocument=l;function c(y,w){return l(y,w).children}e.parseDOM=c;function f(y,w,g){var b=new o.DomHandler(y,w,g);return new a.Parser(b,w)}e.createDomStream=f;var d=K$;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(d).default}}),e.ElementType=n(Fh);var p=sb,m=sb;Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var h={xmlMode:!0};function v(y,w){return w===void 0&&(w=h),(0,p.getFeed)(c(y,w))}e.parseFeed=v,e.DomUtils=n(sb)})(ZG);var XOe=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},rN={};Object.defineProperty(rN,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function M7(e){return Object.prototype.toString.call(e)==="[object Object]"}function QOe(e){var t,r;return M7(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(M7(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}rN.isPlainObject=QOe;var eMe=function(t){return tMe(t)&&!rMe(t)};function tMe(e){return!!e&&typeof e=="object"}function rMe(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||aMe(e)}var nMe=typeof Symbol=="function"&&Symbol.for,iMe=nMe?Symbol.for("react.element"):60103;function aMe(e){return e.$$typeof===iMe}function sMe(e){return Array.isArray(e)?[]:{}}function Mv(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Ym(sMe(e),e,t):e}function oMe(e,t,r){return e.concat(t).map(function(n){return Mv(n,r)})}function uMe(e,t){if(!t.customMerge)return Ym;var r=t.customMerge(e);return typeof r=="function"?r:Ym}function lMe(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function P7(e){return Object.keys(e).concat(lMe(e))}function _Z(e,t){try{return t in e}catch{return!1}}function cMe(e,t){return _Z(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function fMe(e,t,r){var n={};return r.isMergeableObject(e)&&P7(e).forEach(function(i){n[i]=Mv(e[i],r)}),P7(t).forEach(function(i){cMe(e,i)||(_Z(e,i)&&r.isMergeableObject(t[i])?n[i]=uMe(i,r)(e[i],t[i],r):n[i]=Mv(t[i],r))}),n}function Ym(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||oMe,r.isMergeableObject=r.isMergeableObject||eMe,r.cloneUnlessOtherwiseSpecified=Mv;var n=Array.isArray(t),i=Array.isArray(e),a=n===i;return a?n?r.arrayMerge(e,t,r):fMe(e,t,r):Mv(t,r)}Ym.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return Ym(n,i,r)},{})};var dMe=Ym,pMe=dMe,AZ={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.parseSrcset=r()})(Ut,function(){return function(t){function r(b){return b===" "||b==="	"||b===`
`||b==="\f"||b==="\r"}function n(b){var _,x=b.exec(t.substring(v));if(x)return _=x[0],v+=_.length,_}for(var i=t.length,a=/^[ \t\n\r\u000c]+/,s=/^[, \t\n\r\u000c]+/,o=/^[^ \t\n\r\u000c]+/,u=/[,]+$/,l=/^\d+$/,c=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,f,d,p,m,h,v=0,y=[];;){if(n(s),v>=i)return y;f=n(o),d=[],f.slice(-1)===","?(f=f.replace(u,""),g()):w()}function w(){for(n(a),p="",m="in descriptor";;){if(h=t.charAt(v),m==="in descriptor")if(r(h))p&&(d.push(p),p="",m="after descriptor");else if(h===","){v+=1,p&&d.push(p),g();return}else if(h==="(")p=p+h,m="in parens";else if(h===""){p&&d.push(p),g();return}else p=p+h;else if(m==="in parens")if(h===")")p=p+h,m="in descriptor";else if(h===""){d.push(p),g();return}else p=p+h;else if(m==="after descriptor"&&!r(h))if(h===""){g();return}else m="in descriptor",v-=1;v+=1}}function g(){var b=!1,_,x,E,C,$={},D,N,k,P,U;for(C=0;C<d.length;C++)D=d[C],N=D[D.length-1],k=D.substring(0,D.length-1),P=parseInt(k,10),U=parseFloat(k),l.test(k)&&N==="w"?((_||x)&&(b=!0),P===0?b=!0:_=P):c.test(k)&&N==="x"?((_||x||E)&&(b=!0),U<0?b=!0:x=U):l.test(k)&&N==="h"?((E||x)&&(b=!0),P===0?b=!0:E=P):b=!0;b?console&&console.log&&console.log("Invalid srcset descriptor found in '"+t+"' at '"+D+"'."):($.url=f,_&&($.w=_),x&&($.d=x),E&&($.h=E),y.push($))}}})})(AZ);var mMe=AZ.exports,nN={exports:{}},Kn=String,wZ=function(){return{isColorSupported:!1,reset:Kn,bold:Kn,dim:Kn,italic:Kn,underline:Kn,inverse:Kn,hidden:Kn,strikethrough:Kn,black:Kn,red:Kn,green:Kn,yellow:Kn,blue:Kn,magenta:Kn,cyan:Kn,white:Kn,gray:Kn,bgBlack:Kn,bgRed:Kn,bgGreen:Kn,bgYellow:Kn,bgBlue:Kn,bgMagenta:Kn,bgCyan:Kn,bgWhite:Kn}};nN.exports=wZ();nN.exports.createColors=wZ;var hMe=nN.exports;let B7=hMe,L7=xo,fE=class xZ extends Error{constructor(t,r,n,i,a,s){super(t),this.name="CssSyntaxError",this.reason=t,a&&(this.file=a),i&&(this.source=i),s&&(this.plugin=s),typeof r<"u"&&typeof n<"u"&&(typeof r=="number"?(this.line=r,this.column=n):(this.line=r.line,this.column=r.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,xZ)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let r=this.source;t==null&&(t=B7.isColorSupported),L7&&t&&(r=L7(r));let n=r.split(/\r?\n/),i=Math.max(this.line-3,0),a=Math.min(this.line+2,n.length),s=String(a).length,o,u;if(t){let{bold:l,gray:c,red:f}=B7.createColors(!0);o=d=>l(f(d)),u=d=>c(d)}else o=u=l=>l;return n.slice(i,a).map((l,c)=>{let f=i+1+c,d=" "+(" "+f).slice(-s)+" | ";if(f===this.line){let p=u(d.replace(/\d/g," "))+l.slice(0,this.column-1).replace(/[^\t]/g," ");return o(">")+u(d)+l+`
 `+p+o("^")}return" "+u(d)+l}).join(`
`)}toString(){let t=this.showSourceCode();return t&&(t=`

`+t+`
`),this.name+": "+this.message+t}};var iN=fE;fE.default=fE;var Dg={};Dg.isClean=Symbol("isClean");Dg.my=Symbol("my");const F7={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function vMe(e){return e[0].toUpperCase()+e.slice(1)}let dE=class{constructor(t){this.builder=t}atrule(t,r){let n="@"+t.name,i=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?n+=t.raws.afterName:i&&(n+=" "),t.nodes)this.block(t,n+i);else{let a=(t.raws.between||"")+(r?";":"");this.builder(n+i+a,t)}}beforeAfter(t,r){let n;t.type==="decl"?n=this.raw(t,null,"beforeDecl"):t.type==="comment"?n=this.raw(t,null,"beforeComment"):r==="before"?n=this.raw(t,null,"beforeRule"):n=this.raw(t,null,"beforeClose");let i=t.parent,a=0;for(;i&&i.type!=="root";)a+=1,i=i.parent;if(n.includes(`
`)){let s=this.raw(t,null,"indent");if(s.length)for(let o=0;o<a;o++)n+=s}return n}block(t,r){let n=this.raw(t,"between","beforeOpen");this.builder(r+n+"{",t,"start");let i;t.nodes&&t.nodes.length?(this.body(t),i=this.raw(t,"after")):i=this.raw(t,"after","emptyBody"),i&&this.builder(i),this.builder("}",t,"end")}body(t){let r=t.nodes.length-1;for(;r>0&&t.nodes[r].type==="comment";)r-=1;let n=this.raw(t,"semicolon");for(let i=0;i<t.nodes.length;i++){let a=t.nodes[i],s=this.raw(a,"before");s&&this.builder(s),this.stringify(a,r!==i||n)}}comment(t){let r=this.raw(t,"left","commentLeft"),n=this.raw(t,"right","commentRight");this.builder("/*"+r+t.text+n+"*/",t)}decl(t,r){let n=this.raw(t,"between","colon"),i=t.prop+n+this.rawValue(t,"value");t.important&&(i+=t.raws.important||" !important"),r&&(i+=";"),this.builder(i,t)}document(t){this.body(t)}raw(t,r,n){let i;if(n||(n=r),r&&(i=t.raws[r],typeof i<"u"))return i;let a=t.parent;if(n==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return F7[n];let s=t.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[n]<"u")return s.rawCache[n];if(n==="before"||n==="after")return this.beforeAfter(t,n);{let o="raw"+vMe(n);this[o]?i=this[o](s,t):s.walk(u=>{if(i=u.raws[r],typeof i<"u")return!1})}return typeof i>"u"&&(i=F7[n]),s.rawCache[n]=i,i}rawBeforeClose(t){let r;return t.walk(n=>{if(n.nodes&&n.nodes.length>0&&typeof n.raws.after<"u")return r=n.raws.after,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawBeforeComment(t,r){let n;return t.walkComments(i=>{if(typeof i.raws.before<"u")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n>"u"?n=this.raw(r,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(t,r){let n;return t.walkDecls(i=>{if(typeof i.raws.before<"u")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n>"u"?n=this.raw(r,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(t){let r;return t.walk(n=>{if(n.type!=="decl"&&(r=n.raws.between,typeof r<"u"))return!1}),r}rawBeforeRule(t){let r;return t.walk(n=>{if(n.nodes&&(n.parent!==t||t.first!==n)&&typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawColon(t){let r;return t.walkDecls(n=>{if(typeof n.raws.between<"u")return r=n.raws.between.replace(/[^\s:]/g,""),!1}),r}rawEmptyBody(t){let r;return t.walk(n=>{if(n.nodes&&n.nodes.length===0&&(r=n.raws.after,typeof r<"u"))return!1}),r}rawIndent(t){if(t.raws.indent)return t.raws.indent;let r;return t.walk(n=>{let i=n.parent;if(i&&i!==t&&i.parent&&i.parent===t&&typeof n.raws.before<"u"){let a=n.raws.before.split(`
`);return r=a[a.length-1],r=r.replace(/\S/g,""),!1}}),r}rawSemicolon(t){let r;return t.walk(n=>{if(n.nodes&&n.nodes.length&&n.last.type==="decl"&&(r=n.raws.semicolon,typeof r<"u"))return!1}),r}rawValue(t,r){let n=t[r],i=t.raws[r];return i&&i.value===n?i.raw:n}root(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}rule(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}stringify(t,r){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,r)}};var SZ=dE;dE.default=dE;let gMe=SZ;function pE(e,t){new gMe(t).stringify(e)}var lA=pE;pE.default=pE;let{isClean:Ty,my:yMe}=Dg,bMe=iN,_Me=SZ,AMe=lA;function mE(e,t){let r=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n)||n==="proxyCache")continue;let i=e[n],a=typeof i;n==="parent"&&a==="object"?t&&(r[n]=t):n==="source"?r[n]=i:Array.isArray(i)?r[n]=i.map(s=>mE(s,r)):(a==="object"&&i!==null&&(i=mE(i)),r[n]=i)}return r}let hE=class{constructor(t={}){this.raws={},this[Ty]=!1,this[yMe]=!0;for(let r in t)if(r==="nodes"){this.nodes=[];for(let n of t[r])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[r]=t[r]}addToError(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){let r=this.source;t.stack=t.stack.replace(/\n\s{4}at /,`$&${r.input.from}:${r.start.line}:${r.start.column}$&`)}return t}after(t){return this.parent.insertAfter(this,t),this}assign(t={}){for(let r in t)this[r]=t[r];return this}before(t){return this.parent.insertBefore(this,t),this}cleanRaws(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}clone(t={}){let r=mE(this);for(let n in t)r[n]=t[n];return r}cloneAfter(t={}){let r=this.clone(t);return this.parent.insertAfter(this,r),r}cloneBefore(t={}){let r=this.clone(t);return this.parent.insertBefore(this,r),r}error(t,r={}){if(this.source){let{end:n,start:i}=this.rangeBy(r);return this.source.input.error(t,{column:i.column,line:i.line},{column:n.column,line:n.line},r)}return new bMe(t)}getProxyProcessor(){return{get(t,r){return r==="proxyOf"?t:r==="root"?()=>t.root().toProxy():t[r]},set(t,r,n){return t[r]===n||(t[r]=n,(r==="prop"||r==="value"||r==="name"||r==="params"||r==="important"||r==="text")&&t.markDirty()),!0}}}markDirty(){if(this[Ty]){this[Ty]=!1;let t=this;for(;t=t.parent;)t[Ty]=!1}}next(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t+1]}positionBy(t,r){let n=this.source.start;if(t.index)n=this.positionInside(t.index,r);else if(t.word){r=this.toString();let i=r.indexOf(t.word);i!==-1&&(n=this.positionInside(i,r))}return n}positionInside(t,r){let n=r||this.toString(),i=this.source.start.column,a=this.source.start.line;for(let s=0;s<t;s++)n[s]===`
`?(i=1,a+=1):i+=1;return{column:i,line:a}}prev(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t-1]}rangeBy(t){let r={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:r.column+1,line:r.line};if(t.word){let i=this.toString(),a=i.indexOf(t.word);a!==-1&&(r=this.positionInside(a,i),n=this.positionInside(a+t.word.length,i))}else t.start?r={column:t.start.column,line:t.start.line}:t.index&&(r=this.positionInside(t.index)),t.end?n={column:t.end.column,line:t.end.line}:t.endIndex?n=this.positionInside(t.endIndex):t.index&&(n=this.positionInside(t.index+1));return(n.line<r.line||n.line===r.line&&n.column<=r.column)&&(n={column:r.column+1,line:r.line}),{end:n,start:r}}raw(t,r){return new _Me().raw(this,t,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...t){if(this.parent){let r=this,n=!1;for(let i of t)i===this?n=!0:n?(this.parent.insertAfter(r,i),r=i):this.parent.insertBefore(r,i);n||this.remove()}return this}root(){let t=this;for(;t.parent&&t.parent.type!=="document";)t=t.parent;return t}toJSON(t,r){let n={},i=r==null;r=r||new Map;let a=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let o=this[s];if(Array.isArray(o))n[s]=o.map(u=>typeof u=="object"&&u.toJSON?u.toJSON(null,r):u);else if(typeof o=="object"&&o.toJSON)n[s]=o.toJSON(null,r);else if(s==="source"){let u=r.get(o.input);u==null&&(u=a,r.set(o.input,a),a++),n[s]={end:o.end,inputId:u,start:o.start}}else n[s]=o}return i&&(n.inputs=[...r.keys()].map(s=>s.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(t=AMe){t.stringify&&(t=t.stringify);let r="";return t(this,n=>{r+=n}),r}warn(t,r,n){let i={node:this};for(let a in n)i[a]=n[a];return t.warn(r,i)}get proxyOf(){return this}};var cA=hE;hE.default=hE;let wMe=cA,vE=class extends wMe{constructor(t){t&&typeof t.value<"u"&&typeof t.value!="string"&&(t={...t,value:String(t.value)}),super(t),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var fA=vE;vE.default=vE;let xMe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",SMe=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},EMe=(e=21)=>{let t="",r=e|0;for(;r--;)t+=xMe[Math.random()*64|0];return t};var CMe={nanoid:EMe,customAlphabet:SMe};let{SourceMapConsumer:R7,SourceMapGenerator:U7}=xo,{existsSync:$Me,readFileSync:NMe}=xo,{dirname:qx,join:DMe}=xo;function TMe(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}let gE=class{constructor(t,r){if(r.map===!1)return;this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");let n=r.map?r.map.prev:void 0,i=this.loadMap(r.from,n);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=qx(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new R7(this.text)),this.consumerCache}decodeInline(t){let r=/^data:application\/json;charset=utf-?8;base64,/,n=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(i.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(r.test(t)||n.test(t))return TMe(t.substr(RegExp.lastMatch.length));let s=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(t){return typeof t!="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)}loadAnnotation(t){let r=t.match(/\/\*\s*# sourceMappingURL=/gm);if(!r)return;let n=t.lastIndexOf(r.pop()),i=t.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(t.substring(n,i)))}loadFile(t){if(this.root=qx(t),$Me(t))return this.mapFile=t,NMe(t,"utf-8").toString().trim()}loadMap(t,r){if(r===!1)return!1;if(r){if(typeof r=="string")return r;if(typeof r=="function"){let n=r(t);if(n){let i=this.loadFile(n);if(!i)throw new Error("Unable to load previous source map: "+n.toString());return i}}else{if(r instanceof R7)return U7.fromSourceMap(r).toString();if(r instanceof U7)return r.toString();if(this.isMap(r))return JSON.stringify(r);throw new Error("Unsupported previous source map format: "+r.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let n=this.annotation;return t&&(n=DMe(qx(t),n)),this.loadFile(n)}}}startWith(t,r){return t?t.substr(0,r.length)===r:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var EZ=gE;gE.default=gE;let{SourceMapConsumer:kMe,SourceMapGenerator:IMe}=xo,{fileURLToPath:z7,pathToFileURL:ky}=xo,{isAbsolute:yE,resolve:bE}=xo,{nanoid:OMe}=CMe,jx=xo,q7=iN,MMe=EZ,Vx=Symbol("fromOffsetCache"),PMe=!!(kMe&&IMe),j7=!!(bE&&yE),b_=class{constructor(t,r={}){if(t===null||typeof t>"u"||typeof t=="object"&&!t.toString)throw new Error(`PostCSS received ${t} instead of CSS string`);if(this.css=t.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!j7||/^\w+:\/\//.test(r.from)||yE(r.from)?this.file=r.from:this.file=bE(r.from)),j7&&PMe){let n=new MMe(this.css,r);if(n.text){this.map=n;let i=n.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+OMe(6)+">"),this.map&&(this.map.file=this.from)}error(t,r,n,i={}){let a,s,o;if(r&&typeof r=="object"){let l=r,c=n;if(typeof l.offset=="number"){let f=this.fromOffset(l.offset);r=f.line,n=f.col}else r=l.line,n=l.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);s=f.line,o=f.col}else s=c.line,o=c.column}else if(!n){let l=this.fromOffset(r);r=l.line,n=l.col}let u=this.origin(r,n,s,o);return u?a=new q7(t,u.endLine===void 0?u.line:{column:u.column,line:u.line},u.endLine===void 0?u.column:{column:u.endColumn,line:u.endLine},u.source,u.file,i.plugin):a=new q7(t,s===void 0?r:{column:n,line:r},s===void 0?n:{column:o,line:s},this.css,this.file,i.plugin),a.input={column:n,endColumn:o,endLine:s,line:r,source:this.css},this.file&&(ky&&(a.input.url=ky(this.file).toString()),a.input.file=this.file),a}fromOffset(t){let r,n;if(this[Vx])n=this[Vx];else{let a=this.css.split(`
`);n=new Array(a.length);let s=0;for(let o=0,u=a.length;o<u;o++)n[o]=s,s+=a[o].length+1;this[Vx]=n}r=n[n.length-1];let i=0;if(t>=r)i=n.length-1;else{let a=n.length-2,s;for(;i<a;)if(s=i+(a-i>>1),t<n[s])a=s-1;else if(t>=n[s+1])i=s+1;else{i=s;break}}return{col:t-n[i]+1,line:i+1}}mapResolve(t){return/^\w+:\/\//.test(t)?t:bE(this.map.consumer().sourceRoot||this.map.root||".",t)}origin(t,r,n,i){if(!this.map)return!1;let a=this.map.consumer(),s=a.originalPositionFor({column:r,line:t});if(!s.source)return!1;let o;typeof n=="number"&&(o=a.originalPositionFor({column:i,line:n}));let u;yE(s.source)?u=ky(s.source):u=new URL(s.source,this.map.consumer().sourceRoot||ky(this.map.mapFile));let l={column:s.column,endColumn:o&&o.column,endLine:o&&o.line,line:s.line,url:u.toString()};if(u.protocol==="file:")if(z7)l.file=z7(u);else throw new Error("file: protocol is not available in this PostCSS build");let c=a.sourceContentFor(s.source);return c&&(l.source=c),l}toJSON(){let t={};for(let r of["hasBOM","css","file","id"])this[r]!=null&&(t[r]=this[r]);return this.map&&(t.map={...this.map},t.map.consumerCache&&(t.map.consumerCache=void 0)),t}get from(){return this.file||this.id}};var dA=b_;b_.default=b_;jx&&jx.registerInput&&jx.registerInput(b_);let{SourceMapConsumer:CZ,SourceMapGenerator:ub}=xo,{dirname:lb,relative:$Z,resolve:NZ,sep:DZ}=xo,{pathToFileURL:V7}=xo,BMe=dA,LMe=!!(CZ&&ub),FMe=!!(lb&&NZ&&$Z&&DZ),RMe=class{constructor(t,r,n,i){this.stringify=t,this.mapOpts=n.map||{},this.root=r,this.opts=n,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";let r=`
`;this.css.includes(`\r
`)&&(r=`\r
`),this.css+=r+"/*# sourceMappingURL="+t+" */"}applyPrevMaps(){for(let t of this.previous()){let r=this.toUrl(this.path(t.file)),n=t.root||lb(t.file),i;this.mapOpts.sourcesContent===!1?(i=new CZ(t.text),i.sourcesContent&&(i.sourcesContent=i.sourcesContent.map(()=>null))):i=t.consumer(),this.map.applySourceMap(i,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let t;for(let r=this.root.nodes.length-1;r>=0;r--)t=this.root.nodes[r],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(r)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),FMe&&LMe&&this.isMap())return this.generateMap();{let t="";return this.stringify(this.root,r=>{t+=r}),[t]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=ub.fromSourceMap(t)}else this.map=new ub({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new ub({file:this.outputFile()});let t=1,r=1,n="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},a,s;this.stringify(this.root,(o,u,l)=>{if(this.css+=o,u&&l!=="end"&&(i.generated.line=t,i.generated.column=r-1,u.source&&u.source.start?(i.source=this.sourcePath(u),i.original.line=u.source.start.line,i.original.column=u.source.start.column-1,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,this.map.addMapping(i))),a=o.match(/\n/g),a?(t+=a.length,s=o.lastIndexOf(`
`),r=o.length-s):r+=o.length,u&&l!=="start"){let c=u.parent||{raws:{}};(!(u.type==="decl"||u.type==="atrule"&&!u.nodes)||u!==c.last||c.raws.semicolon)&&(u.source&&u.source.end?(i.source=this.sourcePath(u),i.original.line=u.source.end.line,i.original.column=u.source.end.column-1,i.generated.line=t,i.generated.column=r-2,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,i.generated.line=t,i.generated.column=r-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(t=>t.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(r=>r.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(t=>t.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;let r=this.memoizedPaths.get(t);if(r)return r;let n=this.opts.to?lb(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(n=lb(NZ(n,this.mapOpts.annotation)));let i=$Z(n,t);return this.memoizedPaths.set(t,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(t=>{if(t.source&&t.source.input.map){let r=t.source.input.map;this.previousMaps.includes(r)||this.previousMaps.push(r)}});else{let t=new BMe(this.originalCSS,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}setSourcesContent(){let t={};if(this.root)this.root.walk(r=>{if(r.source){let n=r.source.input.from;if(n&&!t[n]){t[n]=!0;let i=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(i,r.source.input.css)}}});else if(this.css){let r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}sourcePath(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))}toBase64(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}toFileUrl(t){let r=this.memoizedFileURLs.get(t);if(r)return r;if(V7){let n=V7(t).toString();return this.memoizedFileURLs.set(t,n),n}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(t){let r=this.memoizedURLs.get(t);if(r)return r;DZ==="\\"&&(t=t.replace(/\\/g,"/"));let n=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,n),n}};var TZ=RMe;let UMe=cA,_E=class extends UMe{constructor(t){super(t),this.type="comment"}};var pA=_E;_E.default=_E;let{isClean:kZ,my:IZ}=Dg,OZ=fA,MZ=pA,zMe=cA,PZ,aN,sN,BZ;function LZ(e){return e.map(t=>(t.nodes&&(t.nodes=LZ(t.nodes)),delete t.source,t))}function FZ(e){if(e[kZ]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)FZ(t)}let Jl=class RZ extends zMe{append(...t){for(let r of t){let n=this.normalize(r,this.last);for(let i of n)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let r of this.nodes)r.cleanRaws(t)}each(t){if(!this.proxyOf.nodes)return;let r=this.getIterator(),n,i;for(;this.indexes[r]<this.proxyOf.nodes.length&&(n=this.indexes[r],i=t(this.proxyOf.nodes[n],n),i!==!1);)this.indexes[r]+=1;return delete this.indexes[r],i}every(t){return this.nodes.every(t)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}getProxyProcessor(){return{get(t,r){return r==="proxyOf"?t:t[r]?r==="each"||typeof r=="string"&&r.startsWith("walk")?(...n)=>t[r](...n.map(i=>typeof i=="function"?(a,s)=>i(a.toProxy(),s):i)):r==="every"||r==="some"?n=>t[r]((i,...a)=>n(i.toProxy(),...a)):r==="root"?()=>t.root().toProxy():r==="nodes"?t.nodes.map(n=>n.toProxy()):r==="first"||r==="last"?t[r].toProxy():t[r]:t[r]},set(t,r,n){return t[r]===n||(t[r]=n,(r==="name"||r==="params"||r==="selector")&&t.markDirty()),!0}}}index(t){return typeof t=="number"?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}insertAfter(t,r){let n=this.index(t),i=this.normalize(r,this.proxyOf.nodes[n]).reverse();n=this.index(t);for(let s of i)this.proxyOf.nodes.splice(n+1,0,s);let a;for(let s in this.indexes)a=this.indexes[s],n<a&&(this.indexes[s]=a+i.length);return this.markDirty(),this}insertBefore(t,r){let n=this.index(t),i=n===0?"prepend":!1,a=this.normalize(r,this.proxyOf.nodes[n],i).reverse();n=this.index(t);for(let o of a)this.proxyOf.nodes.splice(n,0,o);let s;for(let o in this.indexes)s=this.indexes[o],n<=s&&(this.indexes[o]=s+a.length);return this.markDirty(),this}normalize(t,r){if(typeof t=="string")t=LZ(PZ(t).nodes);else if(Array.isArray(t)){t=t.slice(0);for(let i of t)i.parent&&i.parent.removeChild(i,"ignore")}else if(t.type==="root"&&this.type!=="document"){t=t.nodes.slice(0);for(let i of t)i.parent&&i.parent.removeChild(i,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value>"u")throw new Error("Value field is missed in node creation");typeof t.value!="string"&&(t.value=String(t.value)),t=[new OZ(t)]}else if(t.selector)t=[new aN(t)];else if(t.name)t=[new sN(t)];else if(t.text)t=[new MZ(t)];else throw new Error("Unknown node type in node creation");return t.map(i=>(i[IZ]||RZ.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[kZ]&&FZ(i),typeof i.raws.before>"u"&&r&&typeof r.raws.before<"u"&&(i.raws.before=r.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...t){t=t.reverse();for(let r of t){let n=this.normalize(r,this.first,"prepend").reverse();for(let i of n)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+n.length}return this.markDirty(),this}push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(t){t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);let r;for(let n in this.indexes)r=this.indexes[n],r>=t&&(this.indexes[n]=r-1);return this.markDirty(),this}replaceValues(t,r,n){return n||(n=r,r={}),this.walkDecls(i=>{r.props&&!r.props.includes(i.prop)||r.fast&&!i.value.includes(r.fast)||(i.value=i.value.replace(t,n))}),this.markDirty(),this}some(t){return this.nodes.some(t)}walk(t){return this.each((r,n)=>{let i;try{i=t(r,n)}catch(a){throw r.addToError(a)}return i!==!1&&r.walk&&(i=r.walk(t)),i})}walkAtRules(t,r){return r?t instanceof RegExp?this.walk((n,i)=>{if(n.type==="atrule"&&t.test(n.name))return r(n,i)}):this.walk((n,i)=>{if(n.type==="atrule"&&n.name===t)return r(n,i)}):(r=t,this.walk((n,i)=>{if(n.type==="atrule")return r(n,i)}))}walkComments(t){return this.walk((r,n)=>{if(r.type==="comment")return t(r,n)})}walkDecls(t,r){return r?t instanceof RegExp?this.walk((n,i)=>{if(n.type==="decl"&&t.test(n.prop))return r(n,i)}):this.walk((n,i)=>{if(n.type==="decl"&&n.prop===t)return r(n,i)}):(r=t,this.walk((n,i)=>{if(n.type==="decl")return r(n,i)}))}walkRules(t,r){return r?t instanceof RegExp?this.walk((n,i)=>{if(n.type==="rule"&&t.test(n.selector))return r(n,i)}):this.walk((n,i)=>{if(n.type==="rule"&&n.selector===t)return r(n,i)}):(r=t,this.walk((n,i)=>{if(n.type==="rule")return r(n,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Jl.registerParse=e=>{PZ=e};Jl.registerRule=e=>{aN=e};Jl.registerAtRule=e=>{sN=e};Jl.registerRoot=e=>{BZ=e};var yp=Jl;Jl.default=Jl;Jl.rebuild=e=>{e.type==="atrule"?Object.setPrototypeOf(e,sN.prototype):e.type==="rule"?Object.setPrototypeOf(e,aN.prototype):e.type==="decl"?Object.setPrototypeOf(e,OZ.prototype):e.type==="comment"?Object.setPrototypeOf(e,MZ.prototype):e.type==="root"&&Object.setPrototypeOf(e,BZ.prototype),e[IZ]=!0,e.nodes&&e.nodes.forEach(t=>{Jl.rebuild(t)})};let qMe=yp,UZ,zZ,Pv=class extends qMe{constructor(t){super({type:"document",...t}),this.nodes||(this.nodes=[])}toResult(t={}){return new UZ(new zZ,this,t).stringify()}};Pv.registerLazyResult=e=>{UZ=e};Pv.registerProcessor=e=>{zZ=e};var oN=Pv;Pv.default=Pv;let AE=class{constructor(t,r={}){if(this.type="warning",this.text=t,r.node&&r.node.source){let n=r.node.rangeBy(r);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(let n in r)this[n]=r[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var qZ=AE;AE.default=AE;let jMe=qZ,wE=class{constructor(t,r,n){this.processor=t,this.messages=[],this.root=r,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t,r={}){r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);let n=new jMe(t,r);return this.messages.push(n),n}warnings(){return this.messages.filter(t=>t.type==="warning")}get content(){return this.css}};var uN=wE;wE.default=wE;const Hx="'".charCodeAt(0),H7='"'.charCodeAt(0),Iy="\\".charCodeAt(0),G7="/".charCodeAt(0),Oy=`
`.charCodeAt(0),D0=" ".charCodeAt(0),My="\f".charCodeAt(0),Py="	".charCodeAt(0),By="\r".charCodeAt(0),VMe="[".charCodeAt(0),HMe="]".charCodeAt(0),GMe="(".charCodeAt(0),ZMe=")".charCodeAt(0),WMe="{".charCodeAt(0),KMe="}".charCodeAt(0),JMe=";".charCodeAt(0),YMe="*".charCodeAt(0),XMe=":".charCodeAt(0),QMe="@".charCodeAt(0),Ly=/[\t\n\f\r "#'()/;[\\\]{}]/g,Fy=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,e7e=/.[\r\n"'(/\\]/,Z7=/[\da-f]/i;var t7e=function(t,r={}){let n=t.css.valueOf(),i=r.ignoreErrors,a,s,o,u,l,c,f,d,p,m,h=n.length,v=0,y=[],w=[];function g(){return v}function b(C){throw t.error("Unclosed "+C,v)}function _(){return w.length===0&&v>=h}function x(C){if(w.length)return w.pop();if(v>=h)return;let $=C?C.ignoreUnclosed:!1;switch(a=n.charCodeAt(v),a){case Oy:case D0:case Py:case By:case My:{s=v;do s+=1,a=n.charCodeAt(s);while(a===D0||a===Oy||a===Py||a===By||a===My);m=["space",n.slice(v,s)],v=s-1;break}case VMe:case HMe:case WMe:case KMe:case XMe:case JMe:case ZMe:{let D=String.fromCharCode(a);m=[D,D,v];break}case GMe:{if(d=y.length?y.pop()[1]:"",p=n.charCodeAt(v+1),d==="url"&&p!==Hx&&p!==H7&&p!==D0&&p!==Oy&&p!==Py&&p!==My&&p!==By){s=v;do{if(c=!1,s=n.indexOf(")",s+1),s===-1)if(i||$){s=v;break}else b("bracket");for(f=s;n.charCodeAt(f-1)===Iy;)f-=1,c=!c}while(c);m=["brackets",n.slice(v,s+1),v,s],v=s}else s=n.indexOf(")",v+1),u=n.slice(v,s+1),s===-1||e7e.test(u)?m=["(","(",v]:(m=["brackets",u,v,s],v=s);break}case Hx:case H7:{o=a===Hx?"'":'"',s=v;do{if(c=!1,s=n.indexOf(o,s+1),s===-1)if(i||$){s=v+1;break}else b("string");for(f=s;n.charCodeAt(f-1)===Iy;)f-=1,c=!c}while(c);m=["string",n.slice(v,s+1),v,s],v=s;break}case QMe:{Ly.lastIndex=v+1,Ly.test(n),Ly.lastIndex===0?s=n.length-1:s=Ly.lastIndex-2,m=["at-word",n.slice(v,s+1),v,s],v=s;break}case Iy:{for(s=v,l=!0;n.charCodeAt(s+1)===Iy;)s+=1,l=!l;if(a=n.charCodeAt(s+1),l&&a!==G7&&a!==D0&&a!==Oy&&a!==Py&&a!==By&&a!==My&&(s+=1,Z7.test(n.charAt(s)))){for(;Z7.test(n.charAt(s+1));)s+=1;n.charCodeAt(s+1)===D0&&(s+=1)}m=["word",n.slice(v,s+1),v,s],v=s;break}default:{a===G7&&n.charCodeAt(v+1)===YMe?(s=n.indexOf("*/",v+2)+1,s===0&&(i||$?s=n.length:b("comment")),m=["comment",n.slice(v,s+1),v,s],v=s):(Fy.lastIndex=v+1,Fy.test(n),Fy.lastIndex===0?s=n.length-1:s=Fy.lastIndex-2,m=["word",n.slice(v,s+1),v,s],y.push(m),v=s);break}}return v++,m}function E(C){w.push(C)}return{back:E,endOfFile:_,nextToken:x,position:g}};let jZ=yp,__=class extends jZ{constructor(t){super(t),this.type="atrule"}append(...t){return this.proxyOf.nodes||(this.nodes=[]),super.append(...t)}prepend(...t){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...t)}};var lN=__;__.default=__;jZ.registerAtRule(__);let VZ=yp,HZ,GZ,Xm=class extends VZ{constructor(t){super(t),this.type="root",this.nodes||(this.nodes=[])}normalize(t,r,n){let i=super.normalize(t);if(r){if(n==="prepend")this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r)for(let a of i)a.raws.before=r.raws.before}return i}removeChild(t,r){let n=this.index(t);return!r&&n===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(t)}toResult(t={}){return new HZ(new GZ,this,t).stringify()}};Xm.registerLazyResult=e=>{HZ=e};Xm.registerProcessor=e=>{GZ=e};var Tg=Xm;Xm.default=Xm;VZ.registerRoot(Xm);let Bv={comma(e){return Bv.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return Bv.split(e,t)},split(e,t,r){let n=[],i="",a=!1,s=0,o=!1,u="",l=!1;for(let c of e)l?l=!1:c==="\\"?l=!0:o?c===u&&(o=!1):c==='"'||c==="'"?(o=!0,u=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&t.includes(c)&&(a=!0),a?(i!==""&&n.push(i.trim()),i="",a=!1):i+=c;return(r||i!=="")&&n.push(i.trim()),n}};var ZZ=Bv;Bv.default=Bv;let WZ=yp,r7e=ZZ,A_=class extends WZ{constructor(t){super(t),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return r7e.comma(this.selector)}set selectors(t){let r=this.selector?this.selector.match(/,\s*/):null,n=r?r[0]:","+this.raw("between","beforeOpen");this.selector=t.join(n)}};var cN=A_;A_.default=A_;WZ.registerRule(A_);let n7e=fA,i7e=t7e,a7e=pA,s7e=lN,o7e=Tg,W7=cN;const K7={empty:!0,space:!0};function u7e(e){for(let t=e.length-1;t>=0;t--){let r=e[t],n=r[3]||r[2];if(n)return n}}let l7e=class{constructor(t){this.input=t,this.root=new o7e,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}atrule(t){let r=new s7e;r.name=t[1].slice(1),r.name===""&&this.unnamedAtrule(r,t),this.init(r,t[2]);let n,i,a,s=!1,o=!1,u=[],l=[];for(;!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),n=t[0],n==="("||n==="["?l.push(n==="("?")":"]"):n==="{"&&l.length>0?l.push("}"):n===l[l.length-1]&&l.pop(),l.length===0)if(n===";"){r.source.end=this.getPosition(t[2]),r.source.end.offset++,this.semicolon=!0;break}else if(n==="{"){o=!0;break}else if(n==="}"){if(u.length>0){for(a=u.length-1,i=u[a];i&&i[0]==="space";)i=u[--a];i&&(r.source.end=this.getPosition(i[3]||i[2]),r.source.end.offset++)}this.end(t);break}else u.push(t);else u.push(t);if(this.tokenizer.endOfFile()){s=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(u),u.length?(r.raws.afterName=this.spacesAndCommentsFromStart(u),this.raw(r,"params",u),s&&(t=u[u.length-1],r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),o&&(r.nodes=[],this.current=r)}checkMissedSemicolon(t){let r=this.colon(t);if(r===!1)return;let n=0,i;for(let a=r-1;a>=0&&(i=t[a],!(i[0]!=="space"&&(n+=1,n===2)));a--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(t){let r=0,n,i,a;for(let[s,o]of t.entries()){if(n=o,i=n[0],i==="("&&(r+=1),i===")"&&(r-=1),r===0&&i===":")if(!a)this.doubleColon(n);else{if(a[0]==="word"&&a[1]==="progid")continue;return s}a=n}return!1}comment(t){let r=new a7e;this.init(r,t[2]),r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++;let n=t[1].slice(2,-2);if(/^\s*$/.test(n))r.text="",r.raws.left=n,r.raws.right="";else{let i=n.match(/^(\s*)([^]*\S)(\s*)$/);r.text=i[2],r.raws.left=i[1],r.raws.right=i[3]}}createTokenizer(){this.tokenizer=i7e(this.input)}decl(t,r){let n=new n7e;this.init(n,t[0][2]);let i=t[t.length-1];for(i[0]===";"&&(this.semicolon=!0,t.pop()),n.source.end=this.getPosition(i[3]||i[2]||u7e(t)),n.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),n.raws.before+=t.shift()[1];for(n.source.start=this.getPosition(t[0][2]),n.prop="";t.length;){let l=t[0][0];if(l===":"||l==="space"||l==="comment")break;n.prop+=t.shift()[1]}n.raws.between="";let a;for(;t.length;)if(a=t.shift(),a[0]===":"){n.raws.between+=a[1];break}else a[0]==="word"&&/\w/.test(a[1])&&this.unknownWord([a]),n.raws.between+=a[1];(n.prop[0]==="_"||n.prop[0]==="*")&&(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let s=[],o;for(;t.length&&(o=t[0][0],!(o!=="space"&&o!=="comment"));)s.push(t.shift());this.precheckMissedSemicolon(t);for(let l=t.length-1;l>=0;l--){if(a=t[l],a[1].toLowerCase()==="!important"){n.important=!0;let c=this.stringFrom(t,l);c=this.spacesFromEnd(t)+c,c!==" !important"&&(n.raws.important=c);break}else if(a[1].toLowerCase()==="important"){let c=t.slice(0),f="";for(let d=l;d>0;d--){let p=c[d][0];if(f.trim().indexOf("!")===0&&p!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(n.important=!0,n.raws.important=f,t=c)}if(a[0]!=="space"&&a[0]!=="comment")break}t.some(l=>l[0]!=="space"&&l[0]!=="comment")&&(n.raws.between+=s.map(l=>l[1]).join(""),s=[]),this.raw(n,"value",s.concat(t),r),n.value.includes(":")&&!r&&this.checkMissedSemicolon(t)}doubleColon(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}emptyRule(t){let r=new W7;this.init(r,t[2]),r.selector="",r.raws.between="",this.current=r}end(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(t){if(this.spaces+=t[1],this.current.nodes){let r=this.current.nodes[this.current.nodes.length-1];r&&r.type==="rule"&&!r.raws.ownSemicolon&&(r.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(t){let r=this.input.fromOffset(t);return{column:r.col,line:r.line,offset:t}}init(t,r){this.current.push(t),t.source={input:this.input,start:this.getPosition(r)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)}other(t){let r=!1,n=null,i=!1,a=null,s=[],o=t[1].startsWith("--"),u=[],l=t;for(;l;){if(n=l[0],u.push(l),n==="("||n==="[")a||(a=l),s.push(n==="("?")":"]");else if(o&&i&&n==="{")a||(a=l),s.push("}");else if(s.length===0)if(n===";")if(i){this.decl(u,o);return}else break;else if(n==="{"){this.rule(u);return}else if(n==="}"){this.tokenizer.back(u.pop()),r=!0;break}else n===":"&&(i=!0);else n===s[s.length-1]&&(s.pop(),s.length===0&&(a=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(r=!0),s.length>0&&this.unclosedBracket(a),r&&i){if(!o)for(;u.length&&(l=u[u.length-1][0],!(l!=="space"&&l!=="comment"));)this.tokenizer.back(u.pop());this.decl(u,o)}else this.unknownWord(u)}parse(){let t;for(;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()}precheckMissedSemicolon(){}raw(t,r,n,i){let a,s,o=n.length,u="",l=!0,c,f;for(let d=0;d<o;d+=1)a=n[d],s=a[0],s==="space"&&d===o-1&&!i?l=!1:s==="comment"?(f=n[d-1]?n[d-1][0]:"empty",c=n[d+1]?n[d+1][0]:"empty",!K7[f]&&!K7[c]?u.slice(-1)===","?l=!1:u+=a[1]:l=!1):u+=a[1];if(!l){let d=n.reduce((p,m)=>p+m[1],"");t.raws[r]={raw:d,value:u}}t[r]=u}rule(t){t.pop();let r=new W7;this.init(r,t[0][2]),r.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(r,"selector",t),this.current=r}spacesAndCommentsFromEnd(t){let r,n="";for(;t.length&&(r=t[t.length-1][0],!(r!=="space"&&r!=="comment"));)n=t.pop()[1]+n;return n}spacesAndCommentsFromStart(t){let r,n="";for(;t.length&&(r=t[0][0],!(r!=="space"&&r!=="comment"));)n+=t.shift()[1];return n}spacesFromEnd(t){let r,n="";for(;t.length&&(r=t[t.length-1][0],r==="space");)n=t.pop()[1]+n;return n}stringFrom(t,r){let n="";for(let i=r;i<t.length;i++)n+=t[i][1];return t.splice(r,t.length-r),n}unclosedBlock(){let t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}unclosedBracket(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}unexpectedClose(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}unknownWord(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}unnamedAtrule(t,r){throw this.input.error("At-rule without name",{offset:r[2]},{offset:r[2]+r[1].length})}};var c7e=l7e;let f7e=yp,d7e=c7e,p7e=dA;function w_(e,t){let r=new p7e(e,t),n=new d7e(r);try{n.parse()}catch(i){throw i}return n.root}var fN=w_;w_.default=w_;f7e.registerParse(w_);let{isClean:Ou,my:m7e}=Dg,h7e=TZ,v7e=lA,g7e=yp,y7e=oN,J7=uN,b7e=fN,_7e=Tg;const A7e={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},w7e={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},x7e={Once:!0,postcssPlugin:!0,prepare:!0},Qm=0;function T0(e){return typeof e=="object"&&typeof e.then=="function"}function KZ(e){let t=!1,r=A7e[e.type];return e.type==="decl"?t=e.prop.toLowerCase():e.type==="atrule"&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,Qm,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,Qm,r+"Exit"]:[r,r+"Exit"]}function Y7(e){let t;return e.type==="document"?t=["Document",Qm,"DocumentExit"]:e.type==="root"?t=["Root",Qm,"RootExit"]:t=KZ(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function xE(e){return e[Ou]=!1,e.nodes&&e.nodes.forEach(t=>xE(t)),e}let SE={},eh=class JZ{constructor(t,r,n){this.stringified=!1,this.processed=!1;let i;if(typeof r=="object"&&r!==null&&(r.type==="root"||r.type==="document"))i=xE(r);else if(r instanceof JZ||r instanceof J7)i=xE(r.root),r.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{let a=b7e;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{i=a(r,n)}catch(s){this.processed=!0,this.error=s}i&&!i[m7e]&&g7e.rebuild(i)}this.result=new J7(t,i,n),this.helpers={...SE,postcss:SE,result:this.result},this.plugins=this.processor.plugins.map(a=>typeof a=="object"&&a.prepare?{...a,...a.prepare(this.result)}:a)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,r){let n=this.result.lastPlugin;try{r&&r.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin?(t.plugin=n.postcssPlugin,t.setMessage()):n.postcssVersion}catch(i){console&&console.error&&console.error(i)}return t}prepareVisitors(){this.listeners={};let t=(r,n,i)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([r,i])};for(let r of this.plugins)if(typeof r=="object")for(let n in r){if(!w7e[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${r.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!x7e[n])if(typeof r[n]=="object")for(let i in r[n])i==="*"?t(r,n,r[n][i]):t(r,n+"-"+i.toLowerCase(),r[n][i]);else typeof r[n]=="function"&&t(r,n,r[n])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let r=this.plugins[t],n=this.runOnRoot(r);if(T0(n))try{await n}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Ou];){t[Ou]=!0;let r=[Y7(t)];for(;r.length>0;){let n=this.visitTick(r);if(T0(n))try{await n}catch(i){let a=r[r.length-1].node;throw this.handleError(i,a)}}}if(this.listeners.OnceExit)for(let[r,n]of this.listeners.OnceExit){this.result.lastPlugin=r;try{if(t.type==="document"){let i=t.nodes.map(a=>n(a,this.helpers));await Promise.all(i)}else await n(t,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(t){this.result.lastPlugin=t;try{if(typeof t=="object"&&t.Once){if(this.result.root.type==="document"){let r=this.result.root.nodes.map(n=>t.Once(n,this.helpers));return T0(r[0])?Promise.all(r):r}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(r){throw this.handleError(r)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,r=v7e;t.syntax&&(r=t.syntax.stringify),t.stringifier&&(r=t.stringifier),r.stringify&&(r=r.stringify);let i=new h7e(r,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins){let r=this.runOnRoot(t);if(T0(r))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Ou];)t[Ou]=!0,this.walkSync(t);if(this.listeners.OnceExit)if(t.type==="document")for(let r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(t,r){return this.async().then(t,r)}toString(){return this.css}visitSync(t,r){for(let[n,i]of t){this.result.lastPlugin=n;let a;try{a=i(r,this.helpers)}catch(s){throw this.handleError(s,r.proxyOf)}if(r.type!=="root"&&r.type!=="document"&&!r.parent)return!0;if(T0(a))throw this.getAsyncError()}}visitTick(t){let r=t[t.length-1],{node:n,visitors:i}=r;if(n.type!=="root"&&n.type!=="document"&&!n.parent){t.pop();return}if(i.length>0&&r.visitorIndex<i.length){let[s,o]=i[r.visitorIndex];r.visitorIndex+=1,r.visitorIndex===i.length&&(r.visitors=[],r.visitorIndex=0),this.result.lastPlugin=s;try{return o(n.toProxy(),this.helpers)}catch(u){throw this.handleError(u,n)}}if(r.iterator!==0){let s=r.iterator,o;for(;o=n.nodes[n.indexes[s]];)if(n.indexes[s]+=1,!o[Ou]){o[Ou]=!0,t.push(Y7(o));return}r.iterator=0,delete n.indexes[s]}let a=r.events;for(;r.eventIndex<a.length;){let s=a[r.eventIndex];if(r.eventIndex+=1,s===Qm){n.nodes&&n.nodes.length&&(n[Ou]=!0,r.iterator=n.getIterator());return}else if(this.listeners[s]){r.visitors=this.listeners[s];return}}t.pop()}walkSync(t){t[Ou]=!0;let r=KZ(t);for(let n of r)if(n===Qm)t.nodes&&t.each(i=>{i[Ou]||this.walkSync(i)});else{let i=this.listeners[n];if(i&&this.visitSync(i,t.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};eh.registerPostcss=e=>{SE=e};var YZ=eh;eh.default=eh;_7e.registerLazyResult(eh);y7e.registerLazyResult(eh);let S7e=TZ,E7e=lA,C7e=fN;const $7e=uN;let EE=class{constructor(t,r,n){r=r.toString(),this.stringified=!1,this._processor=t,this._css=r,this._opts=n,this._map=void 0;let i,a=E7e;this.result=new $7e(this._processor,i,this._opts),this.result.css=r;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let o=new S7e(a,i,this._opts,r);if(o.isMap()){let[u,l]=o.generate();u&&(this.result.css=u),l&&(this.result.map=l)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}sync(){if(this.error)throw this.error;return this.result}then(t,r){return this.async().then(t,r)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let t,r=C7e;try{t=r(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=t,t}get[Symbol.toStringTag](){return"NoWorkResult"}};var N7e=EE;EE.default=EE;let D7e=N7e,T7e=YZ,k7e=oN,I7e=Tg,Lv=class{constructor(t=[]){this.version="8.4.33",this.plugins=this.normalize(t)}normalize(t){let r=[];for(let n of t)if(n.postcss===!0?n=n():n.postcss&&(n=n.postcss),typeof n=="object"&&Array.isArray(n.plugins))r=r.concat(n.plugins);else if(typeof n=="object"&&n.postcssPlugin)r.push(n);else if(typeof n=="function")r.push(n);else if(!(typeof n=="object"&&(n.parse||n.stringify)))throw new Error(n+" is not a PostCSS plugin");return r}process(t,r={}){return!this.plugins.length&&!r.parser&&!r.stringifier&&!r.syntax?new D7e(this,t,r):new T7e(this,t,r)}use(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}};var O7e=Lv;Lv.default=Lv;I7e.registerProcessor(Lv);k7e.registerProcessor(Lv);let M7e=fA,P7e=EZ,B7e=pA,L7e=lN,F7e=dA,R7e=Tg,U7e=cN;function Fv(e,t){if(Array.isArray(e))return e.map(i=>Fv(i));let{inputs:r,...n}=e;if(r){t=[];for(let i of r){let a={...i,__proto__:F7e.prototype};a.map&&(a.map={...a.map,__proto__:P7e.prototype}),t.push(a)}}if(n.nodes&&(n.nodes=e.nodes.map(i=>Fv(i,t))),n.source){let{inputId:i,...a}=n.source;n.source=a,i!=null&&(n.source.input=t[i])}if(n.type==="root")return new R7e(n);if(n.type==="decl")return new M7e(n);if(n.type==="rule")return new U7e(n);if(n.type==="comment")return new B7e(n);if(n.type==="atrule")return new L7e(n);throw new Error("Unknown node type: "+e.type)}var z7e=Fv;Fv.default=Fv;let q7e=iN,XZ=fA,j7e=YZ,V7e=yp,dN=O7e,H7e=lA,G7e=z7e,QZ=oN,Z7e=qZ,eW=pA,tW=lN,W7e=uN,K7e=dA,J7e=fN,Y7e=ZZ,rW=cN,nW=Tg,X7e=cA;function kn(...e){return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new dN(e)}kn.plugin=function(t,r){let n=!1;function i(...s){console&&console.warn&&!n&&(n=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(t+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let o=r(...s);return o.postcssPlugin=t,o.postcssVersion=new dN().version,o}let a;return Object.defineProperty(i,"postcss",{get(){return a||(a=i()),a}}),i.process=function(s,o,u){return kn([i(u)]).process(s,o)},i};kn.stringify=H7e;kn.parse=J7e;kn.fromJSON=G7e;kn.list=Y7e;kn.comment=e=>new eW(e);kn.atRule=e=>new tW(e);kn.decl=e=>new XZ(e);kn.rule=e=>new rW(e);kn.root=e=>new nW(e);kn.document=e=>new QZ(e);kn.CssSyntaxError=q7e;kn.Declaration=XZ;kn.Container=V7e;kn.Processor=dN;kn.Document=QZ;kn.Comment=eW;kn.Warning=Z7e;kn.AtRule=tW;kn.Result=W7e;kn.Input=K7e;kn.Rule=rW;kn.Root=nW;kn.Node=X7e;j7e.registerPostcss(kn);var Q7e=kn;kn.default=kn;const e9e=ZG,X7=XOe,{isPlainObject:t9e}=rN,Q7=pMe,r9e=mMe,{parse:n9e}=Q7e,i9e=["img","audio","video","picture","svg","object","map","iframe","embed"],a9e=["script","style"];function um(e,t){e&&Object.keys(e).forEach(function(r){t(e[r],r)})}function El(e,t){return{}.hasOwnProperty.call(e,t)}function e9(e,t){const r=[];return um(e,function(n){t(n)&&r.push(n)}),r}function s9e(e){for(const t in e)if(El(e,t))return!1;return!0}function o9e(e){return e.map(function(t){if(!t.url)throw new Error("URL missing");return t.url+(t.w?` ${t.w}w`:"")+(t.h?` ${t.h}h`:"")+(t.d?` ${t.d}x`:"")}).join(", ")}var u9e=Rv;const l9e=/^[^\0\t\n\f\r /<=>]+$/;function Rv(e,t,r){if(e==null)return"";typeof e=="number"&&(e=e.toString());let n="",i="";function a(L,B){const O=this;this.tag=L,this.attribs=B||{},this.tagPosition=n.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(v.length){const T=v[v.length-1];T.text+=O.text}},this.updateParentNodeMediaChildren=function(){v.length&&i9e.includes(this.tag)&&v[v.length-1].mediaChildren.push(this.tag)}}t=Object.assign({},Rv.defaults,t),t.parser=Object.assign({},c9e,t.parser);const s=function(L){return t.allowedTags===!1||(t.allowedTags||[]).indexOf(L)>-1};a9e.forEach(function(L){s(L)&&!t.allowVulnerableTags&&console.warn(`

 Your \`allowedTags\` option includes, \`${L}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const o=t.nonTextTags||["script","style","textarea","option"];let u,l;t.allowedAttributes&&(u={},l={},um(t.allowedAttributes,function(L,B){u[B]=[];const O=[];L.forEach(function(T){typeof T=="string"&&T.indexOf("*")>=0?O.push(X7(T).replace(/\\\*/g,".*")):u[B].push(T)}),O.length&&(l[B]=new RegExp("^("+O.join("|")+")$"))}));const c={},f={},d={};um(t.allowedClasses,function(L,B){if(u&&(El(u,B)||(u[B]=[]),u[B].push("class")),c[B]=L,Array.isArray(L)){const O=[];c[B]=[],d[B]=[],L.forEach(function(T){typeof T=="string"&&T.indexOf("*")>=0?O.push(X7(T).replace(/\\\*/g,".*")):T instanceof RegExp?d[B].push(T):c[B].push(T)}),O.length&&(f[B]=new RegExp("^("+O.join("|")+")$"))}});const p={};let m;um(t.transformTags,function(L,B){let O;typeof L=="function"?O=L:typeof L=="string"&&(O=Rv.simpleTransform(L)),B==="*"?m=O:p[B]=O});let h,v,y,w,g,b,_=!1;E();const x=new e9e.Parser({onopentag:function(L,B){if(t.onOpenTag&&t.onOpenTag(L,B),t.enforceHtmlBoundary&&L==="html"&&E(),g){b++;return}const O=new a(L,B);v.push(O);let T=!1;const j=!!O.text;let R;if(El(p,L)&&(R=p[L](L,B),O.attribs=B=R.attribs,R.text!==void 0&&(O.innerText=R.text),L!==R.tagName&&(O.name=L=R.tagName,w[h]=R.tagName)),m&&(R=m(L,B),O.attribs=B=R.attribs,L!==R.tagName&&(O.name=L=R.tagName,w[h]=R.tagName)),(!s(L)||t.disallowedTagsMode==="recursiveEscape"&&!s9e(y)||t.nestingLimit!=null&&h>=t.nestingLimit)&&(T=!0,y[h]=!0,(t.disallowedTagsMode==="discard"||t.disallowedTagsMode==="completelyDiscard")&&o.indexOf(L)!==-1&&(g=!0,b=1)),h++,T){if(t.disallowedTagsMode==="discard"||t.disallowedTagsMode==="completelyDiscard"){if(O.innerText&&!j){const F=C(O.innerText);t.textFilter?n+=t.textFilter(F,L):n+=F,_=!0}return}i=n,n=""}n+="<"+L,L==="script"&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(O.innerText=""),T&&(t.disallowedTagsMode==="escape"||t.disallowedTagsMode==="recursiveEscape")&&t.preserveEscapedAttributes?um(B,function(F,H){n+=" "+H+'="'+C(F||"",!0)+'"'}):(!u||El(u,L)||u["*"])&&um(B,function(F,H){if(!l9e.test(H)){delete O.attribs[H];return}if(F===""&&!t.allowedEmptyAttributes.includes(H)&&(t.nonBooleanAttributes.includes(H)||t.nonBooleanAttributes.includes("*"))){delete O.attribs[H];return}let ve=!1;if(!u||El(u,L)&&u[L].indexOf(H)!==-1||u["*"]&&u["*"].indexOf(H)!==-1||El(l,L)&&l[L].test(H)||l["*"]&&l["*"].test(H))ve=!0;else if(u&&u[L]){for(const ae of u[L])if(t9e(ae)&&ae.name&&ae.name===H){ve=!0;let W="";if(ae.multiple===!0){const Q=F.split(" ");for(const J of Q)ae.values.indexOf(J)!==-1&&(W===""?W=J:W+=" "+J)}else ae.values.indexOf(F)>=0&&(W=F);F=W}}if(ve){if(t.allowedSchemesAppliedToAttributes.indexOf(H)!==-1&&$(L,F)){delete O.attribs[H];return}if(L==="script"&&H==="src"){let ae=!0;try{const W=D(F);if(t.allowedScriptHostnames||t.allowedScriptDomains){const Q=(t.allowedScriptHostnames||[]).find(function(se){return se===W.url.hostname}),J=(t.allowedScriptDomains||[]).find(function(se){return W.url.hostname===se||W.url.hostname.endsWith(`.${se}`)});ae=Q||J}}catch{ae=!1}if(!ae){delete O.attribs[H];return}}if(L==="iframe"&&H==="src"){let ae=!0;try{const W=D(F);if(W.isRelativeUrl)ae=El(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const Q=(t.allowedIframeHostnames||[]).find(function(se){return se===W.url.hostname}),J=(t.allowedIframeDomains||[]).find(function(se){return W.url.hostname===se||W.url.hostname.endsWith(`.${se}`)});ae=Q||J}}catch{ae=!1}if(!ae){delete O.attribs[H];return}}if(H==="srcset")try{let ae=r9e(F);if(ae.forEach(function(W){$("srcset",W.url)&&(W.evil=!0)}),ae=e9(ae,function(W){return!W.evil}),ae.length)F=o9e(e9(ae,function(W){return!W.evil})),O.attribs[H]=F;else{delete O.attribs[H];return}}catch{delete O.attribs[H];return}if(H==="class"){const ae=c[L],W=c["*"],Q=f[L],J=d[L],se=d["*"],Ce=f["*"],Te=[Q,Ce].concat(J,se).filter(function(oe){return oe});if(ae&&W?F=U(F,Q7(ae,W),Te):F=U(F,ae||W,Te),!F.length){delete O.attribs[H];return}}if(H==="style"){if(t.parseStyleAttributes)try{const ae=n9e(L+" {"+F+"}",{map:!1}),W=N(ae,t.allowedStyles);if(F=k(W),F.length===0){delete O.attribs[H];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+L+" {"+F+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete O.attribs[H];return}else if(t.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}n+=" "+H,F&&F.length?n+='="'+C(F,!0)+'"':t.allowedEmptyAttributes.includes(H)&&(n+='=""')}else delete O.attribs[H]}),t.selfClosing.indexOf(L)!==-1?n+=" />":(n+=">",O.innerText&&!j&&!t.textFilter&&(n+=C(O.innerText),_=!0)),T&&(n=i+C(n),i=""),O.openingTagLength=n.length-O.tagPosition},ontext:function(L){if(g)return;const B=v[v.length-1];let O;if(B&&(O=B.tag,L=B.innerText!==void 0?B.innerText:L),t.disallowedTagsMode==="completelyDiscard"&&!s(O))L="";else if((t.disallowedTagsMode==="discard"||t.disallowedTagsMode==="completelyDiscard")&&(O==="script"||O==="style"))n+=L;else if(!_){const T=C(L,!1);t.textFilter?n+=t.textFilter(T,O):n+=T}if(v.length){const T=v[v.length-1];T.text+=L}},onclosetag:function(L,B){if(t.onCloseTag&&t.onCloseTag(L,B),g)if(b--,!b)g=!1;else return;const O=v.pop();if(!O)return;if(O.tag!==L){v.push(O);return}g=t.enforceHtmlBoundary?L==="html":!1,h--;const T=y[h];if(T){if(delete y[h],t.disallowedTagsMode==="discard"||t.disallowedTagsMode==="completelyDiscard"){O.updateParentNodeText();return}i=n,n=""}if(w[h]&&(L=w[h],delete w[h]),t.exclusiveFilter){const j=t.exclusiveFilter(O);if(j==="excludeTag"){T&&(n=i,i=""),n=n.substring(0,O.tagPosition)+n.substring(O.tagPosition+O.openingTagLength);return}else if(j){n=n.substring(0,O.tagPosition);return}}if(O.updateParentNodeMediaChildren(),O.updateParentNodeText(),t.selfClosing.indexOf(L)!==-1||B&&!s(L)&&["escape","recursiveEscape"].indexOf(t.disallowedTagsMode)>=0){T&&(n=i,i="");return}n+="</"+L+">",T&&(n=i+C(n),i=""),_=!1}},t.parser);return x.write(e),x.end(),n;function E(){n="",h=0,v=[],y={},w={},g=!1,b=0}function C(L,B){return typeof L!="string"&&(L=L+""),t.parser.decodeEntities&&(L=L.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),B&&(L=L.replace(/"/g,"&quot;"))),L=L.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),B&&(L=L.replace(/"/g,"&quot;")),L}function $(L,B){for(B=B.replace(/[\x00-\x20]+/g,"");;){const j=B.indexOf("<!--");if(j===-1)break;const R=B.indexOf("-->",j+4);if(R===-1)break;B=B.substring(0,j)+B.substring(R+3)}const O=B.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!O)return B.match(/^[/\\]{2}/)?!t.allowProtocolRelative:!1;const T=O[1].toLowerCase();return El(t.allowedSchemesByTag,L)?t.allowedSchemesByTag[L].indexOf(T)===-1:!t.allowedSchemes||t.allowedSchemes.indexOf(T)===-1}function D(L){if(L=L.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),L.startsWith("relative:"))throw new Error("relative: exploit attempt");let B="relative://relative-site";for(let j=0;j<100;j++)B+=`/${j}`;const O=new URL(L,B);return{isRelativeUrl:O&&O.hostname==="relative-site"&&O.protocol==="relative:",url:O}}function N(L,B){if(!B)return L;const O=L.nodes[0];let T;return B[O.selector]&&B["*"]?T=Q7(B[O.selector],B["*"]):T=B[O.selector]||B["*"],T&&(L.nodes[0].nodes=O.nodes.reduce(P(T),[])),L}function k(L){return L.nodes[0].nodes.reduce(function(B,O){return B.push(`${O.prop}:${O.value}${O.important?" !important":""}`),B},[]).join(";")}function P(L){return function(B,O){return El(L,O.prop)&&L[O.prop].some(function(j){return j.test(O.value)})&&B.push(O),B}}function U(L,B,O){return B?(L=L.split(/\s+/),L.filter(function(T){return B.indexOf(T)!==-1||O.some(function(j){return j.test(T)})}).join(" ")):L}}const c9e={decodeEntities:!0};Rv.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1};Rv.simpleTransform=function(e,t,r){return r=r===void 0?!0:r,t=t||{},function(n,i){let a;if(r)for(a in t)i[a]=t[a];else i=t;return{tagName:e,attribs:i}}};const f9e=el(u9e),d9e=(e,t=!1)=>{const r=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","br","button","caption","cite","code","col","colgroup","data","datalist","dd","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","kbd","label","li","main","main","mark","nav","ol","option","p","pre","q","rb","rp","rt","rtc","ruby","s","samp","section","select","small","span","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","u","ul","var","wbr"];let n=["abbr","accept","accesskey","align","alt","aria-*","autocomplete","axis","bgcolor","border","cellpadding","cellspacing","char","charoff","checked","class","clear","color","cols","colspan","compact","controls","coords","data-*","datetime","default","dir","disabled","draggable","enctype","face","for","frame","frameborder","height","hidden","high","href","hreflang","hspace","inert","inputmode","ismap","itemprop","itemscope","kind","label","lang","list","loading","loop","low","marginheight","marginwidth","max","maxlength","method","min","multiple","muted","name","nohref","noshade","novalidate","nowrap","open","placeholder","preload","radiogroup","readonly","required","reversed","role","rows","rowspan","rules","scope","selected","shape","size","span","spellcheck","src","srclang","start","step","style","summary","tabindex","title","translate","type","valign","value","vspace","width","wrap"];t||(n=n.concat("id"));const i=e.replace(/<mobile\s*>[\s\S]*?<\/mobile\s*>|<\/*web\s*>|<\/*mobile\s*>/g,"");return f9e(i,{allowedAttributes:{"*":n},nonBooleanAttributes:[],allowedTags:r,transformTags:{"*":(s,o)=>{const u=o;if(t&&o.class){const l=o.class.split(" ");l.forEach((c,f)=>{c.substring(0,6)==="sheet-"||c==="tokenaction"||["attr","repeating","roll","act","comp"].includes(c.split("_")[0])?l[f]=c:l[f]=`sheet-${c}`}),u.class=l.join(" ")}return o.src&&(u.src=p9e(o.src)),o.href&&o.href.substring(0,1)!=="#"&&(u.href="#"),{tagName:s,attribs:u}}},parser:{xmlMode:!0,decodeEntities:!1}})},t9="https://imgsrv.roll20.net",p9e=e=>{const t=e.toString(),r=["https://s3.amazonaws.com/files.d20.io","http://imgsrv.roll20.net","https://imgsrv.roll20.net",t9,"https://app.roll20.net","https://storage.googleapis.com/char-sheet-app-images-6e101411"];for(let n=0;n<r.length;n++)if(t.substring(0,r[n].length)===r[n])return t;return/^https?:\/\//.test(t)?`${t9}?src=${escape(t)}`:""};var Ry=1,m9e=2,h9e=4,Gx=8,Zx=16,Wx=64,v9e=128,Kx=function(){var e=["rgb(?:\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)|a\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0(?:\\.\\d+)?|\\.\\d+|1(?:\\.0+)?|0|\\d+(?:\\.\\d+)?%)) *\\)"],t=[/^ *$/i,RegExp("^ *\\s*"+e[0]+" *$","i"),RegExp("^ *(?:\\s*"+e[0]+"|(?:\\s*"+e[0]+")?)+ *$","i")],r=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["-moz-inline-box","-moz-inline-stack","block","inline","inline-block","inline-table","list-item","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["armenian","circle","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["-moz-pre-wrap","-o-pre-wrap","-pre-wrap","nowrap","pre","pre-line","pre-wrap"],["dashed","dotted","double","groove","outset","ridge","solid"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["border-box","contain","content-box","cover","padding-box"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["high","low","x-high","x-low"],["absolute","relative","static"],["capitalize","lowercase","uppercase"],["child","female","male"],["bidi-override","embed"],["bottom","top"],["clip","ellipsis"],["continuous","digits"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["code"],["collapse"],["fixed"],["hidden"],["inherit"],["inset"],["invert"],["justify"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["transparent"],["visible"]];return{"-moz-border-radius":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[36]]},"-moz-border-radius-bottomleft":{cssExtra:t[0],cssPropBits:5},"-moz-border-radius-bottomright":{cssExtra:t[0],cssPropBits:5},"-moz-border-radius-topleft":{cssExtra:t[0],cssPropBits:5},"-moz-border-radius-topright":{cssExtra:t[0],cssPropBits:5},"-moz-box-shadow":{cssExtra:t[2],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},"-moz-opacity":{cssPropBits:1,cssLitGroup:[r[47]]},"-moz-outline":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[49],r[52],r[54]]},"-moz-outline-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[49]]},"-moz-outline-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"-moz-outline-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"-o-text-overflow":{cssPropBits:0,cssLitGroup:[r[25]]},"-webkit-border-bottom-left-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-border-bottom-right-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[36]]},"-webkit-border-radius-bottom-left":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius-bottom-right":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius-top-left":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius-top-right":{cssExtra:t[0],cssPropBits:5},"-webkit-border-top-left-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-border-top-right-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-box-shadow":{cssExtra:t[2],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},azimuth:{cssPropBits:5,cssLitGroup:[r[6],r[30],r[42],r[47]]},background:{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[r[0],r[14],r[17],r[24],r[30],r[35],r[36],r[38],r[42],r[45],r[47],r[51],r[54],r[57],r[58],r[62]]},"background-size":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[r[0],r[14],r[17],r[24],r[30],r[35],r[36],r[38],r[42],r[45],r[47],r[51],r[54],r[57],r[58],r[62]]},"background-attachment":{cssExtra:t[0],cssPropBits:0,cssLitGroup:[r[35],r[45],r[51],r[58]]},"background-color":{cssExtra:t[1],cssPropBits:130,cssLitGroup:[r[0],r[47],r[62]]},"background-image":{cssExtra:RegExp(".*","i"),cssPropBits:16,cssLitGroup:[r[35],r[54]]},"background-position":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[24],r[30],r[35],r[42]]},"background-repeat":{cssExtra:t[0],cssPropBits:0,cssLitGroup:[r[17],r[35],r[57]]},border:{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-bottom":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-bottom-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-bottom-left-radius":{cssExtra:t[0],cssPropBits:5},"border-bottom-right-radius":{cssExtra:t[0],cssPropBits:5},"border-bottom-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-collapse":{cssPropBits:0,cssLitGroup:[r[44],r[47],r[59]]},"border-color":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){1,4} *$","i"),cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-left":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-left-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-left-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-left-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-radius":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[36]]},"border-right":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-right-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-right-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-right-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-spacing":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[47]]},"border-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-top":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-top-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-top-left-radius":{cssExtra:t[0],cssPropBits:5},"border-top-right-radius":{cssExtra:t[0],cssPropBits:5},"border-top-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-top-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},bottom:{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"box-shadow":{cssExtra:t[2],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},"caption-side":{cssPropBits:0,cssLitGroup:[r[24],r[47]]},clear:{cssPropBits:0,cssLitGroup:[r[30],r[40],r[47],r[54]]},clip:{cssExtra:/^ *\s*rect\(\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto) *\) *$/i,cssPropBits:0,cssLitGroup:[r[38],r[47]]},color:{cssExtra:t[1],cssPropBits:130,cssLitGroup:[r[0],r[47]]},content:{cssPropBits:8,cssLitGroup:[r[54],r[55]]},"counter-increment":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[47],r[54]]},"counter-reset":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[47],r[54]]},cue:{cssPropBits:16,cssLitGroup:[r[47],r[54]]},"cue-after":{cssPropBits:16,cssLitGroup:[r[47],r[54]]},"cue-before":{cssPropBits:16,cssLitGroup:[r[47],r[54]]},cursor:{cssExtra:t[0],cssPropBits:144,cssLitGroup:[r[1],r[35],r[38],r[47]]},direction:{cssPropBits:0,cssLitGroup:[r[31],r[47]]},display:{cssPropBits:32,cssLitGroup:[r[2],r[47],r[54]]},elevation:{cssPropBits:5,cssLitGroup:[r[13],r[47]]},"empty-cells":{cssPropBits:0,cssLitGroup:[r[27],r[47]]},filter:{cssExtra:/^ *(?:\s*alpha\(\s*opacity\s*=\s*(?:0|\d+(?:\.\d+)?%|[+\-]?\d+(?:\.\d+)?) *\))+ *$/i,cssPropBits:32},float:{cssAlternates:["cssFloat","styleFloat"],cssPropBits:32,cssLitGroup:[r[30],r[47],r[54]]},font:{cssExtra:t[0],cssPropBits:9,cssLitGroup:[r[4],r[7],r[11],r[15],r[29],r[35],r[36],r[47],r[52],r[55],r[60]]},"font-family":{cssExtra:t[0],cssPropBits:8,cssLitGroup:[r[15],r[35],r[47]]},"font-size":{cssPropBits:1,cssLitGroup:[r[7],r[47],r[52]]},"font-stretch":{cssPropBits:0,cssLitGroup:[r[5],r[55]]},"font-style":{cssPropBits:0,cssLitGroup:[r[29],r[47],r[55]]},"font-variant":{cssPropBits:0,cssLitGroup:[r[47],r[55],r[60]]},"font-weight":{cssPropBits:0,cssLitGroup:[r[4],r[47],r[55]]},height:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},left:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},"letter-spacing":{cssPropBits:5,cssLitGroup:[r[47],r[55]]},"line-height":{cssPropBits:1,cssLitGroup:[r[47],r[55]]},"list-style":{cssPropBits:16,cssLitGroup:[r[3],r[28],r[47],r[54]]},"list-style-image":{cssPropBits:16,cssLitGroup:[r[47],r[54]]},"list-style-position":{cssPropBits:0,cssLitGroup:[r[28],r[47]]},"list-style-type":{cssPropBits:0,cssLitGroup:[r[3],r[47],r[54]]},margin:{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-bottom":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-left":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-right":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-top":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"max-height":{cssPropBits:1,cssLitGroup:[r[38],r[47],r[54]]},"max-width":{cssPropBits:1,cssLitGroup:[r[38],r[47],r[54]]},"min-height":{cssPropBits:1,cssLitGroup:[r[38],r[47]]},"min-width":{cssPropBits:1,cssLitGroup:[r[38],r[47]]},opacity:{cssPropBits:33,cssLitGroup:[r[47]]},outline:{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[49],r[52],r[54]]},"outline-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[49]]},"outline-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"outline-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},overflow:{cssPropBits:32,cssLitGroup:[r[38],r[46],r[47],r[58],r[63]]},"overflow-x":{cssPropBits:0,cssLitGroup:[r[32],r[38],r[46],r[58],r[63]]},"overflow-y":{cssPropBits:0,cssLitGroup:[r[32],r[38],r[46],r[58],r[63]]},padding:{cssPropBits:1,cssLitGroup:[r[47]]},"padding-bottom":{cssPropBits:33,cssLitGroup:[r[47]]},"padding-left":{cssPropBits:33,cssLitGroup:[r[47]]},"padding-right":{cssPropBits:33,cssLitGroup:[r[47]]},"padding-top":{cssPropBits:33,cssLitGroup:[r[47]]},"page-break-after":{cssPropBits:0,cssLitGroup:[r[30],r[37],r[38],r[39],r[47]]},"page-break-before":{cssPropBits:0,cssLitGroup:[r[30],r[37],r[38],r[39],r[47]]},"page-break-inside":{cssPropBits:0,cssLitGroup:[r[38],r[39],r[47]]},pause:{cssPropBits:5,cssLitGroup:[r[47]]},"pause-after":{cssPropBits:5,cssLitGroup:[r[47]]},"pause-before":{cssPropBits:5,cssLitGroup:[r[47]]},pitch:{cssPropBits:5,cssLitGroup:[r[19],r[47],r[52]]},"pitch-range":{cssPropBits:5,cssLitGroup:[r[47]]},"play-during":{cssExtra:t[0],cssPropBits:16,cssLitGroup:[r[38],r[47],r[53],r[54],r[57]]},position:{cssPropBits:32,cssLitGroup:[r[20],r[47]]},quotes:{cssExtra:t[0],cssPropBits:8,cssLitGroup:[r[47],r[54]]},richness:{cssPropBits:5,cssLitGroup:[r[47]]},right:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},speak:{cssPropBits:0,cssLitGroup:[r[47],r[54],r[55],r[61]]},"speak-header":{cssPropBits:0,cssLitGroup:[r[37],r[47],r[56]]},"speak-numeral":{cssPropBits:0,cssLitGroup:[r[26],r[47]]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[r[43],r[47],r[54]]},"speech-rate":{cssPropBits:5,cssLitGroup:[r[12],r[47],r[52]]},stress:{cssPropBits:5,cssLitGroup:[r[47]]},"table-layout":{cssPropBits:0,cssLitGroup:[r[38],r[45],r[47]]},"text-align":{cssPropBits:0,cssLitGroup:[r[30],r[42],r[47],r[50]]},"text-decoration":{cssPropBits:0,cssLitGroup:[r[18],r[47],r[54]]},"text-indent":{cssPropBits:5,cssLitGroup:[r[47]]},"text-overflow":{cssPropBits:0,cssLitGroup:[r[25]]},"text-shadow":{cssExtra:t[2],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},"text-transform":{cssPropBits:0,cssLitGroup:[r[21],r[47],r[54]]},"text-wrap":{cssPropBits:0,cssLitGroup:[r[33],r[54],r[55]]},top:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},"unicode-bidi":{cssPropBits:0,cssLitGroup:[r[23],r[47],r[55]]},"vertical-align":{cssPropBits:5,cssLitGroup:[r[10],r[24],r[47]]},visibility:{cssPropBits:32,cssLitGroup:[r[44],r[46],r[47],r[63]]},"voice-family":{cssExtra:t[0],cssPropBits:8,cssLitGroup:[r[22],r[35],r[47]]},volume:{cssPropBits:1,cssLitGroup:[r[16],r[47],r[52]]},"white-space":{cssPropBits:0,cssLitGroup:[r[8],r[47],r[55]]},width:{cssPropBits:33,cssLitGroup:[r[38],r[47]]},"word-spacing":{cssPropBits:5,cssLitGroup:[r[47],r[55]]},"word-wrap":{cssPropBits:0,cssLitGroup:[r[41],r[55]]},"z-index":{cssPropBits:69,cssLitGroup:[r[38],r[47]]},zoom:{cssPropBits:1,cssLitGroup:[r[55]]}}}(),cb,Uy,Jx,Tr,r9,x_,n9,CE,zy,qy,Yx;typeof window<"u"&&(window.cssSchema=Kx),function(){var e,t,r,n,i,a,s,o,u,l,c,f,d,p,m,h,v,y,w,g,b,_,x,E,C,$,D,N,k,P;function U(T){var j=parseInt(T.substring(1),16);return j>65535?(j-=65536,String.fromCharCode(55296+(j>>10),56320+(j&1023))):j==j?String.fromCharCode(j):T[1]<" "?"":T[1]}function L(T,j){return'"'+T.replace(/[\u0000-\u001f\\\"\x3c\x3e]/g,j)+'"'}function B(T){return k[T]||(k[T]="\\"+T.charCodeAt(0).toString(16)+" ")}function O(T){return P[T]||(P[T]=(T<""?"%0":"%")+T.charCodeAt(0).toString(16))}k={"\\":"\\\\"},P={"\\":"%5c"},D="[\\t\\n\\f ]",$=D+"*",f="[\\n\\f]",b="[\\ud800-\\udbff][\\udc00-\\udfff]",m="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+b,x="[0-9a-fA-F]{1,6}"+D+"?",u="(?:"+x+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+b+")",o="\\\\"+u,C="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+m+"|"+o+")",g=`[^'"\\n\\f\\\\]|\\\\[\\s\\S]`,w=`"(?:'|`+g+`)*"|'(?:"|`+g+")*'",h="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)",p="(?:[a-zA-Z_]|"+m+"|"+o+")",d="(?:[a-zA-Z0-9_-]|"+m+"|"+o+")",c="-?"+p+d+"*",N="(?:@?-?"+p+"|#)"+d+"*",v=h+"(?:%|"+c+")?",E="url[(]"+$+"(?:"+w+"|"+C+"*)"+$+"[)]",_="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?",r="<!--",t="-->",y=D+"+",a="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)",l="(?!url[(])"+c+"[(]",i="[~|^$*]=",n=`[^"'\\\\/]|/(?![/*])`,e="\\uFEFF",s=new RegExp([e,_,E,l,N,w,v,r,t,y,a,i,n].join("|"),"gi"),Uy=function(T){return T.replace(new RegExp("\\\\(?:"+u+"|"+f+")","g"),U)},x_=function(T){var j,R,le,re,F,H,ve,ae;for(T=""+T,ae=T.replace(/\r\n?/g,`
`).match(s)||[],le=0,re=" ",R=0,H=ae.length;R<H;++R)ve=Uy(ae[R]),F=ve.length,j=ve.charCodeAt(0),ve=j=='"'.charCodeAt(0)||j=="'".charCodeAt(0)?L(ve.substring(1,F-1),B):j=="/".charCodeAt(0)&&F>1||ve=="\\"||ve==t||ve==r||ve=="\uFEFF"||j<=" ".charCodeAt(0)?" ":/url\(/i.test(ve)?"url("+L(ve.replace(new RegExp("^url\\("+$+`["']?|["']?`+$+"\\)$","gi"),""),O)+")":ve,(re!=ve||ve!=" ")&&(ae[le++]=re=ve);return ae.length=le,ae}}(),typeof window<"u"&&(window.lexCss=x_,window.decodeCss=Uy),cb=function(){var e,t,r,n,i,a;function s(v){var y=(""+v).match(a);return y?new m(h(y[1]),h(y[2]),h(y[3]),h(y[4]),h(y[5]),h(y[6]),h(y[7])):null}function o(v,y,w,g,b,_,x){var E=new m(l(v,i),l(y,i),u(w),g>0?g.toString():null,l(b,n),null,u(x));return _&&(typeof _=="string"?E.setRawQuery(_.replace(/[^?\x26=0-9A-Za-z_\-~.%]/g,c)):E.setAllParameters(_)),E}function u(v){return typeof v=="string"?encodeURIComponent(v):null}function l(v,y){return typeof v=="string"?encodeURI(v).replace(y,c):null}function c(v){var y=v.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(y>>4&15)+"0123456789ABCDEF".charAt(y&15)}function f(v){return v.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}t=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),r=new RegExp(t),e=/^(?:\.\.\/)*(?:\.\.$)?/;function d(v){var y,w,g;if(v===null)return null;for(y=f(v),g=r;(w=y.replace(g,"$1"))!=y;y=w);return y}function p(v,y){var w=v.clone(),g=y.hasScheme(),b,_,x,E;return g?w.setRawScheme(y.getRawScheme()):g=y.hasCredentials(),g?w.setRawCredentials(y.getRawCredentials()):g=y.hasDomain(),g?w.setRawDomain(y.getRawDomain()):g=y.hasPort(),_=y.getRawPath(),x=d(_),g?(w.setPort(y.getPort()),x=x&&x.replace(e,"")):(g=!!_,g?x.charCodeAt(0)!==47&&(b=d(w.getRawPath()||"").replace(e,""),E=b.lastIndexOf("/")+1,x=d((E?b.substring(0,E):"")+d(_)).replace(e,"")):(x=x&&x.replace(e,""),x!==_&&w.setRawPath(x))),g?w.setRawPath(x):g=y.hasQuery(),g?w.setRawQuery(y.getRawQuery()):g=y.hasFragment(),g&&w.setRawFragment(y.getRawFragment()),w}function m(v,y,w,g,b,_,x){this.scheme_=v,this.credentials_=y,this.domain_=w,this.port_=g,this.path_=b,this.query_=_,this.fragment_=x,this.paramCache_=null}m.prototype.toString=function(){var v=[];return this.scheme_!==null&&v.push(this.scheme_,":"),this.domain_!==null&&(v.push("//"),this.credentials_!==null&&v.push(this.credentials_,"@"),v.push(this.domain_),this.port_!==null&&v.push(":",this.port_.toString())),this.path_!==null&&v.push(this.path_),this.query_!==null&&v.push("?",this.query_),this.fragment_!==null&&v.push("#",this.fragment_),v.join("")},m.prototype.clone=function(){return new m(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},m.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},m.prototype.getRawScheme=function(){return this.scheme_},m.prototype.setScheme=function(v){return this.scheme_=l(v,i),this},m.prototype.setRawScheme=function(v){return this.scheme_=v||null,this},m.prototype.hasScheme=function(){return this.scheme_!==null},m.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},m.prototype.getRawCredentials=function(){return this.credentials_},m.prototype.setCredentials=function(v){return this.credentials_=l(v,i),this},m.prototype.setRawCredentials=function(v){return this.credentials_=v||null,this},m.prototype.hasCredentials=function(){return this.credentials_!==null},m.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},m.prototype.getRawDomain=function(){return this.domain_},m.prototype.setDomain=function(v){return this.setRawDomain(v&&encodeURIComponent(v))},m.prototype.setRawDomain=function(v){return this.domain_=v||null,this.setRawPath(this.path_)},m.prototype.hasDomain=function(){return this.domain_!==null},m.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},m.prototype.setPort=function(v){if(v){if(v=Number(v),v!==(v&65535))throw new Error("Bad port number "+v);this.port_=""+v}else this.port_=null;return this},m.prototype.hasPort=function(){return this.port_!==null},m.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},m.prototype.getRawPath=function(){return this.path_},m.prototype.setPath=function(v){return this.setRawPath(l(v,n))},m.prototype.setRawPath=function(v){return v?(v=String(v),this.path_=!this.domain_||/^\//.test(v)?v:"/"+v):this.path_=null,this},m.prototype.hasPath=function(){return this.path_!==null},m.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},m.prototype.getRawQuery=function(){return this.query_},m.prototype.setQuery=function(v){return this.paramCache_=null,this.query_=u(v),this},m.prototype.setRawQuery=function(v){return this.paramCache_=null,this.query_=v||null,this},m.prototype.hasQuery=function(){return this.query_!==null},m.prototype.setAllParameters=function(v){var y,w,g,b,_,x,E;if(typeof v=="object"&&!(v instanceof Array)&&(v instanceof Object||Object.prototype.toString.call(v)!=="[object Array]")){b=[],y=-1;for(g in v)E=v[g],typeof E=="string"&&(b[++y]=g,b[++y]=E);v=b}for(this.paramCache_=null,_=[],x="",w=0;w<v.length;)g=v[w++],E=v[w++],_.push(x,encodeURIComponent(g.toString())),x="&",E&&_.push("=",encodeURIComponent(E.toString()));return this.query_=_.join(""),this},m.prototype.checkParameterCache_=function(){var v,y,w,g,b,_;if(!this.paramCache_)if(_=this.query_,!_)this.paramCache_=[];else{for(v=_.split(/[\x26\?]/),b=[],w=-1,y=0;y<v.length;++y)g=v[y].match(/^([^=]*)(?:=(.*))?$/),b[++w]=decodeURIComponent(g[1]).replace(/\+/g," "),b[++w]=decodeURIComponent(g[2]||"").replace(/\+/g," ");this.paramCache_=b}},m.prototype.setParameterValues=function(v,y){var w,g,b,_;for(typeof y=="string"&&(y=[y]),this.checkParameterCache_(),g=0,_=this.paramCache_,b=[],w=0,0;w<_.length;w+=2)v===_[w]?g<y.length&&b.push(v,y[g++]):b.push(_[w],_[w+1]);for(;g<y.length;)b.push(v,y[g++]);return this.setAllParameters(b),this},m.prototype.removeParameter=function(v){return this.setParameterValues(v,[])},m.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},m.prototype.getParameterValues=function(v){var y,w;for(this.checkParameterCache_(),w=[],y=0;y<this.paramCache_.length;y+=2)v===this.paramCache_[y]&&w.push(this.paramCache_[y+1]);return w},m.prototype.getParameterMap=function(v){var y,w,g,b;for(this.checkParameterCache_(),g={},y=0;y<this.paramCache_.length;y+=2)w=this.paramCache_[y++],b=this.paramCache_[y++],w in g?g[w].push(b):g[w]=[b];return g},m.prototype.getParameterValue=function(v){var y;for(this.checkParameterCache_(),y=0;y<this.paramCache_.length;y+=2)if(v===this.paramCache_[y])return this.paramCache_[y+1];return null},m.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},m.prototype.getRawFragment=function(){return this.fragment_},m.prototype.setFragment=function(v){return this.fragment_=v?encodeURIComponent(v):null,this},m.prototype.setRawFragment=function(v){return this.fragment_=v||null,this},m.prototype.hasFragment=function(){return this.fragment_!==null};function h(v){return typeof v=="string"&&v.length>0?v:null}return a=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),i=/[#\/\?@]/g,n=/[\#\?]/g,m.parse=s,m.create=o,m.resolve=p,m.collapse_dots=d,m.utils={mimeTypeOf:function(v){var y=s(v);return/\.html$/.test(y.getPath())?"text/html":"application/javascript"},resolve:function(v,y){return v?p(s(v),s(y)).toString():""+y}},m}(),typeof window<"u"&&(window.URI=cb),zy=void 0,qy=void 0,Yx=void 0,function(){var e='url("about:blank")',t=/[\n\f\r\"\'()*\x3c\x3e]/g,r={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},n,i;function a(l){return typeof l=="string"?'url("'+l.replace(t,s)+'")':e}function s(l){return r[l]}i=new RegExp("^(?:([^:/?# ]+):)?"),n=/^(?:https?|mailto)$/i;function o(l,c){return l?cb.utils.resolve(l,c):c}function u(l,c,f){var d;return f?(d=(""+l).match(i),d&&(!d[1]||n.test(d[1]))?f(l,c):null):null}zy=function(){var l;function c(d){var p={},m,h,v;for(h=d.length;--h>=0;)for(m=d[h],v=m.length;--v>=0;)p[m[v]]=l;return p}function f(d,p){for(var m=1,h=p+1,v=d.length,y;h<v&&m;)y=d[h++],m+=y==="("?1:y===")"?-1:0;return h}return l={},function(d,p,m,h,v){for(var y=p.cssPropBits,w=y&(Gx|Zx),g=NaN,b=0,_=0,x,E,C,$,D,N,k,P,U;b<m.length;++b)U=m[b].toLowerCase(),x=U.charCodeAt(0),U=x===" ".charCodeAt(0)?"":x==='"'.charCodeAt(0)?w===Zx&&h?a(u(o(v,Uy(m[b].substring(1,U.length-1))),d,h)):w===Gx?U:"":x==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(U)?y&m9e?U:"":"0".charCodeAt(0)<=x&&x<="9".charCodeAt(0)?y&Ry?y&Wx?U.match(/^\d{1,7}$/)?U:"":U:"":(E=U.charCodeAt(1),C=U.charCodeAt(2),D="0".charCodeAt(0)<=E&&E<="9".charCodeAt(0),N="0".charCodeAt(0)<=C&&C<="9".charCodeAt(0),x==="+".charCodeAt(0)&&(D||E===".".charCodeAt(0)&&N)?y&Ry?y&Wx?U.match(/^\+\d{1,7}$/)?U:"":(D?"":"0")+U.substring(1):"":x==="-".charCodeAt(0)&&(D||E===".".charCodeAt(0)&&N)?y&h9e?y&Wx?U.match(/^\-\d{1,7}$/)?U:"":(D?"-":"-0")+U.substring(1):y&Ry?"0":"":x===".".charCodeAt(0)&&D?y&Ry?"0"+U:"":U.substring(0,4)==="url("?h&&w&Zx?a(u(o(v,m[b].substring(5,U.length-2)),d,h)):"":(U.charAt(U.length-1)==="("&&($=f(m,b),m.splice(b,$-b,U=m.slice(b,$).join(" "))),k=p.cssLitGroup,P=k?p.cssLitMap||(p.cssLitMap=c(k)):l,P[U]===l||p.cssExtra&&p.cssExtra.test(U)?U:/^\w+$/.test(U)&&w===Gx?g+1===_?(m[g]=m[g].substring(0,m[g].length-1)+" "+U+'"',U=""):(g=_,'"'+U+'"'):"")),U&&(m[_++]=U);_===1&&m[0]===e&&(_=0),m.length=_}}(),qy=function(l,c,f){var d=[],p=[],m=/^(active|after|before|first-child|first-letter|focus|hover)$/,h=/^(link|visited)$/,v=0,y=0,w,g,b,_;for(w=0;w<l.length;++w)_=l[w],(_=="("||_=="["?(++y,!0):_==")"||_=="]"?(y&&--y,!0):!(l[w]==" "&&(y||l[w-1]==">"||l[w+1]==">")))&&(l[v++]=l[w]);for(l.length=v,g=l.length,b=0,w=0;w<g;++w)l[w]===","&&(x(b,w),b=w+1);x(b,g);function x(E,C){var $=!1,D,N,k,P,U,L,B;for(l[E]===" "&&++E,C-1!==E&&l[C]===" "&&--C,U=[],P=E,D="",N=E;N<C;++N)if(B=l[N],k=B===">",k||B===" "){if(D=O(P,N),!D||k&&/^html/i.test(D))return;P=N+1,U.push(D,k?" > ":" ")}if(D=O(P,C),!D)return;U.push(D);function O(T,j,R){var le="",re,F,H,ve,ae,W,Q,J,se;for(T<j&&(J=l[T],J==="*"?(++T,le=J):/^[a-zA-Z]/.test(J)&&(ae=f(J.toLowerCase(),[]),ae&&("tagName"in ae&&(J=ae.tagName),++T,le=J))),ve="";T<j;){if(J=l[T],J.charAt(0)==="#"){if(/^#_|__$|[^#0-9A-Za-z:_\-]/.test(J))return null;ve+=J+"-"+c}else if(J===".")if(++T<j&&/^[0-9A-Za-z:_\-]+$/.test(J=l[T])&&!/^_|__$/.test(J))ve+="."+J;else return null;else break;++T}for(F="";T<j&&l[T]==="[";){if(++T,re=l[T++],H=Tr.ATTRIBS[le+"::"+re],H!==+H&&(H=Tr.ATTRIBS["*::"+re]),H!==+H||(W="",se="",/^[~^$*|]?=$/.test(l[T])&&(W=l[T++],se=l[T++]),l[T++]!=="]"))return null;switch(H){case Tr.atype.NONE:case Tr.atype.URI:case Tr.atype.URI_FRAGMENT:case Tr.atype.ID:case Tr.atype.IDREF:case Tr.atype.IDREFS:case Tr.atype.GLOBAL_NAME:case Tr.atype.LOCAL_NAME:case Tr.atype.CLASSES:if(W&&H!==Tr.atype.NONE)return null;F+="["+re+W+se+"]"}}if(Q="",T<j&&l[T]===":")if(J=l[++T],h.test(J)){if(!/^[a*]?$/.test(le))return null;$=!0,Q=":"+J,++T,le="a"}else m.test(J)&&($=!1,Q=":"+J,++T);return T===j?(le+ve).replace(/[^ .*#\w-]/g,"\\$&")+F+Q:null}L=U.join(""),L="."+c+" "+L,($?d:p).push(L)}return[p,d]},function(){var l={},c={braille:l,embossed:l,handheld:l,print:l,projection:l,screen:l,speech:l,tty:l,tv:l};function f(m){var h=!1,v,y,w;for(v=0,y=m.length;v<y-1;++v)w=m[v],m[v+1]===":"&&(h=!(Kx[w].cssPropBits&v9e)),h&&(m[v]=""),w===";"&&(h=!1);return m.join("")}function d(m){var h=/^\s*["]([^"]*)["]\s*$/,v=/^\s*[']([^']*)[']\s*$/,y=/^\s*url\s*[(]["]([^"]*)["][)]\s*$/,w=/^\s*url\s*[(][']([^']*)['][)]\s*$/,g=/^\s*url\s*[(]([^)]*)[)]\s*$/,b;return(b=h.exec(m))||(b=v.exec(m))||(b=y.exec(m))||(b=w.exec(m))||(b=g.exec(m))?b[1]:null}function p(m,h,v,y,w,g,b){var _=void 0,x=!1,E=[],C=!1;CE(h,{startStylesheet:function(){_=[]},endStylesheet:function(){},startAtrule:function(D,N){var k;C?D=null:D==="@media"?(N=N.filter(function(P){return c[P]==l}),N.length?_.push(D," ",N.join(",")):D=null):D==="@import"&&N.length>0&&(typeof b=="function"?(x=!0,k=u(o(m,d(N[0])),function(P){var U=p(k,P.html,v,y,w,g,b);b(U.result,U.moreToCome)},w)):window.console&&window.console.log("@import "+N.join(" ")+" elided"),D=null),C=!D,E.push(D)},endAtrule:function(){E.pop(),C||_.push(";"),$()},startBlock:function(){C||_.push("{")},endBlock:function(){C||(_.push("}"),C=!0)},startRuleset:function(D){var N=void 0,k=!1,P,U,L;C||(L=qy(D,v,g),P=L[0],N=L[1],!P.length&&!N.length?C=!0:(U=P.join(", "),U||(U="head > html",k=!0),_.push(U,"{"))),E.push(C?null:{historySensitiveSelectors:N,endOfSelectors:_.length-1,removeHistoryInsensitiveSelectors:k})},endRuleset:function(){var D=E.pop(),N=_.length,k,P;C||(_.push("}"),D&&(k=D.historySensitiveSelectors,k.length&&(P=_.slice(D.endOfSelectors),_.push(k.join(", "),f(P))))),D&&D.removeHistoryInsensitiveSelectors&&_.splice(D.endOfSelectors-1,N+1),$()},declaration:function(D,N){var k;C||(k=Kx[D],k&&(zy(D,k,N,y,m),N.length&&_.push(D,":",N.join(" "),";")))}});function $(){C=E.length!==0&&E[E.length-1]!==null&&E[E.length-1][0]!=="@"}return{result:_.join(""),moreToCome:x}}Yx=function(m,h,v,y,w){return p(m,h,v,y,void 0,w,void 0).result}}()}(),typeof window<"u"&&(window.sanitizeCssProperty=zy,window.sanitizeCssSelectors=qy,window.sanitizeStylesheet=Yx);if("I".toLowerCase()!=="i")throw"I/i problem";(function(){var e;CE=function(o,u){var l=x_(o),c,f;for(u.startStylesheet&&u.startStylesheet(),c=0,f=l.length;c<f;)c=l[c]===" "?c+1:t(l,c,f,u);u.endStylesheet&&u.endStylesheet()};function t(o,u,l,c){var f;return u<l?(f=o[u],f.charAt(0)==="@"?r(o,u,l,c,!0):i(o,u,l,c)):u}function r(o,u,l,c,f){for(var d=u++,p,m;u<l&&o[u]!=="{"&&o[u]!==";";)++u;return u<l&&(f||o[u]===";")&&(m=d+1,p=u,m<l&&o[m]===" "&&++m,p>m&&o[p-1]===" "&&--p,c.startAtrule&&c.startAtrule(o[d].toLowerCase(),o.slice(m,p)),u=o[u]==="{"?n(o,u,l,c):u+1,c.endAtrule&&c.endAtrule()),u}function n(o,u,l,c){var f;for(++u,c.startBlock&&c.startBlock();u<l;){if(f=o[u].charAt(0),f=="}"){++u;break}f===" "||f===";"?u=u+1:f==="@"?u=r(o,u,l,c,!1):f==="{"?u=n(o,u,l,c):u=i(o,u,l,c)}return c.endBlock&&c.endBlock(),u}function i(o,u,l,c){var f=u,d=a(o,u,l,!0),p;if(d<0)return d=~d,u===d?d+1:d;if(u=d,d>f&&o[d-1]===" "&&--d,p=o[u],++u,p!=="{")return u;for(c.startRuleset&&c.startRuleset(o.slice(f,d));u<l;){if(p=o[u],p==="}"){++u;break}p===" "?u=u+1:u=s(o,u,l,c)}return c.endRuleset&&c.endRuleset(),u<l?u+1:u}function a(o,u,l,c){for(var f=[],d=-1,p;u<l;++u)if(p=o[u].charAt(0),p==="["||p==="(")f[++d]=p;else if(p==="]"&&f[d]==="["||p===")"&&f[d]==="(")--d;else if(p==="{"||p==="}"||p===";"||p==="@"||p===":"&&!c)break;return d>=0&&(u=~(u+1)),u}e=/^-?[a-z]/i;function s(o,u,l,c){var f=o[u++],d,p,m,h,v,y;if(!e.test(f))return u+1;if(u<l&&o[u]===" "&&++u,u==l||o[u]!==":"){for(;u<l&&(h=o[u])!==";"&&h!=="}";)++u;return u}if(++u,u<l&&o[u]===" "&&++u,m=u,d=a(o,u,l,!1),d<0)d=~d;else{for(v=[],y=0,p=m;p<d;++p)h=o[p],h!==" "&&(v[y++]=h);if(d<l){do{if(h=o[d],h===";"||h==="}")break;y=0}while(++d<l);h===";"&&++d}y&&c.declaration&&c.declaration(f.toLowerCase(),v)}return d}n9=function(o,u){var l=x_(o),c,f;for(c=0,f=l.length;c<f;)c=l[c]!==" "?s(l,c,f,u):c+1}})(),typeof window<"u"&&(window.parseCssStylesheet=CE,window.parseCssDeclarations=n9),Tr={},Tr.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},Tr.atype=Tr.atype,Tr.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":9,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::accept":0,"span::name":7,"span::required":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"*::data-i18n":0,"*::data-i18n-list":0,"*::data-i18n-list-item":0,"*::data-i18n-list-item-num":0,"*::data-i18n-error":0,"*::data-i18n-dynamic":0,"*::data-i18n-vars":0,"*::data-i18n-placeholder":0,"*::data-i18n-title":0,"*::data-i18n-alt":0,"*::data-i18n-aria-label":0,"*::data-i18n-label":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},Tr.ATTRIBS=Tr.ATTRIBS,Tr.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},Tr.eflags=Tr.eflags,Tr.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,var:0,video:0,wbr:2,web:0,mobile:0},Tr.ELEMENTS=Tr.ELEMENTS,Tr.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement",web:"HTMLElement",mobile:"HTMLElement"},Tr.ELEMENT_DOM_INTERFACES=Tr.ELEMENT_DOM_INTERFACES,Tr.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},Tr.ueffects=Tr.ueffects,Tr.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},Tr.URIEFFECTS=Tr.URIEFFECTS,Tr.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},Tr.ltypes=Tr.ltypes,Tr.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},Tr.LOADERTYPES=Tr.LOADERTYPES,typeof window<"u"&&(window.html4=Tr);if("I".toLowerCase()!=="i")throw"I/i problem";Jx=function(e){var t,r,n,i,a,s,o,u,l,c,f,d,p,m,h,v,y,w,g,b,_,x,E;typeof window<"u"&&(g=window.parseCssDeclarations,x=window.sanitizeCssProperty,l=window.cssSchema),i={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:""},c=/^#(\d+)$/,m=/^#x([0-9A-Fa-f]+)$/,_=/^[A-Za-z][A-za-z0-9]+$/,d=typeof window<"u"&&window.document?window.document.createElement("textarea"):null;function C(q){var me,X;return i.hasOwnProperty(q)?i[q]:(me=q.match(c),me?String.fromCharCode(parseInt(me[1],10)):(me=q.match(m))?String.fromCharCode(parseInt(me[1],16)):d&&_.test(q)?(d.innerHTML="&"+q+";",X=d.textContent,i[q]=X,X):"&"+q+";")}function $(q,me){return C(me)}w=/\0/g;function D(q){return q.replace(w,"")}a=/\x26(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,s=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;function N(q){return q.replace(a,$)}o=/\x26/g,v=/\x26([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,y=/[\x3c]/g,p=/\x3e/g,b=/\"/g;function k(q){return(""+q).replace(o,"&amp;").replace(y,"&lt;").replace(p,"&gt;").replace(b,"&#34;")}function P(q){return q.replace(v,"&amp;$1").replace(y,"&lt;").replace(p,"&gt;")}r=new RegExp(`^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((")[^"]*("|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^"'\\s]*))?`,"i"),E="a,b".split(/(,)/).length===3,n=e.eflags.CDATA|e.eflags.RCDATA;function U(q){var me={cdata:q.cdata||q.cdata,comment:q.comment||q.comment,endDoc:q.endDoc||q.endDoc,endTag:q.endTag||q.endTag,pcdata:q.pcdata||q.pcdata,rcdata:q.rcdata||q.rcdata,startDoc:q.startDoc||q.startDoc,startTag:q.startTag||q.startTag};return function(X,K){return L(X,me,K)}}u={};function L(q,me,X){var K=T(q),de={noMoreGT:!1,noMoreEndComments:!1};O(me,K,0,de,X)}function B(q,me,X,K,de){return function(){O(q,me,X,K,de)}}function O(q,me,X,K,de){var Ee,te,ce,pe,Y,be,ye,ge,xe,ke;try{for(q.startDoc&&X==0&&q.startDoc(de),ge=X,pe=me.length;ge<pe;)switch(te=me[ge++],be=me[ge],te){case"&":s.test(be)?(q.pcdata&&q.pcdata("&"+be,de,u,B(q,me,ge,K,de)),++ge):q.pcdata&&q.pcdata("&amp;",de,u,B(q,me,ge,K,de));break;case"</":(Y=/^([-\w:]+)[^\'\"]*/.exec(be))?Y[0].length===be.length&&me[ge+1]===">"?(ge+=2,ke=Y[1].toLowerCase(),q.endTag&&q.endTag(ke,de,u,B(q,me,ge,K,de))):ge=j(me,ge,q,de,u,K):q.pcdata&&q.pcdata("&lt;/",de,u,B(q,me,ge,K,de));break;case"<":(Y=/^([-\w:]+)\s*\/?/.exec(be))?Y[0].length===be.length&&me[ge+1]===">"?(ge+=2,ke=Y[1].toLowerCase(),q.startTag&&q.startTag(ke,[],de,u,B(q,me,ge,K,de)),ce=e.ELEMENTS[ke],ce&n&&(xe={name:ke,next:ge,eflags:ce},ge=le(me,xe,q,de,u,K))):ge=R(me,ge,q,de,u,K):q.pcdata&&q.pcdata("&lt;",de,u,B(q,me,ge,K,de));break;case"<!--":if(!K.noMoreEndComments){for(ye=ge+1;ye<pe&&!(me[ye]===">"&&/--$/.test(me[ye-1]));++ye);ye<pe?(q.comment&&(Ee=me.slice(ge,ye).join(""),q.comment(Ee.substr(0,Ee.length-2),de,u,B(q,me,ye+1,K,de))),ge=ye+1):K.noMoreEndComments=!0}K.noMoreEndComments&&q.pcdata&&q.pcdata("&lt;!--",de,u,B(q,me,ge,K,de));break;case"<!":if(!/^\w/.test(be))q.pcdata&&q.pcdata("&lt;!",de,u,B(q,me,ge,K,de));else{if(!K.noMoreGT){for(ye=ge+1;ye<pe&&me[ye]!==">";++ye);ye<pe?ge=ye+1:K.noMoreGT=!0}K.noMoreGT&&q.pcdata&&q.pcdata("&lt;!",de,u,B(q,me,ge,K,de))}break;case"<?":if(!K.noMoreGT){for(ye=ge+1;ye<pe&&me[ye]!==">";++ye);ye<pe?ge=ye+1:K.noMoreGT=!0}K.noMoreGT&&q.pcdata&&q.pcdata("&lt;?",de,u,B(q,me,ge,K,de));break;case">":q.pcdata&&q.pcdata("&gt;",de,u,B(q,me,ge,K,de));break;case"":break;default:q.pcdata&&q.pcdata(te,de,u,B(q,me,ge,K,de))}q.endDoc&&q.endDoc(de)}catch(Ke){if(Ke!==u)throw Ke}}function T(q){var me=/(\x3c\/|\x3c\!--|\x3c[!?]|[\x26\x3c\x3e])/g,X,K,de;if(q+="",E)return q.split(me);for(de=[],X=0;(K=me.exec(q))!==null;)de.push(q.substring(X,K.index)),de.push(K[0]),X=K.index+K[0].length;return de.push(q.substring(X)),de}function j(q,me,X,K,de,Ee){var te=re(q,me);return te?(X.endTag&&X.endTag(te.name,K,de,B(X,q,me,Ee,K)),te.next):q.length}function R(q,me,X,K,de,Ee){var te=re(q,me);return te?(X.startTag&&X.startTag(te.name,te.attrs,K,de,B(X,q,te.next,Ee,K)),te.eflags&n?le(q,te,X,K,de,Ee):te.next):q.length}f={};function le(q,me,X,K,de,Ee){var te=q.length,ce,pe,Y,be;for(f.hasOwnProperty(me.name)||(f[me.name]=new RegExp("^"+me.name+"(?:[\\s\\/]|$)","i")),be=f[me.name],pe=me.next,Y=me.next+1;Y<te&&!(q[Y-1]==="</"&&be.test(q[Y]));++Y);if(Y<te&&(Y-=1),ce=q.slice(pe,Y).join(""),me.eflags&e.eflags.CDATA)X.cdata&&X.cdata(ce,K,de,B(X,q,Y,Ee,K));else if(me.eflags&e.eflags.RCDATA)X.rcdata&&X.rcdata(P(ce),K,de,B(X,q,Y,Ee,K));else throw new Error("bug");return Y}function re(q,me){var X=/^([-\w:]+)/.exec(q[me]),K={},de,Ee,te,ce,pe,Y,be,ye,ge;for(K.name=X[1].toLowerCase(),K.eflags=e.ELEMENTS[K.name],pe=q[me].substr(X[0].length),be=me+1,Y=q.length;be<Y&&q[be]!==">";++be)pe+=q[be];if(!(Y<=be)){for(ce=[];pe!=="";)if(X=r.exec(pe),!X)pe=pe.replace(/^[\s\S][^a-z\s]*/,"");else if(X[4]&&!X[5]||X[6]&&!X[7]){for(ye=X[4]||X[6],ge=!1,te=[pe,q[be++]];be<Y;++be){if(ge){if(q[be]===">")break}else 0<=q[be].indexOf(ye)&&(ge=!0);te.push(q[be])}if(Y<=be)break;pe=te.join("");continue}else de=X[1].toLowerCase(),Ee=X[2]?F(X[3]):"",ce.push(de,Ee),pe=pe.substr(X[0].length);return K.attrs=ce,K.next=be+1,K}}function F(q){var me=q.charCodeAt(0);return(me===34||me===39)&&(q=q.substr(1,q.length-2)),N(D(q))}function H(q){var me=function(de,Ee){X||Ee.push(de)},X,K;return U({startDoc:function(de){K=[],X=!1},startTag:function(de,Ee,te){var ce,pe,Y,be,ye,ge,xe,ke,Ke;if(!X&&e.ELEMENTS.hasOwnProperty(de)&&(Y=e.ELEMENTS[de],!(Y&e.eflags.FOLDABLE))){if(pe=q(de,Ee),pe){if(typeof pe!="object")throw new Error("tagPolicy did not return object (old API?)")}else return X=!(Y&e.eflags.EMPTY),void 0;if("attribs"in pe)Ee=pe.attribs;else throw new Error("tagPolicy gave no attribs");for(("tagName"in pe)?(ke=pe.tagName,be=e.ELEMENTS[ke]):(ke=de,be=Y),Y&e.eflags.OPTIONAL_ENDTAG&&(xe=K[K.length-1],xe&&xe.orig===de&&(xe.rep!==ke||de!==ke)&&te.push("</",xe.rep,">")),Y&e.eflags.EMPTY||K.push({orig:de,rep:ke}),te.push("<",ke),ye=0,ge=Ee.length;ye<ge;ye+=2)ce=Ee[ye],Ke=Ee[ye+1],Ke!=null&&te.push(" ",ce,'="',k(Ke),'"');te.push(">"),Y&e.eflags.EMPTY&&!(be&e.eflags.EMPTY)&&te.push("</",ke,">")}},endTag:function(de,Ee){var te,ce,pe,Y,be;if(X)return X=!1,void 0;if(e.ELEMENTS.hasOwnProperty(de)&&(te=e.ELEMENTS[de],!(te&(e.eflags.EMPTY|e.eflags.FOLDABLE)))){if(te&e.eflags.OPTIONAL_ENDTAG){for(pe=K.length;--pe>=0&&(Y=K[pe].orig,Y!==de);)if(!(e.ELEMENTS[Y]&e.eflags.OPTIONAL_ENDTAG))return}else for(pe=K.length;--pe>=0&&K[pe].orig!==de;);if(pe<0)return;for(ce=K.length;--ce>pe;)be=K[ce].rep,e.ELEMENTS[be]&e.eflags.OPTIONAL_ENDTAG||Ee.push("</",be,">");pe<K.length&&(de=K[pe].rep),K.length=pe,Ee.push("</",de,">")}},pcdata:me,rcdata:me,cdata:me,endDoc:function(de){for(;K.length;--K.length)de.push("</",K[K.length-1].rep,">")}})}t=/^(?:https?|mailto)$/i;function ve(q,me,X,K,de){var Ee,te;if(!de)return null;try{if(Ee=cb.parse(""+q),Ee&&(!Ee.hasScheme()||t.test(Ee.getScheme())))return te=de(Ee,me,X,K),te?te.toString():null}catch{return null}return null}function ae(q,me,X,K,de){var Ee;X||q(me+" removed",{change:"removed",tagName:me}),K!==de&&(Ee="changed",K&&!de?Ee="removed":!K&&de&&(Ee="added"),q(me+"."+X+" "+Ee,{change:Ee,tagName:me,attribName:X,oldValue:K,newValue:de}))}function W(q,me,X){var K=me+"::"+X;return q.hasOwnProperty(K)?q[K]:(K="*::"+X,q.hasOwnProperty(K)?q[K]:void 0)}function Q(q,me){return W(e.LOADERTYPES,q,me)}function J(q,me){return W(e.URIEFFECTS,q,me)}function se(q,me,X,K,de){var Ee,te,ce,pe,Y,be,ye;for(pe=0;pe<me.length;pe+=2){if(te=me[pe],ye=me[pe+1],Y=ye,ce=null,Ee=q+"::"+te,(e.ATTRIBS.hasOwnProperty(Ee)||(Ee="*::"+te,e.ATTRIBS.hasOwnProperty(Ee)))&&(ce=e.ATTRIBS[Ee]),ce!==null)switch(ce){case e.atype.NONE:break;case e.atype.SCRIPT:ye=null,de&&ae(de,q,te,Y,ye);break;case e.atype.STYLE:if(typeof g>"u"){ye=null,de&&ae(de,q,te,Y,ye);break}be=[],g(ye,{declaration:function(ge,xe){var ke=ge.toLowerCase(),Ke=l[ke];Ke&&(x(ke,Ke,xe,X?function(Ue){return ve(Ue,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:ke},X)}:null),be.push(ge+": "+xe.join(" ")))}}),ye=be.length>0?be.join(" ; "):null,de&&ae(de,q,te,Y,ye);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:ye=K?K(ye):ye,de&&ae(de,q,te,Y,ye);break;case e.atype.URI:ye=ve(ye,J(q,te),Q(q,te),{TYPE:"MARKUP",XML_ATTR:te,XML_TAG:q},X),de&&ae(de,q,te,Y,ye);break;case e.atype.URI_FRAGMENT:ye&&ye.charAt(0)==="#"?(ye=ye.substring(1),ye=K?K(ye):ye,ye!=null&&(ye="#"+ye)):ye=null,de&&ae(de,q,te,Y,ye);break;default:ye=null,de&&ae(de,q,te,Y,ye)}else ye=null,de&&ae(de,q,te,Y,ye);me[pe+1]=ye}return me}function Ce(q,me,X){return function(K,de){if(!(e.ELEMENTS[K]&e.eflags.UNSAFE))return{attribs:se(K,de,q,me,X)};X&&ae(X,K,void 0,void 0,void 0)}}function Te(q,me){var X=[];return H(me)(q,X),X.join("")}function oe(q,me,X,K){var de=Ce(me,X,K);return Te(q,de)}return h={},h.escapeAttrib=h.escapeAttrib=k,h.makeHtmlSanitizer=h.makeHtmlSanitizer=H,h.makeSaxParser=h.makeSaxParser=U,h.makeTagPolicy=h.makeTagPolicy=Ce,h.normalizeRCData=h.normalizeRCData=P,h.sanitize=h.sanitize=oe,h.sanitizeAttribs=h.sanitizeAttribs=se,h.sanitizeWithPolicy=h.sanitizeWithPolicy=Te,h.unescapeEntities=h.unescapeEntities=N,h}(Tr),r9=Jx.sanitize,typeof window<"u"&&(window.html=Jx,window.html_sanitize=r9);const g9e=(e,t,r)=>{const{translation:n}=t,{elemSelector:i,optionsArray:a,overwrite:s,id:o}=e,u=document.getElementById("charsheet"),l=u.querySelector(i);if(!l||!["SELECT","DATALIST"].includes(l.nodeName)){console.error("Character Sheet populateListOptions Error: select/data-list element not found.");return}const c=[];let f;s&&(l.textContent="");for(const d of a){const{label:p,value:m,i18n:h,selected:v,disabled:y}=d,w=document.createElement("option");m&&(w.value=m||p),h&&(w.dataset.i18n=h),y&&(w.disabled=!0),!f&&v&&l.nodeName==="SELECT"&&(w.selected=!0,f=m);const g=h?n[h]:void 0;w.innerHTML=g!==h?`${g}`:p||m,c.push(w)}if(f){const d=l.getAttribute("name");let p=u.querySelectorAll(`input[name="${d}"]`);if(p)for(const m of p)m.focus(),m.value=f,m.blur()}if(f&&!s)for(const d of l.querySelectorAll("option"))d.selected=!1;l.append(...c),r.sendSheetworkerMessage({type:"requestFulFilled",id:o})},y9e=(e,t,r)=>{const{type:n}=e;switch(P9e(e,t)||aW(t,r),n){case"startMancer":b9e(e,t,r);break;case"setText":T9e(e,t);break;case"addSection":O9e(e,t,r);break;case"setMancerOptions":G9e(e,t,r);break;case"showChoices":case"hideChoices":F9e(e,t);break;case"getCompendiumPage":Y9e(e,t,r);break;case"getCompendiumQuery":iPe(e,t,r);break;case"disableMancerOptions":X9e(e,t);break;case"getRepeatingSections":lPe(e,t,r);break;case"clearSections":ePe(e,t,r);break;case"deleteData":nPe(e,t,r);break;case"changeMancerPage":tPe(e,t,r);break;case"changeCompendiumPage":hW(e,t,r);break;case"finishMancer":oPe(t,r);break;case"populateListOptions":g9e(e,t,r);break;case"workerPromiseExtend":i9(t);break;case"workerPromiseResolve":const{promiseId:i,workerNum:a}=e,s=t.workerPromises[i];s&&(s.resolvesLeft=s.resolvesLeft.filter(o=>o!==a),s.resolvesLeft.length===0&&(s.resolver(),n==="workerPromiseResolve"&&delete t.workerPromises[i])),i9(t);break;default:console.log("DEFAULT MANCER MESSAGE: ",e);break}};var S_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const b9e=(e,t,r)=>S_(void 0,void 0,void 0,function*(){var n,i;const{template:a,callbackId:s}=e,{templates:o,character:u}=t,l=document.getElementById("charsheet"),c=document.getElementById("mancer"),f=hN(t);(!a||!o.charmancer[a])&&console.error(`Unable to locate charactermancer template: "${a}"`);const d=new Promise(m=>S_(void 0,void 0,void 0,function*(){const h=yield _9e(t,r);r.update({character:{id:u.id,mancer:h}}),E_(f,t),m()})),p=((i=(n=u.mancer)===null||n===void 0?void 0:n.data[a])===null||i===void 0?void 0:i.repeating)||[];yield r.update({character:{id:u.id,mancer:{active:!0,data:{[a]:{values:{},data:{},repeating:p}}}}}),l.style.display="none",c.style.display="block",iW({template:a,dataPromise:d},t,r).then(()=>{d.then(()=>{r.sendSheetworkerMessage({type:"requestFulFilled",id:s})})})}),_9e=(e,t)=>S_(void 0,void 0,void 0,function*(){var r,n,i;const{character:a}=e,s=[],o=((r=a.mancer)===null||r===void 0?void 0:r.legacyMancerGet)||{},u=((n=a.mancer)===null||n===void 0?void 0:n.newMancerGet)||{},l={data:{},newMancerGet:u};for(const c in o){u[c]||(u[c]={}),(i=l.data)[c]||(i[c]={});for(const f in o[c]){const d=o[c][f]?o[c][f][0]:"";if(!d)continue;let p=pN(d);const m=u[c][f]||{name:"",bookId:0,category:"",pageId:""};p.name!==m.name||p.bookId!==m.bookId||p.category!==m.category?u[c][f]=p:p=m,s.push(new Promise(h=>S_(void 0,void 0,void 0,function*(){var v;const[y]=yield mN({page:p,includeData:!0},t);m.pageId=y.id;const w=fW(y);(v=l.data[c]).data||(v.data={}),l.data[c].data[f]=w.data,h()})))}}return yield Promise.all(s),l});var jy,A9e=new Uint8Array(16);function w9e(){if(!jy&&(jy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!jy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jy(A9e)}const x9e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function S9e(e){return typeof e=="string"&&x9e.test(e)}var ua=[];for(var Xx=0;Xx<256;++Xx)ua.push((Xx+256).toString(16).substr(1));function E9e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ua[e[t+0]]+ua[e[t+1]]+ua[e[t+2]]+ua[e[t+3]]+"-"+ua[e[t+4]]+ua[e[t+5]]+"-"+ua[e[t+6]]+ua[e[t+7]]+"-"+ua[e[t+8]]+ua[e[t+9]]+"-"+ua[e[t+10]]+ua[e[t+11]]+ua[e[t+12]]+ua[e[t+13]]+ua[e[t+14]]+ua[e[t+15]]).toLowerCase();if(!S9e(r))throw TypeError("Stringified UUID is invalid");return r}function Sn(e,t,r){e=e||{};var n=e.random||(e.rng||w9e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return E9e(n)}var C9e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const iW=(e,t,r)=>C9e(void 0,void 0,void 0,function*(){var n,i,a,s,o;const{templates:u,translation:l,character:c}=t,{template:f,playerTriggered:d,dataPromise:p}=e,m=document.getElementById("mancer"),h=[],v=[],y=document.querySelector("form.sheetform");if(y.noValidate=!0,!f||!u.charmancer[f]){console.error(`ERROR: Charactermancer template ${f} not found.`);return}const w=((i=(n=c.mancer)===null||n===void 0?void 0:n.data[f])===null||i===void 0?void 0:i.repeating)||[],g=((s=(a=c.mancer)===null||a===void 0?void 0:a.data[f])===null||s===void 0?void 0:s.values)||{};t.currentRepeating=N9e(w),yield r.update({character:{id:c.id,mancer:{currentStep:f}},event:{}}),m.innerHTML=W$(u.charmancer[f],l);const b=hN(t),_=[],x=[],E=[],C=m.querySelectorAll('[name^="comp_"]');for(const k of C){const P=((o=k.getAttribute("name"))===null||o===void 0?void 0:o.substring(5))||"",U=D9e(g[P])?"":`${g[P]}`;k.value&&!U&&!["checkbox","radio"].includes(k.type)&&k.value,U&&(["checkbox","radio"].includes(k.type)?k.checked=k.type==="checkbox"?!!g[P]:`${k.value}`==`${U}`:k.value=U,k.classList.contains("sheet-choice")||k.classList.contains("choice")||k.closest(".sheet-choice, .choice")?E.push({name:P,value:U}):k.getAttribute("accept")?_.push({name:P,value:U}):x.push({name:P,value:U}))}const $=m.querySelector("div.sheet-compendium-page, div.compendium-page");if($){const k=$.getAttribute("accept");$.style.minHeight="50vh",$.innerHTML=`
    <div class="container primarycontentcontainer" id="compendiumFrame">
      <div class="row" style="width:100%">
        <div class="col-md-8" style="width:100%">
          <div class="content-text">
            <h1 class="page-title"></h1>
            <div id="pagecontent"></div>
            <div id="pageAttrs" class="col-md-12 attrList"></div>
          </div>
        </div>
      </div>
    </div>`,k&&hW({pageName:k,cardOnly:!1},t,r)}p&&(yield p);let D=Sn();const N=vm({id:D},t);r.sendSheetworkerMessage({type:"triggerMancerPageChange",playerTriggered:d,template:f,promiseId:D}),r.update({character:{id:c.id,mancer:{currentStep:f,data:{[f]:{data:{},values:{},repeating:[...w]}}}}});for(const k of m.querySelectorAll("select[accept], span[accept]"))h.push(H9e({element:k},t,r));yield N.catch(k=>console.error(`Page ${f} Worker Promise Timeout: `,k));for(const k of _){const P=Sn();v.push(vm({id:P},t).catch(U=>console.error("Worker Promise Timeout: ",U))),r.sendSheetworkerMessage({type:"mancerChange",value:k.value,previous:k.value,triggers:[k.name],playerTriggered:!1,currentStep:f,promiseId:P})}setTimeout(()=>{for(const k of x){const P=Sn();v.push(vm({id:P},t).catch(U=>console.error("Worker Promise Timeout: ",U))),r.sendSheetworkerMessage({type:"mancerChange",value:k.value,previous:k.value,triggers:[k.name],playerTriggered:!1,currentStep:f,promiseId:P})}setTimeout(()=>{for(const k of E){const P=Sn();v.push(vm({id:P},t).catch(U=>console.error("Worker Promise Timeout: ",U))),r.sendSheetworkerMessage({type:"mancerChange",value:k.value,previous:k.value,triggers:[k.name],playerTriggered:!1,currentStep:f,promiseId:P})}},10)},100),yield Promise.all([...h,...v]),E_(b,t)}),$9e=e=>{const t=[];if(e.substring(0,10)==="repeating_"){t.push(e);const r=document.querySelector(`[name="comp_${e}"], [name="act_${e}"]`);let n=r?.closest("[data-repeating]");for(;n&&n.dataset.repeating;)t.push(n.dataset.repeating),n=(n?.parentNode).closest("[data-repeating]")}else t.push(`${e}`);return t},N9e=e=>{const t={};for(const r in e){const[,n,...i]=e[r].split("_"),a=i.join("_");n&&a&&(t[a]||(t[a]=[]),t[a].includes(n)||t[a].push(n))}return t},D9e=e=>e==null,T9e=(e,t)=>{var r,n;const{updates:i}=e,a=document.getElementById("mancer");if(!((r=t.character.mancer)===null||r===void 0)&&r.active||!((n=t.character.mancer)===null||n===void 0)&&n.final)for(const s in i){const o=s.substring(0,6)==="sheet-"?s.substring(6):s;i[s]===void 0&&(i[s]="");const u=a.querySelectorAll(`.sheet-${o}, .${o}`),l=W$(i[s],t.translation);for(const c of u)c.innerHTML=d9e(l)}vW()},vm=(e,t)=>{const{id:r,timeout:n=5e3}=e,i=Array.from({length:t.workerCount},(a,s)=>s);return new Promise((a,s)=>{const o=()=>{t.workerPromises[r]&&(s({promiseId:r,resolvesLeft:t.workerPromises[r].resolvesLeft}),delete t.workerPromises[r])};t.workerPromises[r]={resolvesLeft:i,resolver:a,callback:o,timeout:n,timer:setTimeout(o,n)}})},k9e=(e,t)=>{const{timer:r,callback:n,timeout:i}=t.workerPromises[e];clearTimeout(r),t.workerPromises[e].timer=setTimeout(n,i)},i9=e=>{for(const t in e.workerPromises)k9e(t,e)};var I9e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const O9e=(e,t,r)=>{var n,i;const{templates:a,character:s}=t,{className:o,sectionName:u,newName:l,id:c}=e;if(!(!((n=s.mancer)===null||n===void 0)&&n.active))return;if(!a.repeating[u]){$E({id:c,data:`Unable to find repeating section: ${u}`},r);return}const f=t.legacySanitization?"sheet-":"",d=document.getElementById("mancer");let p=a.repeating[u];const m=l||u,v=`repeating_${M9e({section:m,dispatch:r},t)}_${m}`;p=p.replace(/(?<=name=")[act|roll|comp].+?(?=")/g,w=>{const g=w.split("_");return g.splice(1,0,v),g.join("_")});for(const w of d.querySelectorAll(`[data-repeating="${v}"]`))w.remove();const y=`<div
    class="${f}${u} ${f}${v}"
    data-repeating="${v}">
    ${p}
  </div>`;t.pendingRepeatingSections.selector=o,t.pendingRepeatingSections.content+=y,t.pendingRepeatingSections.responses[c]=v,(i=t.debouncedAppend)===null||i===void 0||i.call(t)},$E=(e,t)=>{t.sendSheetworkerMessage(Object.assign({type:"requestFulFilled"},e))},M9e=(e,t)=>{var r,n,i,a,s;const{section:o,dispatch:u}=e,{character:l}=t,c=((r=l.mancer)===null||r===void 0?void 0:r.currentStep)||"",f=((a=(i=(n=l.mancer)===null||n===void 0?void 0:n.data)===null||i===void 0?void 0:i[c])===null||a===void 0?void 0:a.repeating)||[],d=((s=t.currentRepeating[o])===null||s===void 0?void 0:s.shift())||qW(),p=`repeating_${d}_${o}`;return f.includes(p)||(f.push(p),u.update({character:{id:l.id,mancer:{data:{[c]:{repeating:f}}}}})),d},aW=(e,t)=>I9e(void 0,void 0,void 0,function*(){if(!e.pendingRepeatingSections.selector)return;const{selector:r,content:n,responses:i}=e.pendingRepeatingSections,a=document.getElementById("mancer"),s=r.substring(0,6)==="sheet-"?r.substring(6):r,o=a.querySelector(`.sheet-${s}, .${s}`);if(!o){for(const u in i)$E({id:u,data:`Unable to find repeating section: ${r}`},t);e.pendingRepeatingSections.selector="",e.pendingRepeatingSections.content="",e.pendingRepeatingSections.responses={};return}o?.insertAdjacentHTML("beforeend",W$(n,e.translation)),B9e(o,e,t);for(const u in i){const l=i[u];$E({id:u,data:l},t)}e.pendingRepeatingSections.selector="",e.pendingRepeatingSections.content="",e.pendingRepeatingSections.responses={}}),P9e=(e,t)=>!(e.type!=="addSection"||e.className!==t.pendingRepeatingSections.selector),B9e=(e,t,r,n=!1)=>{var i,a,s;const{character:o}=t,u=o.mancer.currentStep||"",l=o.mancer.data[u].values||{},c=[];for(const m of e.querySelectorAll("button[name^=roll_]")){const h=m.getAttribute("name")||"";let v=l[h]?l[h]:"";v&&(m.value=v)}const f={},d={},p=[];for(const m of e.querySelectorAll("[name^=comp_]")){if(m.hasAttribute("accept"))continue;const h=((i=m.getAttribute("name"))===null||i===void 0?void 0:i.substring(5))||"",v=m.getAttribute("value");let y=l[h]===void 0?"":l[h],w=[h];h.includes("repeating_")&&(`${(a=m.closest("[data-repeating]"))===null||a===void 0?void 0:a.dataset.repeating}`,d[h]=L9e(m),w.push(...d[h])),["checkbox","radio"].includes(m.type)?m.checked=m.type==="checkbox"?!!l[h]:m.value===`${y}`:(l[h]===void 0&&v&&(y=v,f[h]=y),m.value=y);const g=Sn();p.push({value:y,triggers:w,sourceSection:(s=d[h])===null||s===void 0?void 0:s[0],promiseId:g}),c.push(vm({id:g},t).catch(b=>console.error("Worker Promise Timeout: ",b)))}r.update({character:{id:o.id,mancer:{currentStep:u,data:{[u]:{values:f}}}}});for(const m of p)r.sendSheetworkerMessage(Object.assign({type:"mancerChange",previous:m.value,playerTriggered:!1,currentStep:u},m));return c},L9e=e=>{const t=[];let r=e.closest("[data-repeating]");for(;r;){const n=r.dataset.repeating;n&&t.push(n),r=r.parentElement?r.parentElement.closest("[data-repeating]"):null}return t},F9e=(e,t)=>{const{classArray:r,type:n}=e,i=document.getElementById("mancer"),a=t.legacySanitization?"sheet-":"";for(const s of r||[]){if(!s)continue;const u=(s.substring(0,6)==="sheet-"?s.substring(6):s).split(" "),l=u.pop();u.push(n==="hideChoices"?`${l}.${a}choice-showing`:`${l}.${a}choice`);const c=`.sheet-${u.join(" ")}, .${u.join(" ")}`,f=i.querySelectorAll(c);for(const d of f){const p=n==="showChoices"?`${a}choice`:`${a}choice-showing`,m=n==="showChoices"?`${a}choice-showing`:`${a}choice`;d.classList.remove(p),d.classList.add(m)}}if(n==="hideChoices"&&!r){const s=i.querySelectorAll(`.${a}choice-showing`);for(const o of s)o.classList.remove(`${a}choice-showing`),o.classList.add(`${a}choice`)}vW()};function NE(e,t=0){const n=" ".repeat(t*4);if(typeof e!="object"||e===null)return`"${String(e)}"`;let i="{";for(const a in e)if(e.hasOwnProperty(a)){const s=e[a];let o="";Array.isArray(s)?o="["+s.map(u=>NE(u,t+1)).join(", ")+"], ":typeof s=="object"?o=` ${NE(s,t+1)}`:o=`"${String(s)}", `,i+=`${n}${a}:${o}`}return i+=n.slice(0,-4)+"}",i}const R9e=e=>{const t=typeof e=="string"?[]:e;if(typeof e=="string"){const r=[];for(let i=0;i<e.length;i+=1)if(e[i]===":"){const s=e.slice(i+1).search(/ [\w-]+:| "/);s!==-1&&(i=i+s+1,r.push(i))}r.push(e.length);let n=0;for(const i of r)t.push(e.slice(n,i).replace(/"/g,"").trim()),n=i}return(t||[]).filter(r=>r)},U9e=e=>{let t,r=!1;const n=e.reduce((i,a)=>{const[s,o]=a.replace(/"/g,"").split(":").map(u=>u.replace(/\?.*/,""));return o?s.toLowerCase()==="category"?(t=o,i):Object.assign(i,{[s]:o}):(r=!0,i)},{});return r?{criteria:null,category:t}:{criteria:n,category:t}},z9e=e=>{const t={and:{},or:{}};for(const r in e)e[r].includes("|")?t.or[r]=e[r].split("|"):t.and[r]=[e[r]];return t},a9=(e,t)=>{const r=t.includes("*"),n=t.replace("*","");return e==="Name"?{field:"name",v:n,operator:r?"regex":"eq"}:{k:e,v:n,operator:r?"regex":"eq"}},q9e=e=>{const t=Object.entries(e.or).map(([n,i])=>({conjuction:"or",criteria:i.map(a=>a9(n,a))})),r=Object.entries(e.and).map(([n,i])=>a9(n,i[0]));return{conjuction:"and",filters:t||[],criteria:r||[]}},sW=(e,t)=>{console.log("Base Query String",e);let r="",n="";const i=`{
		name
		book { shortName itemId }
		category { name }
		${t?.includeData?`properties 
 children { name properties }`:""}
	}`,a=R9e(e),{criteria:s,category:o}=U9e(a);if(!s)return"";if(o&&(r+=`category(name: "${o}") {`,n+="}"),r+="filterAndSortPages(filters:[",Object.keys(s).length){const u=z9e(s),l=q9e(u);r+=NE(l)}return r+="], resultsPerPage: 2000) ",`${r}${i}${n}`};var j9e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const pN=e=>{const[t,r]=decodeURI(e).split("?expansion=");let n,i;return t.split(":").length>1?[n,i]=t.split(":"):i=t,{bookId:r?parseInt(r,10):void 0,category:n,name:decodeURI(i)}},oW=e=>{var t,r,n;const i={id:e.id,name:e.name,data:e.properties||{},expansion:!((t=e.book)===null||t===void 0)&&t.itemId?parseInt(e.book.itemId,10):0,expansioninitials:(r=e.book)===null||r===void 0?void 0:r.shortName,legacyId:e.legacyPageId,content:"",htmlcontent:e.content,cardHtml:e.cardHtml||""};if(!((n=e.category)===null||n===void 0)&&n.name&&(i.data.Category=e.category.name),e.children&&e.children.length){i.data.blobs={};for(const a of e.children||[])delete a.properties.Category,i.data.blobs[a.name]=a.properties}return i},mN=(e,t)=>j9e(void 0,void 0,void 0,function*(){var r,n,i,a,s,o;let u=[],l=[];const c=[],{page:f,includeData:d,includeContent:p,includeCard:m}=e,h=Array.isArray(f)?f:[f];let v=` {
        id
        name
        book {
            itemId
            shortName
        }
        legacyPageId `;d&&(v+=` properties
            children {
                name
                properties
            } `),p&&(v+=" content "),m&&(v+=" cardHtml "),v+="}";for(const w of h)if(w.pageId)c.push(t.debouncedCompendiumRequest({query:`page(id: "${w.pageId}") ${v}`}));else if(w.bookId!==void 0){let g=`book(itemId: ${w.bookId}) {`;g+=`pages(name: "${w.name}"`,w.category&&(g+=` category: "${w.category}"`),g+=`) ${v} }`,c.push(t.debouncedCompendiumRequest({query:g}))}else{let g=`pages(name: "${w.name}"`;w.category&&(g+=` category: "${w.category}"`),g+=`) ${v}`,c.push(t.debouncedCompendiumRequest({query:g}))}const y=yield Promise.all(c);for(const w in y){const g=y[w],b=[];if(!((r=g.data.ruleSystem)===null||r===void 0)&&r.page)b.push((n=g.data.ruleSystem)===null||n===void 0?void 0:n.page);else if(!((i=g.data.ruleSystem)===null||i===void 0)&&i.book){const _=(a=g.data.ruleSystem)===null||a===void 0?void 0:a.book;for(const x of _.pages)b.push(x)}else if(!((s=g.data.ruleSystem)===null||s===void 0)&&s.pages)for(const _ of(o=g.data.ruleSystem)===null||o===void 0?void 0:o.pages)b.push(_);b.length>0?u.push(...uW(b)):h[w]&&u.push({name:h[w].name,properties:{blobs:{}},category:{name:`${h[w].category}`},book:{shortName:"",itemId:`${h[w].bookId||0}`}})}return l=u.map(w=>oW(w)),l.length||l.push({name:h[0].name,data:{blobs:{}},expansion:0}),l}),V9e=e=>{if(e.category){const t=e.category;return t.pages?t.pages:t.filterAndSortPages?t.filterAndSortPages:[]}return e.filterAndSortPages?e.filterAndSortPages:[]},uW=e=>e.filter(t=>{var r;return!((r=t.book)===null||r===void 0)&&r.itemId?!0:!(e.filter(n=>n.name===t.name).length>1)}),hN=e=>{const t=document.getElementById("mancer"),r=Sn();e.currentLocks.push(r),t.classList.add("locked");for(const n of t.querySelectorAll("button, select"))n.disabled=!0;return r},E_=(e,t)=>{const r=document.getElementById("mancer");if(t.currentLocks=t.currentLocks.filter(n=>n!==e),t.currentLocks.length===0){r.classList.remove("locked");for(const n of r.querySelectorAll("button, select"))n.disabled=!1}};var vN=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const H9e=(e,t,r)=>vN(void 0,void 0,void 0,function*(){const{element:n}=e,i=n.getAttribute("accept")||"";yield lW({element:n,query:i,options:{show_source:!0,silent:!1}},t,r)}),G9e=(e,t,r)=>vN(void 0,void 0,void 0,function*(){const{selector:n,query:i,id:a,options:s}=e,o=document.getElementById("mancer"),u=n.replace("comp_",""),l=o.querySelector(`span[name=comp_${u}], select[name=comp_${u}]`);let c=[];l?c=yield lW({element:l,query:i,options:s||{}},t,r):console.log("Unable to find element for setCharmancerOptions: ",n),r.sendSheetworkerMessage({type:"requestFulFilled",id:a,data:c})}),lW=(e,t,r)=>vN(void 0,void 0,void 0,function*(){var n,i,a,s,o,u;const{element:l,query:c,options:f}=e;if(!["SELECT","SPAN"].includes(l.tagName)){console.log("Compendium element must be either select or span.");return}const{character:d}=t,p=l.getAttribute("accept")||"",m=typeof c!="string",h=((n=t.character.mancer)===null||n===void 0?void 0:n.currentStep)||"",v=((i=t.character.mancer)===null||i===void 0?void 0:i.data[h].values)||{},y=((a=l.getAttribute("name"))===null||a===void 0?void 0:a.substring(5))||"",w=hN(t);f.attributeName=y;const g=sW(c),b=m?{}:yield r.debouncedCompendiumRequest({query:g});if(!m&&!f.add&&!(!((s=b?.data)===null||s===void 0)&&s.ruleSystem)){console.log("Error fetching compendium data for select: ",p),E_(w,t);return}for(const D of l.querySelectorAll(".sheet-compendium-opt"))D.remove();const _=Array.from(l.querySelectorAll("option")).map(D=>D.value);let x=[];m?x=c.map(D=>Object.assign({name:D},f.category&&{category:{name:f.category}})):b.data.ruleSystem&&(x=K9e(b.data.ruleSystem));for(const D of x){if(!(!((o=D.book)===null||o===void 0)&&o.itemId)&&x.filter(P=>{var U;return P.name===D.name&&((U=P.book)===null||U===void 0?void 0:U.itemId)}).length)continue;const N=s9(l,D,f);N!==""&&_.push(N)}const E=f.add||[];for(const D of E){const N=Object.assign({name:D},f.category&&{category:{name:f.category}}),k=s9(l,N,f);k!==""&&_.push(k)}let C=f.selected||`${v[y]}`;_.includes(C)||(C="");const $=l;if($.value=C,!f?.silent&&(C!==v[y]&&r.update({character:{id:d.id,mancer:{data:{[h]:{values:{[y]:C===""?null:C}}}}}}),!l.getAttribute("accept"))){const D=$9e(y),N=(u=l.closest("[data-repeating]"))===null||u===void 0?void 0:u.dataset.repeating,k=Sn();r.sendSheetworkerMessage({type:"mancerChange",value:C,previous:v[y],triggers:D,sourceSection:N,playerTriggered:!1,currentStep:h,promiseId:k}),yield vm({id:k},t).catch(P=>console.error("Worker Promise Timeout: ",P))}return E_(w,t),x.map(D=>D.name)}),s9=(e,t,r)=>{var n,i,a,s;if(!t||!t.name)return"";let o=t.name.split("~")[0],u=!((n=t.category)===null||n===void 0)&&n.name?`${t.category.name}:${t.name}`:t.name;!((i=t.book)===null||i===void 0)&&i.itemId&&(u+=`?expansion=${((a=t.book)===null||a===void 0?void 0:a.itemId)||0}`),[void 0,"true",!0].includes(r.show_source)&&(!((s=t.book)===null||s===void 0)&&s.shortName)&&(o+=` (${t.book.shortName})`);const c=!!(r.disable||[]).map(f=>{var d;return!((d=t.category)===null||d===void 0)&&d.name?`${t.category.name}:${f}`:f}).includes(u);return e.tagName==="SELECT"?Z9e({selectElement:e,displayName:o,value:u,disabled:c}):e.tagName==="SPAN"&&W9e({spanElement:e,displayName:o,value:u,disabled:c,attributeName:r.attributeName}),u},Z9e=e=>{const{selectElement:t,displayName:r,value:n,disabled:i}=e,a=document.createElement("option");a.classList.add("sheet-compendium-opt"),a.value=n,i&&(a.disabled=!0),a.innerHTML=r;const s=t.querySelector(".sheet-custom, .custom");s?s.before(a):t.append(a)},W9e=e=>{const{spanElement:t,displayName:r,value:n,attributeName:i,disabled:a}=e,s=document.createElement("label");s.classList.add("sheet-compendium-opt"),s.insertAdjacentHTML("afterbegin",`<input
    type="radio"
    name="comp_${i}"
    value="${n}" ${a?"disabled":""}>
    <span>${r}</span>`);const o=t.querySelector(".sheet-custom, .custom");o?o.before(s):t.append(s)},K9e=e=>{let t=[];if(e.category){const r=e.category;r.pages&&(t=r.pages),r.filterAndSortPages&&(t=r.filterAndSortPages)}return e.filterAndSortPages&&(t=e.filterAndSortPages),Array.isArray(t)?t:[]};var J9e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const Y9e=(e,t,r)=>J9e(void 0,void 0,void 0,function*(){var n,i,a,s,o,u,l,c,f,d;const{id:p,pageQuery:m,field:h}=e,v=typeof m=="string"?[m]:m,{character:y}=t,w=((n=y.mancer)===null||n===void 0?void 0:n.currentStep)||"",g=((i=y.mancer)===null||i===void 0?void 0:i.legacyMancerGet)||{},b=((a=y.mancer)===null||a===void 0?void 0:a.newMancerGet)||{},_={[w]:{data:{}}};if(m===""||v.length===0){!((s=y.mancer)===null||s===void 0)&&s.active&&w&&(_[w].data[h]="null",g[w]&&(g[w][h]=null),b[w]&&(b[w][h]=null),r.update({character:{id:y.id,mancer:{legacyMancerGet:g,newMancerGet:b,data:_}}})),r.sendSheetworkerMessage({type:"requestFulFilled",id:p,data:{data:{}}});return}const x=v.map(k=>pN(k)),E=yield mN({page:x,includeData:!0},r),C=[];if(!((o=y.mancer)===null||o===void 0)&&o.active)for(const k of E)C.push(fW(k));C.sort((k,P)=>k.expansion-P.expansion);const $=x.length===1&&!!x[0].category||C.length===1,D=$?C[0]:C;let N=$?E[0]:E;if(!((u=y.mancer)===null||u===void 0)&&u.active&&w&&$){const k=D;g[w]||(g[w]={}),b[w]||(b[w]={}),g[w][h]=v,b[w][h]=Object.assign(Object.assign({},x[0]),{pageId:k.id}),!((d=(f=(c=(l=y.mancer)===null||l===void 0?void 0:l.data)===null||c===void 0?void 0:c[w])===null||f===void 0?void 0:f.data)===null||d===void 0)&&d[h]&&(_[w].data[h]="null",yield r.update({character:{id:y.id,mancer:{data:_}}})),_[w].data[h]=k.data,yield r.update({character:{id:y.id,mancer:{data:_,legacyMancerGet:g,newMancerGet:b}}})}N=cW(N),r.sendSheetworkerMessage({type:"requestFulFilled",id:p,data:N})}),cW=e=>{for(let t in e)typeof e[t]=="number"?e[t]=e[t].toString():typeof e[t]=="object"&&e[t]!==null&&cW(e[t]);return e},fW=e=>{const t=JSON.parse(JSON.stringify(e));for(const r in e.data){const n=e.data[r];if(typeof n!="string"){t.data[r]=n;continue}try{t.data[r]=JSON.parse(n)}catch{t.data[r]=n}}return t},X9e=(e,t)=>{var r;if(!(!((r=t.character.mancer)===null||r===void 0)&&r.active))return;const{selector:n,disable:i,options:a}=e,s=a.category?`${a.category}:`:"",o=document.getElementById("mancer"),u=n.replace("comp_",""),l=o.querySelector(`[name='comp_${u}']`);if(!l)return;const c=Q9e(l);for(const f of l.querySelectorAll("option, input"))f.disabled=!1;for(const f of i){const d=`${s}${f}`;if(d===c)continue;const p=l.querySelector(`[value^="${d.replace(/"/g,'"')}"]`);p&&(p.disabled=!0)}},Q9e=e=>{if(e.tagName==="SELECT")return e.value;{const t=e.querySelector("input:checked");return t?t.value:""}},ePe=(e,t,r)=>{var n,i,a,s,o,u;let{selector:l,idArray:c,id:f}=e;const{character:d}=t,p=document.getElementById("mancer"),m=((n=d.mancer)===null||n===void 0?void 0:n.currentStep)||"";t.currentRepeating;const h={repeating:((s=(a=(i=d.mancer)===null||i===void 0?void 0:i.data)===null||a===void 0?void 0:a[m])===null||s===void 0?void 0:s.repeating)||[],values:{}};let v=[];if(!(!((o=d.mancer)===null||o===void 0)&&o.active)){r.sendSheetworkerMessage({type:"requestFulFilled",id:f});return}if(c){Array.isArray(c)||(c=[c]);for(const y of c){const w=p.querySelector(`[data-repeating="${y}"]`);if(v.push(y),w){const g=o9(w);v=v.concat(g.repeating),h.values=Object.assign(Object.assign({},h.values),g.values),w.remove()}}}else if(l){const y=p.querySelector(`.sheet-${l}, .${l}`);if(y){const w=o9(y);h.values=w.values,v=w.repeating}}v=[...new Set(v)];for(const y of v)h.repeating=((u=h.repeating)===null||u===void 0?void 0:u.filter(w=>w!==y))||[];r.update({character:{id:d.id,mancer:{data:{[m]:h}}}}),r.sendSheetworkerMessage({type:"requestFulFilled",id:f,data:v})},o9=e=>{const t={repeating:[],values:{}};for(const r of e.querySelectorAll('[name^="comp_"]')){const n=r.getAttribute("name");n&&(t.values[n.replace("comp_","")]=null)}for(const r of e.querySelectorAll('[name^="roll_"]')){const n=r.getAttribute("name");n&&(t.values[n]=null)}for(const r of e.querySelectorAll("[data-repeating]")){const n=r.dataset.repeating;!n||t.repeating.includes(n)||(t.repeating.push(n),r.remove())}return t};var dW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const tPe=(e,t,r)=>dW(void 0,void 0,void 0,function*(){yield pW(t,r),yield iW({template:e.pageName,playerTriggered:!1},t,r),r.sendSheetworkerMessage({type:"requestFulFilled",id:e.id})}),pW=(e,t)=>dW(void 0,void 0,void 0,function*(){var r,n;const{character:i}=e;if(!(!((r=i.mancer)===null||r===void 0)&&r.active))return;const a=(n=i.mancer)===null||n===void 0?void 0:n.currentStep,s=document.getElementById("mancer"),o={},u=s.querySelectorAll("input[name^='comp_'], select[name^='comp_'], textarea[name^='comp_']");for(const l of u){const c=l.name.substring(5);["checkbox","radio"].includes(l.type)?l.checked&&(o[c]=l.value):l.value!==""&&(o[c]=l.value)}yield t.update({character:{id:i.id,mancer:{currentStep:a,data:{[a]:{data:{},values:o}},legacyMancerGet:{[a]:{}},newMancerGet:{[a]:{}}}}})});var rPe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const nPe=(e,t,r)=>rPe(void 0,void 0,void 0,function*(){var n,i;const{pageNames:a,id:s}=e,{character:o}=t,u=((n=o.mancer)===null||n===void 0?void 0:n.data)||{},l=a?.length?a:Object.keys(u);yield r.update({character:{id:o.id,mancer:{toDelete:l}}}),yield r.update({character:{id:o.id,mancer:{toDelete:[]}}}),l.includes((i=o.mancer)===null||i===void 0?void 0:i.currentStep)&&(yield pW(t,r)),r.sendSheetworkerMessage({type:"requestFulFilled",id:s})});var mW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const iPe=(e,t,r)=>mW(void 0,void 0,void 0,function*(){const n=(yield aPe(e.queries,r).catch(a=>{console.error(a),r.sendSheetworkerMessage({type:"requestFulFilled",id:e.id,data:[]})}))||[];let i=uW(n).map(a=>{const s=oW(a);return{name:s.name,expansion:s.expansion,data:s.data}});r.sendSheetworkerMessage({type:"requestFulFilled",id:e.id,data:i})}),aPe=(e,t)=>mW(void 0,void 0,void 0,function*(){const r=[];let n=[];for(const a of e){const s=sW(a,{includeData:!0});s&&r.push(t.debouncedCompendiumRequest({query:s}))}const i=yield Promise.all(r);for(const a of i){if(a.errors&&a.errors.length||!a.data.ruleSystem){console.error("Compendium Service Error.");continue}n=n.concat(V9e(a.data.ruleSystem))}return n});var sPe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const oPe=(e,t)=>sPe(void 0,void 0,void 0,function*(){const{character:r}=e,n=document.getElementById("charsheet"),i=document.getElementById("mancer");n.style.display="block",i.style.display="none",yield t.update({character:{id:r.id,mancer:{final:!1}}})});var uPe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const hW=(e,t,r)=>uPe(void 0,void 0,void 0,function*(){const n=document.getElementById("pagecontent");if(!n)return;const i=document.querySelector("#compendiumFrame .content-text"),a=document.querySelector("#compendiumFrame .page-title"),s=document.getElementById("pageAttrs"),{pageName:o,cardOnly:u}=e,l=pN(o);if(!o)return;const c=yield mN(Object.assign({page:l},u?{includeCard:!0}:{includeContent:!0}),r),[f]=c.sort((d,p)=>d.expansion>p.expansion?1:-1);if(i.dataset.bookid=t.compendium,i.dataset.expansionid=`${f.expansion}`,u){const d=document.createElement("div");d.classList.add("listResult","booktemplate","closed","single",`expansion${f.expansion}`),d.innerHTML=`${f.cardHtml}`.replace(/<a[^>]*>/g,""),s.innerHTML=d.outerHTML,n.innerHTML="",a.style.display="none"}else a.style.display="",a.innerHTML=f.name,n.innerHTML=`${f.htmlcontent||""}`.replace(/<a[^>]*>/g,""),s.innerHTML="";for(const d of i.querySelectorAll("[style]"))d.style.color=""}),vW=GG(20,()=>{const e=document.getElementById("compendiumFrame");if(!e)return;const t=e.parentElement;t.style.height="",t.clientHeight===0?(t.style.height="50vh",e.style.height=`${t.clientHeight}px`):e.style.height=`${t.clientHeight}px`,e.style.width=`${t.clientWidth}px`}),lPe=(e,t,r)=>{var n,i;const a=(n=e.selector)===null||n===void 0?void 0:n.replace(/^sheet-/,""),{character:s}=t;if(!(!((i=s.mancer)===null||i===void 0)&&i.active))return;const o=document.getElementById("mancer"),l=(a?o.querySelector(`.sheet-${a}, .${a}`):void 0)||o,c=gW(l),f=l.innerHTML.match(/(?<=data-repeating=").+?(?=")/g)||[];r.sendSheetworkerMessage({type:"requestFulFilled",id:e.id,data:{list:f,tree:c}})},gW=e=>{var t;const r={},n=e.dataset.repeating,i=e.querySelectorAll("[data-repeating]");if(!i.length)return r;for(const a of i)((t=a.parentElement)===null||t===void 0?void 0:t.dataset.repeating)===n&&(r[a.dataset.repeating]=gW(a));return r};globalThis&&globalThis.__awaiter;function cPe(){this.__data__=[],this.size=0}var fPe=cPe;function dPe(e,t){return e===t||e!==e&&t!==t}var mA=dPe,pPe=mA;function mPe(e,t){for(var r=e.length;r--;)if(pPe(e[r][0],t))return r;return-1}var hA=mPe,hPe=hA,vPe=Array.prototype,gPe=vPe.splice;function yPe(e){var t=this.__data__,r=hPe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():gPe.call(t,r,1),--this.size,!0}var bPe=yPe,_Pe=hA;function APe(e){var t=this.__data__,r=_Pe(t,e);return r<0?void 0:t[r][1]}var wPe=APe,xPe=hA;function SPe(e){return xPe(this.__data__,e)>-1}var EPe=SPe,CPe=hA;function $Pe(e,t){var r=this.__data__,n=CPe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var NPe=$Pe,DPe=fPe,TPe=bPe,kPe=wPe,IPe=EPe,OPe=NPe;function Rh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Rh.prototype.clear=DPe;Rh.prototype.delete=TPe;Rh.prototype.get=kPe;Rh.prototype.has=IPe;Rh.prototype.set=OPe;var vA=Rh,MPe=vA;function PPe(){this.__data__=new MPe,this.size=0}var BPe=PPe;function LPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var FPe=LPe;function RPe(e){return this.__data__.get(e)}var UPe=RPe;function zPe(e){return this.__data__.has(e)}var qPe=zPe,jPe=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,yW=jPe,VPe=yW,HPe=typeof self=="object"&&self&&self.Object===Object&&self,GPe=VPe||HPe||Function("return this")(),sl=GPe,ZPe=sl,WPe=ZPe.Symbol,gN=WPe,u9=gN,bW=Object.prototype,KPe=bW.hasOwnProperty,JPe=bW.toString,k0=u9?u9.toStringTag:void 0;function YPe(e){var t=KPe.call(e,k0),r=e[k0];try{e[k0]=void 0;var n=!0}catch{}var i=JPe.call(e);return n&&(t?e[k0]=r:delete e[k0]),i}var XPe=YPe,QPe=Object.prototype,eBe=QPe.toString;function tBe(e){return eBe.call(e)}var rBe=tBe,l9=gN,nBe=XPe,iBe=rBe,aBe="[object Null]",sBe="[object Undefined]",c9=l9?l9.toStringTag:void 0;function oBe(e){return e==null?e===void 0?sBe:aBe:c9&&c9 in Object(e)?nBe(e):iBe(e)}var kg=oBe;function uBe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bf=uBe,lBe=kg,cBe=Bf,fBe="[object AsyncFunction]",dBe="[object Function]",pBe="[object GeneratorFunction]",mBe="[object Proxy]";function hBe(e){if(!cBe(e))return!1;var t=lBe(e);return t==dBe||t==pBe||t==fBe||t==mBe}var yN=hBe,vBe=sl,gBe=vBe["__core-js_shared__"],yBe=gBe,Qx=yBe,f9=function(){var e=/[^.]+$/.exec(Qx&&Qx.keys&&Qx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bBe(e){return!!f9&&f9 in e}var _Be=bBe,ABe=Function.prototype,wBe=ABe.toString;function xBe(e){if(e!=null){try{return wBe.call(e)}catch{}try{return e+""}catch{}}return""}var _W=xBe,SBe=yN,EBe=_Be,CBe=Bf,$Be=_W,NBe=/[\\^$.*+?()[\]{}|]/g,DBe=/^\[object .+?Constructor\]$/,TBe=Function.prototype,kBe=Object.prototype,IBe=TBe.toString,OBe=kBe.hasOwnProperty,MBe=RegExp("^"+IBe.call(OBe).replace(NBe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PBe(e){if(!CBe(e)||EBe(e))return!1;var t=SBe(e)?MBe:DBe;return t.test($Be(e))}var BBe=PBe;function LBe(e,t){return e?.[t]}var FBe=LBe,RBe=BBe,UBe=FBe;function zBe(e,t){var r=UBe(e,t);return RBe(r)?r:void 0}var bp=zBe,qBe=bp,jBe=sl,VBe=qBe(jBe,"Map"),bN=VBe,HBe=bp,GBe=HBe(Object,"create"),gA=GBe,d9=gA;function ZBe(){this.__data__=d9?d9(null):{},this.size=0}var WBe=ZBe;function KBe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var JBe=KBe,YBe=gA,XBe="__lodash_hash_undefined__",QBe=Object.prototype,eLe=QBe.hasOwnProperty;function tLe(e){var t=this.__data__;if(YBe){var r=t[e];return r===XBe?void 0:r}return eLe.call(t,e)?t[e]:void 0}var rLe=tLe,nLe=gA,iLe=Object.prototype,aLe=iLe.hasOwnProperty;function sLe(e){var t=this.__data__;return nLe?t[e]!==void 0:aLe.call(t,e)}var oLe=sLe,uLe=gA,lLe="__lodash_hash_undefined__";function cLe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uLe&&t===void 0?lLe:t,this}var fLe=cLe,dLe=WBe,pLe=JBe,mLe=rLe,hLe=oLe,vLe=fLe;function Uh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uh.prototype.clear=dLe;Uh.prototype.delete=pLe;Uh.prototype.get=mLe;Uh.prototype.has=hLe;Uh.prototype.set=vLe;var gLe=Uh,p9=gLe,yLe=vA,bLe=bN;function _Le(){this.size=0,this.__data__={hash:new p9,map:new(bLe||yLe),string:new p9}}var ALe=_Le;function wLe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xLe=wLe,SLe=xLe;function ELe(e,t){var r=e.__data__;return SLe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var yA=ELe,CLe=yA;function $Le(e){var t=CLe(this,e).delete(e);return this.size-=t?1:0,t}var NLe=$Le,DLe=yA;function TLe(e){return DLe(this,e).get(e)}var kLe=TLe,ILe=yA;function OLe(e){return ILe(this,e).has(e)}var MLe=OLe,PLe=yA;function BLe(e,t){var r=PLe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var LLe=BLe,FLe=ALe,RLe=NLe,ULe=kLe,zLe=MLe,qLe=LLe;function zh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zh.prototype.clear=FLe;zh.prototype.delete=RLe;zh.prototype.get=ULe;zh.prototype.has=zLe;zh.prototype.set=qLe;var jLe=zh,VLe=vA,HLe=bN,GLe=jLe,ZLe=200;function WLe(e,t){var r=this.__data__;if(r instanceof VLe){var n=r.__data__;if(!HLe||n.length<ZLe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new GLe(n)}return r.set(e,t),this.size=r.size,this}var KLe=WLe,JLe=vA,YLe=BPe,XLe=FPe,QLe=UPe,eFe=qPe,tFe=KLe;function qh(e){var t=this.__data__=new JLe(e);this.size=t.size}qh.prototype.clear=YLe;qh.prototype.delete=XLe;qh.prototype.get=QLe;qh.prototype.has=eFe;qh.prototype.set=tFe;var AW=qh,rFe=bp,nFe=function(){try{var e=rFe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wW=nFe,m9=wW;function iFe(e,t,r){t=="__proto__"&&m9?m9(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _N=iFe,aFe=_N,sFe=mA;function oFe(e,t,r){(r!==void 0&&!sFe(e[t],r)||r===void 0&&!(t in e))&&aFe(e,t,r)}var xW=oFe;function uFe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var u=s[e?o:++i];if(r(a[u],u,a)===!1)break}return t}}var lFe=uFe,cFe=lFe,fFe=cFe(),dFe=fFe,C_={exports:{}};C_.exports;(function(e,t){var r=sl,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=o?o(f):new l.constructor(f);return l.copy(d),d}e.exports=u})(C_,C_.exports);var SW=C_.exports,pFe=sl,mFe=pFe.Uint8Array,hFe=mFe,h9=hFe;function vFe(e){var t=new e.constructor(e.byteLength);return new h9(t).set(new h9(e)),t}var AN=vFe,gFe=AN;function yFe(e,t){var r=t?gFe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var EW=yFe;function bFe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var CW=bFe,_Fe=Bf,v9=Object.create,AFe=function(){function e(){}return function(t){if(!_Fe(t))return{};if(v9)return v9(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),wFe=AFe;function xFe(e,t){return function(r){return e(t(r))}}var $W=xFe,SFe=$W,EFe=SFe(Object.getPrototypeOf,Object),wN=EFe,CFe=Object.prototype;function $Fe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||CFe;return e===r}var xN=$Fe,NFe=wFe,DFe=wN,TFe=xN;function kFe(e){return typeof e.constructor=="function"&&!TFe(e)?NFe(DFe(e)):{}}var NW=kFe;function IFe(e){return e!=null&&typeof e=="object"}var _p=IFe,OFe=kg,MFe=_p,PFe="[object Arguments]";function BFe(e){return MFe(e)&&OFe(e)==PFe}var LFe=BFe,g9=LFe,FFe=_p,DW=Object.prototype,RFe=DW.hasOwnProperty,UFe=DW.propertyIsEnumerable,zFe=g9(function(){return arguments}())?g9:function(e){return FFe(e)&&RFe.call(e,"callee")&&!UFe.call(e,"callee")},TW=zFe,qFe=Array.isArray,bA=qFe,jFe=9007199254740991;function VFe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jFe}var kW=VFe,HFe=yN,GFe=kW;function ZFe(e){return e!=null&&GFe(e.length)&&!HFe(e)}var _A=ZFe,WFe=_A,KFe=_p;function JFe(e){return KFe(e)&&WFe(e)}var YFe=JFe,$_={exports:{}};function XFe(){return!1}var QFe=XFe;$_.exports;(function(e,t){var r=sl,n=QFe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||n;e.exports=l})($_,$_.exports);var SN=$_.exports,eRe=kg,tRe=wN,rRe=_p,nRe="[object Object]",iRe=Function.prototype,aRe=Object.prototype,IW=iRe.toString,sRe=aRe.hasOwnProperty,oRe=IW.call(Object);function uRe(e){if(!rRe(e)||eRe(e)!=nRe)return!1;var t=tRe(e);if(t===null)return!0;var r=sRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&IW.call(r)==oRe}var lRe=uRe,cRe=kg,fRe=kW,dRe=_p,pRe="[object Arguments]",mRe="[object Array]",hRe="[object Boolean]",vRe="[object Date]",gRe="[object Error]",yRe="[object Function]",bRe="[object Map]",_Re="[object Number]",ARe="[object Object]",wRe="[object RegExp]",xRe="[object Set]",SRe="[object String]",ERe="[object WeakMap]",CRe="[object ArrayBuffer]",$Re="[object DataView]",NRe="[object Float32Array]",DRe="[object Float64Array]",TRe="[object Int8Array]",kRe="[object Int16Array]",IRe="[object Int32Array]",ORe="[object Uint8Array]",MRe="[object Uint8ClampedArray]",PRe="[object Uint16Array]",BRe="[object Uint32Array]",Jn={};Jn[NRe]=Jn[DRe]=Jn[TRe]=Jn[kRe]=Jn[IRe]=Jn[ORe]=Jn[MRe]=Jn[PRe]=Jn[BRe]=!0;Jn[pRe]=Jn[mRe]=Jn[CRe]=Jn[hRe]=Jn[$Re]=Jn[vRe]=Jn[gRe]=Jn[yRe]=Jn[bRe]=Jn[_Re]=Jn[ARe]=Jn[wRe]=Jn[xRe]=Jn[SRe]=Jn[ERe]=!1;function LRe(e){return dRe(e)&&fRe(e.length)&&!!Jn[cRe(e)]}var FRe=LRe;function RRe(e){return function(t){return e(t)}}var EN=RRe,N_={exports:{}};N_.exports;(function(e,t){var r=yW,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(N_,N_.exports);var CN=N_.exports,URe=FRe,zRe=EN,y9=CN,b9=y9&&y9.isTypedArray,qRe=b9?zRe(b9):URe,OW=qRe;function jRe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var MW=jRe,VRe=_N,HRe=mA,GRe=Object.prototype,ZRe=GRe.hasOwnProperty;function WRe(e,t,r){var n=e[t];(!(ZRe.call(e,t)&&HRe(n,r))||r===void 0&&!(t in e))&&VRe(e,t,r)}var PW=WRe,KRe=PW,JRe=_N;function YRe(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],u=n?n(r[o],e[o],o,r,e):void 0;u===void 0&&(u=e[o]),i?JRe(r,o,u):KRe(r,o,u)}return r}var Ig=YRe;function XRe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var QRe=XRe,eUe=9007199254740991,tUe=/^(?:0|[1-9]\d*)$/;function rUe(e,t){var r=typeof e;return t=t??eUe,!!t&&(r=="number"||r!="symbol"&&tUe.test(e))&&e>-1&&e%1==0&&e<t}var BW=rUe,nUe=QRe,iUe=TW,aUe=bA,sUe=SN,oUe=BW,uUe=OW,lUe=Object.prototype,cUe=lUe.hasOwnProperty;function fUe(e,t){var r=aUe(e),n=!r&&iUe(e),i=!r&&!n&&sUe(e),a=!r&&!n&&!i&&uUe(e),s=r||n||i||a,o=s?nUe(e.length,String):[],u=o.length;for(var l in e)(t||cUe.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||oUe(l,u)))&&o.push(l);return o}var LW=fUe;function dUe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var pUe=dUe,mUe=Bf,hUe=xN,vUe=pUe,gUe=Object.prototype,yUe=gUe.hasOwnProperty;function bUe(e){if(!mUe(e))return vUe(e);var t=hUe(e),r=[];for(var n in e)n=="constructor"&&(t||!yUe.call(e,n))||r.push(n);return r}var _Ue=bUe,AUe=LW,wUe=_Ue,xUe=_A;function SUe(e){return xUe(e)?AUe(e,!0):wUe(e)}var Og=SUe,EUe=Ig,CUe=Og;function $Ue(e){return EUe(e,CUe(e))}var NUe=$Ue,_9=xW,DUe=SW,TUe=EW,kUe=CW,IUe=NW,A9=TW,w9=bA,OUe=YFe,MUe=SN,PUe=yN,BUe=Bf,LUe=lRe,FUe=OW,x9=MW,RUe=NUe;function UUe(e,t,r,n,i,a,s){var o=x9(e,r),u=x9(t,r),l=s.get(u);if(l){_9(e,r,l);return}var c=a?a(o,u,r+"",e,t,s):void 0,f=c===void 0;if(f){var d=w9(u),p=!d&&MUe(u),m=!d&&!p&&FUe(u);c=u,d||p||m?w9(o)?c=o:OUe(o)?c=kUe(o):p?(f=!1,c=DUe(u,!0)):m?(f=!1,c=TUe(u,!0)):c=[]:LUe(u)||A9(u)?(c=o,A9(o)?c=RUe(o):(!BUe(o)||PUe(o))&&(c=IUe(u))):f=!1}f&&(s.set(u,c),i(c,u,n,a,s),s.delete(u)),_9(e,r,c)}var zUe=UUe,qUe=AW,jUe=xW,VUe=dFe,HUe=zUe,GUe=Bf,ZUe=Og,WUe=MW;function FW(e,t,r,n,i){e!==t&&VUe(t,function(a,s){if(i||(i=new qUe),GUe(a))HUe(e,t,s,r,FW,n,i);else{var o=n?n(WUe(e,s),a,s+"",e,t,i):void 0;o===void 0&&(o=a),jUe(e,s,o)}},ZUe)}var KUe=FW;function JUe(e){return e}var RW=JUe;function YUe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var XUe=YUe,QUe=XUe,S9=Math.max;function eze(e,t,r){return t=S9(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=S9(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),QUe(e,this,o)}}var tze=eze;function rze(e){return function(){return e}}var nze=rze,ize=nze,E9=wW,aze=RW,sze=E9?function(e,t){return E9(e,"toString",{configurable:!0,enumerable:!1,value:ize(t),writable:!0})}:aze,oze=sze,uze=800,lze=16,cze=Date.now;function fze(e){var t=0,r=0;return function(){var n=cze(),i=lze-(n-r);if(r=n,i>0){if(++t>=uze)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dze=fze,pze=oze,mze=dze,hze=mze(pze),vze=hze,gze=RW,yze=tze,bze=vze;function _ze(e,t){return bze(yze(e,t,gze),e+"")}var Aze=_ze,wze=mA,xze=_A,Sze=BW,Eze=Bf;function Cze(e,t,r){if(!Eze(r))return!1;var n=typeof t;return(n=="number"?xze(r)&&Sze(t,r.length):n=="string"&&t in r)?wze(r[t],e):!1}var $ze=Cze,Nze=Aze,Dze=$ze;function Tze(e){return Nze(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&Dze(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,a)}return t})}var kze=Tze,Ize=KUe,Oze=kze,Mze=Oze(function(e,t,r){Ize(e,t,r)}),Pze=Mze;const UW=el(Pze),C9=e=>{let t={};for(const r in e)if(r.includes(".")){const n=Bze(r,e[r]);t=UW(n,t)}else t[r]=e[r];return t},Bze=(e,t)=>e.split(".").reverse().reduce((n,i,a)=>a===0?{[i]:t}:{[i]:Object.assign({},n)},{}),Lze=e=>`$__$${JSON.stringify(e)}`,zW=e=>{const t={};for(const r in e)Array.isArray(e[r])?t[r]=Lze(e[r]):e[r]&&typeof e[r]=="object"?t[r]=zW(e[r]):t[r]=e[r];return t},$9=e=>zW(e),N9="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",qW=()=>{let e="-";for(let t=18;0<=t;t--)e+=N9[Math.floor(Math.random()*N9.length)];return e},Fze=e=>JSON.parse(JSON.stringify(e),(t,r)=>[null,"null"].includes(r)?void 0:r),Rze="0.0.13",Uze=()=>{console.info(` Roll20 Beacon SDK v${Rze} `)},AA=e=>{const t={};for(const r in e){if(r==="repeating"){t.repeating=e.repeating;continue}if(e[r]&&typeof e[r]=="object"){const n=e[r];t[r]=AA(n)}else if(typeof e[r]=="string"){const n=e[r];n.substring(0,4)==="$__$"?t[r]=JSON.parse(n.substring(4)):t[r]=n}else t[r]!==null&&(t[r]=e[r])}return t},jW={get(e,t,r){return t==="attributes"?AA(e.attributes):Reflect.get(e,t,r)}},eS=e=>e instanceof Date,zze=e=>Object.keys(e).length===0,DE=e=>e!=null&&typeof e=="object",D9=(e,...t)=>Object.prototype.hasOwnProperty.call(e,...t),tS=e=>DE(e)&&zze(e),qze=()=>Object.create(null),VW=(e,t)=>{if(e===t)return{};if(!DE(e)||!DE(t))return t;const r=Object.keys(e).reduce((n,i)=>(D9(t,i)||(n[i]=void 0),n),qze());return eS(e)||eS(t)?e.valueOf()==t.valueOf()?{}:t:Object.keys(t).reduce((n,i)=>{if(!D9(e,i))return n[i]=t[i],n;const a=VW(e[i],t[i]);return tS(a)&&!eS(a)&&(tS(e[i])||!tS(t[i]))||(n[i]=a),n},r)},jze=(e,t=null)=>JSON.parse(JSON.stringify(e,(n,i)=>i===void 0?t:i)),Vze=e=>{const{previousObject:t,newObject:r}=e;return jze(VW($9(t),$9(r)))};function HW(e,t){return function(){return e.apply(t,arguments)}}const{toString:Hze}=Object.prototype,{getPrototypeOf:$N}=Object,{iterator:wA,toStringTag:GW}=Symbol,xA=(e=>t=>{const r=Hze.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gu=e=>(e=e.toLowerCase(),t=>xA(t)===e),SA=e=>t=>typeof t===e,{isArray:jh}=Array,Uv=SA("undefined");function Gze(e){return e!==null&&!Uv(e)&&e.constructor!==null&&!Uv(e.constructor)&&ws(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ZW=gu("ArrayBuffer");function Zze(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ZW(e.buffer),t}const Wze=SA("string"),ws=SA("function"),WW=SA("number"),EA=e=>e!==null&&typeof e=="object",Kze=e=>e===!0||e===!1,fb=e=>{if(xA(e)!=="object")return!1;const t=$N(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(GW in e)&&!(wA in e)},Jze=gu("Date"),Yze=gu("File"),Xze=gu("Blob"),Qze=gu("FileList"),eqe=e=>EA(e)&&ws(e.pipe),tqe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ws(e.append)&&((t=xA(e))==="formdata"||t==="object"&&ws(e.toString)&&e.toString()==="[object FormData]"))},rqe=gu("URLSearchParams"),[nqe,iqe,aqe,sqe]=["ReadableStream","Request","Response","Headers"].map(gu),oqe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),jh(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(n=0;n<s;n++)o=a[n],t.call(null,e[o],o,e)}}function KW(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Cd=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),JW=e=>!Uv(e)&&e!==Cd;function TE(){const{caseless:e}=JW(this)&&this||{},t={},r=(n,i)=>{const a=e&&KW(t,i)||i;fb(t[a])&&fb(n)?t[a]=TE(t[a],n):fb(n)?t[a]=TE({},n):jh(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Mg(arguments[n],r);return t}const uqe=(e,t,r,{allOwnKeys:n}={})=>(Mg(t,(i,a)=>{r&&ws(i)?e[a]=HW(i,r):e[a]=i},{allOwnKeys:n}),e),lqe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cqe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},fqe=(e,t,r,n)=>{let i,a,s;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&$N(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},dqe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},pqe=e=>{if(!e)return null;if(jh(e))return e;let t=e.length;if(!WW(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mqe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$N(Uint8Array)),hqe=(e,t)=>{const n=(e&&e[wA]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},vqe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},gqe=gu("HTMLFormElement"),yqe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),T9=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bqe=gu("RegExp"),YW=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Mg(r,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(n[a]=s||i)}),Object.defineProperties(e,n)},_qe=e=>{YW(e,(t,r)=>{if(ws(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ws(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Aqe=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return jh(e)?n(e):n(String(e).split(t)),r},wqe=()=>{},xqe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Sqe(e){return!!(e&&ws(e.append)&&e[GW]==="FormData"&&e[wA])}const Eqe=e=>{const t=new Array(10),r=(n,i)=>{if(EA(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=jh(n)?[]:{};return Mg(n,(s,o)=>{const u=r(s,i+1);!Uv(u)&&(a[o]=u)}),t[i]=void 0,a}}return n};return r(e,0)},Cqe=gu("AsyncFunction"),$qe=e=>e&&(EA(e)||ws(e))&&ws(e.then)&&ws(e.catch),XW=((e,t)=>e?setImmediate:t?((r,n)=>(Cd.addEventListener("message",({source:i,data:a})=>{i===Cd&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Cd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ws(Cd.postMessage)),Nqe=typeof queueMicrotask<"u"?queueMicrotask.bind(Cd):typeof process<"u"&&process.nextTick||XW,Dqe=e=>e!=null&&ws(e[wA]),et={isArray:jh,isArrayBuffer:ZW,isBuffer:Gze,isFormData:tqe,isArrayBufferView:Zze,isString:Wze,isNumber:WW,isBoolean:Kze,isObject:EA,isPlainObject:fb,isReadableStream:nqe,isRequest:iqe,isResponse:aqe,isHeaders:sqe,isUndefined:Uv,isDate:Jze,isFile:Yze,isBlob:Xze,isRegExp:bqe,isFunction:ws,isStream:eqe,isURLSearchParams:rqe,isTypedArray:mqe,isFileList:Qze,forEach:Mg,merge:TE,extend:uqe,trim:oqe,stripBOM:lqe,inherits:cqe,toFlatObject:fqe,kindOf:xA,kindOfTest:gu,endsWith:dqe,toArray:pqe,forEachEntry:hqe,matchAll:vqe,isHTMLForm:gqe,hasOwnProperty:T9,hasOwnProp:T9,reduceDescriptors:YW,freezeMethods:_qe,toObjectSet:Aqe,toCamelCase:yqe,noop:wqe,toFiniteNumber:xqe,findKey:KW,global:Cd,isContextDefined:JW,isSpecCompliantForm:Sqe,toJSONObject:Eqe,isAsyncFn:Cqe,isThenable:$qe,setImmediate:XW,asap:Nqe,isIterable:Dqe};function Or(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}et.inherits(Or,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const QW=Or.prototype,eK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eK[e]={value:e}});Object.defineProperties(Or,eK);Object.defineProperty(QW,"isAxiosError",{value:!0});Or.from=(e,t,r,n,i,a)=>{const s=Object.create(QW);return et.toFlatObject(e,s,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),Or.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Tqe=null;function kE(e){return et.isPlainObject(e)||et.isArray(e)}function tK(e){return et.endsWith(e,"[]")?e.slice(0,-2):e}function k9(e,t,r){return e?e.concat(t).map(function(i,a){return i=tK(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function kqe(e){return et.isArray(e)&&!e.some(kE)}const Iqe=et.toFlatObject(et,{},null,function(t){return/^is[A-Z]/.test(t)});function CA(e,t,r){if(!et.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=et.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!et.isUndefined(v[h])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,s=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(t);if(!et.isFunction(i))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(et.isDate(m))return m.toISOString();if(et.isBoolean(m))return m.toString();if(!u&&et.isBlob(m))throw new Or("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(m)||et.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,h,v){let y=m;if(m&&!v&&typeof m=="object"){if(et.endsWith(h,"{}"))h=n?h:h.slice(0,-2),m=JSON.stringify(m);else if(et.isArray(m)&&kqe(m)||(et.isFileList(m)||et.endsWith(h,"[]"))&&(y=et.toArray(m)))return h=tK(h),y.forEach(function(g,b){!(et.isUndefined(g)||g===null)&&t.append(s===!0?k9([h],b,a):s===null?h:h+"[]",l(g))}),!1}return kE(m)?!0:(t.append(k9(v,h,a),l(m)),!1)}const f=[],d=Object.assign(Iqe,{defaultVisitor:c,convertValue:l,isVisitable:kE});function p(m,h){if(!et.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(m),et.forEach(m,function(y,w){(!(et.isUndefined(y)||y===null)&&i.call(t,y,et.isString(w)?w.trim():w,h,d))===!0&&p(y,h?h.concat(w):[w])}),f.pop()}}if(!et.isObject(e))throw new TypeError("data must be an object");return p(e),t}function I9(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function NN(e,t){this._pairs=[],e&&CA(e,this,t)}const rK=NN.prototype;rK.append=function(t,r){this._pairs.push([t,r])};rK.toString=function(t){const r=t?function(n){return t.call(this,n,I9)}:I9;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Oqe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nK(e,t,r){if(!t)return e;const n=r&&r.encode||Oqe;et.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=et.isURLSearchParams(t)?t.toString():new NN(t,r).toString(n),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Mqe{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){et.forEach(this.handlers,function(n){n!==null&&t(n)})}}const O9=Mqe,iK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pqe=typeof URLSearchParams<"u"?URLSearchParams:NN,Bqe=typeof FormData<"u"?FormData:null,Lqe=typeof Blob<"u"?Blob:null,Fqe={isBrowser:!0,classes:{URLSearchParams:Pqe,FormData:Bqe,Blob:Lqe},protocols:["http","https","file","blob","url","data"]},DN=typeof window<"u"&&typeof document<"u",IE=typeof navigator=="object"&&navigator||void 0,Rqe=DN&&(!IE||["ReactNative","NativeScript","NS"].indexOf(IE.product)<0),Uqe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),zqe=DN&&window.location.href||"http://localhost",qqe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:DN,hasStandardBrowserEnv:Rqe,hasStandardBrowserWebWorkerEnv:Uqe,navigator:IE,origin:zqe},Symbol.toStringTag,{value:"Module"})),Na={...qqe,...Fqe};function jqe(e,t){return CA(e,new Na.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Na.isNode&&et.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Vqe(e){return et.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hqe(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function aK(e){function t(r,n,i,a){let s=r[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),u=a>=r.length;return s=!s&&et.isArray(i)?i.length:s,u?(et.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!et.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],a)&&et.isArray(i[s])&&(i[s]=Hqe(i[s])),!o)}if(et.isFormData(e)&&et.isFunction(e.entries)){const r={};return et.forEachEntry(e,(n,i)=>{t(Vqe(n),i,r,0)}),r}return null}function Gqe(e,t,r){if(et.isString(e))try{return(t||JSON.parse)(e),et.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const TN={transitional:iK,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=et.isObject(t);if(a&&et.isHTMLForm(t)&&(t=new FormData(t)),et.isFormData(t))return i?JSON.stringify(aK(t)):t;if(et.isArrayBuffer(t)||et.isBuffer(t)||et.isStream(t)||et.isFile(t)||et.isBlob(t)||et.isReadableStream(t))return t;if(et.isArrayBufferView(t))return t.buffer;if(et.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jqe(t,this.formSerializer).toString();if((o=et.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return CA(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Gqe(t)):t}],transformResponse:[function(t){const r=this.transitional||TN.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(et.isResponse(t)||et.isReadableStream(t))return t;if(t&&et.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Or.from(o,Or.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Na.classes.FormData,Blob:Na.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],e=>{TN.headers[e]={}});const kN=TN,Zqe=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wqe=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&Zqe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},M9=Symbol("internals");function I0(e){return e&&String(e).trim().toLowerCase()}function db(e){return e===!1||e==null?e:et.isArray(e)?e.map(db):String(e)}function Kqe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Jqe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rS(e,t,r,n,i){if(et.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!et.isString(t)){if(et.isString(n))return t.indexOf(n)!==-1;if(et.isRegExp(n))return n.test(t)}}function Yqe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Xqe(e,t){const r=et.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,s){return this[n].call(this,t,i,a,s)},configurable:!0})})}class $A{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(o,u,l){const c=I0(u);if(!c)throw new Error("header name must be a non-empty string");const f=et.findKey(i,c);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||u]=db(o))}const s=(o,u)=>et.forEach(o,(l,c)=>a(l,c,u));if(et.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(et.isString(t)&&(t=t.trim())&&!Jqe(t))s(Wqe(t),r);else if(et.isObject(t)&&et.isIterable(t)){let o={},u,l;for(const c of t){if(!et.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[l=c[0]]=(u=o[l])?et.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}s(o,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=I0(t),t){const n=et.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Kqe(i);if(et.isFunction(r))return r.call(this,i,n);if(et.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=I0(t),t){const n=et.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||rS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(s){if(s=I0(s),s){const o=et.findKey(n,s);o&&(!r||rS(n,n[o],o,r))&&(delete n[o],i=!0)}}return et.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||rS(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return et.forEach(this,(i,a)=>{const s=et.findKey(n,a);if(s){r[s]=db(i),delete r[a];return}const o=t?Yqe(a):String(a).trim();o!==a&&delete r[a],r[o]=db(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return et.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&et.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[M9]=this[M9]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=I0(s);n[o]||(Xqe(i,s),n[o]=!0)}return et.isArray(t)?t.forEach(a):a(t),this}}$A.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors($A.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});et.freezeMethods($A);const Yo=$A;function nS(e,t){const r=this||kN,n=t||r,i=Yo.from(n.headers);let a=n.data;return et.forEach(e,function(o){a=o.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function sK(e){return!!(e&&e.__CANCEL__)}function Vh(e,t,r){Or.call(this,e??"canceled",Or.ERR_CANCELED,t,r),this.name="CanceledError"}et.inherits(Vh,Or,{__CANCEL__:!0});function oK(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Or("Request failed with status code "+r.status,[Or.ERR_BAD_REQUEST,Or.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Qqe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eje(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(u){const l=Date.now(),c=n[a];s||(s=l),r[i]=u,n[i]=l;let f=a,d=0;for(;f!==i;)d+=r[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const p=c&&l-c;return p?Math.round(d*1e3/p):void 0}}function tje(e,t){let r=0,n=1e3/t,i,a;const s=(l,c=Date.now())=>{r=c,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),f=c-r;f>=n?s(l,c):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},n-f)))},()=>i&&s(i)]}const D_=(e,t,r=3)=>{let n=0;const i=eje(50,250);return tje(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-n,l=i(u),c=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},P9=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},B9=e=>(...t)=>et.asap(()=>e(...t)),rje=Na.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Na.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Na.origin),Na.navigator&&/(msie|trident)/i.test(Na.navigator.userAgent)):()=>!0,nje=Na.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const s=[e+"="+encodeURIComponent(t)];et.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),et.isString(n)&&s.push("path="+n),et.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ije(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aje(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uK(e,t,r){let n=!ije(t);return e&&(n||r==!1)?aje(e,t):t}const L9=e=>e instanceof Yo?{...e}:e;function Gd(e,t){t=t||{};const r={};function n(l,c,f,d){return et.isPlainObject(l)&&et.isPlainObject(c)?et.merge.call({caseless:d},l,c):et.isPlainObject(c)?et.merge({},c):et.isArray(c)?c.slice():c}function i(l,c,f,d){if(et.isUndefined(c)){if(!et.isUndefined(l))return n(void 0,l,f,d)}else return n(l,c,f,d)}function a(l,c){if(!et.isUndefined(c))return n(void 0,c)}function s(l,c){if(et.isUndefined(c)){if(!et.isUndefined(l))return n(void 0,l)}else return n(void 0,c)}function o(l,c,f){if(f in t)return n(l,c);if(f in e)return n(void 0,l)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(l,c,f)=>i(L9(l),L9(c),f,!0)};return et.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=u[c]||i,d=f(e[c],t[c],c);et.isUndefined(d)&&f!==o||(r[c]=d)}),r}const lK=e=>{const t=Gd({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=t;t.headers=s=Yo.from(s),t.url=nK(uK(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(et.isFormData(r)){if(Na.hasStandardBrowserEnv||Na.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[l,...c]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...c].join("; "))}}if(Na.hasStandardBrowserEnv&&(n&&et.isFunction(n)&&(n=n(t)),n||n!==!1&&rje(t.url))){const l=i&&a&&nje.read(a);l&&s.set(i,l)}return t},sje=typeof XMLHttpRequest<"u",oje=sje&&function(e){return new Promise(function(r,n){const i=lK(e);let a=i.data;const s=Yo.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:l}=i,c,f,d,p,m;function h(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const g=Yo.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:g,config:e,request:v};oK(function(E){r(E),h()},function(E){n(E),h()},_),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Or("Request aborted",Or.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new Or("Network Error",Or.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||iK;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Or(b,_.clarifyTimeoutError?Or.ETIMEDOUT:Or.ECONNABORTED,e,v)),v=null},a===void 0&&s.setContentType(null),"setRequestHeader"in v&&et.forEach(s.toJSON(),function(b,_){v.setRequestHeader(_,b)}),et.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),l&&([d,m]=D_(l,!0),v.addEventListener("progress",d)),u&&v.upload&&([f,p]=D_(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=g=>{v&&(n(!g||g.type?new Vh(null,e,v):g),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const w=Qqe(i.url);if(w&&Na.protocols.indexOf(w)===-1){n(new Or("Unsupported protocol "+w+":",Or.ERR_BAD_REQUEST,e));return}v.send(a||null)})},uje=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(l){if(!i){i=!0,o();const c=l instanceof Error?l:this.reason;n.abort(c instanceof Or?c:new Vh(c instanceof Error?c.message:c))}};let s=t&&setTimeout(()=>{s=null,a(new Or(`timeout ${t} of ms exceeded`,Or.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(a):l.removeEventListener("abort",a)}),e=null)};e.forEach(l=>l.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>et.asap(o),u}},lje=uje,cje=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},fje=async function*(e,t){for await(const r of dje(e))yield*cje(r,t)},dje=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},F9=(e,t,r,n)=>{const i=fje(e,t);let a=0,s,o=u=>{s||(s=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await i.next();if(l){o(),u.close();return}let f=c.byteLength;if(r){let d=a+=f;r(d)}u.enqueue(new Uint8Array(c))}catch(l){throw o(l),l}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},NA=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cK=NA&&typeof ReadableStream=="function",pje=NA&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fK=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mje=cK&&fK(()=>{let e=!1;const t=new Request(Na.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),R9=64*1024,OE=cK&&fK(()=>et.isReadableStream(new Response("").body)),T_={stream:OE&&(e=>e.body)};NA&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!T_[t]&&(T_[t]=et.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Or(`Response type '${t}' is not supported`,Or.ERR_NOT_SUPPORT,n)})})})(new Response);const hje=async e=>{if(e==null)return 0;if(et.isBlob(e))return e.size;if(et.isSpecCompliantForm(e))return(await new Request(Na.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(et.isArrayBufferView(e)||et.isArrayBuffer(e))return e.byteLength;if(et.isURLSearchParams(e)&&(e=e+""),et.isString(e))return(await pje(e)).byteLength},vje=async(e,t)=>{const r=et.toFiniteNumber(e.getContentLength());return r??hje(t)},gje=NA&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:u,responseType:l,headers:c,withCredentials:f="same-origin",fetchOptions:d}=lK(e);l=l?(l+"").toLowerCase():"text";let p=lje([i,a&&a.toAbortSignal()],s),m;const h=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(u&&mje&&r!=="get"&&r!=="head"&&(v=await vje(c,n))!==0){let _=new Request(t,{method:"POST",body:n,duplex:"half"}),x;if(et.isFormData(n)&&(x=_.headers.get("content-type"))&&c.setContentType(x),_.body){const[E,C]=P9(v,D_(B9(u)));n=F9(_.body,R9,E,C)}}et.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...d,signal:p,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let w=await fetch(m,d);const g=OE&&(l==="stream"||l==="response");if(OE&&(o||g&&h)){const _={};["status","statusText","headers"].forEach($=>{_[$]=w[$]});const x=et.toFiniteNumber(w.headers.get("content-length")),[E,C]=o&&P9(x,D_(B9(o),!0))||[];w=new Response(F9(w.body,R9,E,()=>{C&&C(),h&&h()}),_)}l=l||"text";let b=await T_[et.findKey(T_,l)||"text"](w,e);return!g&&h&&h(),await new Promise((_,x)=>{oK(_,x,{data:b,headers:Yo.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:m})})}catch(y){throw h&&h(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Or("Network Error",Or.ERR_NETWORK,e,m),{cause:y.cause||y}):Or.from(y,y&&y.code,e,m)}}),ME={http:Tqe,xhr:oje,fetch:gje};et.forEach(ME,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const U9=e=>`- ${e}`,yje=e=>et.isFunction(e)||e===null||e===!1,dK={getAdapter:e=>{e=et.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let s;if(n=r,!yje(r)&&(n=ME[(s=String(r)).toLowerCase()],n===void 0))throw new Or(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=t?a.length>1?`since :
`+a.map(U9).join(`
`):" "+U9(a[0]):"as no adapter specified";throw new Or("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:ME};function iS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vh(null,e)}function z9(e){return iS(e),e.headers=Yo.from(e.headers),e.data=nS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dK.getAdapter(e.adapter||kN.adapter)(e).then(function(n){return iS(e),n.data=nS.call(e,e.transformResponse,n),n.headers=Yo.from(n.headers),n},function(n){return sK(n)||(iS(e),n&&n.response&&(n.response.data=nS.call(e,e.transformResponse,n.response),n.response.headers=Yo.from(n.response.headers))),Promise.reject(n)})}const pK="1.10.0",DA={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{DA[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const q9={};DA.transitional=function(t,r,n){function i(a,s){return"[Axios v"+pK+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(t===!1)throw new Or(i(s," has been removed"+(r?" in "+r:"")),Or.ERR_DEPRECATED);return r&&!q9[s]&&(q9[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,o):!0}};DA.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function bje(e,t,r){if(typeof e!="object")throw new Or("options must be an object",Or.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],s=t[a];if(s){const o=e[a],u=o===void 0||s(o,a,e);if(u!==!0)throw new Or("option "+a+" must be "+u,Or.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Or("Unknown option "+a,Or.ERR_BAD_OPTION)}}const pb={assertOptions:bje,validators:DA},Iu=pb.validators;class k_{constructor(t){this.defaults=t||{},this.interceptors={request:new O9,response:new O9}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Gd(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&pb.assertOptions(n,{silentJSONParsing:Iu.transitional(Iu.boolean),forcedJSONParsing:Iu.transitional(Iu.boolean),clarifyTimeoutError:Iu.transitional(Iu.boolean)},!1),i!=null&&(et.isFunction(i)?r.paramsSerializer={serialize:i}:pb.assertOptions(i,{encode:Iu.function,serialize:Iu.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),pb.assertOptions(r,{baseUrl:Iu.spelling("baseURL"),withXsrfToken:Iu.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&et.merge(a.common,a[r.method]);a&&et.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=Yo.concat(s,a);const o=[];let u=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(u=u&&h.synchronous,o.unshift(h.fulfilled,h.rejected))});const l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let c,f=0,d;if(!u){const m=[z9.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,l),d=m.length,c=Promise.resolve(r);f<d;)c=c.then(m[f++],m[f++]);return c}d=o.length;let p=r;for(f=0;f<d;){const m=o[f++],h=o[f++];try{p=m(p)}catch(v){h.call(this,v);break}}try{c=z9.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,d=l.length;f<d;)c=c.then(l[f++],l[f++]);return c}getUri(t){t=Gd(this.defaults,t);const r=uK(t.baseURL,t.url,t.allowAbsoluteUrls);return nK(r,t.params,t.paramsSerializer)}}et.forEach(["delete","get","head","options"],function(t){k_.prototype[t]=function(r,n){return this.request(Gd(n||{},{method:t,url:r,data:(n||{}).data}))}});et.forEach(["post","put","patch"],function(t){function r(n){return function(a,s,o){return this.request(Gd(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}k_.prototype[t]=r(),k_.prototype[t+"Form"]=r(!0)});const mb=k_;class IN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},t(function(a,s,o){n.reason||(n.reason=new Vh(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new IN(function(i){t=i}),cancel:t}}}const _je=IN;function Aje(e){return function(r){return e.apply(null,r)}}function wje(e){return et.isObject(e)&&e.isAxiosError===!0}const PE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PE).forEach(([e,t])=>{PE[t]=e});const xje=PE;function mK(e){const t=new mb(e),r=HW(mb.prototype.request,t);return et.extend(r,mb.prototype,t,{allOwnKeys:!0}),et.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return mK(Gd(e,i))},r}const Ii=mK(kN);Ii.Axios=mb;Ii.CanceledError=Vh;Ii.CancelToken=_je;Ii.isCancel=sK;Ii.VERSION=pK;Ii.toFormData=CA;Ii.AxiosError=Or;Ii.Cancel=Ii.CanceledError;Ii.all=function(t){return Promise.all(t)};Ii.spread=Aje;Ii.isAxiosError=wje;Ii.mergeConfig=Gd;Ii.AxiosHeaders=Yo;Ii.formToJSON=e=>aK(et.isHTMLForm(e)?new FormData(e):e);Ii.getAdapter=dK.getAdapter;Ii.HttpStatusCode=xje;Ii.default=Ii;const Sje=Ii,Eje=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var Cje=e=>!Eje.has(e&&e.code);const $je=el(Cje);function j9(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(l){r(l);return}o.done?t(u):Promise.resolve(u).then(n,i)}function hK(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(u){j9(a,n,i,s,o,"next",u)}function o(u){j9(a,n,i,s,o,"throw",u)}s(void 0)})}}function V9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V9(Object(r),!0).forEach(function(n){Nje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nje(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vK="axios-retry";function gK(e){var t=["ERR_CANCELED","ECONNABORTED"];return!e.response&&!!e.code&&!t.includes(e.code)&&$je(e)}var yK=["get","head","options"],Dje=yK.concat(["put","delete"]);function ON(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status>=500&&e.response.status<=599)}function Tje(e){return e.config?ON(e)&&yK.indexOf(e.config.method)!==-1:!1}function bK(e){return e.config?ON(e)&&Dje.indexOf(e.config.method)!==-1:!1}function _K(e){return gK(e)||bK(e)}function kje(){return 0}function Ije(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,r=Math.pow(2,e)*t,n=r*.2*Math.random();return r+n}var Oje={retries:3,retryCondition:_K,retryDelay:kje,shouldResetTimeout:!1,onRetry:()=>{}};function Mje(e,t){return aS(aS(aS({},Oje),t),e[vK])}function H9(e,t){var r=Mje(e,t);return r.retryCount=r.retryCount||0,e[vK]=r,r}function Pje(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}function Bje(e,t){return BE.apply(this,arguments)}function BE(){return BE=hK(function*(e,t){var{retries:r,retryCondition:n}=e,i=e.retryCount<r&&n(t);if(typeof i=="object")try{var a=yield i;return a!==!1}catch{return!1}return i}),BE.apply(this,arguments)}function pf(e,t){var r=e.interceptors.request.use(i=>{var a=H9(i,t);return a.lastRequestTime=Date.now(),i}),n=e.interceptors.response.use(null,function(){var i=hK(function*(a){var{config:s}=a;if(!s)return Promise.reject(a);var o=H9(s,t);if(yield Bje(o,a)){o.retryCount+=1;var{retryDelay:u,shouldResetTimeout:l,onRetry:c}=o,f=u(o.retryCount,a);if(Pje(e,s),!l&&s.timeout&&o.lastRequestTime){var d=Date.now()-o.lastRequestTime,p=s.timeout-d-f;if(p<=0)return Promise.reject(a);s.timeout=p}return s.transformRequest=[m=>m],yield c(o.retryCount,a,s),new Promise(m=>setTimeout(()=>m(e(s)),f))}return Promise.reject(a)});return function(a){return i.apply(this,arguments)}}());return{requestInterceptorId:r,responseInterceptorId:n}}pf.isNetworkError=gK;pf.isSafeRequestError=Tje;pf.isIdempotentRequestError=bK;pf.isNetworkOrIdempotentRequestError=_K;pf.exponentialDelay=Ije;pf.isRetryableError=ON;globalThis&&globalThis.__awaiter;pf(Sje,{retries:3,retryCondition(e){var t,r,n,i;const a=e;return((t=a.response)===null||t===void 0?void 0:t.status)===404&&((n=(r=a.response)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.message)==="sheet_not_found"?!1:pf.isNetworkOrIdempotentRequestError(a)||((i=a.response)===null||i===void 0?void 0:i.status)===429}});function Lje(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Fje=Lje,Rje=$W,Uje=Rje(Object.keys,Object),zje=Uje,qje=xN,jje=zje,Vje=Object.prototype,Hje=Vje.hasOwnProperty;function Gje(e){if(!qje(e))return jje(e);var t=[];for(var r in Object(e))Hje.call(e,r)&&r!="constructor"&&t.push(r);return t}var Zje=Gje,Wje=LW,Kje=Zje,Jje=_A;function Yje(e){return Jje(e)?Wje(e):Kje(e)}var MN=Yje,Xje=Ig,Qje=MN;function eVe(e,t){return e&&Xje(t,Qje(t),e)}var tVe=eVe,rVe=Ig,nVe=Og;function iVe(e,t){return e&&rVe(t,nVe(t),e)}var aVe=iVe;function sVe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var oVe=sVe;function uVe(){return[]}var AK=uVe,lVe=oVe,cVe=AK,fVe=Object.prototype,dVe=fVe.propertyIsEnumerable,G9=Object.getOwnPropertySymbols,pVe=G9?function(e){return e==null?[]:(e=Object(e),lVe(G9(e),function(t){return dVe.call(e,t)}))}:cVe,PN=pVe,mVe=Ig,hVe=PN;function vVe(e,t){return mVe(e,hVe(e),t)}var gVe=vVe;function yVe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var wK=yVe,bVe=wK,_Ve=wN,AVe=PN,wVe=AK,xVe=Object.getOwnPropertySymbols,SVe=xVe?function(e){for(var t=[];e;)bVe(t,AVe(e)),e=_Ve(e);return t}:wVe,xK=SVe,EVe=Ig,CVe=xK;function $Ve(e,t){return EVe(e,CVe(e),t)}var NVe=$Ve,DVe=wK,TVe=bA;function kVe(e,t,r){var n=t(e);return TVe(e)?n:DVe(n,r(e))}var SK=kVe,IVe=SK,OVe=PN,MVe=MN;function PVe(e){return IVe(e,MVe,OVe)}var BVe=PVe,LVe=SK,FVe=xK,RVe=Og;function UVe(e){return LVe(e,RVe,FVe)}var zVe=UVe,qVe=bp,jVe=sl,VVe=qVe(jVe,"DataView"),HVe=VVe,GVe=bp,ZVe=sl,WVe=GVe(ZVe,"Promise"),KVe=WVe,JVe=bp,YVe=sl,XVe=JVe(YVe,"Set"),QVe=XVe,eHe=bp,tHe=sl,rHe=eHe(tHe,"WeakMap"),nHe=rHe,LE=HVe,FE=bN,RE=KVe,UE=QVe,zE=nHe,EK=kg,Hh=_W,Z9="[object Map]",iHe="[object Object]",W9="[object Promise]",K9="[object Set]",J9="[object WeakMap]",Y9="[object DataView]",aHe=Hh(LE),sHe=Hh(FE),oHe=Hh(RE),uHe=Hh(UE),lHe=Hh(zE),hd=EK;(LE&&hd(new LE(new ArrayBuffer(1)))!=Y9||FE&&hd(new FE)!=Z9||RE&&hd(RE.resolve())!=W9||UE&&hd(new UE)!=K9||zE&&hd(new zE)!=J9)&&(hd=function(e){var t=EK(e),r=t==iHe?e.constructor:void 0,n=r?Hh(r):"";if(n)switch(n){case aHe:return Y9;case sHe:return Z9;case oHe:return W9;case uHe:return K9;case lHe:return J9}return t});var BN=hd,cHe=Object.prototype,fHe=cHe.hasOwnProperty;function dHe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&fHe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var pHe=dHe,mHe=AN;function hHe(e,t){var r=t?mHe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var vHe=hHe,gHe=/\w*$/;function yHe(e){var t=new e.constructor(e.source,gHe.exec(e));return t.lastIndex=e.lastIndex,t}var bHe=yHe,X9=gN,Q9=X9?X9.prototype:void 0,eP=Q9?Q9.valueOf:void 0;function _He(e){return eP?Object(eP.call(e)):{}}var AHe=_He,wHe=AN,xHe=vHe,SHe=bHe,EHe=AHe,CHe=EW,$He="[object Boolean]",NHe="[object Date]",DHe="[object Map]",THe="[object Number]",kHe="[object RegExp]",IHe="[object Set]",OHe="[object String]",MHe="[object Symbol]",PHe="[object ArrayBuffer]",BHe="[object DataView]",LHe="[object Float32Array]",FHe="[object Float64Array]",RHe="[object Int8Array]",UHe="[object Int16Array]",zHe="[object Int32Array]",qHe="[object Uint8Array]",jHe="[object Uint8ClampedArray]",VHe="[object Uint16Array]",HHe="[object Uint32Array]";function GHe(e,t,r){var n=e.constructor;switch(t){case PHe:return wHe(e);case $He:case NHe:return new n(+e);case BHe:return xHe(e,r);case LHe:case FHe:case RHe:case UHe:case zHe:case qHe:case jHe:case VHe:case HHe:return CHe(e,r);case DHe:return new n;case THe:case OHe:return new n(e);case kHe:return SHe(e);case IHe:return new n;case MHe:return EHe(e)}}var ZHe=GHe,WHe=BN,KHe=_p,JHe="[object Map]";function YHe(e){return KHe(e)&&WHe(e)==JHe}var XHe=YHe,QHe=XHe,eGe=EN,tP=CN,rP=tP&&tP.isMap,tGe=rP?eGe(rP):QHe,rGe=tGe,nGe=BN,iGe=_p,aGe="[object Set]";function sGe(e){return iGe(e)&&nGe(e)==aGe}var oGe=sGe,uGe=oGe,lGe=EN,nP=CN,iP=nP&&nP.isSet,cGe=iP?lGe(iP):uGe,fGe=cGe,dGe=AW,pGe=Fje,mGe=PW,hGe=tVe,vGe=aVe,gGe=SW,yGe=CW,bGe=gVe,_Ge=NVe,AGe=BVe,wGe=zVe,xGe=BN,SGe=pHe,EGe=ZHe,CGe=NW,$Ge=bA,NGe=SN,DGe=rGe,TGe=Bf,kGe=fGe,IGe=MN,OGe=Og,MGe=1,PGe=2,BGe=4,CK="[object Arguments]",LGe="[object Array]",FGe="[object Boolean]",RGe="[object Date]",UGe="[object Error]",$K="[object Function]",zGe="[object GeneratorFunction]",qGe="[object Map]",jGe="[object Number]",NK="[object Object]",VGe="[object RegExp]",HGe="[object Set]",GGe="[object String]",ZGe="[object Symbol]",WGe="[object WeakMap]",KGe="[object ArrayBuffer]",JGe="[object DataView]",YGe="[object Float32Array]",XGe="[object Float64Array]",QGe="[object Int8Array]",eZe="[object Int16Array]",tZe="[object Int32Array]",rZe="[object Uint8Array]",nZe="[object Uint8ClampedArray]",iZe="[object Uint16Array]",aZe="[object Uint32Array]",Hn={};Hn[CK]=Hn[LGe]=Hn[KGe]=Hn[JGe]=Hn[FGe]=Hn[RGe]=Hn[YGe]=Hn[XGe]=Hn[QGe]=Hn[eZe]=Hn[tZe]=Hn[qGe]=Hn[jGe]=Hn[NK]=Hn[VGe]=Hn[HGe]=Hn[GGe]=Hn[ZGe]=Hn[rZe]=Hn[nZe]=Hn[iZe]=Hn[aZe]=!0;Hn[UGe]=Hn[$K]=Hn[WGe]=!1;function hb(e,t,r,n,i,a){var s,o=t&MGe,u=t&PGe,l=t&BGe;if(r&&(s=i?r(e,n,i,a):r(e)),s!==void 0)return s;if(!TGe(e))return e;var c=$Ge(e);if(c){if(s=SGe(e),!o)return yGe(e,s)}else{var f=xGe(e),d=f==$K||f==zGe;if(NGe(e))return gGe(e,o);if(f==NK||f==CK||d&&!i){if(s=u||d?{}:CGe(e),!o)return u?_Ge(e,vGe(s,e)):bGe(e,hGe(s,e))}else{if(!Hn[f])return i?e:{};s=EGe(e,f,o)}}a||(a=new dGe);var p=a.get(e);if(p)return p;a.set(e,s),kGe(e)?e.forEach(function(v){s.add(hb(v,t,r,v,e,a))}):DGe(e)&&e.forEach(function(v,y){s.set(y,hb(v,t,r,y,e,a))});var m=l?u?wGe:AGe:u?OGe:IGe,h=c?void 0:m(e);return pGe(h||e,function(v,y){h&&(y=v,v=e[y]),mGe(s,y,hb(v,t,r,y,e,a))}),s}var sZe=hb,oZe=sZe,uZe=1,lZe=4;function cZe(e){return oZe(e,uZe|lZe)}var fZe=cZe;const dZe=el(fZe);var sS=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})},pZe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const mZe=e=>{const{addHandler:t,removeHandler:r,port:n,characters:i,characterProxies:a,headless:s,singleSheet:o,mancerContext:u,workerPorts:l,relayId:c}=e;return Object.assign(Object.assign({},u&&{mancerContext:u}),{addHandler:t,removeHandler:r,characters:a,update:({options:f,character:d,event:p})=>new Promise(m=>{var h,v;const y=Sn(),{updateSelf:w}=f||{};if(t(y,g=>{g.type==="resolve"&&m()}),!d.id)throw"Cannot update a character without a character id.";d.attributes&&(d.attributes=C9(d.attributes)),(w||!s&&!o)&&e.onChange({character:d},e.dispatch),(h=e.dispatch)===null||h===void 0||h.sendSheetworkerMessage({type:"updateCharacterData",character:d}),(v=e.updateCharacter)===null||v===void 0||v.call(e,d),n.postMessage({type:"update",options:f,event:p,character:d,requestId:y,relayId:c})}),updateCharacter:f=>new Promise(d=>{var p;if(!f.character.id)throw"Cannot update a character without a character id.";if(!i[f.character.id])throw"Cannot update a character that is not subscribed to.";let m;const h=Sn();try{m=dZe(f.character)}catch{throw"There was an error when attempting to clone character data."}t(h,v=>{v.type==="resolve"&&d()}),m.attributes&&(m.attributes=Vze({previousObject:i[m.id].attributes,newObject:m.attributes})),(p=e.updateCharacter)===null||p===void 0||p.call(e,m),n.postMessage({type:"update",character:m,requestId:h,relayId:c})}),setSilent:()=>{n.postMessage({type:"setSilent"})},updateSharedSettings:({settings:f})=>new Promise(d=>{const p=Sn();t(p,h=>{h.type==="resolve"&&d()});const m=C9(f);n.postMessage({type:"updateSharedSettings",settings:m,requestId:p})}),subscribe:({characterId:f})=>new Promise(d=>{const p=Sn();t(p,m=>{if(m.type=="subscribe"){const h=AA(m.character);d(h),i[m.character.id]=h,a[m.character.id]=new Proxy(i[m.character.id],jW)}}),n.postMessage({type:"subscribe",requestId:p,characterId:f})}),perform:({characterId:f,action:d,args:p=[]})=>new Promise(m=>sS(void 0,void 0,void 0,function*(){if(!e.onPerformAction)throw"Unable to process actions.";const h={type:"performAction",characterId:f,action:d,args:p};i[f]||s?(yield e.onPerformAction(h),m()):(h.requestId=Sn(),t(h.requestId,v=>{v.type==="resolve"&&m()}),n.postMessage(h))})),getComputed:({characterId:f,property:d,args:p=[]})=>new Promise(m=>sS(void 0,void 0,void 0,function*(){if(!e.onGetComputed)throw"Unable to process computed values.";const h={type:"getComputed",characterId:f,property:d,args:p};if(i[f]||s){const v=yield e.onGetComputed(h);m(v)}else h.requestId=Sn(),t(h.requestId,v=>{v.type=="computedValue"&&m(v.result)}),n.postMessage(h)})),setComputed:({characterId:f,property:d,args:p=[]})=>new Promise(m=>sS(void 0,void 0,void 0,function*(){if(!e.onSetComputed||!e.onGetComputed)throw"Unable to process computed values.";const h={type:"setComputed",characterId:f,property:d,args:p};if(i[f]||s){yield e.onSetComputed(h);const v=yield e.onGetComputed(h);m(v)}else h.requestId=Sn(),t(h.requestId,v=>{v.type=="computedValue"&&m(v.result)}),n.postMessage(h)})),roll:f=>new Promise(d=>{const p=Sn();t(p,m=>{m.type=="rollResults"&&d(m)}),n.postMessage(Object.assign(Object.assign({type:"roll"},f),{requestId:p,messageId:f.messageId||Sn()}))}),post:({messageId:f,characterId:d,playerid:p,content:m,options:h})=>new Promise(v=>{const y=Sn(),w=f||Sn();t(y,g=>{g.type==="resolve"&&v(w)}),n.postMessage(Object.assign(Object.assign(Object.assign({type:"post",messageId:w,requestId:y},d&&{characterId:d}),p&&{playerid:p}),{content:m,options:h}))}),query:({options:f})=>new Promise(d=>{const p=Sn();t(p,m=>{if(m.type=="queryResults"){const h=pZe(m.results,[]),{errors:v}=m;d({results:h,errors:v})}}),n.postMessage({type:"query",requestId:p,options:f})}),compendiumRequest:({query:f})=>new Promise(d=>{const p=Sn();t(p,m=>{m.type=="compendiumResults"&&d(m.results)}),n.postMessage({type:"compendiumRequest",query:f,requestId:p})}),debouncedCompendiumRequest:({query:f})=>new Promise(d=>{const p=Sn();t(p,m=>{m.type=="compendiumResults"&&d(m.results)}),n.postMessage({type:"debouncedCompendiumRequest",query:f,requestId:p})}),getTokens:({characterId:f})=>new Promise(d=>{const p=Sn();t(p,m=>{if(m.type=="tokenResults"){const{selected:h,tokens:v}=m;d({selected:h,tokens:v})}}),n.postMessage({type:"getTokens",requestId:p,characterId:f})}),updateTokensByCharacter:({characterId:f,token:d})=>new Promise(p=>{const m=Sn();t(m,h=>{h.type=="resolve"&&p()}),n.postMessage({type:"updateTokensByCharacter",requestId:m,characterId:f,token:d})}),updateTokensByIds:({tokenIds:f,token:d})=>new Promise(p=>{const m=Sn();t(m,h=>{h.type=="resolve"&&p()}),n.postMessage({type:"updateTokensByIds",requestId:m,tokenIds:f,token:d})}),addToTracker:f=>new Promise(d=>{var p;if(!f.tokenId&&!(!((p=f.custom)===null||p===void 0)&&p.name))throw"Must provide either a tokenId or a custom name to add an item to the tracker.";const m=Sn();t(m,h=>{h.type=="resolve"&&d()}),n.postMessage(Object.assign({type:"addToTracker",requestId:m},f))}),setContainerSize:f=>new Promise(d=>{if(!f.height&&!f.width)throw"Must provide either a height or a width to set the container size.";const p=Sn();t(p,m=>{m.type=="resolve"&&d()}),n.postMessage(Object.assign({type:"setContainerSize",requestId:p},f))}),addActionsToHost:f=>new Promise(d=>{if(!f.name)throw"Must provide a macro name.";if(!f.action&&!f.sheetAction)throw"Must provide an action string or a sheetAction object.";if(f.action&&f.sheetAction)throw"Must provide either an action string or a sheetAction object, but not both.";if(f.action&&f.name.includes(" "))throw"Action name cannot contain spaces";if(f.action&&f.name.startsWith("#"))throw"Action name cannot start with a hash";if(f.sheetAction&&!f.sheetAction.characterId)throw"Must provide a characterId for sheetAction.";const{name:p,action:m,sheetAction:h}=f,v=f.requestId||Sn(),y=f.actionId||qW(),w=f.locations||[];h&&(h.args||(h.args=[])),t(v,g=>{g.type=="resolve"&&d()}),n.postMessage({type:"addActionsToHost",name:p,action:m,sheetAction:h,requestId:v,actionId:y,locations:w})}),getActions:f=>new Promise(d=>{const p=Sn();t(p,m=>{if(m.type=="actionsResults"){const{actions:h}=m;d({actions:h})}}),n.postMessage(Object.assign({type:"getActions",requestId:p},f))}),autoLinkText:({text:f})=>new Promise(d=>{const p=Sn();t(p,m=>{m.type=="autoLinkedText"&&d(m.convertedText)}),n.postMessage({type:"autoLinkText",text:f,requestId:p})}),openDialogFromLink:({urlString:f})=>{n.postMessage({type:"openDialogFromLink",urlString:f})},legacyActionButton:f=>{n.postMessage(Object.assign(Object.assign({},f),{type:"legacyActionButton"}))},legacyDeleteRepeatingRow:f=>{n.postMessage(Object.assign(Object.assign({},f),{type:"legacyDeleteRepeatingRow",repSection:`repeating_${f.repSection}`}))},sendSheetworkerMessage:f=>{const d=JSON.parse(JSON.stringify(f));for(const p of l)p.postMessage(d)}})};var oS=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):i(c.value).then(o,u)}l((n=n.apply(e,t||[])).next())})};const hZe=e=>{const{actions:t,computed:r,port:n,dispatch:i,characters:a}=e,s={},o=p=>oS(void 0,void 0,void 0,function*(){const{characterId:m,requestId:h,action:v,messageId:y,rolls:w}=p,g=p.args||[];if(!t[v])throw`Unable to find action "${v}".`;a[m]||(s[m]||(s[m]=i.subscribe({characterId:m})),a[m]=yield s[m]),yield t[v].method({dispatch:i,character:a[m],messageId:y,rolls:w},...g),h&&n.postMessage({type:"resolve",requestId:h})}),u=p=>oS(void 0,void 0,void 0,function*(){const{characterId:m,requestId:h,property:v}=p,y=p.args||[];if(!r[v])throw`Unable to find property: "${v}".`;a[m]||(s[m]||(s[m]=i.subscribe({characterId:m})),a[m]=yield s[m]);const w=r[v].get({character:a[m]},...y);return h&&n.postMessage({type:"computedValue",requestId:h,result:w}),w}),l=p=>oS(void 0,void 0,void 0,function*(){var m,h,v,y;const{characterId:w,requestId:g,property:b}=p,_=p.args||[];if(!r[b])throw`Unable to find property: "${b}".`;if(!r[b].set)throw`Property "${b}" does not have a setter.`;a[w]||(s[w]||(s[w]=i.subscribe({characterId:w})),a[w]=yield s[w]),yield(h=(m=r[b]).set)===null||h===void 0?void 0:h.call(m,{character:a[w],dispatch:i},..._);const x=yield(y=(v=r[b]).get)===null||y===void 0?void 0:y.call(v,{character:a[w]},..._);return g&&n.postMessage({type:"computedValue",requestId:g,result:x}),x}),c=p=>{var m,h,v,y,w,g,b,_,x,E,C,$,D,N,k,P,U,L,B,O,T,j,R;const le=p.id;if(le){a[le]=UW(a[le],p),a[le].attributes=Fze(a[le].attributes);for(const re of((m=p.mancer)===null||m===void 0?void 0:m.toDelete)||[])(v=(h=a[le].mancer)===null||h===void 0?void 0:h.data)===null||v===void 0||delete v[re],(w=(y=a[le].mancer)===null||y===void 0?void 0:y.legacyMancerGet)===null||w===void 0||delete w[re],(b=(g=a[le].mancer)===null||g===void 0?void 0:g.newMancerGet)===null||b===void 0||delete b[re];!((_=a[le].mancer)===null||_===void 0)&&_.toDelete&&(a[le].mancer.toDelete=[]);for(const re in((x=p.mancer)===null||x===void 0?void 0:x.data)||{}){!(($=(C=(E=p.mancer)===null||E===void 0?void 0:E.data)===null||C===void 0?void 0:C[re])===null||$===void 0)&&$.repeating&&((R=a[le].mancer.data)[re]||(R[re]={}),a[le].mancer.data[re].repeating=(k=(N=(D=p.mancer)===null||D===void 0?void 0:D.data)===null||N===void 0?void 0:N[re])===null||k===void 0?void 0:k.repeating);for(const F of["values","data"]){const H=(L=(U=(P=p.mancer)===null||P===void 0?void 0:P.data)===null||U===void 0?void 0:U[re])===null||L===void 0?void 0:L[F];for(const ve in H)[null,"null"].includes(H[ve])&&((j=(T=(O=(B=a[le].mancer)===null||B===void 0?void 0:B.data)===null||O===void 0?void 0:O[re])===null||T===void 0?void 0:T[F])===null||j===void 0||delete j[ve])}}}},f={};for(const p in t)f[p]={};const d={};for(const p in r)d[p]={tokenBarValue:r[p].tokenBarValue||!1,readonly:!r[p].set,description:r[p].description};return{onPerformAction:o,onGetComputed:u,onSetComputed:l,updateCharacter:c,actionSummary:f,computedSummary:d}},DK={id:"default",name:"First Last",attributes:{},abilities:{},bio:"This is a character bio.",gmNotes:"These are GM notes.",token:{},avatar:"https://some-url.com/image.jpg"},vZe={colorTheme:"dark",language:"en",gm:!1,owned:!1,headless:!1,sandbox:!1,settingsSheet:!1,compendium:""},gZe="eb7b7961-395d-4b4c-afc6-9ebcadaf0150";Object.assign(Object.assign({},vZe),{headless:!0});const yZe={character:DK};Object.assign(Object.assign({},yZe),{type:"change"});const bZe={settings:{owned:!1,colorTheme:"light"}};Object.assign({type:"settingsChange"},bZe);const TK={requestId:gZe,characterId:"asdf23512346asdg",property:"test",args:["one","two"]};Object.assign(Object.assign({},TK),{type:"getComputed"});Object.assign(Object.assign({},TK),{type:"setComputed"});const uS={strings:{id:null,layer:null,imgsrc:null,name:null,gmnotes:null,controlledby:null,bar1_value:null,bar1_max:null,bar1_link:null,bar2_value:null,bar2_max:null,bar2_link:null,bar3_value:null,bar3_max:null,bar3_link:null,represents:null,aura1_radius:null,aura1_color:null,aura2_color:null,tint_color:null,statusmarkers:null,light_radius:null,light_dimradius:null,light_angle:null,light_losangle:null,adv_fow_view_distance:null,sides:null,lastmove:null,lightColor:null,aura2_radius:null,tooltip:null},numbers:{left:null,top:null,width:null,height:null,rotation:null,light_multiplier:null,currentSide:null,night_vision_distance:null,bright_light_distance:null,low_light_distance:null,limit_field_of_vision_center:null,limit_field_of_vision_total:null,limit_field_of_night_vision_center:null,limit_field_of_night_vision_total:null,directional_bright_light_total:null,directional_bright_light_center:null,directional_low_light_total:null,directional_low_light_center:null,light_sensitivity_multiplier:null,dim_light_opacity:null},booleans:{isdrawing:null,flipv:null,fliph:null,aura1_square:null,aura2_square:null,showname:null,showplayers_name:null,showplayers_bar1:null,showplayers_bar2:null,showplayers_bar3:null,showplayers_aura1:null,showplayers_aura2:null,playersedit_name:null,playersedit_bar1:null,playersedit_bar2:null,playersedit_bar3:null,playersedit_aura1:null,playersedit_aura2:null,light_otherplayers:null,light_hassight:null,has_bright_light_vision:null,has_night_vision:null,emits_bright_light:null,emits_low_light:null,has_limit_field_of_vision:null,has_limit_field_of_night_vision:null,has_directional_bright_light:null,has_directional_low_light:null,show_tooltip:null,lockMovement:null}};Object.keys(uS.strings).concat(Object.keys(uS.numbers)).concat(Object.keys(uS.booleans));var _Ze=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const I_={},AZe=(e,t)=>I_[e]=t,aP=e=>delete I_[e],wZe=e=>new Promise((t,r)=>{Uze();let n=!1;const i=()=>{if(window.name.includes("popout_"))return window.opener.postMessage("ready","*");window.parent?window.parent.postMessage("ready","*"):window.opener&&window.opener.postMessage("ready","*")},a=setInterval(()=>{i()},2e3);window.document.readyState==="complete"?i():window.onload=()=>{i()};const s=({data:o,ports:u})=>{if(o.type!=="init"&&!n)return;clearInterval(a),n=!0;const[l,...c]=u,{headless:f,sandbox:d,singleSheet:p}=o.settings,{relayId:m}=o,h={},v={};if(o.character){const N=AA(o.character);h[o.character.id]=N,v[o.character.id]=new Proxy(h[o.character.id],jW),document.title=o.character.name}const y={templates:e.mancerTemplates||{repeating:{},charmancer:{}},translation:e.translation||{},currentRepeating:{},character:h[o.character.id],workerPromises:{},workerCount:o.workerCount||0,currentLocks:[],compendium:o.settings.compendium,legacySanitization:e.legacySanitization||!1,pendingRepeatingSections:{selector:"",content:"",responses:{}}},w={port:l,workerPorts:c,addHandler:AZe,removeHandler:aP,relayId:m,headless:f,singleSheet:p,characters:h,characterProxies:v,mancerContext:y,onChange:e.handlers.onChange},g=mZe(w);y.debouncedAppend=GG(20,()=>{aW(y,g)}),d||window.removeEventListener("message",s);const{onPerformAction:b,onGetComputed:_,onSetComputed:x,updateCharacter:E,actionSummary:C,computedSummary:$}=hZe({actions:e.actions,computed:e.computed,characters:h,headless:f,port:l,dispatch:g});w.onPerformAction=b,w.onGetComputed=_,w.onSetComputed=x,w.updateCharacter=E,w.dispatch=g,f||e.handlers.onInit(o,g);const D={type:"init",ready:!0};f&&(D.translations=e.handlers.onTranslationsRequest(o.settings.language||"en"),D.actionSummary=C,D.computedSummary=$),l.postMessage(D),l.onmessage=({data:N})=>{var k,P;"requestId"in N&&I_[N.requestId]&&I_[N.requestId](N);const U=_Ze(N,["type"]);switch(N.type){case"change":E(N.character),!f&&(N.relayId!==m||e.legacySheet)&&e.handlers.onChange(U,g),N.character.name&&(document.title=N.character.name);break;case"settingsChange":f||e.handlers.onSettingsChange(U,g);break;case"sharedSettingsChange":e.handlers.onSharedSettingsChange(U,g);break;case"performAction":b(N);break;case"getComputed":_(N);break;case"setComputed":x(N);break;case"computedValue":case"rollResults":case"queryResults":case"resolve":case"compendiumResults":case"subscribe":case"tokenResults":case"actionsResults":case"autoLinkedText":N.requestId&&aP(N.requestId);break;case"dragOver":!((k=e.handlers)===null||k===void 0)&&k.onDragOver&&e.handlers.onDragOver(N,g);break;case"dropOver":!((P=e.handlers)===null||P===void 0)&&P.onDropOver&&e.handlers.onDropOver(N,g);break;case"print":window.focus(),window.print();break;case"$20":const{selector:L,classes:B,command:O}=N,T=document.querySelectorAll(L),j=B.split(" ").map(R=>R.trim());for(const R in T)if(T.hasOwnProperty(R))switch(O){case"addClass":T[R].classList.add(...j);break;case"removeClass":T[R].classList.remove(...j);break;case"toggleClass":for(const le of j)T[R].classList.toggle(le);break}break;case"convertLegacyMacroAttributes":if(e.convertLegacyMacroAttributes&&typeof e.convertLegacyMacroAttributes=="function"){const R=e.convertLegacyMacroAttributes({attribute:N.attribute,characterId:N.characterId,character:h[N.characterId]});R||l.postMessage({type:"resolve",requestId:N.requestId,result:null}),l.postMessage({type:"resolve",requestId:N.requestId,result:R})}else l.postMessage({type:"resolve",requestId:N.requestId,result:null});break;case"handleLegacyRollTemplates":e.handleLegacyRollTemplates&&typeof e.handleLegacyRollTemplates=="function"&&e.handleLegacyRollTemplates({templateName:N.templateName,properties:N.properties,playerid:N.playerid,originalInput:N.originalInput,dispatch:g});break}};for(const N of c)N.onmessage=({data:k})=>{y9e(k,y,g)};f?r("Headless"):t(g)};window.addEventListener("message",s)});var un;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(un||(un={}));var O_;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(O_||(O_={}));const Mt=un.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ru=e=>{switch(typeof e){case"undefined":return Mt.undefined;case"string":return Mt.string;case"number":return Number.isNaN(e)?Mt.nan:Mt.number;case"boolean":return Mt.boolean;case"function":return Mt.function;case"bigint":return Mt.bigint;case"symbol":return Mt.symbol;case"object":return Array.isArray(e)?Mt.array:e===null?Mt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Mt.promise:typeof Map<"u"&&e instanceof Map?Mt.map:typeof Set<"u"&&e instanceof Set?Mt.set:typeof Date<"u"&&e instanceof Date?Mt.date:Mt.object;default:return Mt.unknown}},yt=un.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kK=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class xs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const l=s.path[u];u===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(s))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return i(this),n}static assert(t){if(!(t instanceof xs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,un.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xs.create=e=>new xs(e);const xZe=(e,t)=>{let r;switch(e.code){case yt.invalid_type:e.received===Mt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case yt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,un.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:r=`Unrecognized key(s) in object: ${un.joinValues(e.keys,", ")}`;break;case yt.invalid_union:r="Invalid input";break;case yt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${un.joinValues(e.options)}`;break;case yt.invalid_enum_value:r=`Invalid enum value. Expected ${un.joinValues(e.options)}, received '${e.received}'`;break;case yt.invalid_arguments:r="Invalid function arguments";break;case yt.invalid_return_type:r="Invalid function return type";break;case yt.invalid_date:r="Invalid date";break;case yt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:un.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case yt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case yt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case yt.custom:r="Invalid input";break;case yt.invalid_intersection_types:r="Intersection results could not be merged";break;case yt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case yt.not_finite:r="Number must be finite";break;default:r=t.defaultError,un.assertNever(e)}return{message:r}},Zd=xZe;let IK=Zd;function OK(e){IK=e}function zv(){return IK}const qv=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)o=l(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},MK=[];function Tt(e,t){const r=zv(),n=qv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Zd?void 0:Zd].filter(i=>!!i)});e.common.issues.push(n)}class ga{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return tr;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return ga.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return tr;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const tr=Object.freeze({status:"aborted"}),$d=e=>({status:"dirty",value:e}),Ma=e=>({status:"valid",value:e}),M_=e=>e.status==="aborted",P_=e=>e.status==="dirty",mf=e=>e.status==="valid",th=e=>typeof Promise<"u"&&e instanceof Promise;var Vt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Vt||(Vt={}));class Yu{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sP=(e,t)=>{if(mf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xs(e.common.issues);return this._error=r,this._error}}};function Br(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:u}=e;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:u??r??o.defaultError}},description:i}}class Dr{get description(){return this._def.description}_getType(t){return Ru(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ru(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ga,ctx:{common:t.parent.common,data:t.data,parsedType:Ru(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(th(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ru(t)},i=this._parseSync({data:t,path:n.path,parent:n});return sP(n,i)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ru(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return mf(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>mf(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ru(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(th(i)?i:Promise.resolve(i));return sP(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:yt.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Vs({schema:this,typeName:sr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xo.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return go.create(this)}promise(){return Kd.create(this,this._def)}or(t){return ah.create([this,t],this._def)}and(t){return sh.create(this,t,this._def)}transform(t){return new Vs({...Br(this._def),schema:this,typeName:sr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new fh({...Br(this._def),innerType:this,defaultValue:r,typeName:sr.ZodDefault})}brand(){return new TA({typeName:sr.ZodBranded,type:this,...Br(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new dh({...Br(this._def),innerType:this,catchValue:r,typeName:sr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Gh.create(this,t)}readonly(){return ph.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const SZe=/^c[^\s-]{8,}$/i,EZe=/^[0-9a-z]+$/,CZe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$Ze=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,NZe=/^[a-z0-9_-]{21}$/i,DZe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TZe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kZe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IZe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lS;const OZe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MZe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PZe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,BZe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LZe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,FZe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,PK="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RZe=new RegExp(`^${PK}$`);function BK(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function UZe(e){return new RegExp(`^${BK(e)}$`)}function LN(e){let t=`${PK}T${BK(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function zZe(e,t){return!!((t==="v4"||!t)&&OZe.test(e)||(t==="v6"||!t)&&PZe.test(e))}function qZe(e,t){if(!DZe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function jZe(e,t){return!!((t==="v4"||!t)&&MZe.test(e)||(t==="v6"||!t)&&BZe.test(e))}class po extends Dr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Mt.string){const a=this._getOrReturnCtx(t);return Tt(a,{code:yt.invalid_type,expected:Mt.string,received:a.parsedType}),tr}const n=new ga;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?Tt(i,{code:yt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Tt(i,{code:yt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")kZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"email",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")lS||(lS=new RegExp(IZe,"u")),lS.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"emoji",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")$Ze.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"uuid",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")NZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"nanoid",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")SZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"cuid",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")EZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"cuid2",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")CZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"ulid",code:yt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Tt(i,{validation:"url",code:yt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"regex",code:yt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?LN(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?RZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?UZe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?TZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"duration",code:yt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?zZe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"ip",code:yt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?qZe(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"jwt",code:yt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?jZe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"cidr",code:yt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?LZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"base64",code:yt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?FZe.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"base64url",code:yt.invalid_string,message:a.message}),n.dirty()):un.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:yt.invalid_string,...Vt.errToObj(n)})}_addCheck(t){return new po({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Vt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Vt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Vt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Vt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Vt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Vt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Vt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Vt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Vt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Vt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Vt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Vt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Vt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Vt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Vt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Vt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Vt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Vt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Vt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Vt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Vt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Vt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Vt.errToObj(r)})}nonempty(t){return this.min(1,Vt.errToObj(t))}trim(){return new po({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new po({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new po({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}po.create=e=>new po({checks:[],typeName:sr.ZodString,coerce:e?.coerce??!1,...Br(e)});function VZe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Yl extends Dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Mt.number){const a=this._getOrReturnCtx(t);return Tt(a,{code:yt.invalid_type,expected:Mt.number,received:a.parsedType}),tr}let n;const i=new ga;for(const a of this._def.checks)a.kind==="int"?un.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?VZe(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.not_finite,message:a.message}),i.dirty()):un.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Vt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Vt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Vt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Vt.toString(r))}setLimit(t,r,n,i){return new Yl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Vt.toString(i)}]})}_addCheck(t){return new Yl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Vt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Vt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Vt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&un.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Yl.create=e=>new Yl({checks:[],typeName:sr.ZodNumber,coerce:e?.coerce||!1,...Br(e)});class Xl extends Dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Mt.bigint)return this._getInvalidInput(t);let n;const i=new ga;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Tt(n,{code:yt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):un.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Tt(r,{code:yt.invalid_type,expected:Mt.bigint,received:r.parsedType}),tr}gte(t,r){return this.setLimit("min",t,!0,Vt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Vt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Vt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Vt.toString(r))}setLimit(t,r,n,i){return new Xl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Vt.toString(i)}]})}_addCheck(t){return new Xl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Vt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xl.create=e=>new Xl({checks:[],typeName:sr.ZodBigInt,coerce:e?.coerce??!1,...Br(e)});class rh extends Dr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Mt.boolean){const n=this._getOrReturnCtx(t);return Tt(n,{code:yt.invalid_type,expected:Mt.boolean,received:n.parsedType}),tr}return Ma(t.data)}}rh.create=e=>new rh({typeName:sr.ZodBoolean,coerce:e?.coerce||!1,...Br(e)});class hf extends Dr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Mt.date){const a=this._getOrReturnCtx(t);return Tt(a,{code:yt.invalid_type,expected:Mt.date,received:a.parsedType}),tr}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Tt(a,{code:yt.invalid_date}),tr}const n=new ga;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:yt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):un.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new hf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Vt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Vt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}hf.create=e=>new hf({checks:[],coerce:e?.coerce||!1,typeName:sr.ZodDate,...Br(e)});class jv extends Dr{_parse(t){if(this._getType(t)!==Mt.symbol){const n=this._getOrReturnCtx(t);return Tt(n,{code:yt.invalid_type,expected:Mt.symbol,received:n.parsedType}),tr}return Ma(t.data)}}jv.create=e=>new jv({typeName:sr.ZodSymbol,...Br(e)});class nh extends Dr{_parse(t){if(this._getType(t)!==Mt.undefined){const n=this._getOrReturnCtx(t);return Tt(n,{code:yt.invalid_type,expected:Mt.undefined,received:n.parsedType}),tr}return Ma(t.data)}}nh.create=e=>new nh({typeName:sr.ZodUndefined,...Br(e)});class ih extends Dr{_parse(t){if(this._getType(t)!==Mt.null){const n=this._getOrReturnCtx(t);return Tt(n,{code:yt.invalid_type,expected:Mt.null,received:n.parsedType}),tr}return Ma(t.data)}}ih.create=e=>new ih({typeName:sr.ZodNull,...Br(e)});class Wd extends Dr{constructor(){super(...arguments),this._any=!0}_parse(t){return Ma(t.data)}}Wd.create=e=>new Wd({typeName:sr.ZodAny,...Br(e)});class Xc extends Dr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ma(t.data)}}Xc.create=e=>new Xc({typeName:sr.ZodUnknown,...Br(e)});class Xu extends Dr{_parse(t){const r=this._getOrReturnCtx(t);return Tt(r,{code:yt.invalid_type,expected:Mt.never,received:r.parsedType}),tr}}Xu.create=e=>new Xu({typeName:sr.ZodNever,...Br(e)});class Vv extends Dr{_parse(t){if(this._getType(t)!==Mt.undefined){const n=this._getOrReturnCtx(t);return Tt(n,{code:yt.invalid_type,expected:Mt.void,received:n.parsedType}),tr}return Ma(t.data)}}Vv.create=e=>new Vv({typeName:sr.ZodVoid,...Br(e)});class go extends Dr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Mt.array)return Tt(r,{code:yt.invalid_type,expected:Mt.array,received:r.parsedType}),tr;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Tt(r,{code:s?yt.too_big:yt.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Tt(r,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Tt(r,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new Yu(r,s,r.path,o)))).then(s=>ga.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new Yu(r,s,r.path,o)));return ga.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new go({...this._def,minLength:{value:t,message:Vt.toString(r)}})}max(t,r){return new go({...this._def,maxLength:{value:t,message:Vt.toString(r)}})}length(t,r){return new go({...this._def,exactLength:{value:t,message:Vt.toString(r)}})}nonempty(t){return this.min(1,t)}}go.create=(e,t)=>new go({type:e,minLength:null,maxLength:null,exactLength:null,typeName:sr.ZodArray,...Br(t)});function lm(e){if(e instanceof ni){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Xo.create(lm(n))}return new ni({...e._def,shape:()=>t})}else return e instanceof go?new go({...e._def,type:lm(e.element)}):e instanceof Xo?Xo.create(lm(e.unwrap())):e instanceof ec?ec.create(lm(e.unwrap())):e instanceof su?su.create(e.items.map(t=>lm(t))):e}class ni extends Dr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=un.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Mt.object){const l=this._getOrReturnCtx(t);return Tt(l,{code:yt.invalid_type,expected:Mt.object,received:l.parsedType}),tr}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Xu&&this._def.unknownKeys==="strip"))for(const l in i.data)s.includes(l)||o.push(l);const u=[];for(const l of s){const c=a[l],f=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Yu(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Xu){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of o)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")o.length>0&&(Tt(i,{code:yt.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of o){const f=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Yu(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const f=await c.key,d=await c.value;l.push({key:f,value:d,alwaysSet:c.alwaysSet})}return l}).then(l=>ga.mergeObjectSync(n,l)):ga.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return Vt.errToObj,new ni({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Vt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new ni({...this._def,unknownKeys:"strip"})}passthrough(){return new ni({...this._def,unknownKeys:"passthrough"})}extend(t){return new ni({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ni({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:sr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ni({...this._def,catchall:t})}pick(t){const r={};for(const n of un.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ni({...this._def,shape:()=>r})}omit(t){const r={};for(const n of un.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ni({...this._def,shape:()=>r})}deepPartial(){return lm(this)}partial(t){const r={};for(const n of un.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new ni({...this._def,shape:()=>r})}required(t){const r={};for(const n of un.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Xo;)a=a._def.innerType;r[n]=a}return new ni({...this._def,shape:()=>r})}keyof(){return LK(un.objectKeys(this.shape))}}ni.create=(e,t)=>new ni({shape:()=>e,unknownKeys:"strip",catchall:Xu.create(),typeName:sr.ZodObject,...Br(t)});ni.strictCreate=(e,t)=>new ni({shape:()=>e,unknownKeys:"strict",catchall:Xu.create(),typeName:sr.ZodObject,...Br(t)});ni.lazycreate=(e,t)=>new ni({shape:e,unknownKeys:"strip",catchall:Xu.create(),typeName:sr.ZodObject,...Br(t)});class ah extends Dr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new xs(o.ctx.common.issues));return Tt(r,{code:yt.invalid_union,unionErrors:s}),tr}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(u=>new xs(u));return Tt(r,{code:yt.invalid_union,unionErrors:o}),tr}}get options(){return this._def.options}}ah.create=(e,t)=>new ah({options:e,typeName:sr.ZodUnion,...Br(t)});const Cl=e=>e instanceof uh?Cl(e.schema):e instanceof Vs?Cl(e.innerType()):e instanceof lh?[e.value]:e instanceof Ql?e.options:e instanceof ch?un.objectValues(e.enum):e instanceof fh?Cl(e._def.innerType):e instanceof nh?[void 0]:e instanceof ih?[null]:e instanceof Xo?[void 0,...Cl(e.unwrap())]:e instanceof ec?[null,...Cl(e.unwrap())]:e instanceof TA||e instanceof ph?Cl(e.unwrap()):e instanceof dh?Cl(e._def.innerType):[];class Pg extends Dr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Mt.object)return Tt(r,{code:yt.invalid_type,expected:Mt.object,received:r.parsedType}),tr;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Tt(r,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),tr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const a of r){const s=Cl(a.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Pg({typeName:sr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Br(n)})}}function qE(e,t){const r=Ru(e),n=Ru(t);if(e===t)return{valid:!0,data:e};if(r===Mt.object&&n===Mt.object){const i=un.objectKeys(t),a=un.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const u=qE(e[o],t[o]);if(!u.valid)return{valid:!1};s[o]=u.data}return{valid:!0,data:s}}else if(r===Mt.array&&n===Mt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],u=qE(s,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Mt.date&&n===Mt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class sh extends Dr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(M_(a)||M_(s))return tr;const o=qE(a.value,s.value);return o.valid?((P_(a)||P_(s))&&r.dirty(),{status:r.value,value:o.data}):(Tt(n,{code:yt.invalid_intersection_types}),tr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}sh.create=(e,t,r)=>new sh({left:e,right:t,typeName:sr.ZodIntersection,...Br(r)});class su extends Dr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.array)return Tt(n,{code:yt.invalid_type,expected:Mt.array,received:n.parsedType}),tr;if(n.data.length<this._def.items.length)return Tt(n,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tr;!this._def.rest&&n.data.length>this._def.items.length&&(Tt(n,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new Yu(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>ga.mergeArray(r,s)):ga.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new su({...this._def,rest:t})}}su.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new su({items:e,typeName:sr.ZodTuple,rest:null,...Br(t)})};class oh extends Dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.object)return Tt(n,{code:yt.invalid_type,expected:Mt.object,received:n.parsedType}),tr;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new Yu(n,o,n.path,o)),value:s._parse(new Yu(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ga.mergeObjectAsync(r,i):ga.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Dr?new oh({keyType:t,valueType:r,typeName:sr.ZodRecord,...Br(n)}):new oh({keyType:po.create(),valueType:t,typeName:sr.ZodRecord,...Br(r)})}}class Hv extends Dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.map)return Tt(n,{code:yt.invalid_type,expected:Mt.map,received:n.parsedType}),tr;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,u],l)=>({key:i._parse(new Yu(n,o,n.path,[l,"key"])),value:a._parse(new Yu(n,u,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of s){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return tr;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(l.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of s){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return tr;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(l.value,c.value)}return{status:r.value,value:o}}}}Hv.create=(e,t,r)=>new Hv({valueType:t,keyType:e,typeName:sr.ZodMap,...Br(r)});class vf extends Dr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.set)return Tt(n,{code:yt.invalid_type,expected:Mt.set,received:n.parsedType}),tr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Tt(n,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Tt(n,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(u){const l=new Set;for(const c of u){if(c.status==="aborted")return tr;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}const o=[...n.data.values()].map((u,l)=>a._parse(new Yu(n,u,n.path,l)));return n.common.async?Promise.all(o).then(u=>s(u)):s(o)}min(t,r){return new vf({...this._def,minSize:{value:t,message:Vt.toString(r)}})}max(t,r){return new vf({...this._def,maxSize:{value:t,message:Vt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}vf.create=(e,t)=>new vf({valueType:e,minSize:null,maxSize:null,typeName:sr.ZodSet,...Br(t)});class Pd extends Dr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Mt.function)return Tt(r,{code:yt.invalid_type,expected:Mt.function,received:r.parsedType}),tr;function n(o,u){return qv({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zv(),Zd].filter(l=>!!l),issueData:{code:yt.invalid_arguments,argumentsError:u}})}function i(o,u){return qv({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zv(),Zd].filter(l=>!!l),issueData:{code:yt.invalid_return_type,returnTypeError:u}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Kd){const o=this;return Ma(async function(...u){const l=new xs([]),c=await o._def.args.parseAsync(u,a).catch(p=>{throw l.addIssue(n(u,p)),l}),f=await Reflect.apply(s,this,c);return await o._def.returns._def.type.parseAsync(f,a).catch(p=>{throw l.addIssue(i(f,p)),l})})}else{const o=this;return Ma(function(...u){const l=o._def.args.safeParse(u,a);if(!l.success)throw new xs([n(u,l.error)]);const c=Reflect.apply(s,this,l.data),f=o._def.returns.safeParse(c,a);if(!f.success)throw new xs([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Pd({...this._def,args:su.create(t).rest(Xc.create())})}returns(t){return new Pd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Pd({args:t||su.create([]).rest(Xc.create()),returns:r||Xc.create(),typeName:sr.ZodFunction,...Br(n)})}}class uh extends Dr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uh.create=(e,t)=>new uh({getter:e,typeName:sr.ZodLazy,...Br(t)});class lh extends Dr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Tt(r,{received:r.data,code:yt.invalid_literal,expected:this._def.value}),tr}return{status:"valid",value:t.data}}get value(){return this._def.value}}lh.create=(e,t)=>new lh({value:e,typeName:sr.ZodLiteral,...Br(t)});function LK(e,t){return new Ql({values:e,typeName:sr.ZodEnum,...Br(t)})}class Ql extends Dr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Tt(r,{expected:un.joinValues(n),received:r.parsedType,code:yt.invalid_type}),tr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Tt(r,{received:r.data,code:yt.invalid_enum_value,options:n}),tr}return Ma(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ql.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ql.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ql.create=LK;class ch extends Dr{_parse(t){const r=un.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Mt.string&&n.parsedType!==Mt.number){const i=un.objectValues(r);return Tt(n,{expected:un.joinValues(i),received:n.parsedType,code:yt.invalid_type}),tr}if(this._cache||(this._cache=new Set(un.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=un.objectValues(r);return Tt(n,{received:n.data,code:yt.invalid_enum_value,options:i}),tr}return Ma(t.data)}get enum(){return this._def.values}}ch.create=(e,t)=>new ch({values:e,typeName:sr.ZodNativeEnum,...Br(t)});class Kd extends Dr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Mt.promise&&r.common.async===!1)return Tt(r,{code:yt.invalid_type,expected:Mt.promise,received:r.parsedType}),tr;const n=r.parsedType===Mt.promise?r.data:Promise.resolve(r.data);return Ma(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kd.create=(e,t)=>new Kd({type:e,typeName:sr.ZodPromise,...Br(t)});class Vs extends Dr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===sr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{Tt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return tr;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?tr:u.status==="dirty"||r.value==="dirty"?$d(u.value):u});{if(r.value==="aborted")return tr;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?tr:o.status==="dirty"||r.value==="dirty"?$d(o.value):o}}if(i.type==="refinement"){const s=o=>{const u=i.refinement(o,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?tr:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?tr:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mf(s))return tr;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>mf(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):tr);un.assertNever(i)}}Vs.create=(e,t,r)=>new Vs({schema:e,typeName:sr.ZodEffects,effect:t,...Br(r)});Vs.createWithPreprocess=(e,t,r)=>new Vs({schema:t,effect:{type:"preprocess",transform:e},typeName:sr.ZodEffects,...Br(r)});class Xo extends Dr{_parse(t){return this._getType(t)===Mt.undefined?Ma(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xo.create=(e,t)=>new Xo({innerType:e,typeName:sr.ZodOptional,...Br(t)});class ec extends Dr{_parse(t){return this._getType(t)===Mt.null?Ma(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ec.create=(e,t)=>new ec({innerType:e,typeName:sr.ZodNullable,...Br(t)});class fh extends Dr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Mt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fh.create=(e,t)=>new fh({innerType:e,typeName:sr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Br(t)});class dh extends Dr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return th(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dh.create=(e,t)=>new dh({innerType:e,typeName:sr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Br(t)});class Gv extends Dr{_parse(t){if(this._getType(t)!==Mt.nan){const n=this._getOrReturnCtx(t);return Tt(n,{code:yt.invalid_type,expected:Mt.nan,received:n.parsedType}),tr}return{status:"valid",value:t.data}}}Gv.create=e=>new Gv({typeName:sr.ZodNaN,...Br(e)});const FK=Symbol("zod_brand");class TA extends Dr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Gh extends Dr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?tr:a.status==="dirty"?(r.dirty(),$d(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?tr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Gh({in:t,out:r,typeName:sr.ZodPipeline})}}class ph extends Dr{_parse(t){const r=this._def.innerType._parse(t),n=i=>(mf(i)&&(i.value=Object.freeze(i.value)),i);return th(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}ph.create=(e,t)=>new ph({innerType:e,typeName:sr.ZodReadonly,...Br(t)});function oP(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Ap(e,t={},r){return e?Wd.create().superRefine((n,i)=>{const a=e(n);if(a instanceof Promise)return a.then(s=>{if(!s){const o=oP(t,n),u=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:u})}});if(!a){const s=oP(t,n),o=s.fatal??r??!0;i.addIssue({code:"custom",...s,fatal:o})}}):Wd.create()}const RK={object:ni.lazycreate};var sr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(sr||(sr={}));const UK=(e,t={message:`Input not instance of ${e.name}`})=>Ap(r=>r instanceof e,t),ct=po.create,St=Yl.create,zK=Gv.create,qK=Xl.create,ra=rh.create,jK=hf.create,VK=jv.create,qo=nh.create,HK=ih.create,GK=Wd.create,ZK=Xc.create,WK=Xu.create,KK=Vv.create,Rr=go.create,vr=ni.create,JK=ni.strictCreate,ka=ah.create,FN=Pg.create,YK=sh.create,XK=su.create,kA=oh.create,QK=Hv.create,eJ=vf.create,tJ=Pd.create,rJ=uh.create,Ai=lh.create,An=Ql.create,nJ=ch.create,iJ=Kd.create,B_=Vs.create,aJ=Xo.create,sJ=ec.create,oJ=Vs.createWithPreprocess,uJ=Gh.create,lJ=()=>ct().optional(),cJ=()=>St().optional(),fJ=()=>ra().optional(),dJ={string:e=>po.create({...e,coerce:!0}),number:e=>Yl.create({...e,coerce:!0}),boolean:e=>rh.create({...e,coerce:!0}),bigint:e=>Xl.create({...e,coerce:!0}),date:e=>hf.create({...e,coerce:!0})},pJ=tr,uP=Object.freeze(Object.defineProperty({__proto__:null,BRAND:FK,DIRTY:$d,EMPTY_PATH:MK,INVALID:tr,NEVER:pJ,OK:Ma,ParseStatus:ga,Schema:Dr,ZodAny:Wd,ZodArray:go,ZodBigInt:Xl,ZodBoolean:rh,ZodBranded:TA,ZodCatch:dh,ZodDate:hf,ZodDefault:fh,ZodDiscriminatedUnion:Pg,ZodEffects:Vs,ZodEnum:Ql,ZodError:xs,get ZodFirstPartyTypeKind(){return sr},ZodFunction:Pd,ZodIntersection:sh,ZodIssueCode:yt,ZodLazy:uh,ZodLiteral:lh,ZodMap:Hv,ZodNaN:Gv,ZodNativeEnum:ch,ZodNever:Xu,ZodNull:ih,ZodNullable:ec,ZodNumber:Yl,ZodObject:ni,ZodOptional:Xo,ZodParsedType:Mt,ZodPipeline:Gh,ZodPromise:Kd,ZodReadonly:ph,ZodRecord:oh,ZodSchema:Dr,ZodSet:vf,ZodString:po,ZodSymbol:jv,ZodTransformer:Vs,ZodTuple:su,ZodType:Dr,ZodUndefined:nh,ZodUnion:ah,ZodUnknown:Xc,ZodVoid:Vv,addIssueToContext:Tt,any:GK,array:Rr,bigint:qK,boolean:ra,coerce:dJ,custom:Ap,date:jK,datetimeRegex:LN,defaultErrorMap:Zd,discriminatedUnion:FN,effect:B_,enum:An,function:tJ,getErrorMap:zv,getParsedType:Ru,instanceof:UK,intersection:YK,isAborted:M_,isAsync:th,isDirty:P_,isValid:mf,late:RK,lazy:rJ,literal:Ai,makeIssue:qv,map:QK,nan:zK,nativeEnum:nJ,never:WK,null:HK,nullable:sJ,number:St,object:vr,get objectUtil(){return O_},oboolean:fJ,onumber:cJ,optional:aJ,ostring:lJ,pipeline:uJ,preprocess:oJ,promise:iJ,quotelessJson:kK,record:kA,set:eJ,setErrorMap:OK,strictObject:JK,string:ct,symbol:VK,transformer:B_,tuple:XK,undefined:qo,union:ka,unknown:ZK,get util(){return un},void:KK},Symbol.toStringTag,{value:"Module"})),$n=Object.freeze(Object.defineProperty({__proto__:null,BRAND:FK,DIRTY:$d,EMPTY_PATH:MK,INVALID:tr,NEVER:pJ,OK:Ma,ParseStatus:ga,Schema:Dr,ZodAny:Wd,ZodArray:go,ZodBigInt:Xl,ZodBoolean:rh,ZodBranded:TA,ZodCatch:dh,ZodDate:hf,ZodDefault:fh,ZodDiscriminatedUnion:Pg,ZodEffects:Vs,ZodEnum:Ql,ZodError:xs,get ZodFirstPartyTypeKind(){return sr},ZodFunction:Pd,ZodIntersection:sh,ZodIssueCode:yt,ZodLazy:uh,ZodLiteral:lh,ZodMap:Hv,ZodNaN:Gv,ZodNativeEnum:ch,ZodNever:Xu,ZodNull:ih,ZodNullable:ec,ZodNumber:Yl,ZodObject:ni,ZodOptional:Xo,ZodParsedType:Mt,ZodPipeline:Gh,ZodPromise:Kd,ZodReadonly:ph,ZodRecord:oh,ZodSchema:Dr,ZodSet:vf,ZodString:po,ZodSymbol:jv,ZodTransformer:Vs,ZodTuple:su,ZodType:Dr,ZodUndefined:nh,ZodUnion:ah,ZodUnknown:Xc,ZodVoid:Vv,addIssueToContext:Tt,any:GK,array:Rr,bigint:qK,boolean:ra,coerce:dJ,custom:Ap,date:jK,datetimeRegex:LN,default:uP,defaultErrorMap:Zd,discriminatedUnion:FN,effect:B_,enum:An,function:tJ,getErrorMap:zv,getParsedType:Ru,instanceof:UK,intersection:YK,isAborted:M_,isAsync:th,isDirty:P_,isValid:mf,late:RK,lazy:rJ,literal:Ai,makeIssue:qv,map:QK,nan:zK,nativeEnum:nJ,never:WK,null:HK,nullable:sJ,number:St,object:vr,get objectUtil(){return O_},oboolean:fJ,onumber:cJ,optional:aJ,ostring:lJ,pipeline:uJ,preprocess:oJ,promise:iJ,quotelessJson:kK,record:kA,set:eJ,setErrorMap:OK,strictObject:JK,string:ct,symbol:VK,transformer:B_,tuple:XK,undefined:qo,union:ka,unknown:ZK,get util(){return un},void:KK,z:uP},Symbol.toStringTag,{value:"Module"})),HZe=["cl","ow"],GZe=["<","<=","=","=>",">"],ZZe=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],WZe=Array.from(HZe).flatMap(e=>Array.from(GZe).flatMap(t=>Array.from(ZZe).map(r=>`${e}${t}${r}`))),mJ=Object.values(Be),KZe=["attuned","equipped",...WZe],JZe=["$picker:0","$picker:1","$picker:2","$picker:3","$picker:4","$picker:5","$picker:6","$picker:7","$picker:8","$picker:9"],YZe=[...mJ,...JZe],Zh=$n.union([$n.enum(KZe),$n.string().regex(/^\$picker:(\d+)(==|<=|>=|<|>)(.+)$/)]),hJ=vr({attribute:An(YZe),operation:An(["add","subtract","set","set-base","set-min","set-max","add-formula","subtract-formula","set-formula","set-base-formula","set-min-formula","set-max-formula","set-base-final","set-base-final-formula","set-final","set-final-formula","push"]),required:Rr(Zh).optional()}),XZe=hJ.extend({value:ka([St(),ct()]),formula:qo()}),QZe=hJ.extend({value:qo(),formula:ct()}),eWe=ka([XZe,QZe]),tWe=vr({ability:ka([Ai("none"),Ai("spellcasting"),An([...Je.abilities])]),damage:ct(),type:An([...Je.dicePoolTypes]),critDamage:ct().optional()}),RN=tWe.extend({}),rWe=vr({name:ct(),group:An(["actions","bonus-actions","reactions","free-actions"]),isAttack:ra(),attackType:An(["melee","ranged"]).optional(),sourceType:An(["weapon","spell"]).optional(),critRange:St().min(1).max(20).default(20),attackAbility:ka([Ai("none"),Ai("spellcasting"),An([...Je.abilities])]).optional(),attackBonus:ct().optional(),attackProficiency:ka([Ai(0),Ai(.5),Ai(1),Ai(2)]).optional(),saving:ka([Ai("none"),An([...Je.abilities])]).optional(),savingDc:ct().optional(),damage:Rr(RN).optional(),ammo:St().optional(),range:ct().optional(),target:ct().optional(),description:ct().optional(),"data-tags":Rr(ct()).optional(),required:Rr(Zh).optional()}),nWe=rWe.extend({_id:ct().optional(),tagId:ct().optional(),spellSourceId:ct().optional()}),iWe=vr({name:ct(),count:St().optional(),max:ct(),refreshOnShortRest:An(["none","all","fixed-value"]).optional(),refreshOnLongRest:An(["none","all","fixed-value"]).optional(),refreshOnDawn:An(["none","all","fixed-value"]).optional(),refreshOnShortRestAmount:ct().optional(),refreshOnLongRestAmount:ct().optional(),refreshOnDawnAmount:ct().optional(),required:Rr(Zh).optional()}),aWe=iWe.extend({_id:ct().optional(),count:St().optional()}),sWe=$n.object({label:$n.string(),value:$n.enum(mJ).or($n.enum(Mb)).or($n.string())}),oWe=$n.object({label:$n.string(),value:$n.string().optional(),options:sWe.array(),mandatory:$n.boolean().optional()}),uWe=oWe.extend({}),vJ=vr({label:ct(),enabled:ra(),toggleable:ra(),removable:ra(),effects:Rr(eWe),description:ct().optional(),required:Rr(Zh).optional(),actions:Rr(nWe).optional(),resources:Rr(aWe).optional(),pickers:Rr(uWe).optional()}),gJ=St().int().min(0).max(Je.spellLevels.length-1),lWe=An([...Je.spellSchools]),cWe=An([...Je.spellComponents]),fWe=An(Object.keys(Je.casterTypes)),yJ=ka([Ai("none"),fWe]),UN=vr({_id:ct().optional(),name:ct(),isPrepared:ra().optional(),cantripsKnown:Rr(St()).optional(),spellsKnown:Rr(St()).optional(),required:Rr(Zh).optional()});UN.omit({_id:!0});const zN=UN.extend({type:Ai("ability"),ability:Ap()}),dWe=UN.extend({type:Ai("flat"),flat:St().or(ct())}),pWe=FN("type",[zN,dWe]),mWe=vr({level:gJ,castingTime:ct().optional(),range:ct().optional(),duration:ct().optional(),target:ct().optional(),description:ct().optional(),concentration:ra().optional(),damage:Rr(RN).optional()}),hWe=vr({name:An(["Monster Hunter","Cleric","Druid","Bard","Barbarian","Fighter","Monk","Paladin","Rogue","Wizard","Warlock","Ranger","Sorcerer"]),sourceBook:St().optional()}),vWe=vr({name:ct(),level:gJ.optional(),school:lWe.optional(),castingTime:ct().optional(),range:ct().optional(),target:ct().optional(),components:Rr(cWe).optional(),material:ct().optional(),duration:ct().optional(),concentration:ra().optional(),ritual:ra().optional(),description:vr({default:ct(),upcast:ct().optional()}).optional(),isAttack:ra().optional(),attackType:An(["melee","ranged"]).optional(),attackAbility:ka([Ai("none"),Ai("spellcasting"),An([...Je.abilities])]).optional(),critRange:St().optional(),damage:Rr(RN).optional(),saving:ka([Ai("none"),An([...Je.abilities])]).optional(),upcast:Rr(mWe).optional(),effectId:ct().optional(),tagId:ct().optional(),"data-effects":vJ.optional(),"data-tags":Rr(ct()).optional(),"data-compatibility":Rr(hWe).optional(),required:Rr(Zh).optional()}),Bg=vWe.extend({_id:ct().optional(),innateUsage:ct().optional(),spellSourceId:ct().optional()}),gWe=vJ.extend({}),IA=gWe.extend({_id:ct().optional(),spells:Rr(Bg).optional(),spellSources:Rr(pWe).optional()}),yWe=$n.enum([...Je.currencyTypes]),bWe=$n.object({amount:$n.number(),currency:yWe}),_We=$n.object({name:$n.string(),weight:$n.number().optional(),quantity:$n.number().optional(),type:$n.enum([...Je.equipmentTypes]),description:$n.string().optional(),value:bWe.optional(),"data-tags":$n.array($n.string()).optional(),"data-effects":IA.optional(),"data-spells":$n.array(Bg).optional()}),AWe=_We.extend({_id:$n.string().optional(),equipped:$n.boolean().optional(),isAttuned:$n.boolean().optional(),effectId:$n.string().optional(),tagId:$n.string().optional()}),Lg=hi("attunement",()=>{const e=Pe(3),t=Pe([]),r=ou();Xn(e,c=>{c<t.value.length&&(t.value=t.value.slice(0,c))});const n=Oe(()=>{const c=Array(e.value).fill(null);return t.value.forEach((f,d)=>{d<e.value&&(c[d]=r.equipment.find(p=>p._id===f)||null)}),c}),i=c=>t.value.includes(c),a=Oe(()=>e.value-t.value.length);function s(c){i(c)||a.value<=0||t.value.push(c)}function o(c){t.value=t.value.filter(f=>f!==c)}return{maxSlots:e,attunedItemIds:t,attunedItemsWithDetails:n,availableSlots:a,isAttuned:i,attuneItem:s,unattuneItem:o,hydrate:c=>{if(!c?.attunement)return;const f=c.attunement.maxSlots??3;e.value=f;const d=ar(c.attunement.attunedItemIds)??[];t.value=d.slice(0,f)},dehydrate:()=>({attunement:{maxSlots:e.value,attunedItemIds:ur(t.value)}})}}),ou=hi("equipment",()=>{const e=Pe([]),t=Oe(()=>e.value.reduce((u,l)=>u+l.weight*l.quantity,0)),r=u=>({_id:u._id??Ct(),name:u.name??"New Item",weight:u.weight??0,quantity:u.quantity??1,type:u.type??"equipment",equipped:u.equipped??!1,isAttuned:u.isAttuned??!1,effectId:u.effectId??Ct(),tagId:u.tagId??Ct(),description:u.description??"",...u}),n=(u={})=>{const l=r(u);return e.value.push(l),l};return{equipment:e,getTotalWeight:t,getEmptyEquipment:r,update:u=>{const l=u._id?e.value.findIndex(c=>c._id===u._id):-1;if(l===-1)n(u);else{const f={...e.value[l],...u};e.value[l]=f}},remove:u=>{Lg().unattuneItem(u);const c=e.value.findIndex(f=>f._id===u);if(c>=0){const f=e.value[c];f.effectId&&kt().remove(f.effectId),f.tagId&&ki().remove(f.tagId),e.value.splice(c,1)}},hydrate:u=>{e.value=Hr(u.equipment)??[]},dehydrate:()=>({equipment:rn(e.value)}),add:n}}),bJ=/(\d+)d(\d+)([a-zA-Z0-9]*)$/,wWe=/\d+$/,xWe=["kH","kL","kB","kW","a","d"];function SWe({sign:e,value:t}){return{sign:e,type:"constant",constant:{value:parseInt(t,10)}}}function EWe({sign:e,value:t}){const r=bJ.exec(t),n=r[3];if(n&&!xWe.includes(n))throw new Error("Component value contains an invalid rollable modifier");return{sign:e,type:"rollable",rollable:{count:parseInt(r[1],10),size:parseInt(r[2],10),modifier:n||!1}}}function CWe(e){if(bJ.test(e.value))return EWe(e);if(wWe.test(e.value))return SWe(e);throw new Error("Component value is not a valid constant or rollable")}var $We=CWe;const _J=["+","-"],NWe=new RegExp(`(?=[${_J.join()}])`);function DWe(e){return e.split(NWe).filter(t=>t.length!==0).map(t=>_J.includes(t.charAt(0))?{sign:t.charAt(0),value:t.substring(1).trim()}:{sign:"+",value:t.trim()})}var TWe=DWe;const kWe=$We,IWe=TWe;function OWe(e){if(e==null)throw new Error("Expression must be provided to parse.");if(typeof e!="string")throw new Error("Expression to parse must be a string.");const t=IWe(e);return t==null?[]:t.map(r=>kWe(r))}var MWe=OWe;function PWe({sign:e,...t}){switch(t.type){case"rollable":return{sign:e,value:`${t.rollable.count}d${t.rollable.size}${t.rollable.modifier||""}`};case"constant":return{sign:e,value:t.constant.value.toString(10)};default:throw new Error("Component must be a valid serializable type")}}var BWe=PWe;function LWe(e){return e.reduce((t,r)=>t.length===0&&r.sign==="-"?`-${r.value}`:t.length===0?r.value:`${t} ${r.sign} ${r.value}`,"")}var FWe=LWe;const RWe=BWe,UWe=FWe;function zWe(e){if(e==null)throw new Error("Components must be provided to serialize.");if(!Array.isArray(e))throw new Error("Components to serialize must be an array.");const t=e.map(r=>RWe(r));return t==null?"":UWe(t)}var qWe=zWe;const jWe=MWe,VWe=qWe;var Jd={parse:jWe,serialize:VWe};function mh(e,t){if(!e)return[];try{const r=Jd.parse(e),n=[];return r.forEach(i=>{const a=i.sign==="-"?-1:1;i.type==="rollable"?n.push({sides:i.rollable.size,count:a*i.rollable.count}):i.type==="constant"&&i.constant.value!==0&&n.push({value:a*i.constant.value,label:t})}),n}catch(r){return console.error(`Failed to parse dice formula "${e}":`,r),[{label:`${t} (Invalid Formula)`,value:0}]}}function Vy(e){let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string")try{const n=Jd.parse(r);for(const i of n){const a=i.sign==="-"?-1:1;if(i.type==="rollable"){const s=(i.rollable.size+1)/2;t+=a*i.rollable.count*s}else i.type==="constant"&&(t+=a*i.constant.value)}}catch{}return t}const La=hi("combat",()=>{Bt();const e=Pe({mode:"automatic",base:10,ability:"dexterity"}),t=Pe({max:3,successes:0,failures:0}),r=Pe(0),n=Pe(0),i=3,a=5,s=1,o=Oe(()=>{const w=kt(),g=[Be["death-saves-max"],Be["death-saves-successes-max"]],b=w.getModifiedValue(i,g).value.final;return Math.max(s,Math.min(b,a))}),u=Oe(()=>{const w=kt(),g=[Be["death-saves-max"],Be["death-saves-failures-max"]],b=w.getModifiedValue(i,g).value.final;return Math.max(s,Math.min(b,a))}),l=Pe(Je.speeds.reduce((w,g)=>(w[g]={base:g==="walk"?30:0,description:""},w),{})),c=Pe({hitPoints:0,temporary:0}),f=()=>kt().getModifiedValue(e.value.base+Yr().getAbilityModifier(Ga(e.value.ability,Yr().abilities)).value.final,Be[`${e.value.mode}-armor-class`.replace("automatic-","")]),d=()=>c.value.temporary,p=Oe(()=>Yr().getAbilityModifier(Ga("constitution",Yr().abilities)).value.final*Zt().getLevel);return{armorClass:e,deathSaves:t,speed:l,life:c,exhaustion:r,inspiration:n,getMaxSuccesses:o,getMaxFailures:u,getArmorClass:f,getTemporaryHitPoints:d,getHitPointsMax:()=>kt().getModifiedValue(Zt().classes.reduce((w,g)=>w+g.hitPoints.reduce((b,_)=>b+_,0),0)+p.value,Be[`${Zt().hitPointsMode}-hit-points-max`.replace("average-","").replace("manual-","").replace("rolled-","")]),getSpeed:w=>{const g=l.value[w]??{base:0};return Oe(()=>{const b=kt(),_=[Be[`${w}-speed`],Be.speed],x=b.getModifiedValue(g.base,_).value;return g.base===0&&x.final>0&&!b.effects.some(C=>C.enabled?C.effects.some($=>!_.includes($.attribute)||!$.operation.startsWith("set")?!1:b.isEffectSingleActive(C,$)):!1)?{final:0,modifiers:[]}:x})},dehydrate:()=>({combat:{armorClass:e.value,speed:l.value,deathSaves:t.value,life:c.value,exhaustion:r.value,inspiration:n.value}}),hydrate:w=>{e.value=w.combat.armorClass||e.value,t.value=w.combat.deathSaves||t.value,w.combat.speed&&Object.keys(w.combat.speed).forEach(g=>{const b=g;l.value[b]&&(l.value[b]=w.combat.speed[b])}),c.value=w.combat.life||c.value,r.value=w.combat.exhaustion||0,n.value=w.combat.inspiration||0}}}),hh=(e,t)=>{if(!e)return"0";let r=!0;const n=e.replace(/@\{([^}]+)\}/g,(i,a)=>{const s=a.split("|"),o=s[0].trim(),u=s[1]?s[1].trim():null,l=a.trim().match(/^hit-dice:(\d+)$/);if(l){const f=parseInt(l[1],10);if(t?.resolveHitDice)return t.resolveHitDice(f);const d=Zt(),p={},m=d.getHitDice;Je.hitDieSize.forEach(w=>{const g=d.hitDice.used[w]||0,b=m[w]||0;p[w]=Math.min(g,b)});const h=[...Je.hitDieSize].reverse();let v=f;const y=[];for(const w of h){if(v<=0)break;const g=p[w]||0;if(g>0){const b=Math.min(g,v),_=w.substring(1);y.push(`${b}${_}`),v-=b}}return v>0||y.length===0?"0":y.join("+")}let c;if(t?.variables&&o in t.variables)c=t.variables[o];else{const f=WWe[o];f&&(c=f.value)}if(c===void 0)return r=!1,i;if(u){const[f,d]=u.split(":"),p=parseInt(d,10);isNaN(p)||(f.trim()==="max"?c=Math.min(c,p):f.trim()==="min"&&(c=Math.max(c,p)))}return String(c)});return r?n:"0"},gf=(e,t)=>{if(!e||typeof e!="string")return"0";try{let r=hh(e,t),n="";for(;r!==n;)n=r,r=r.replace(/\(([^)]+)\)/g,(s,o)=>{try{return String(Wl(o))}catch{return s}});const i=Jd.parse(r),a=Jd.serialize(i);return a.includes("NaN")?"0":a}catch(r){return console.error(`Could not evaluate dice formula: "${e}"`,r),"0"}},es=(e,t)=>{if(typeof e=="number")return e;const r=hh(e,t);try{return Wl(r)}catch{return 0}},lP=()=>{const e=Zt().classes;return Object.values(e).reduce((r,n)=>r+(n.level||0),0)},HWe=()=>{const e=Ln();return e.sources.length>0?e.getSourceDC(e.sources[0]._id).value.final:8+Zt().getProficiencyBonus},GWe=Object.fromEntries(Je.speeds.map(e=>[`${e}-speed`,Oe(()=>La().getSpeed(e).value.final)])),AJ=e=>{const t=Yr().abilities,r=Object.values(t).find(n=>n.label===e);return r?kt().getModifiedValue(r.score,e,void 0).value.final:0},ZWe=e=>{const t=AJ(e);return t===0?0:Math.ceil((t-10)/2)},WWe=new Proxy({level:Oe(()=>lP()),pb:Oe(()=>{const e=lP(),t=e===0?0:Math.ceil(e/4)+1;return kt().getModifiedValue(t,"proficiency").value.final}),...Object.fromEntries(Je.abilities.map(e=>[e,Oe(()=>AJ(e))])),...Object.fromEntries(Je.abilities.map(e=>[`${e}-modifier`,Oe(()=>ZWe(e))])),"spell-dc":Oe(()=>HWe()),...GWe},{get(e,t){if(typeof t=="symbol"||Object.prototype.hasOwnProperty.call(Object.prototype,t))return Reflect.get(e,t);if(t in e)return e[t];if(/^(.+)-level$/.test(t)){const r=Zt().classes.find(a=>a.name.toLowerCase().replace(/ /g,"-")===t.toLowerCase().replace(/-level$/g,"")),n=Zt().transformation,i=n&&n.name.toLowerCase().replace(/ /g,"-")===t.toLowerCase().replace(/-level$/g,"")?n:void 0;return r?Oe(()=>r.level||1):i?Oe(()=>i.level||1):void 0}}});var jE={exports:{}},VE={exports:{}},Co={},Wn={};Wn.__esModule=!0;Wn.extend=wJ;Wn.indexOf=QWe;Wn.escapeExpression=eKe;Wn.isEmpty=tKe;Wn.createFrame=rKe;Wn.blockParams=nKe;Wn.appendContextPath=iKe;var KWe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},JWe=/[&<>"'`=]/g,YWe=/[&<>"'`=]/;function XWe(e){return KWe[e]}function wJ(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}var qN=Object.prototype.toString;Wn.toString=qN;var HE=function(t){return typeof t=="function"};HE(/x/)&&(Wn.isFunction=HE=function(e){return typeof e=="function"&&qN.call(e)==="[object Function]"});Wn.isFunction=HE;var xJ=Array.isArray||function(e){return e&&typeof e=="object"?qN.call(e)==="[object Array]":!1};Wn.isArray=xJ;function QWe(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function eKe(e){if(typeof e!="string"){if(e&&e.toHTML)return e.toHTML();if(e==null)return"";if(!e)return e+"";e=""+e}return YWe.test(e)?e.replace(JWe,XWe):e}function tKe(e){return!e&&e!==0?!0:!!(xJ(e)&&e.length===0)}function rKe(e){var t=wJ({},e);return t._parent=e,t}function nKe(e,t){return e.path=t,e}function iKe(e,t){return(e?e+".":"")+t}var GE={exports:{}};(function(e,t){t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(i,a){var s=a&&a.loc,o=void 0,u=void 0,l=void 0,c=void 0;s&&(o=s.start.line,u=s.end.line,l=s.start.column,c=s.end.column,i+=" - "+o+":"+l);for(var f=Error.prototype.constructor.call(this,i),d=0;d<r.length;d++)this[r[d]]=f[r[d]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{s&&(this.lineNumber=o,this.endLineNumber=u,Object.defineProperty?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=l,this.endColumn=c))}catch{}}n.prototype=new Error,t.default=n,e.exports=t.default})(GE,GE.exports);var yu=GE.exports,Fg={},ZE={exports:{}};(function(e,t){t.__esModule=!0;var r=Wn;t.default=function(n){n.registerHelper("blockHelperMissing",function(i,a){var s=a.inverse,o=a.fn;if(i===!0)return o(this);if(i===!1||i==null)return s(this);if(r.isArray(i))return i.length>0?(a.ids&&(a.ids=[a.name]),n.helpers.each(i,a)):s(this);if(a.data&&a.ids){var u=r.createFrame(a.data);u.contextPath=r.appendContextPath(a.data.contextPath,a.name),a={data:u}}return o(i,a)})},e.exports=t.default})(ZE,ZE.exports);var aKe=ZE.exports,WE={exports:{}};(function(e,t){t.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}var n=Wn,i=yu,a=r(i);t.default=function(s){s.registerHelper("each",function(o,u){if(!u)throw new a.default("Must pass iterator to #each");var l=u.fn,c=u.inverse,f=0,d="",p=void 0,m=void 0;u.data&&u.ids&&(m=n.appendContextPath(u.data.contextPath,u.ids[0])+"."),n.isFunction(o)&&(o=o.call(this)),u.data&&(p=n.createFrame(u.data));function h(b,_,x){p&&(p.key=b,p.index=_,p.first=_===0,p.last=!!x,m&&(p.contextPath=m+b)),d=d+l(o[b],{data:p,blockParams:n.blockParams([o[b],b],[m+b,null])})}if(o&&typeof o=="object")if(n.isArray(o))for(var v=o.length;f<v;f++)f in o&&h(f,f,f===o.length-1);else if(typeof Symbol=="function"&&o[Symbol.iterator]){for(var y=[],w=o[Symbol.iterator](),g=w.next();!g.done;g=w.next())y.push(g.value);o=y;for(var v=o.length;f<v;f++)h(f,f,f===o.length-1)}else(function(){var b=void 0;Object.keys(o).forEach(function(_){b!==void 0&&h(b,f-1),b=_,f++}),b!==void 0&&h(b,f-1,!0)})();return f===0&&(d=c(this)),d})},e.exports=t.default})(WE,WE.exports);var sKe=WE.exports,KE={exports:{}};(function(e,t){t.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}var n=yu,i=r(n);t.default=function(a){a.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default})(KE,KE.exports);var oKe=KE.exports,JE={exports:{}};(function(e,t){t.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}var n=Wn,i=yu,a=r(i);t.default=function(s){s.registerHelper("if",function(o,u){if(arguments.length!=2)throw new a.default("#if requires exactly one argument");return n.isFunction(o)&&(o=o.call(this)),!u.hash.includeZero&&!o||n.isEmpty(o)?u.inverse(this):u.fn(this)}),s.registerHelper("unless",function(o,u){if(arguments.length!=2)throw new a.default("#unless requires exactly one argument");return s.helpers.if.call(this,o,{fn:u.inverse,inverse:u.fn,hash:u.hash})})},e.exports=t.default})(JE,JE.exports);var uKe=JE.exports,YE={exports:{}};(function(e,t){t.__esModule=!0,t.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],i=arguments[arguments.length-1],a=0;a<arguments.length-1;a++)n.push(arguments[a]);var s=1;i.hash.level!=null?s=i.hash.level:i.data&&i.data.level!=null&&(s=i.data.level),n[0]=s,r.log.apply(r,n)})},e.exports=t.default})(YE,YE.exports);var lKe=YE.exports,XE={exports:{}};(function(e,t){t.__esModule=!0,t.default=function(r){r.registerHelper("lookup",function(n,i,a){return n&&a.lookupProperty(n,i)})},e.exports=t.default})(XE,XE.exports);var cKe=XE.exports,QE={exports:{}};(function(e,t){t.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}var n=Wn,i=yu,a=r(i);t.default=function(s){s.registerHelper("with",function(o,u){if(arguments.length!=2)throw new a.default("#with requires exactly one argument");n.isFunction(o)&&(o=o.call(this));var l=u.fn;if(n.isEmpty(o))return u.inverse(this);var c=u.data;return u.data&&u.ids&&(c=n.createFrame(u.data),c.contextPath=n.appendContextPath(u.data.contextPath,u.ids[0])),l(o,{data:c,blockParams:n.blockParams([o],[c&&c.contextPath])})})},e.exports=t.default})(QE,QE.exports);var fKe=QE.exports;Fg.__esModule=!0;Fg.registerDefaultHelpers=CKe;Fg.moveHelperToHooks=$Ke;function wp(e){return e&&e.__esModule?e:{default:e}}var dKe=aKe,pKe=wp(dKe),mKe=sKe,hKe=wp(mKe),vKe=oKe,gKe=wp(vKe),yKe=uKe,bKe=wp(yKe),_Ke=lKe,AKe=wp(_Ke),wKe=cKe,xKe=wp(wKe),SKe=fKe,EKe=wp(SKe);function CKe(e){pKe.default(e),hKe.default(e),gKe.default(e),bKe.default(e),AKe.default(e),xKe.default(e),EKe.default(e)}function $Ke(e,t,r){e.helpers[t]&&(e.hooks[t]=e.helpers[t],r||delete e.helpers[t])}var jN={},e4={exports:{}};(function(e,t){t.__esModule=!0;var r=Wn;t.default=function(n){n.registerDecorator("inline",function(i,a,s,o){var u=i;return a.partials||(a.partials={},u=function(l,c){var f=s.partials;s.partials=r.extend({},f,a.partials);var d=i(l,c);return s.partials=f,d}),a.partials[o.args[0]]=o.fn,u})},e.exports=t.default})(e4,e4.exports);var NKe=e4.exports;jN.__esModule=!0;jN.registerDefaultDecorators=IKe;function DKe(e){return e&&e.__esModule?e:{default:e}}var TKe=NKe,kKe=DKe(TKe);function IKe(e){kKe.default(e)}var t4={exports:{}};(function(e,t){t.__esModule=!0;var r=Wn,n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if(typeof a=="string"){var s=r.indexOf(n.methodMap,a.toLowerCase());s>=0?a=s:a=parseInt(a,10)}return a},log:function(a){if(a=n.lookupLevel(a),typeof console<"u"&&n.lookupLevel(n.level)<=a){var s=n.methodMap[a];console[s]||(s="log");for(var o=arguments.length,u=Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];console[s].apply(console,u)}}};t.default=n,e.exports=t.default})(t4,t4.exports);var SJ=t4.exports,Wh={},VN={};VN.__esModule=!0;VN.createNewLookupObject=MKe;var OKe=Wn;function MKe(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return OKe.extend.apply(void 0,[Object.create(null)].concat(t))}Wh.__esModule=!0;Wh.createProtoAccessControl=FKe;Wh.resultIsAllowed=RKe;Wh.resetLoggedProperties=zKe;function PKe(e){return e&&e.__esModule?e:{default:e}}var cP=VN,BKe=SJ,LKe=PKe(BKe),L_=Object.create(null);function FKe(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:cP.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:cP.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function RKe(e,t,r){return fP(typeof e=="function"?t.methods:t.properties,r)}function fP(e,t){return e.whitelist[t]!==void 0?e.whitelist[t]===!0:e.defaultValue!==void 0?e.defaultValue:(UKe(t),!1)}function UKe(e){L_[e]!==!0&&(L_[e]=!0,LKe.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function zKe(){Object.keys(L_).forEach(function(e){delete L_[e]})}Co.__esModule=!0;Co.HandlebarsEnvironment=r4;function EJ(e){return e&&e.__esModule?e:{default:e}}var vd=Wn,qKe=yu,cS=EJ(qKe),jKe=Fg,VKe=jN,HKe=SJ,F_=EJ(HKe),GKe=Wh,ZKe="4.7.8";Co.VERSION=ZKe;var WKe=8;Co.COMPILER_REVISION=WKe;var KKe=7;Co.LAST_COMPATIBLE_COMPILER_REVISION=KKe;var JKe={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};Co.REVISION_CHANGES=JKe;var fS="[object Object]";function r4(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},jKe.registerDefaultHelpers(this),VKe.registerDefaultDecorators(this)}r4.prototype={constructor:r4,logger:F_.default,log:F_.default.log,registerHelper:function(t,r){if(vd.toString.call(t)===fS){if(r)throw new cS.default("Arg not supported with multiple helpers");vd.extend(this.helpers,t)}else this.helpers[t]=r},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,r){if(vd.toString.call(t)===fS)vd.extend(this.partials,t);else{if(typeof r>"u")throw new cS.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=r}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,r){if(vd.toString.call(t)===fS){if(r)throw new cS.default("Arg not supported with multiple decorators");vd.extend(this.decorators,t)}else this.decorators[t]=r},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){GKe.resetLoggedProperties()}};var YKe=F_.default.log;Co.log=YKe;Co.createFrame=vd.createFrame;Co.logger=F_.default;var n4={exports:{}};(function(e,t){t.__esModule=!0;function r(n){this.string=n}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default})(n4,n4.exports);var XKe=n4.exports,Lf={},HN={};HN.__esModule=!0;HN.wrapHelper=QKe;function QKe(e,t){if(typeof e!="function")return e;var r=function(){var i=arguments[arguments.length-1];return arguments[arguments.length-1]=t(i),e.apply(this,arguments)};return r}Lf.__esModule=!0;Lf.checkRevision=aJe;Lf.template=sJe;Lf.wrapProgram=vb;Lf.resolvePartial=oJe;Lf.invokePartial=uJe;Lf.noop=CJ;function eJe(e){return e&&e.__esModule?e:{default:e}}function tJe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var rJe=Wn,$l=tJe(rJe),nJe=yu,Nl=eJe(nJe),Dl=Co,dP=Fg,iJe=HN,pP=Wh;function aJe(e){var t=e&&e[0]||1,r=Dl.COMPILER_REVISION;if(!(t>=Dl.LAST_COMPATIBLE_COMPILER_REVISION&&t<=Dl.COMPILER_REVISION))if(t<Dl.LAST_COMPATIBLE_COMPILER_REVISION){var n=Dl.REVISION_CHANGES[r],i=Dl.REVISION_CHANGES[t];throw new Nl.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}else throw new Nl.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}function sJe(e,t){if(!t)throw new Nl.default("No environment passed to template");if(!e||!e.main)throw new Nl.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&e.compiler[0]===7;function n(s,o,u){u.hash&&(o=$l.extend({},o,u.hash),u.ids&&(u.ids[0]=!0)),s=t.VM.resolvePartial.call(this,s,o,u);var l=$l.extend({},u,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),c=t.VM.invokePartial.call(this,s,o,l);if(c==null&&t.compile&&(u.partials[u.name]=t.compile(s,e.compilerOptions,t),c=u.partials[u.name](o,l)),c!=null){if(u.indent){for(var f=c.split(`
`),d=0,p=f.length;d<p&&!(!f[d]&&d+1===p);d++)f[d]=u.indent+f[d];c=f.join(`
`)}return c}else throw new Nl.default("The partial "+u.name+" could not be compiled when running in runtime-only mode")}var i={strict:function(o,u,l){if(!o||!(u in o))throw new Nl.default('"'+u+'" not defined in '+o,{loc:l});return i.lookupProperty(o,u)},lookupProperty:function(o,u){var l=o[u];if(l==null||Object.prototype.hasOwnProperty.call(o,u)||pP.resultIsAllowed(l,i.protoAccessControl,u))return l},lookup:function(o,u){for(var l=o.length,c=0;c<l;c++){var f=o[c]&&i.lookupProperty(o[c],u);if(f!=null)return o[c][u]}},lambda:function(o,u){return typeof o=="function"?o.call(u):o},escapeExpression:$l.escapeExpression,invokePartial:n,fn:function(o){var u=e[o];return u.decorator=e[o+"_d"],u},programs:[],program:function(o,u,l,c,f){var d=this.programs[o],p=this.fn(o);return u||f||c||l?d=vb(this,o,p,u,l,c,f):d||(d=this.programs[o]=vb(this,o,p)),d},data:function(o,u){for(;o&&u--;)o=o._parent;return o},mergeIfNeeded:function(o,u){var l=o||u;return o&&u&&o!==u&&(l=$l.extend({},u,o)),l},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function a(s){var o=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=o.data;a._setup(o),!o.partial&&e.useData&&(u=lJe(s,u));var l=void 0,c=e.useBlockParams?[]:void 0;e.useDepths&&(o.depths?l=s!=o.depths[0]?[s].concat(o.depths):o.depths:l=[s]);function f(d){return""+e.main(i,d,i.helpers,i.partials,u,c,l)}return f=$J(e.main,f,i,o.depths||[],u,c),f(s,o)}return a.isTop=!0,a._setup=function(s){if(s.partial)i.protoAccessControl=s.protoAccessControl,i.helpers=s.helpers,i.partials=s.partials,i.decorators=s.decorators,i.hooks=s.hooks;else{var o=$l.extend({},t.helpers,s.helpers);cJe(o,i),i.helpers=o,e.usePartial&&(i.partials=i.mergeIfNeeded(s.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=$l.extend({},t.decorators,s.decorators)),i.hooks={},i.protoAccessControl=pP.createProtoAccessControl(s);var u=s.allowCallsToHelperMissing||r;dP.moveHelperToHooks(i,"helperMissing",u),dP.moveHelperToHooks(i,"blockHelperMissing",u)}},a._child=function(s,o,u,l){if(e.useBlockParams&&!u)throw new Nl.default("must pass block params");if(e.useDepths&&!l)throw new Nl.default("must pass parent depths");return vb(i,s,e[s],o,0,u,l)},a}function vb(e,t,r,n,i,a,s){function o(u){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],c=s;return s&&u!=s[0]&&!(u===e.nullContext&&s[0]===null)&&(c=[u].concat(s)),r(e,u,e.helpers,e.partials,l.data||n,a&&[l.blockParams].concat(a),c)}return o=$J(r,o,e,s,n,a),o.program=t,o.depth=s?s.length:0,o.blockParams=i||0,o}function oJe(e,t,r){return e?!e.call&&!r.name&&(r.name=e,e=r.partials[e]):r.name==="@partial-block"?e=r.data["partial-block"]:e=r.partials[r.name],e}function uJe(e,t,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var i=void 0;if(r.fn&&r.fn!==CJ&&function(){r.data=Dl.createFrame(r.data);var a=r.fn;i=r.data["partial-block"]=function(o){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return u.data=Dl.createFrame(u.data),u.data["partial-block"]=n,a(o,u)},a.partials&&(r.partials=$l.extend({},r.partials,a.partials))}(),e===void 0&&i&&(e=i),e===void 0)throw new Nl.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)}function CJ(){return""}function lJe(e,t){return(!t||!("root"in t))&&(t=t?Dl.createFrame(t):{},t.root=e),t}function $J(e,t,r,n,i,a){if(e.decorator){var s={};t=e.decorator(t,s,r,n&&n[0],i,a,n),$l.extend(t,s)}return t}function cJe(e,t){Object.keys(e).forEach(function(r){var n=e[r];e[r]=fJe(n,t)})}function fJe(e,t){var r=t.lookupProperty;return iJe.wrapHelper(e,function(n){return $l.extend({lookupProperty:r},n)})}var i4={exports:{}};(function(e,t){t.__esModule=!0,t.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var n=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=n),r}},e.exports=t.default})(i4,i4.exports);var NJ=i4.exports;(function(e,t){t.__esModule=!0;function r(w){return w&&w.__esModule?w:{default:w}}function n(w){if(w&&w.__esModule)return w;var g={};if(w!=null)for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(g[b]=w[b]);return g.default=w,g}var i=Co,a=n(i),s=XKe,o=r(s),u=yu,l=r(u),c=Wn,f=n(c),d=Lf,p=n(d),m=NJ,h=r(m);function v(){var w=new a.HandlebarsEnvironment;return f.extend(w,a),w.SafeString=o.default,w.Exception=l.default,w.Utils=f,w.escapeExpression=f.escapeExpression,w.VM=p,w.template=function(g){return p.template(g,w)},w}var y=v();y.create=v,h.default(y),y.default=y,t.default=y,e.exports=t.default})(VE,VE.exports);var dJe=VE.exports,a4={exports:{}};(function(e,t){t.__esModule=!0;var r={helpers:{helperExpression:function(i){return i.type==="SubExpression"||(i.type==="MustacheStatement"||i.type==="BlockStatement")&&!!(i.params&&i.params.length||i.hash)},scopedId:function(i){return/^\.|this\b/.test(i.original)},simpleId:function(i){return i.parts.length===1&&!r.helpers.scopedId(i)&&!i.depth}}};t.default=r,e.exports=t.default})(a4,a4.exports);var DJ=a4.exports,Rg={},s4={exports:{}};(function(e,t){t.__esModule=!0;var r=function(){var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(o,u,l,c,f,d,p){var m=d.length-1;switch(f){case 1:return d[m-1];case 2:this.$=c.prepareProgram(d[m]);break;case 3:this.$=d[m];break;case 4:this.$=d[m];break;case 5:this.$=d[m];break;case 6:this.$=d[m];break;case 7:this.$=d[m];break;case 8:this.$=d[m];break;case 9:this.$={type:"CommentStatement",value:c.stripComment(d[m]),strip:c.stripFlags(d[m],d[m]),loc:c.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:d[m],value:d[m],loc:c.locInfo(this._$)};break;case 11:this.$=c.prepareRawBlock(d[m-2],d[m-1],d[m],this._$);break;case 12:this.$={path:d[m-3],params:d[m-2],hash:d[m-1]};break;case 13:this.$=c.prepareBlock(d[m-3],d[m-2],d[m-1],d[m],!1,this._$);break;case 14:this.$=c.prepareBlock(d[m-3],d[m-2],d[m-1],d[m],!0,this._$);break;case 15:this.$={open:d[m-5],path:d[m-4],params:d[m-3],hash:d[m-2],blockParams:d[m-1],strip:c.stripFlags(d[m-5],d[m])};break;case 16:this.$={path:d[m-4],params:d[m-3],hash:d[m-2],blockParams:d[m-1],strip:c.stripFlags(d[m-5],d[m])};break;case 17:this.$={path:d[m-4],params:d[m-3],hash:d[m-2],blockParams:d[m-1],strip:c.stripFlags(d[m-5],d[m])};break;case 18:this.$={strip:c.stripFlags(d[m-1],d[m-1]),program:d[m]};break;case 19:var h=c.prepareBlock(d[m-2],d[m-1],d[m],d[m],!1,this._$),v=c.prepareProgram([h],d[m-1].loc);v.chained=!0,this.$={strip:d[m-2].strip,program:v,chain:!0};break;case 20:this.$=d[m];break;case 21:this.$={path:d[m-1],strip:c.stripFlags(d[m-2],d[m])};break;case 22:this.$=c.prepareMustache(d[m-3],d[m-2],d[m-1],d[m-4],c.stripFlags(d[m-4],d[m]),this._$);break;case 23:this.$=c.prepareMustache(d[m-3],d[m-2],d[m-1],d[m-4],c.stripFlags(d[m-4],d[m]),this._$);break;case 24:this.$={type:"PartialStatement",name:d[m-3],params:d[m-2],hash:d[m-1],indent:"",strip:c.stripFlags(d[m-4],d[m]),loc:c.locInfo(this._$)};break;case 25:this.$=c.preparePartialBlock(d[m-2],d[m-1],d[m],this._$);break;case 26:this.$={path:d[m-3],params:d[m-2],hash:d[m-1],strip:c.stripFlags(d[m-4],d[m])};break;case 27:this.$=d[m];break;case 28:this.$=d[m];break;case 29:this.$={type:"SubExpression",path:d[m-3],params:d[m-2],hash:d[m-1],loc:c.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:d[m],loc:c.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:c.id(d[m-2]),value:d[m],loc:c.locInfo(this._$)};break;case 32:this.$=c.id(d[m-1]);break;case 33:this.$=d[m];break;case 34:this.$=d[m];break;case 35:this.$={type:"StringLiteral",value:d[m],original:d[m],loc:c.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(d[m]),original:Number(d[m]),loc:c.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:d[m]==="true",original:d[m]==="true",loc:c.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:c.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:c.locInfo(this._$)};break;case 40:this.$=d[m];break;case 41:this.$=d[m];break;case 42:this.$=c.preparePath(!0,d[m],this._$);break;case 43:this.$=c.preparePath(!1,d[m],this._$);break;case 44:d[m-2].push({part:c.id(d[m]),original:d[m],separator:d[m-1]}),this.$=d[m-2];break;case 45:this.$=[{part:c.id(d[m]),original:d[m]}];break;case 46:this.$=[];break;case 47:d[m-1].push(d[m]);break;case 48:this.$=[];break;case 49:d[m-1].push(d[m]);break;case 50:this.$=[];break;case 51:d[m-1].push(d[m]);break;case 58:this.$=[];break;case 59:d[m-1].push(d[m]);break;case 64:this.$=[];break;case 65:d[m-1].push(d[m]);break;case 70:this.$=[];break;case 71:d[m-1].push(d[m]);break;case 78:this.$=[];break;case 79:d[m-1].push(d[m]);break;case 82:this.$=[];break;case 83:d[m-1].push(d[m]);break;case 86:this.$=[];break;case 87:d[m-1].push(d[m]);break;case 90:this.$=[];break;case 91:d[m-1].push(d[m]);break;case 94:this.$=[];break;case 95:d[m-1].push(d[m]);break;case 98:this.$=[d[m]];break;case 99:d[m-1].push(d[m]);break;case 100:this.$=[d[m]];break;case 101:d[m-1].push(d[m]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(o,u){throw new Error(o)},parse:function(o){var u=this,l=[0],c=[null],f=[],d=this.table,p="",m=0,h=0;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;f.push(v);var y=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function w(){var P;return P=u.lexer.lex()||1,typeof P!="number"&&(P=u.symbols_[P]||P),P}for(var g,b,_,x,E={},C,$,D,N;;){if(b=l[l.length-1],this.defaultActions[b]?_=this.defaultActions[b]:((g===null||typeof g>"u")&&(g=w()),_=d[b]&&d[b][g]),typeof _>"u"||!_.length||!_[0]){var k="";{N=[];for(C in d[b])this.terminals_[C]&&C>2&&N.push("'"+this.terminals_[C]+"'");this.lexer.showPosition?k="Parse error on line "+(m+1)+`:
`+this.lexer.showPosition()+`
Expecting `+N.join(", ")+", got '"+(this.terminals_[g]||g)+"'":k="Parse error on line "+(m+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:v,expected:N})}}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(_[0]){case 1:l.push(g),c.push(this.lexer.yytext),f.push(this.lexer.yylloc),l.push(_[1]),g=null,h=this.lexer.yyleng,p=this.lexer.yytext,m=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if($=this.productions_[_[1]][1],E.$=c[c.length-$],E._$={first_line:f[f.length-($||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-($||1)].first_column,last_column:f[f.length-1].last_column},y&&(E._$.range=[f[f.length-($||1)].range[0],f[f.length-1].range[1]]),x=this.performAction.call(E,p,h,m,this.yy,_[1],c,f),typeof x<"u")return x;$&&(l=l.slice(0,-1*$*2),c=c.slice(0,-1*$),f=f.slice(0,-1*$)),l.push(this.productions_[_[1]][0]),c.push(E.$),f.push(E._$),D=d[l[l.length-2]][l[l.length-1]],l.push(D);break;case 3:return!0}}return!0}},i=function(){var s={EOF:1,parseError:function(u,l){if(this.yy.parser)this.yy.parser.parseError(u,l);else throw new Error(u)},setInput:function(u){return this._input=u,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var l=u.match(/(?:\r\n?|\n).*/g);return l?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},unput:function(u){var l=u.length,c=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-l-1),this.offset-=l;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===f.length?this.yylloc.first_column:0)+f[f.length-c.length].length-c[0].length:this.yylloc.first_column-l},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-l]),this},more:function(){return this._more=!0,this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput(),l=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+l+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,l,c,f,d;this._more||(this.yytext="",this.match="");for(var p=this._currentRules(),m=0;m<p.length&&(c=this._input.match(this.rules[p[m]]),!(c&&(!l||c[0].length>l[0].length)&&(l=c,f=m,!this.options.flex)));m++);return l?(d=l[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],u=this.performAction.call(this,this.yy,this,p[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),u||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var u=this.next();return typeof u<"u"?u:this.lex()},begin:function(u){this.conditionStack.push(u)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(u){this.begin(u)}};return s.options={},s.performAction=function(u,l,c,f){function d(p,m){return l.yytext=l.yytext.substring(p,l.yyleng-m+p)}switch(c){case 0:if(l.yytext.slice(-2)==="\\\\"?(d(0,1),this.begin("mu")):l.yytext.slice(-1)==="\\"?(d(0,1),this.begin("emu")):this.begin("mu"),l.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(d(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(l.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return l.yytext=d(1,2).replace(/\\"/g,'"'),80;case 32:return l.yytext=d(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return l.yytext=l.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},s.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],s.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},s}();n.lexer=i;function a(){this.yy={}}return a.prototype=n,n.Parser=a,new a}();t.default=r,e.exports=t.default})(s4,s4.exports);var pJe=s4.exports,o4={exports:{}},u4={exports:{}};(function(e,t){t.__esModule=!0;function r(l){return l&&l.__esModule?l:{default:l}}var n=yu,i=r(n);function a(){this.parents=[]}a.prototype={constructor:a,mutating:!1,acceptKey:function(c,f){var d=this.accept(c[f]);if(this.mutating){if(d&&!a.prototype[d.type])throw new i.default('Unexpected node type "'+d.type+'" found when accepting '+f+" on "+c.type);c[f]=d}},acceptRequired:function(c,f){if(this.acceptKey(c,f),!c[f])throw new i.default(c.type+" requires "+f)},acceptArray:function(c){for(var f=0,d=c.length;f<d;f++)this.acceptKey(c,f),c[f]||(c.splice(f,1),f--,d--)},accept:function(c){if(c){if(!this[c.type])throw new i.default("Unknown type: "+c.type,c);this.current&&this.parents.unshift(this.current),this.current=c;var f=this[c.type](c);if(this.current=this.parents.shift(),!this.mutating||f)return f;if(f!==!1)return c}},Program:function(c){this.acceptArray(c.body)},MustacheStatement:s,Decorator:s,BlockStatement:o,DecoratorBlock:o,PartialStatement:u,PartialBlockStatement:function(c){u.call(this,c),this.acceptKey(c,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(c){this.acceptArray(c.pairs)},HashPair:function(c){this.acceptRequired(c,"value")}};function s(l){this.acceptRequired(l,"path"),this.acceptArray(l.params),this.acceptKey(l,"hash")}function o(l){s.call(this,l),this.acceptKey(l,"program"),this.acceptKey(l,"inverse")}function u(l){this.acceptRequired(l,"name"),this.acceptArray(l.params),this.acceptKey(l,"hash")}t.default=a,e.exports=t.default})(u4,u4.exports);var TJ=u4.exports;(function(e,t){t.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var n=TJ,i=r(n);function a(){var c=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=c}a.prototype=new i.default,a.prototype.Program=function(c){var f=!this.options.ignoreStandalone,d=!this.isRootSeen;this.isRootSeen=!0;for(var p=c.body,m=0,h=p.length;m<h;m++){var v=p[m],y=this.accept(v);if(y){var w=s(p,m,d),g=o(p,m,d),b=y.openStandalone&&w,_=y.closeStandalone&&g,x=y.inlineStandalone&&w&&g;y.close&&u(p,m,!0),y.open&&l(p,m,!0),f&&x&&(u(p,m),l(p,m)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(p[m-1].original)[1])),f&&b&&(u((v.program||v.inverse).body),l(p,m)),f&&_&&(u(p,m),l((v.inverse||v.program).body))}}return c},a.prototype.BlockStatement=a.prototype.DecoratorBlock=a.prototype.PartialBlockStatement=function(c){this.accept(c.program),this.accept(c.inverse);var f=c.program||c.inverse,d=c.program&&c.inverse,p=d,m=d;if(d&&d.chained)for(p=d.body[0].program;m.chained;)m=m.body[m.body.length-1].program;var h={open:c.openStrip.open,close:c.closeStrip.close,openStandalone:o(f.body),closeStandalone:s((p||f).body)};if(c.openStrip.close&&u(f.body,null,!0),d){var v=c.inverseStrip;v.open&&l(f.body,null,!0),v.close&&u(p.body,null,!0),c.closeStrip.open&&l(m.body,null,!0),!this.options.ignoreStandalone&&s(f.body)&&o(p.body)&&(l(f.body),u(p.body))}else c.closeStrip.open&&l(f.body,null,!0);return h},a.prototype.Decorator=a.prototype.MustacheStatement=function(c){return c.strip},a.prototype.PartialStatement=a.prototype.CommentStatement=function(c){var f=c.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function s(c,f,d){f===void 0&&(f=c.length);var p=c[f-1],m=c[f-2];if(!p)return d;if(p.type==="ContentStatement")return(m||!d?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(p.original)}function o(c,f,d){f===void 0&&(f=-1);var p=c[f+1],m=c[f+2];if(!p)return d;if(p.type==="ContentStatement")return(m||!d?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(p.original)}function u(c,f,d){var p=c[f==null?0:f+1];if(!(!p||p.type!=="ContentStatement"||!d&&p.rightStripped)){var m=p.value;p.value=p.value.replace(d?/^\s+/:/^[ \t]*\r?\n?/,""),p.rightStripped=p.value!==m}}function l(c,f,d){var p=c[f==null?c.length-1:f-1];if(!(!p||p.type!=="ContentStatement"||!d&&p.leftStripped)){var m=p.value;return p.value=p.value.replace(d?/\s+$/:/[ \t]+$/,""),p.leftStripped=p.value!==m,p.leftStripped}}t.default=a,e.exports=t.default})(o4,o4.exports);var mJe=o4.exports,$o={};$o.__esModule=!0;$o.SourceLocation=gJe;$o.id=yJe;$o.stripFlags=bJe;$o.stripComment=_Je;$o.preparePath=AJe;$o.prepareMustache=wJe;$o.prepareRawBlock=xJe;$o.prepareBlock=SJe;$o.prepareProgram=EJe;$o.preparePartialBlock=CJe;function hJe(e){return e&&e.__esModule?e:{default:e}}var vJe=yu,GN=hJe(vJe);function ZN(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var r={loc:e.path.loc};throw new GN.default(e.path.original+" doesn't match "+t,r)}}function gJe(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function yJe(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function bJe(e,t){return{open:e.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function _Je(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function AJe(e,t,r){r=this.locInfo(r);for(var n=e?"@":"",i=[],a=0,s=0,o=t.length;s<o;s++){var u=t[s].part,l=t[s].original!==u;if(n+=(t[s].separator||"")+u,!l&&(u===".."||u==="."||u==="this")){if(i.length>0)throw new GN.default("Invalid path: "+n,{loc:r});u===".."&&a++}else i.push(u)}return{type:"PathExpression",data:e,depth:a,parts:i,original:n,loc:r}}function wJe(e,t,r,n,i,a){var s=n.charAt(3)||n.charAt(2),o=s!=="{"&&s!=="&",u=/\*/.test(n);return{type:u?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:o,strip:i,loc:this.locInfo(a)}}function xJe(e,t,r,n){ZN(e,r),n=this.locInfo(n);var i={type:"Program",body:t,strip:{},loc:n};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function SJe(e,t,r,n,i,a){n&&n.path&&ZN(e,n);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var o=void 0,u=void 0;if(r){if(s)throw new GN.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=n.strip),u=r.strip,o=r.program}return i&&(i=o,o=t,t=i),{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:o,openStrip:e.strip,inverseStrip:u,closeStrip:n&&n.strip,loc:this.locInfo(a)}}function EJe(e,t){if(!t&&e.length){var r=e[0].loc,n=e[e.length-1].loc;r&&n&&(t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function CJe(e,t,r,n){return ZN(e,r),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}}Rg.__esModule=!0;Rg.parseWithoutProcessing=IJ;Rg.parse=MJe;function $Je(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function kJ(e){return e&&e.__esModule?e:{default:e}}var NJe=pJe,l4=kJ(NJe),DJe=mJe,TJe=kJ(DJe),kJe=$o,IJe=$Je(kJe),OJe=Wn;Rg.parser=l4.default;var gb={};OJe.extend(gb,IJe);function IJ(e,t){if(e.type==="Program")return e;l4.default.yy=gb,gb.locInfo=function(n){return new gb.SourceLocation(t&&t.srcName,n)};var r=l4.default.parse(e);return r}function MJe(e,t){var r=IJ(e,t),n=new TJe.default(t);return n.accept(r)}var Ug={};Ug.__esModule=!0;Ug.Compiler=c4;Ug.precompile=FJe;Ug.compile=RJe;function OJ(e){return e&&e.__esModule?e:{default:e}}var PJe=yu,tv=OJ(PJe),Zv=Wn,BJe=DJ,O0=OJ(BJe),LJe=[].slice;function c4(){}c4.prototype={compiler:c4,equals:function(t){var r=this.opcodes.length;if(t.opcodes.length!==r)return!1;for(var n=0;n<r;n++){var i=this.opcodes[n],a=t.opcodes[n];if(i.opcode!==a.opcode||!MJ(i.args,a.args))return!1}r=this.children.length;for(var n=0;n<r;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=Zv.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(t)},compileProgram:function(t){var r=new this.compiler,n=r.compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(t){if(!this[t.type])throw new tv.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var r=this[t.type](t);return this.sourceNode.shift(),r},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var r=t.body,n=r.length,i=0;i<n;i++)this.accept(r[i]);return this.options.blockParams.shift(),this.isSimple=n===1,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){mP(t);var r=t.program,n=t.inverse;r=r&&this.compileProgram(r),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);i==="helper"?this.helperSexpr(t,r,n):i==="simple"?(this.simpleSexpr(t),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,r,n),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var r=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,r,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var r=t.program;r&&(r=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new tv.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,a=t.name.type==="SubExpression";a&&this.accept(t.name),this.setupFullMustacheParams(t,r,void 0,!0);var s=t.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",a,i,s),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){mP(t);var r=this.classifySexpr(t);r==="simple"?this.simpleSexpr(t):r==="helper"?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,r,n){var i=t.path,a=i.parts[0],s=r!=null||n!=null;this.opcode("getContext",i.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",a,s)},simpleSexpr:function(t){var r=t.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,r,n){var i=this.setupFullMustacheParams(t,r,n),a=t.path,s=a.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new tv.default("You specified knownHelpersOnly, but used the unknown helper "+s,t);a.strict=!0,a.falsy=!0,this.accept(a),this.opcode("invokeHelper",i.length,a.original,O0.default.helpers.simpleId(a))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var r=t.parts[0],n=O0.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(r);i?this.opcode("lookupBlockParam",i,t.parts):r?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var r=t.pairs,n=0,i=r.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(r[n].value);for(;n--;)this.opcode("assignToHash",r[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:LJe.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var r=O0.default.helpers.simpleId(t.path),n=r&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&O0.default.helpers.helperExpression(t),a=!n&&(i||r);if(a&&!i){var s=t.path.parts[0],o=this.options;o.knownHelpers[s]?i=!0:o.knownHelpersOnly&&(a=!1)}return i?"helper":a?"ambiguous":"simple"},pushParams:function(t){for(var r=0,n=t.length;r<n;r++)this.pushParam(t[r])},pushParam:function(t){var r=t.value!=null?t.value:t.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",r,t.type),t.type==="SubExpression"&&this.accept(t);else{if(this.trackIds){var n=void 0;if(t.parts&&!O0.default.helpers.scopedId(t)&&!t.depth&&(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else r=t.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,r)}this.accept(t)}},setupFullMustacheParams:function(t,r,n,i){var a=t.params;return this.pushParams(a),this.opcode("pushProgram",r),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),a},blockParamIndex:function(t){for(var r=0,n=this.options.blockParams.length;r<n;r++){var i=this.options.blockParams[r],a=i&&Zv.indexOf(i,t);if(i&&a>=0)return[r,a]}}};function FJe(e,t,r){if(e==null||typeof e!="string"&&e.type!=="Program")throw new tv.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var n=r.parse(e,t),i=new r.Compiler().compile(n,t);return new r.JavaScriptCompiler().compile(i,t)}function RJe(e,t,r){if(t===void 0&&(t={}),e==null||typeof e!="string"&&e.type!=="Program")throw new tv.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=Zv.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var n=void 0;function i(){var s=r.parse(e,t),o=new r.Compiler().compile(s,t),u=new r.JavaScriptCompiler().compile(o,t,void 0,!0);return r.template(u)}function a(s,o){return n||(n=i()),n.call(this,s,o)}return a._setup=function(s){return n||(n=i()),n._setup(s)},a._child=function(s,o,u,l){return n||(n=i()),n._child(s,o,u,l)},a}function MJ(e,t){if(e===t)return!0;if(Zv.isArray(e)&&Zv.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(!MJ(e[r],t[r]))return!1;return!0}}function mP(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var f4={exports:{}},d4={exports:{}},M0={},dS={},Hy={},Gy={},hP;function UJe(){if(hP)return Gy;hP=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Gy.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},Gy.decode=function(t){var r=65,n=90,i=97,a=122,s=48,o=57,u=43,l=47,c=26,f=52;return r<=t&&t<=n?t-r:i<=t&&t<=a?t-i+c:s<=t&&t<=o?t-s+f:t==u?62:t==l?63:-1},Gy}var vP;function PJ(){if(vP)return Hy;vP=1;var e=UJe(),t=5,r=1<<t,n=r-1,i=r;function a(o){return o<0?(-o<<1)+1:(o<<1)+0}function s(o){var u=(o&1)===1,l=o>>1;return u?-l:l}return Hy.encode=function(u){var l="",c,f=a(u);do c=f&n,f>>>=t,f>0&&(c|=i),l+=e.encode(c);while(f>0);return l},Hy.decode=function(u,l,c){var f=u.length,d=0,p=0,m,h;do{if(l>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(h=e.decode(u.charCodeAt(l++)),h===-1)throw new Error("Invalid base64 digit: "+u.charAt(l-1));m=!!(h&i),h&=n,d=d+(h<<p),p+=t}while(m);c.value=s(d),c.rest=l},Hy}var pS={},gP;function zg(){return gP||(gP=1,function(e){function t(b,_,x){if(_ in b)return b[_];if(arguments.length===3)return x;throw new Error('"'+_+'" is a required argument.')}e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(b){var _=b.match(r);return _?{scheme:_[1],auth:_[2],host:_[3],port:_[4],path:_[5]}:null}e.urlParse=i;function a(b){var _="";return b.scheme&&(_+=b.scheme+":"),_+="//",b.auth&&(_+=b.auth+"@"),b.host&&(_+=b.host),b.port&&(_+=":"+b.port),b.path&&(_+=b.path),_}e.urlGenerate=a;function s(b){var _=b,x=i(b);if(x){if(!x.path)return b;_=x.path}for(var E=e.isAbsolute(_),C=_.split(/\/+/),$,D=0,N=C.length-1;N>=0;N--)$=C[N],$==="."?C.splice(N,1):$===".."?D++:D>0&&($===""?(C.splice(N+1,D),D=0):(C.splice(N,2),D--));return _=C.join("/"),_===""&&(_=E?"/":"."),x?(x.path=_,a(x)):_}e.normalize=s;function o(b,_){b===""&&(b="."),_===""&&(_=".");var x=i(_),E=i(b);if(E&&(b=E.path||"/"),x&&!x.scheme)return E&&(x.scheme=E.scheme),a(x);if(x||_.match(n))return _;if(E&&!E.host&&!E.path)return E.host=_,a(E);var C=_.charAt(0)==="/"?_:s(b.replace(/\/+$/,"")+"/"+_);return E?(E.path=C,a(E)):C}e.join=o,e.isAbsolute=function(b){return b.charAt(0)==="/"||r.test(b)};function u(b,_){b===""&&(b="."),b=b.replace(/\/$/,"");for(var x=0;_.indexOf(b+"/")!==0;){var E=b.lastIndexOf("/");if(E<0||(b=b.slice(0,E),b.match(/^([^\/]+:\/)?\/*$/)))return _;++x}return Array(x+1).join("../")+_.substr(b.length+1)}e.relative=u;var l=function(){var b=Object.create(null);return!("__proto__"in b)}();function c(b){return b}function f(b){return p(b)?"$"+b:b}e.toSetString=l?c:f;function d(b){return p(b)?b.slice(1):b}e.fromSetString=l?c:d;function p(b){if(!b)return!1;var _=b.length;if(_<9||b.charCodeAt(_-1)!==95||b.charCodeAt(_-2)!==95||b.charCodeAt(_-3)!==111||b.charCodeAt(_-4)!==116||b.charCodeAt(_-5)!==111||b.charCodeAt(_-6)!==114||b.charCodeAt(_-7)!==112||b.charCodeAt(_-8)!==95||b.charCodeAt(_-9)!==95)return!1;for(var x=_-10;x>=0;x--)if(b.charCodeAt(x)!==36)return!1;return!0}function m(b,_,x){var E=v(b.source,_.source);return E!==0||(E=b.originalLine-_.originalLine,E!==0)||(E=b.originalColumn-_.originalColumn,E!==0||x)||(E=b.generatedColumn-_.generatedColumn,E!==0)||(E=b.generatedLine-_.generatedLine,E!==0)?E:v(b.name,_.name)}e.compareByOriginalPositions=m;function h(b,_,x){var E=b.generatedLine-_.generatedLine;return E!==0||(E=b.generatedColumn-_.generatedColumn,E!==0||x)||(E=v(b.source,_.source),E!==0)||(E=b.originalLine-_.originalLine,E!==0)||(E=b.originalColumn-_.originalColumn,E!==0)?E:v(b.name,_.name)}e.compareByGeneratedPositionsDeflated=h;function v(b,_){return b===_?0:b===null?1:_===null?-1:b>_?1:-1}function y(b,_){var x=b.generatedLine-_.generatedLine;return x!==0||(x=b.generatedColumn-_.generatedColumn,x!==0)||(x=v(b.source,_.source),x!==0)||(x=b.originalLine-_.originalLine,x!==0)||(x=b.originalColumn-_.originalColumn,x!==0)?x:v(b.name,_.name)}e.compareByGeneratedPositionsInflated=y;function w(b){return JSON.parse(b.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=w;function g(b,_,x){if(_=_||"",b&&(b[b.length-1]!=="/"&&_[0]!=="/"&&(b+="/"),_=b+_),x){var E=i(x);if(!E)throw new Error("sourceMapURL could not be parsed");if(E.path){var C=E.path.lastIndexOf("/");C>=0&&(E.path=E.path.substring(0,C+1))}_=o(a(E),_)}return s(_)}e.computeSourceURL=g}(pS)),pS}var mS={},yP;function BJ(){if(yP)return mS;yP=1;var e=zg(),t=Object.prototype.hasOwnProperty,r=typeof Map<"u";function n(){this._array=[],this._set=r?new Map:Object.create(null)}return n.fromArray=function(a,s){for(var o=new n,u=0,l=a.length;u<l;u++)o.add(a[u],s);return o},n.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(a,s){var o=r?a:e.toSetString(a),u=r?this.has(a):t.call(this._set,o),l=this._array.length;(!u||s)&&this._array.push(a),u||(r?this._set.set(a,l):this._set[o]=l)},n.prototype.has=function(a){if(r)return this._set.has(a);var s=e.toSetString(a);return t.call(this._set,s)},n.prototype.indexOf=function(a){if(r){var s=this._set.get(a);if(s>=0)return s}else{var o=e.toSetString(a);if(t.call(this._set,o))return this._set[o]}throw new Error('"'+a+'" is not in the set.')},n.prototype.at=function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},n.prototype.toArray=function(){return this._array.slice()},mS.ArraySet=n,mS}var hS={},bP;function zJe(){if(bP)return hS;bP=1;var e=zg();function t(n,i){var a=n.generatedLine,s=i.generatedLine,o=n.generatedColumn,u=i.generatedColumn;return s>a||s==a&&u>=o||e.compareByGeneratedPositionsInflated(n,i)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(i,a){this._array.forEach(i,a)},r.prototype.add=function(i){t(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},hS.MappingList=r,hS}var _P;function LJ(){if(_P)return dS;_P=1;var e=PJ(),t=zg(),r=BJ().ArraySet,n=zJe().MappingList;function i(a){a||(a={}),this._file=t.getArg(a,"file",null),this._sourceRoot=t.getArg(a,"sourceRoot",null),this._skipValidation=t.getArg(a,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new n,this._sourcesContents=null}return i.prototype._version=3,i.fromSourceMap=function(s){var o=s.sourceRoot,u=new i({file:s.file,sourceRoot:o});return s.eachMapping(function(l){var c={generated:{line:l.generatedLine,column:l.generatedColumn}};l.source!=null&&(c.source=l.source,o!=null&&(c.source=t.relative(o,c.source)),c.original={line:l.originalLine,column:l.originalColumn},l.name!=null&&(c.name=l.name)),u.addMapping(c)}),s.sources.forEach(function(l){var c=l;o!==null&&(c=t.relative(o,l)),u._sources.has(c)||u._sources.add(c);var f=s.sourceContentFor(l);f!=null&&u.setSourceContent(l,f)}),u},i.prototype.addMapping=function(s){var o=t.getArg(s,"generated"),u=t.getArg(s,"original",null),l=t.getArg(s,"source",null),c=t.getArg(s,"name",null);this._skipValidation||this._validateMapping(o,u,l,c),l!=null&&(l=String(l),this._sources.has(l)||this._sources.add(l)),c!=null&&(c=String(c),this._names.has(c)||this._names.add(c)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:l,name:c})},i.prototype.setSourceContent=function(s,o){var u=s;this._sourceRoot!=null&&(u=t.relative(this._sourceRoot,u)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(u)]=o):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(s,o,u){var l=o;if(o==null){if(s.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);l=s.file}var c=this._sourceRoot;c!=null&&(l=t.relative(c,l));var f=new r,d=new r;this._mappings.unsortedForEach(function(p){if(p.source===l&&p.originalLine!=null){var m=s.originalPositionFor({line:p.originalLine,column:p.originalColumn});m.source!=null&&(p.source=m.source,u!=null&&(p.source=t.join(u,p.source)),c!=null&&(p.source=t.relative(c,p.source)),p.originalLine=m.line,p.originalColumn=m.column,m.name!=null&&(p.name=m.name))}var h=p.source;h!=null&&!f.has(h)&&f.add(h);var v=p.name;v!=null&&!d.has(v)&&d.add(v)},this),this._sources=f,this._names=d,s.sources.forEach(function(p){var m=s.sourceContentFor(p);m!=null&&(u!=null&&(p=t.join(u,p)),c!=null&&(p=t.relative(c,p)),this.setSourceContent(p,m))},this)},i.prototype._validateMapping=function(s,o,u,l){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(s&&"line"in s&&"column"in s&&s.line>0&&s.column>=0&&!o&&!u&&!l)){if(s&&"line"in s&&"column"in s&&o&&"line"in o&&"column"in o&&s.line>0&&s.column>=0&&o.line>0&&o.column>=0&&u)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:s,source:u,original:o,name:l}))}},i.prototype._serializeMappings=function(){for(var s=0,o=1,u=0,l=0,c=0,f=0,d="",p,m,h,v,y=this._mappings.toArray(),w=0,g=y.length;w<g;w++){if(m=y[w],p="",m.generatedLine!==o)for(s=0;m.generatedLine!==o;)p+=";",o++;else if(w>0){if(!t.compareByGeneratedPositionsInflated(m,y[w-1]))continue;p+=","}p+=e.encode(m.generatedColumn-s),s=m.generatedColumn,m.source!=null&&(v=this._sources.indexOf(m.source),p+=e.encode(v-f),f=v,p+=e.encode(m.originalLine-1-l),l=m.originalLine-1,p+=e.encode(m.originalColumn-u),u=m.originalColumn,m.name!=null&&(h=this._names.indexOf(m.name),p+=e.encode(h-c),c=h)),d+=p}return d},i.prototype._generateSourcesContent=function(s,o){return s.map(function(u){if(!this._sourcesContents)return null;o!=null&&(u=t.relative(o,u));var l=t.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,l)?this._sourcesContents[l]:null},this)},i.prototype.toJSON=function(){var s={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(s.file=this._file),this._sourceRoot!=null&&(s.sourceRoot=this._sourceRoot),this._sourcesContents&&(s.sourcesContent=this._generateSourcesContent(s.sources,s.sourceRoot)),s},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},dS.SourceMapGenerator=i,dS}var P0={},vS={},AP;function qJe(){return AP||(AP=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,i,a,s,o){var u=Math.floor((n-r)/2)+r,l=s(i,a[u],!0);return l===0?u:l>0?n-u>1?t(u,n,i,a,s,o):o==e.LEAST_UPPER_BOUND?n<a.length?n:-1:u:u-r>1?t(r,u,i,a,s,o):o==e.LEAST_UPPER_BOUND?u:r<0?-1:r}e.search=function(n,i,a,s){if(i.length===0)return-1;var o=t(-1,i.length,n,i,a,s||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&a(i[o],i[o-1],!0)===0;)--o;return o}}(vS)),vS}var gS={},wP;function jJe(){if(wP)return gS;wP=1;function e(n,i,a){var s=n[i];n[i]=n[a],n[a]=s}function t(n,i){return Math.round(n+Math.random()*(i-n))}function r(n,i,a,s){if(a<s){var o=t(a,s),u=a-1;e(n,o,s);for(var l=n[s],c=a;c<s;c++)i(n[c],l)<=0&&(u+=1,e(n,u,c));e(n,u+1,c);var f=u+1;r(n,i,a,f-1),r(n,i,f+1,s)}}return gS.quickSort=function(n,i){r(n,i,0,n.length-1)},gS}var xP;function VJe(){if(xP)return P0;xP=1;var e=zg(),t=qJe(),r=BJ().ArraySet,n=PJ(),i=jJe().quickSort;function a(l,c){var f=l;return typeof l=="string"&&(f=e.parseSourceMapInput(l)),f.sections!=null?new u(f,c):new s(f,c)}a.fromSourceMap=function(l,c){return s.fromSourceMap(l,c)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(c,f){var d=c.charAt(f);return d===";"||d===","},a.prototype._parseMappings=function(c,f){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(c,f,d){var p=f||null,m=d||a.GENERATED_ORDER,h;switch(m){case a.GENERATED_ORDER:h=this._generatedMappings;break;case a.ORIGINAL_ORDER:h=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;h.map(function(y){var w=y.source===null?null:this._sources.at(y.source);return w=e.computeSourceURL(v,w,this._sourceMapURL),{source:w,generatedLine:y.generatedLine,generatedColumn:y.generatedColumn,originalLine:y.originalLine,originalColumn:y.originalColumn,name:y.name===null?null:this._names.at(y.name)}},this).forEach(c,p)},a.prototype.allGeneratedPositionsFor=function(c){var f=e.getArg(c,"line"),d={source:e.getArg(c,"source"),originalLine:f,originalColumn:e.getArg(c,"column",0)};if(d.source=this._findSourceIndex(d.source),d.source<0)return[];var p=[],m=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(m>=0){var h=this._originalMappings[m];if(c.column===void 0)for(var v=h.originalLine;h&&h.originalLine===v;)p.push({line:e.getArg(h,"generatedLine",null),column:e.getArg(h,"generatedColumn",null),lastColumn:e.getArg(h,"lastGeneratedColumn",null)}),h=this._originalMappings[++m];else for(var y=h.originalColumn;h&&h.originalLine===f&&h.originalColumn==y;)p.push({line:e.getArg(h,"generatedLine",null),column:e.getArg(h,"generatedColumn",null),lastColumn:e.getArg(h,"lastGeneratedColumn",null)}),h=this._originalMappings[++m]}return p},P0.SourceMapConsumer=a;function s(l,c){var f=l;typeof l=="string"&&(f=e.parseSourceMapInput(l));var d=e.getArg(f,"version"),p=e.getArg(f,"sources"),m=e.getArg(f,"names",[]),h=e.getArg(f,"sourceRoot",null),v=e.getArg(f,"sourcesContent",null),y=e.getArg(f,"mappings"),w=e.getArg(f,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);h&&(h=e.normalize(h)),p=p.map(String).map(e.normalize).map(function(g){return h&&e.isAbsolute(h)&&e.isAbsolute(g)?e.relative(h,g):g}),this._names=r.fromArray(m.map(String),!0),this._sources=r.fromArray(p,!0),this._absoluteSources=this._sources.toArray().map(function(g){return e.computeSourceURL(h,g,c)}),this.sourceRoot=h,this.sourcesContent=v,this._mappings=y,this._sourceMapURL=c,this.file=w}s.prototype=Object.create(a.prototype),s.prototype.consumer=a,s.prototype._findSourceIndex=function(l){var c=l;if(this.sourceRoot!=null&&(c=e.relative(this.sourceRoot,c)),this._sources.has(c))return this._sources.indexOf(c);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==l)return f;return-1},s.fromSourceMap=function(c,f){var d=Object.create(s.prototype),p=d._names=r.fromArray(c._names.toArray(),!0),m=d._sources=r.fromArray(c._sources.toArray(),!0);d.sourceRoot=c._sourceRoot,d.sourcesContent=c._generateSourcesContent(d._sources.toArray(),d.sourceRoot),d.file=c._file,d._sourceMapURL=f,d._absoluteSources=d._sources.toArray().map(function(x){return e.computeSourceURL(d.sourceRoot,x,f)});for(var h=c._mappings.toArray().slice(),v=d.__generatedMappings=[],y=d.__originalMappings=[],w=0,g=h.length;w<g;w++){var b=h[w],_=new o;_.generatedLine=b.generatedLine,_.generatedColumn=b.generatedColumn,b.source&&(_.source=m.indexOf(b.source),_.originalLine=b.originalLine,_.originalColumn=b.originalColumn,b.name&&(_.name=p.indexOf(b.name)),y.push(_)),v.push(_)}return i(d.__originalMappings,e.compareByOriginalPositions),d},s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s.prototype._parseMappings=function(c,f){for(var d=1,p=0,m=0,h=0,v=0,y=0,w=c.length,g=0,b={},_={},x=[],E=[],C,$,D,N,k;g<w;)if(c.charAt(g)===";")d++,g++,p=0;else if(c.charAt(g)===",")g++;else{for(C=new o,C.generatedLine=d,N=g;N<w&&!this._charIsMappingSeparator(c,N);N++);if($=c.slice(g,N),D=b[$],D)g+=$.length;else{for(D=[];g<N;)n.decode(c,g,_),k=_.value,g=_.rest,D.push(k);if(D.length===2)throw new Error("Found a source, but no line and column");if(D.length===3)throw new Error("Found a source and line, but no column");b[$]=D}C.generatedColumn=p+D[0],p=C.generatedColumn,D.length>1&&(C.source=v+D[1],v+=D[1],C.originalLine=m+D[2],m=C.originalLine,C.originalLine+=1,C.originalColumn=h+D[3],h=C.originalColumn,D.length>4&&(C.name=y+D[4],y+=D[4])),E.push(C),typeof C.originalLine=="number"&&x.push(C)}i(E,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,i(x,e.compareByOriginalPositions),this.__originalMappings=x},s.prototype._findMapping=function(c,f,d,p,m,h){if(c[d]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+c[d]);if(c[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+c[p]);return t.search(c,f,m,h)},s.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var f=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var d=this._generatedMappings[c+1];if(f.generatedLine===d.generatedLine){f.lastGeneratedColumn=d.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},s.prototype.originalPositionFor=function(c){var f={generatedLine:e.getArg(c,"line"),generatedColumn:e.getArg(c,"column")},d=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(c,"bias",a.GREATEST_LOWER_BOUND));if(d>=0){var p=this._generatedMappings[d];if(p.generatedLine===f.generatedLine){var m=e.getArg(p,"source",null);m!==null&&(m=this._sources.at(m),m=e.computeSourceURL(this.sourceRoot,m,this._sourceMapURL));var h=e.getArg(p,"name",null);return h!==null&&(h=this._names.at(h)),{source:m,line:e.getArg(p,"originalLine",null),column:e.getArg(p,"originalColumn",null),name:h}}}return{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null}):!1},s.prototype.sourceContentFor=function(c,f){if(!this.sourcesContent)return null;var d=this._findSourceIndex(c);if(d>=0)return this.sourcesContent[d];var p=c;this.sourceRoot!=null&&(p=e.relative(this.sourceRoot,p));var m;if(this.sourceRoot!=null&&(m=e.urlParse(this.sourceRoot))){var h=p.replace(/^file:\/\//,"");if(m.scheme=="file"&&this._sources.has(h))return this.sourcesContent[this._sources.indexOf(h)];if((!m.path||m.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(f)return null;throw new Error('"'+p+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(c){var f=e.getArg(c,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var d={source:f,originalLine:e.getArg(c,"line"),originalColumn:e.getArg(c,"column")},p=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(c,"bias",a.GREATEST_LOWER_BOUND));if(p>=0){var m=this._originalMappings[p];if(m.source===d.source)return{line:e.getArg(m,"generatedLine",null),column:e.getArg(m,"generatedColumn",null),lastColumn:e.getArg(m,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},P0.BasicSourceMapConsumer=s;function u(l,c){var f=l;typeof l=="string"&&(f=e.parseSourceMapInput(l));var d=e.getArg(f,"version"),p=e.getArg(f,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new r,this._names=new r;var m={line:-1,column:0};this._sections=p.map(function(h){if(h.url)throw new Error("Support for url field in sections not implemented.");var v=e.getArg(h,"offset"),y=e.getArg(v,"line"),w=e.getArg(v,"column");if(y<m.line||y===m.line&&w<m.column)throw new Error("Section offsets must be ordered and non-overlapping.");return m=v,{generatedOffset:{generatedLine:y+1,generatedColumn:w+1},consumer:new a(e.getArg(h,"map"),c)}})}return u.prototype=Object.create(a.prototype),u.prototype.constructor=a,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var l=[],c=0;c<this._sections.length;c++)for(var f=0;f<this._sections[c].consumer.sources.length;f++)l.push(this._sections[c].consumer.sources[f]);return l}}),u.prototype.originalPositionFor=function(c){var f={generatedLine:e.getArg(c,"line"),generatedColumn:e.getArg(c,"column")},d=t.search(f,this._sections,function(m,h){var v=m.generatedLine-h.generatedOffset.generatedLine;return v||m.generatedColumn-h.generatedOffset.generatedColumn}),p=this._sections[d];return p?p.consumer.originalPositionFor({line:f.generatedLine-(p.generatedOffset.generatedLine-1),column:f.generatedColumn-(p.generatedOffset.generatedLine===f.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},u.prototype.sourceContentFor=function(c,f){for(var d=0;d<this._sections.length;d++){var p=this._sections[d],m=p.consumer.sourceContentFor(c,!0);if(m)return m}if(f)return null;throw new Error('"'+c+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(c){for(var f=0;f<this._sections.length;f++){var d=this._sections[f];if(d.consumer._findSourceIndex(e.getArg(c,"source"))!==-1){var p=d.consumer.generatedPositionFor(c);if(p){var m={line:p.line+(d.generatedOffset.generatedLine-1),column:p.column+(d.generatedOffset.generatedLine===p.line?d.generatedOffset.generatedColumn-1:0)};return m}}}return{line:null,column:null}},u.prototype._parseMappings=function(c,f){this.__generatedMappings=[],this.__originalMappings=[];for(var d=0;d<this._sections.length;d++)for(var p=this._sections[d],m=p.consumer._generatedMappings,h=0;h<m.length;h++){var v=m[h],y=p.consumer._sources.at(v.source);y=e.computeSourceURL(p.consumer.sourceRoot,y,this._sourceMapURL),this._sources.add(y),y=this._sources.indexOf(y);var w=null;v.name&&(w=p.consumer._names.at(v.name),this._names.add(w),w=this._names.indexOf(w));var g={source:y,generatedLine:v.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(p.generatedOffset.generatedLine===v.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:w};this.__generatedMappings.push(g),typeof g.originalLine=="number"&&this.__originalMappings.push(g)}i(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),i(this.__originalMappings,e.compareByOriginalPositions)},P0.IndexedSourceMapConsumer=u,P0}var yS={},SP;function HJe(){if(SP)return yS;SP=1;var e=LJ().SourceMapGenerator,t=zg(),r=/(\r?\n)/,n=10,i="$$$isSourceNode$$$";function a(s,o,u,l,c){this.children=[],this.sourceContents={},this.line=s??null,this.column=o??null,this.source=u??null,this.name=c??null,this[i]=!0,l!=null&&this.add(l)}return a.fromStringWithSourceMap=function(o,u,l){var c=new a,f=o.split(r),d=0,p=function(){var w=b(),g=b()||"";return w+g;function b(){return d<f.length?f[d++]:void 0}},m=1,h=0,v=null;return u.eachMapping(function(w){if(v!==null)if(m<w.generatedLine)y(v,p()),m++,h=0;else{var g=f[d]||"",b=g.substr(0,w.generatedColumn-h);f[d]=g.substr(w.generatedColumn-h),h=w.generatedColumn,y(v,b),v=w;return}for(;m<w.generatedLine;)c.add(p()),m++;if(h<w.generatedColumn){var g=f[d]||"";c.add(g.substr(0,w.generatedColumn)),f[d]=g.substr(w.generatedColumn),h=w.generatedColumn}v=w},this),d<f.length&&(v&&y(v,p()),c.add(f.splice(d).join(""))),u.sources.forEach(function(w){var g=u.sourceContentFor(w);g!=null&&(l!=null&&(w=t.join(l,w)),c.setSourceContent(w,g))}),c;function y(w,g){if(w===null||w.source===void 0)c.add(g);else{var b=l?t.join(l,w.source):w.source;c.add(new a(w.originalLine,w.originalColumn,b,g,w.name))}}},a.prototype.add=function(o){if(Array.isArray(o))o.forEach(function(u){this.add(u)},this);else if(o[i]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},a.prototype.prepend=function(o){if(Array.isArray(o))for(var u=o.length-1;u>=0;u--)this.prepend(o[u]);else if(o[i]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},a.prototype.walk=function(o){for(var u,l=0,c=this.children.length;l<c;l++)u=this.children[l],u[i]?u.walk(o):u!==""&&o(u,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(o){var u,l,c=this.children.length;if(c>0){for(u=[],l=0;l<c-1;l++)u.push(this.children[l]),u.push(o);u.push(this.children[l]),this.children=u}return this},a.prototype.replaceRight=function(o,u){var l=this.children[this.children.length-1];return l[i]?l.replaceRight(o,u):typeof l=="string"?this.children[this.children.length-1]=l.replace(o,u):this.children.push("".replace(o,u)),this},a.prototype.setSourceContent=function(o,u){this.sourceContents[t.toSetString(o)]=u},a.prototype.walkSourceContents=function(o){for(var u=0,l=this.children.length;u<l;u++)this.children[u][i]&&this.children[u].walkSourceContents(o);for(var c=Object.keys(this.sourceContents),u=0,l=c.length;u<l;u++)o(t.fromSetString(c[u]),this.sourceContents[c[u]])},a.prototype.toString=function(){var o="";return this.walk(function(u){o+=u}),o},a.prototype.toStringWithSourceMap=function(o){var u={code:"",line:1,column:0},l=new e(o),c=!1,f=null,d=null,p=null,m=null;return this.walk(function(h,v){u.code+=h,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||d!==v.line||p!==v.column||m!==v.name)&&l.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name}),f=v.source,d=v.line,p=v.column,m=v.name,c=!0):c&&(l.addMapping({generated:{line:u.line,column:u.column}}),f=null,c=!1);for(var y=0,w=h.length;y<w;y++)h.charCodeAt(y)===n?(u.line++,u.column=0,y+1===w?(f=null,c=!1):c&&l.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:u.line,column:u.column},name:v.name})):u.column++}),this.walkSourceContents(function(h,v){l.setSourceContent(h,v)}),{code:u.code,map:l}},yS.SourceNode=a,yS}var EP;function GJe(){return EP||(EP=1,M0.SourceMapGenerator=LJ().SourceMapGenerator,M0.SourceMapConsumer=VJe().SourceMapConsumer,M0.SourceNode=HJe().SourceNode),M0}(function(e,t){t.__esModule=!0;var r=Wn,n=void 0;try{var i=GJe();n=i.SourceNode}catch{}n||(n=function(o,u,l,c){this.src="",c&&this.add(c)},n.prototype={add:function(u){r.isArray(u)&&(u=u.join("")),this.src+=u},prepend:function(u){r.isArray(u)&&(u=u.join("")),this.src=u+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function a(o,u,l){if(r.isArray(o)){for(var c=[],f=0,d=o.length;f<d;f++)c.push(u.wrap(o[f],l));return c}else if(typeof o=="boolean"||typeof o=="number")return o+"";return o}function s(o){this.srcFile=o,this.source=[]}s.prototype={isEmpty:function(){return!this.source.length},prepend:function(u,l){this.source.unshift(this.wrap(u,l))},push:function(u,l){this.source.push(this.wrap(u,l))},merge:function(){var u=this.empty();return this.each(function(l){u.add(["  ",l,`
`])}),u},each:function(u){for(var l=0,c=this.source.length;l<c;l++)u(this.source[l])},empty:function(){var u=this.currentLocation||{start:{}};return new n(u.start.line,u.start.column,this.srcFile)},wrap:function(u){var l=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return u instanceof n?u:(u=a(u,this,l),new n(l.start.line,l.start.column,this.srcFile,u))},functionCall:function(u,l,c){return c=this.generateList(c),this.wrap([u,l?"."+l+"(":"(",c,")"])},quotedString:function(u){return'"'+(u+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(u){var l=this,c=[];Object.keys(u).forEach(function(d){var p=a(u[d],l);p!=="undefined"&&c.push([l.quotedString(d),":",p])});var f=this.generateList(c);return f.prepend("{"),f.add("}"),f},generateList:function(u){for(var l=this.empty(),c=0,f=u.length;c<f;c++)c&&l.add(","),l.add(a(u[c],this));return l},generateArray:function(u){var l=this.generateList(u);return l.prepend("["),l.add("]"),l}},t.default=s,e.exports=t.default})(d4,d4.exports);var ZJe=d4.exports;(function(e,t){t.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var n=Co,i=yu,a=r(i),s=Wn,o=ZJe,u=r(o);function l(d){this.value=d}function c(){}c.prototype={nameLookup:function(p,m){return this.internalNameLookup(p,m)},depthedLookup:function(p){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(p),")"]},compilerInfo:function(){var p=n.COMPILER_REVISION,m=n.REVISION_CHANGES[p];return[p,m]},appendToBuffer:function(p,m,h){return s.isArray(p)||(p=[p]),p=this.source.wrap(p,m),this.environment.isSimple?["return ",p,";"]:h?["buffer += ",p,";"]:(p.appendToBuffer=!0,p)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(p,m){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",p,",",JSON.stringify(m),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(p,m,h,v){this.environment=p,this.options=m,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!h,this.context=h||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(p,m),this.useDepths=this.useDepths||p.useDepths||p.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||p.useBlockParams;var y=p.opcodes,w=void 0,g=void 0,b=void 0,_=void 0;for(b=0,_=y.length;b<_;b++)w=y[b],this.source.currentLocation=w.loc,g=g||w.loc,this[w.opcode].apply(this,w.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var x=this.createFunctionContext(v);if(this.isChild)return x;var E={compiler:this.compilerInfo(),main:x};this.decorators&&(E.main_d=this.decorators,E.useDecorators=!0);var C=this.context,$=C.programs,D=C.decorators;for(b=0,_=$.length;b<_;b++)$[b]&&(E[b]=$[b],D[b]&&(E[b+"_d"]=D[b],E.useDecorators=!0));return this.environment.usePartial&&(E.usePartial=!0),this.options.data&&(E.useData=!0),this.useDepths&&(E.useDepths=!0),this.useBlockParams&&(E.useBlockParams=!0),this.options.compat&&(E.compat=!0),v?E.compilerOptions=this.options:(E.compiler=JSON.stringify(E.compiler),this.source.currentLocation={start:{line:1,column:0}},E=this.objectLiteral(E),m.srcName?(E=E.toStringWithSourceMap({file:m.destName}),E.map=E.map&&E.map.toString()):E=E.toString()),E},preamble:function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},createFunctionContext:function(p){var m=this,h="",v=this.stackVars.concat(this.registers.list);v.length>0&&(h+=", "+v.join(", "));var y=0;Object.keys(this.aliases).forEach(function(b){var _=m.aliases[b];_.children&&_.referenceCount>1&&(h+=", alias"+ ++y+"="+b,_.children[0]="alias"+y)}),this.lookupPropertyFunctionIsUsed&&(h+=", "+this.lookupPropertyFunctionVarDeclaration());var w=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&w.push("blockParams"),this.useDepths&&w.push("depths");var g=this.mergeSource(h);return p?(w.push(g),Function.apply(this,w)):this.source.wrap(["function(",w.join(","),`) {
  `,g,"}"])},mergeSource:function(p){var m=this.environment.isSimple,h=!this.forceBuffer,v=void 0,y=void 0,w=void 0,g=void 0;return this.source.each(function(b){b.appendToBuffer?(w?b.prepend("  + "):w=b,g=b):(w&&(y?w.prepend("buffer += "):v=!0,g.add(";"),w=g=void 0),y=!0,m||(h=!1))}),h?w?(w.prepend("return "),g.add(";")):y||this.source.push('return "";'):(p+=", buffer = "+(v?"":this.initializeBuffer()),w?(w.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),p&&this.source.prepend("var "+p.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(p){var m=this.aliasable("container.hooks.blockHelperMissing"),h=[this.contextName(0)];this.setupHelperArgs(p,0,h);var v=this.popStack();h.splice(1,0,v),this.push(this.source.functionCall(m,"call",h))},ambiguousBlockValue:function(){var p=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs("",0,m,!0),this.flushInline();var h=this.topStack();m.splice(1,0,h),this.pushSource(["if (!",this.lastHelper,") { ",h," = ",this.source.functionCall(p,"call",m),"}"])},appendContent:function(p){this.pendingContent?p=this.pendingContent+p:this.pendingLocation=this.source.currentLocation,this.pendingContent=p},append:function(){if(this.isInline())this.replaceStack(function(m){return[" != null ? ",m,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var p=this.popStack();this.pushSource(["if (",p," != null) { ",this.appendToBuffer(p,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(p){this.lastContext=p},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(p,m,h,v){var y=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(p[y++])):this.pushContext(),this.resolvePath("context",p,y,m,h)},lookupBlockParam:function(p,m){this.useBlockParams=!0,this.push(["blockParams[",p[0],"][",p[1],"]"]),this.resolvePath("context",m,1)},lookupData:function(p,m,h){p?this.pushStackLiteral("container.data(data, "+p+")"):this.pushStackLiteral("data"),this.resolvePath("data",m,0,!0,h)},resolvePath:function(p,m,h,v,y){var w=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&y,this,m,h,p));return}for(var g=m.length;h<g;h++)this.replaceStack(function(b){var _=w.nameLookup(b,m[h],p);return v?[" && ",_]:[" != null ? ",_," : ",b]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(p,m){this.pushContext(),this.pushString(m),m!=="SubExpression"&&(typeof p=="string"?this.pushString(p):this.pushStackLiteral(p))},emptyHash:function(p){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(p?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var p=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(p.ids)),this.stringParams&&(this.push(this.objectLiteral(p.contexts)),this.push(this.objectLiteral(p.types))),this.push(this.objectLiteral(p.values))},pushString:function(p){this.pushStackLiteral(this.quotedString(p))},pushLiteral:function(p){this.pushStackLiteral(p)},pushProgram:function(p){p!=null?this.pushStackLiteral(this.programExpression(p)):this.pushStackLiteral(null)},registerDecorator:function(p,m){var h=this.nameLookup("decorators",m,"decorator"),v=this.setupHelperArgs(m,p);this.decorators.push(["fn = ",this.decorators.functionCall(h,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(p,m,h){var v=this.popStack(),y=this.setupHelper(p,m),w=[];h&&w.push(y.name),w.push(v),this.options.strict||w.push(this.aliasable("container.hooks.helperMissing"));var g=["(",this.itemsSeparatedBy(w,"||"),")"],b=this.source.functionCall(g,"call",y.callParams);this.push(b)},itemsSeparatedBy:function(p,m){var h=[];h.push(p[0]);for(var v=1;v<p.length;v++)h.push(m,p[v]);return h},invokeKnownHelper:function(p,m){var h=this.setupHelper(p,m);this.push(this.source.functionCall(h.name,"call",h.callParams))},invokeAmbiguous:function(p,m){this.useRegister("helper");var h=this.popStack();this.emptyHash();var v=this.setupHelper(0,p,m),y=this.lastHelper=this.nameLookup("helpers",p,"helper"),w=["(","(helper = ",y," || ",h,")"];this.options.strict||(w[0]="(helper = ",w.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",w,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(p,m,h){var v=[],y=this.setupParams(m,1,v);p&&(m=this.popStack(),delete y.name),h&&(y.indent=JSON.stringify(h)),y.helpers="helpers",y.partials="partials",y.decorators="container.decorators",p?v.unshift(m):v.unshift(this.nameLookup("partials",m,"partial")),this.options.compat&&(y.depths="depths"),y=this.objectLiteral(y),v.push(y),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(p){var m=this.popStack(),h=void 0,v=void 0,y=void 0;this.trackIds&&(y=this.popStack()),this.stringParams&&(v=this.popStack(),h=this.popStack());var w=this.hash;h&&(w.contexts[p]=h),v&&(w.types[p]=v),y&&(w.ids[p]=y),w.values[p]=m},pushId:function(p,m,h){p==="BlockParam"?this.pushStackLiteral("blockParams["+m[0]+"].path["+m[1]+"]"+(h?" + "+JSON.stringify("."+h):"")):p==="PathExpression"?this.pushString(m):p==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(p,m){for(var h=p.children,v=void 0,y=void 0,w=0,g=h.length;w<g;w++){v=h[w],y=new this.compiler;var b=this.matchExistingProgram(v);if(b==null){this.context.programs.push("");var _=this.context.programs.length;v.index=_,v.name="program"+_,this.context.programs[_]=y.compile(v,m,this.context,!this.precompile),this.context.decorators[_]=y.decorators,this.context.environments[_]=v,this.useDepths=this.useDepths||y.useDepths,this.useBlockParams=this.useBlockParams||y.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=b.index,v.name="program"+b.index,this.useDepths=this.useDepths||b.useDepths,this.useBlockParams=this.useBlockParams||b.useBlockParams}},matchExistingProgram:function(p){for(var m=0,h=this.context.environments.length;m<h;m++){var v=this.context.environments[m];if(v&&v.equals(p))return v}},programExpression:function(p){var m=this.environment.children[p],h=[m.index,"data",m.blockParams];return(this.useBlockParams||this.useDepths)&&h.push("blockParams"),this.useDepths&&h.push("depths"),"container.program("+h.join(", ")+")"},useRegister:function(p){this.registers[p]||(this.registers[p]=!0,this.registers.list.push(p))},push:function(p){return p instanceof l||(p=this.source.wrap(p)),this.inlineStack.push(p),p},pushStackLiteral:function(p){this.push(new l(p))},pushSource:function(p){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),p&&this.source.push(p)},replaceStack:function(p){var m=["("],h=void 0,v=void 0,y=void 0;if(!this.isInline())throw new a.default("replaceStack on non-inline");var w=this.popStack(!0);if(w instanceof l)h=[w.value],m=["(",h],y=!0;else{v=!0;var g=this.incrStack();m=["((",this.push(g)," = ",w,")"],h=this.topStack()}var b=p.call(this,h);y||this.popStack(),v&&this.stackSlot--,this.push(m.concat(b,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var p=this.inlineStack;this.inlineStack=[];for(var m=0,h=p.length;m<h;m++){var v=p[m];if(v instanceof l)this.compileStack.push(v);else{var y=this.incrStack();this.pushSource([y," = ",v,";"]),this.compileStack.push(y)}}},isInline:function(){return this.inlineStack.length},popStack:function(p){var m=this.isInline(),h=(m?this.inlineStack:this.compileStack).pop();if(!p&&h instanceof l)return h.value;if(!m){if(!this.stackSlot)throw new a.default("Invalid stack pop");this.stackSlot--}return h},topStack:function(){var p=this.isInline()?this.inlineStack:this.compileStack,m=p[p.length-1];return m instanceof l?m.value:m},contextName:function(p){return this.useDepths&&p?"depths["+p+"]":"depth"+p},quotedString:function(p){return this.source.quotedString(p)},objectLiteral:function(p){return this.source.objectLiteral(p)},aliasable:function(p){var m=this.aliases[p];return m?(m.referenceCount++,m):(m=this.aliases[p]=this.source.wrap(p),m.aliasable=!0,m.referenceCount=1,m)},setupHelper:function(p,m,h){var v=[],y=this.setupHelperArgs(m,p,v,h),w=this.nameLookup("helpers",m,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:y,name:w,callParams:[g].concat(v)}},setupParams:function(p,m,h){var v={},y=[],w=[],g=[],b=!h,_=void 0;b&&(h=[]),v.name=this.quotedString(p),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var x=this.popStack(),E=this.popStack();(E||x)&&(v.fn=E||"container.noop",v.inverse=x||"container.noop");for(var C=m;C--;)_=this.popStack(),h[C]=_,this.trackIds&&(g[C]=this.popStack()),this.stringParams&&(w[C]=this.popStack(),y[C]=this.popStack());return b&&(v.args=this.source.generateArray(h)),this.trackIds&&(v.ids=this.source.generateArray(g)),this.stringParams&&(v.types=this.source.generateArray(w),v.contexts=this.source.generateArray(y)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(p,m,h,v){var y=this.setupParams(p,m,h);return y.loc=JSON.stringify(this.source.currentLocation),y=this.objectLiteral(y),v?(this.useRegister("options"),h.push("options"),["options=",y]):h?(h.push(y),""):y}},function(){for(var d="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),p=c.RESERVED_WORDS={},m=0,h=d.length;m<h;m++)p[d[m]]=!0}(),c.isValidJavaScriptVariableName=function(d){return!c.RESERVED_WORDS[d]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(d)};function f(d,p,m,h,v){var y=p.popStack(),w=m.length;for(d&&w--;h<w;h++)y=p.nameLookup(y,m[h],v);return d?[p.aliasable("container.strict"),"(",y,", ",p.quotedString(m[h]),", ",JSON.stringify(p.source.currentLocation)," )"]:y}t.default=c,e.exports=t.default})(f4,f4.exports);var WJe=f4.exports;(function(e,t){t.__esModule=!0;function r(w){return w&&w.__esModule?w:{default:w}}var n=dJe,i=r(n),a=DJ,s=r(a),o=Rg,u=Ug,l=WJe,c=r(l),f=TJ,d=r(f),p=NJ,m=r(p),h=i.default.create;function v(){var w=h();return w.compile=function(g,b){return u.compile(g,b,w)},w.precompile=function(g,b){return u.precompile(g,b,w)},w.AST=s.default,w.Compiler=u.Compiler,w.JavaScriptCompiler=c.default,w.Parser=o.parser,w.parse=o.parse,w.parseWithoutProcessing=o.parseWithoutProcessing,w}var y=v();y.create=v,m.default(y),y.Visitor=d.default,y.default=y,t.default=y,e.exports=t.default})(jE,jE.exports);var KJe=jE.exports;const Di=el(KJe),JJe=`{{#> card sourceType=sourceType title=title subtitle=subtitle properties=properties description=description characterName=characterName}}\r
{{/card}}\r
`,YJe=`{{#> wrapper type="roll" keyValues=keyValues }}\r
  {{#> header characterName=characterName title=title subtitle=subtitle}}\r
  {{/ header}}\r
\r
  <div class="body">\r
    {{> rollTotal total=(sumComponents ../components multiplier) resultType=resultType}}\r
\r
    {{#if allowHeroDie }}\r
      {{> heroDie total=(sumComponents ../components multiplier) title=title }}\r
    {{/if}}\r
    <details class="show-more">\r
      <summary class="show-more__button"></summary>\r
      <div class="show-more__content">\r
        {{> rollComponents components=components }}\r
      </div>\r
    </details>\r
\r
    {{#if keyValues}}\r
      {{> keyValues keyValues=keyValues }}\r
    {{/if}}\r
\r
    {{#if textContent}}\r
      {{> textContent textContent=textContent }}\r
    {{/if}}\r
\r
    {{#if traits}}\r
      <hr>\r
      <div class="trait-list">\r
        {{#each traits as |trait|}}\r
          <div class="trait">\r
            {{capitalize trait}}\r
          </div>\r
        {{/each}}\r
      </div>\r
    {{/if}}\r
  </div>\r
{{/ wrapper }}\r
`,XJe=`{{#> card sourceType=sourceType title=title subtitle=subtitle properties=properties description=description damageRollAction=damageRollAction characterName=characterName}}\r
  {{> rollTotal total=total resultType=resultType}}\r
  <details class="show-more">\r
    <summary class="show-more__button"></summary>\r
    <div class="show-more__content">\r
      <div class="roll__components">\r
        <div class="roll__d20-results">\r
          <span class="roll__d20-label">d20s:</span>\r
          {{#each d20s}}\r
            <span class="roll__d20-result {{#if this.kept}}roll__d20-result--kept{{else}}roll__d20-result--discarded{{/if}}">\r
              {{this.value}}\r
            </span>\r
          {{/each}}\r
        </div>\r
        {{> rollComponents components=components }}\r
      </div>\r
    </div>\r
  </details>\r
{{/card}}`,QJe=`{{#> card sourceType=sourceType title=title subtitle=subtitle properties=properties description=description characterName=characterName}}\r
  {{> rollTotal total=grandTotal resultType=resultType}}\r
\r
  <details class="show-more">\r
    <summary class="show-more__button"></summary>\r
    <div class="show-more__content">\r
      {{#each damageGroups}}\r
        <div class="damage-group">\r
          <div class="damage-group__subtotal">\r
            <span class="damage-group__total">{{this.total}}</span>\r
            <span class="damage-group__type">{{this.type}}</span>\r
          </div>\r
          \r
          <div class="damage-group__details">\r
            {{> rollComponents components=this.components }}\r
          </div>\r
        </div>\r
      {{/each}}\r
    </div>\r
  </details>\r
{{/card}}\r
`,eYe=`<rolltemplate class="sheet-roll__card sheet-roll-source--{{sourceType}}">\r
{{> header characterName=characterName title=title subtitle=subtitle}}\r
\r
  <div class="sheet-roll__roll-content">\r
    {{> @partial-block }}\r
  </div>\r
\r
  {{#if properties}}\r
    <div class="sheet-roll__properties">\r
      {{#each properties}}\r
        {{#if this}}\r
          <div class="sheet-roll__property">\r
            <strong class="sheet-roll__property-key">{{@key}}:</strong>\r
            <span class="sheet-roll__property-value">{{this}}</span>\r
          </div>\r
        {{/if}}\r
      {{/each}}\r
    </div>\r
  {{/if}}\r
\r
  {{#if description}}\r
    <div class="sheet-roll__description">{{{description}}}</div>\r
  {{/if}}\r
</rolltemplate>`,tYe=`<div class='key-values'>
  {{#each keyValues}}
    {{#if this}}
      <div class='key-values__pair'>
        <div class='key-values__key'>{{@key}}</div>
        <div class='key-values__value'>{{this}}</div>
      </div>
    {{/if}}
  {{/each}}
</div>`,rYe="<div class='sheet-roll__text-content'>{{textContent}}</div>",nYe=`<div class='roll__components'>
  {{#each components}}
    {{#if (or (not (isEqual this.value 0)) this.alwaysShowInBreakdown)}}
      <div class='roll__component component'>
        <div class='component__description'>
          {{#unless @first}}
            +
          {{/unless}}
          {{#if this.label}}
            <span class='component__label'>
              {{this.label}}
            </span>
          {{else}}
            {{#if this.sides}}
              <span class='component__label'>
                {{this.count}}d{{this.sides}}
              </span>
            {{/if}}
          {{/if}}
          <span class='component__value'>
            ({{this.value}})
          </span>
        </div>
      </div>
    {{/if}}
  {{/each}}
</div>`,iYe=`<div class="roll__total {{#if resultType}}roll__total--{{resultType}}{{/if}}">
  {{total}}
</div>
`,aYe=`<div class="header">\r
  {{#if characterName}}\r
    <div class="header__character-name">{{characterName}}</div>\r
  {{/if}}\r
  <div class="header__sub-group">\r
    <div class="header__title">{{title}}</div>\r
    {{#if subtitle}}\r
      <div class="header__subtitle">{{ capitalize subtitle}}</div>\r
    {{/if}}\r
  </div>\r
</div>`,sYe=`<div class="hero-die">
  <button class="hero-die__button" data-sheet-action="addHeroDie" data-args={{total}}:{{title}}> Roll Hero Die! </button>
</div>
`,oYe=(e,t)=>e>t,uYe=(e,t)=>e===t,lYe=(e,t=1)=>e.reduce((r,n)=>r+(n.value??0),0)*t,cYe=e=>e.filter(t=>t.sides||t.rollFormula),fYe=e=>Array.isArray(e),dYe=e=>e.split(" ").map(r=>`${r[0].toUpperCase()}${r.substring(1,r.length)}`).join(" ");function uu(e){if(!e)return"";const t=o=>o.replace(/[&<>'"]/g,u=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[u]||u),r=e.split(`
`);let n="",i=!1,a=!1,s=!1;return r.forEach(o=>{const u=o.trim();if(u.includes("|")){i&&(n+="</ul>",i=!1),a||(n+="<table>",a=!0,s=!0);const c=s?"th":"td",f=u.split("|").map(d=>`<${c}>${t(d.trim())}</${c}>`).join("");n+=`<tr>${f}</tr>`,s&&(s=!1)}else{a&&(n+="</table>",a=!1);const c=u.match(/^\s*[-*]\s+(.*)/);if(c){const f=t(c[1].trim());i||(n+="<ul>",i=!0),n+=`<li>${f}</li>`}else{i&&(n+="</ul>",i=!1);const f=t(u);f&&(n+=`<p>${f}</p>`)}}}),i&&(n+="</ul>"),a&&(n+="</table>"),n=n.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),n=n.replace(/__(.*?)__/g,"<strong>$1</strong>"),n=n.replace(/\*(.+?)\*/g,"<em>$1</em>"),n=n.replace(/_(.+?)_/g,"<em>$1</em>"),n}Di.registerPartial("header",aYe);Di.registerPartial("keyValues",tYe);Di.registerPartial("rollTotal",iYe);Di.registerPartial("textContent",rYe);Di.registerPartial("rollComponents",nYe);Di.registerPartial("heroDie",sYe);Di.registerPartial("card",eYe);Di.registerHelper("sumComponents",lYe);Di.registerHelper("getDice",cYe);Di.registerHelper("isGreater",oYe);Di.registerHelper("isEqual",uYe);Di.registerHelper("isArray",fYe);Di.registerHelper("capitalize",dYe);Di.registerHelper("not",e=>!e);Di.registerHelper("or",(e,t)=>e||t);Di.registerHelper("and",(e,t)=>e&&t);const pYe={chat:Di.compile(JJe),roll:Di.compile(YJe),d20:Di.compile(XJe),damage:Di.compile(QJe)},Yd=({type:e,parameters:t})=>{const r=pYe[e];return t.description&&(t.description=uu(t.description)),r(t)},FJ=async(e,t)=>{const r=t||Hs.value,n={};for(const s in e){const o=e[s];if(o.sides){const u=o.sides,l=o.count??1;n[`dice-${s}`]=`${Math.abs(l)}d${u}`}}const i=await r.roll({rolls:n});for(const s in i.results){const o=i.results[s],u=parseInt(s.split("-")[1]),l=e[u],c=(l.count??1)<0?-1:1;if(l.value=o.results.result*c,!l.label&&!l.rollFormula&&(l.label=o.results.expression),l.rollFormula){const f=[],d=l.value;let p=0;if(o.results.rolls){for(const m of o.results.rolls){const h=m.results.reduce((y,w)=>y+w,0);p+=h;const v=`${m.dice}d${m.sides}`;f.push({sides:m.sides,count:m.dice,value:h,label:l.label?`${l.label} [${v}]`:v})}f.push({label:"Manual Bonus",value:d-p})}e.splice(u,1,...f)}}return{total:e.reduce((s,o)=>s+(o?.value||0),0),components:e}};function RJ(e){if(!e||typeof e!="string")return"";try{let t;try{t=Jd.parse(e)}catch{return""}const r=t.filter(n=>n.type==="rollable");return r.length===0?"":Jd.serialize(r)}catch(t){return console.error("Dice parsing failed for placeholder:",t),""}}function mYe(e){const{bonuses:t,rollBonusKeys:r=[],effectsSource:n}=e,i=kt(),a=t.filter(l=>l.value!==0),s=n??i.effects,o=n?dr.isNpcEffectActive:i.isEffectSingleActive,u=dr.calculateModifiedRollBonuses(s,r,o);return{baseComponents:a,effectRollBonuses:u}}const UJ=async e=>{const t=e.customDispatch||Hs.value,{rollName:r,subtitle:n,bonuses:i,rollBonusKeys:a=[],actionDieKeys:s=[],critRange:o=20,whisper:u,properties:l,description:c,sourceType:f,effectsSource:d,advantage:p,additionalComponents:m=[],addToTracker:h=!1,tokenId:v,isCompanion:y=!1,avatar:w}=e,g=kt(),b=i.filter(F=>F.value!==0).map(F=>({label:F.label,value:F.value}));let _=[],x=0;p!==void 0?(x=p,d?_=dr.calculateModifiedRollBonuses(d,a,dr.isNpcEffectActive):_=g.getModifiedRollBonuses(a).value):d?(_=dr.calculateModifiedRollBonuses(d,a,dr.isNpcEffectActive),x=dr.calculateActionDie(dr.getValidEffects(d,s,dr.isNpcEffectActive))):(_=g.getModifiedRollBonuses(a).value,x=g.getModifiedActionDie(s).value);const E=20,C=1+Math.abs(x),$=Array.from({length:C},()=>({sides:E,count:1})),{components:D}=await FJ([...$,...b,..._,...m],t),N=D.filter(F=>F.sides===E),k=D.filter(F=>F.sides!==E),P=k.reduce((F,H)=>F+(H.value||0),0),U=N.map(F=>F.value||0);let L;x>0?L=Math.max(...U):x<0?L=Math.min(...U):L=U[0];let B=!1;const O=N.map(F=>{const H=!B&&F.value===L;return H&&(B=!0),{value:F.value||0,kept:H}}),T=L+P,j=L;let R;j&&(j>=o&&(R="crit-success"),j===1&&(R="crit-fail"));const le=c?c.replace(/\[.*?\]/g,"").trim():void 0,re=Yd({type:"d20",parameters:{characterName:yo().name,title:r,subtitle:n,components:k,d20s:O,resultType:R,properties:l,total:T,description:le,sourceType:f}});if(await t.post({characterId:yo().id,content:re,options:{whisper:u}}),h){const F={value:T};F.custom={name:e.characterName||r,img:w},v&&(F.tokenId=v),(F.tokenId||F.custom)&&await t.addToTracker(F)}return R};function hYe(e){const{damageRolls:t,damageModifierKeys:r=[],damageRollKeys:n=[],effectsSource:i,t:a}=e,s=kt(),o=Yr(),u=[];t&&t.forEach(m=>{if(m.damage&&u.push({label:a(`titles.dice-pool-types.${m.type}`),value:m.damage}),m.ability&&m.ability!=="none"){const h=o.getAbilityModifier(Ga(m.ability,o.abilities)).value.final;h!==0&&u.push({label:a(`titles.abilities.${m.ability}`),value:h})}});const l=i??s.effects,c=i?dr.isNpcEffectActive:s.isEffectSingleActive,d=dr.calculateModifiedValue(0,dr.getValidEffects(l,r,c)).modifiers,p=dr.calculateModifiedRollBonuses(l,n,c);return{baseComponents:u,flatBonuses:d,rollBonuses:p}}const zJ=async e=>{const t=e.customDispatch||Hs.value,{rollName:r,subtitle:n,damageRolls:i,damageGroups:a,isCrit:s,whisper:o,properties:u,description:l,sourceType:c,characterName:f,damageModifierKeys:d=[],damageRollKeys:p=[],effectsSource:m,additionalComponents:h=[],t:v}=e,y=kt(),w={};i?i.forEach($=>{if(w[$.type]||(w[$.type]={type:v(`titles.dice-pool-types.${$.type}`),components:[]}),$.damage&&w[$.type].components.push(...mh($.damage,v("titles.damage"))),$.ability&&$.ability!=="none"){const D=Yr().getAbilityModifier(Ga($.ability,Yr().abilities)).value.final;D!==0&&w[$.type].components.push({label:v(`titles.abilities.${$.ability}`),value:D})}if(s){const D=$.critDamage||RJ($.damage);D&&w[$.type].components.push(...mh(D,v("rolls.crit-success")))}}):a&&a.forEach($=>{const D=`${$.type}-${Math.random()}`;w[D]={type:$.type,components:[...$.components]}});let g=0,b=[];if(m?(g=dr.calculateModifiedValue(0,dr.getValidEffects(m,d,dr.isNpcEffectActive)).final,b=dr.calculateModifiedRollBonuses(m,p,dr.isNpcEffectActive)):(g=y.getModifiedValue(0,d).value.final,b=y.getModifiedRollBonuses(p).value),Object.keys(w).length>0){const $=Object.keys(w)[0];g!==0&&w[$].components.push({label:"Bonus",value:g}),w[$].components.push(...b),w[$].components.push(...h)}else(h.length>0||b.length>0||g!==0)&&(w.bonus={type:v("titles.damage"),components:[]},g!==0&&w.bonus.components.push({label:"Bonus",value:g}),w.bonus.components.push(...b),w.bonus.components.push(...h));const _=[];for(const $ of Object.values(w)){if($.components.length===0)continue;const{total:D,components:N}=await FJ($.components,t);_.push({type:$.type,total:D,components:N})}const x=_.reduce(($,D)=>$+D.total,0),E=l?l.replace(/\[.*?\]/g,"").trim():void 0,C=Yd({type:"damage",parameters:{characterName:f||yo().name,title:r,subtitle:n,damageGroups:_,isCrit:s,resultType:s?"crit-success":void 0,grandTotal:x,properties:u,description:E,sourceType:c}});await t.post({characterId:yo().id,content:C,options:{whisper:o}})},Ao=(e,t,r)=>{const n={};if("range"in e&&e.range&&(n[t("titles.range")]=e.range),"target"in e&&e.target&&(n[t("titles.target")]=e.target),"components"in e&&e.components.length>0&&(n[t("titles.components")]=e.components.map(i=>t(`abbreviations.spell-components.${i}`)).join(", ")+("material"in e&&e.material?` (${e.material})`:"")),e.saving&&e.saving!=="none"){const i=r??("savingDc"in e?e.savingDc:0);i&&(n[t("titles.saving-throw")]=`${t(`titles.abilities.${e.saving}`)} DC ${i}`)}return n},xp=Fi.union([Fi.enum(["equipped","attuned"]),Fi.templateLiteral([Fi.enum(["cl","ol"]),Fi.enum(["<","<=","=",">",">="]),Fi.number().min(1).max(20)]),Fi.string().regex(/^\$picker:\d+==.+$/)]),tc=(e,t,r)=>{if(e!=="spellcasting")return e||"none";const i=r.find(a=>a._id===t)||r[0];return i&&i.type==="ability"?i.ability:"none"},vYe=au({_id:fr(),name:fr(),group:Ko(["actions","bonus-actions","reactions","free-actions"]),isAttack:zs(),attackType:Ko(["melee","ranged"]),sourceType:Ko(["weapon","spell"]),critRange:iu(),attackAbility:Wo([Ea("none"),Ea("spellcasting"),uf()]),attackBonus:fr(),attackProficiency:Wo([Ea(0),Ea(.5),Ea(1),Ea(2)]),saving:Wo([Ea("none"),uf()]),savingDc:fr(),damage:wi(X6),ammo:iu(),range:fr(),target:fr(),tagId:fr(),description:fr(),"data-tags":wi(fr()).optional(),required:xp.array().optional(),spellSourceId:fr().optional()}),Wc=hi("actions",()=>{const e=Pe([]);Bt();const t=kt(),r=Oe(()=>dr.collectFromEffects(t.effects,"actions",t.isEffectActive)),n=Oe(()=>[...e.value,...r.value]),i=Pe(null),a=(E,C)=>{i.value={actionId:E,resultType:C}},s=E=>({_id:E._id??Ct(),name:E.name??"",group:E.group??"actions",isAttack:E.isAttack??!1,attackType:E.attackType??"melee",sourceType:E.sourceType??"weapon",critRange:E.critRange??20,attackAbility:E.attackAbility??"none",attackBonus:E.attackBonus??"0",attackProficiency:E.attackProficiency??1,damage:E.damage??[],saving:E.saving??"none",savingDc:E.savingDc??"0",ammo:E.ammo??0,range:E.range??"",target:E.target??"",tagId:E._id??Ct(),description:E.description??"",...E}),o=E=>{const C=s(E);return e.value.push(C),C},u=E=>{if(E.sourceEffectId){t.updateItemWithinEffect({effectId:E.sourceEffectId,itemPatch:E,itemKey:"actions"});return}const C=E._id?e.value.find($=>$._id===E._id):void 0;C?Object.assign(C,E):o(E)},l=E=>n.value.find($=>$._id===E._id)??o(E),c=E=>{if(E.sourceEffectId){t.removeItemFromEffect({effectId:E.sourceEffectId,itemId:E._id,itemKey:"actions"});return}const C=e.value.findIndex($=>$._id===E._id);if(C>=0){const $=e.value[C];$.tagId&&ki().remove($.tagId),e.value.splice(C,1)}},f=(E,C="attack")=>{let $=[];return E.isAttack&&($=[Be[`${E.attackType}-attack`],Be[`${E.sourceType}-attack`],Be[`${E.attackType}-${E.sourceType}-attack`]]),$},d=(E,C="attack")=>{let $=[];return E.isAttack&&($=[Be["crit-range"],Be[`${E.attackType}-crit-range`],Be[`${E.sourceType}-crit-range`],Be[`${E.attackType}-${E.sourceType}-crit-range`]]),$},p=E=>{let C=[];return C=[Be[`${E.attackType}-damage`],Be[`${E.sourceType}-damage`],Be[`${E.attackType}-${E.sourceType}-damage`]],C},m=E=>{const C=Ln();return E.spellSourceId?C.sources.find($=>$._id===E.spellSourceId):C.sources[0]},h=E=>{const C=n.value.findIndex(P=>P._id===E);if(C<0)return kt().getModifiedValue(0,Ct());const $=n.value[C];let D=0;const N=m($);if($.attackAbility==="spellcasting"&&N?.type==="flat")D=N.flat;else{const P=tc($.attackAbility,$.spellSourceId,Ln().sources);if(P!=="none"){const U=Ga(P,Yr().abilities);if(U){const L=Yr().getAbilityModifier(U).value.final,B=Math.floor(Zt().getProficiencyBonus*$.attackProficiency);D=L+B}}}D+=es($.attackBonus);const k=[Be.attack,...f($)];return kt().getModifiedValue(D,k)},v=E=>{const C=n.value.findIndex(N=>N._id===E);if(C<0)return kt().getModifiedValue(0,Ct());const $=n.value[C];if($.savingDc&&$.savingDc.trim()==="@{spell-dc}"){const N=m($);if(N)return Ln().getSourceDC(N._id)}const D=es($.savingDc);return kt().getModifiedValue(D,[])};return{actions:n,userActions:e,lastAttack:i,setLastAttackResult:a,addAction:o,getEmptyAction:s,update:u,getExistingOrCreate:l,getActionBonus:h,getActionDamage:E=>{const C=n.value.findIndex(P=>P._id===E);if(C<0)return kt().getModifiedDicePool([],Ct());const $=Ln(),D=n.value[C];if(!D.damage||D.damage.length===0)return Oe(()=>({final:[],modifiers:[]}));const N=Pe([]);for(const P of D.damage){const U=tc(P.ability,D.spellSourceId,$.sources),L=U!=="none"?Yr().getAbilityModifier(Ga(U,Yr().abilities)):!1;P.damage&&N.value.push(gf(P.damage)),L&&N.value.push(L.value.final)}const k=[Be.damage,...p(D)];return kt().getModifiedDicePool(N.value,k)},remove:c,getActionTags:E=>{const $=ki().tagGroups.find(D=>D._id===E);return $?$.tags:[]},getActionCritRange:E=>{const C=E.critRange,$=[...d(E)];return kt().getModifiedValue(C,$.filter(Boolean))},getActionDC:v,sendActionInfoToChat:async(E,C)=>{const $=n.value.find(U=>U._id===E);if(!$)return;const D=v(E).value.final,N=Ao($,C,D),k=Yd({type:"chat",parameters:{characterName:yo().name,title:$.name,sourceType:"action",properties:N,description:$.description}});await Hs.value.post({characterId:fa.character.id,content:k})},hydrate:E=>{const C=E?.actions?.actions?Hr(E.actions.actions).map($=>({...$,damage:ar($.damage),required:$.required?ar($.required):void 0})):n.value;e.value=C},dehydrate:()=>{const E=e.value.map(C=>({...C,damage:ur(C.damage),required:C.required?ur(C.required):void 0}));return{actions:{actions:rn(E)}}}}}),gYe=Fi.object({_id:Fi.string(),name:Fi.string(),count:Fi.number(),max:Fi.string(),refreshOnShortRest:Fi.enum(["none","all","fixed-value"]),refreshOnLongRest:Fi.enum(["none","all","fixed-value"]),refreshOnDawn:Fi.enum(["none","all","fixed-value"]),refreshOnShortRestAmount:Fi.string(),refreshOnLongRestAmount:Fi.string(),refreshOnDawnAmount:Fi.string(),required:Fi.array(xp).optional()}),Kh=hi("resources",()=>{const e=Pe([]),t=kt(),r=Oe(()=>dr.collectFromEffects(t.effects,"resources",t.isEffectActive)),n=Oe(()=>[...e.value,...r.value]),i=(c={})=>({name:"",count:c.max?es(c.max):0,max:"",refreshOnShortRest:"none",refreshOnLongRest:"none",refreshOnDawn:"none",refreshOnShortRestAmount:"",refreshOnLongRestAmount:"",refreshOnDawnAmount:"",_id:c._id??Ct(),...c}),a=c=>{e.value.push({name:"",count:0,max:"",refreshOnShortRest:"none",refreshOnLongRest:"none",refreshOnDawn:"none",refreshOnShortRestAmount:"",refreshOnLongRestAmount:"",refreshOnDawnAmount:"",...c,_id:Ct(),...c})};return{resources:n,userResources:e,add:a,update:c=>{if(c.sourceEffectId){t.updateItemWithinEffect({effectId:c.sourceEffectId,itemKey:"resources",itemPatch:c});return}const f=c._id?e.value.find(d=>d._id===c._id):void 0;f?Object.assign(f,c):a(c)},remove:c=>{if(c.sourceEffectId){t.removeItemFromEffect({effectId:c.sourceEffectId,itemKey:"resources",itemId:c._id});return}const f=e.value.findIndex(d=>d._id===c._id);f>=0&&e.value.splice(f,1)},getEmptyResource:i,hydrate:c=>{e.value=c.resources?.resources?Hr(c.resources.resources).map(f=>({...f,required:f.required?ar(f.required):void 0})):[]},dehydrate:()=>{const c=e.value.map(f=>({...f,required:f.required?ur(f.required):void 0}));return{resources:{resources:rn(c)}}}}}),CP={"set-base":1,"set-base-formula":1,"set-base-final":1,"set-base-final-formula":1,add:2,"add-formula":2,subtract:3,"subtract-formula":3,set:4,"set-formula":4,"set-final":4,"set-final-formula":4,"set-min":5,"set-min-formula":5,"set-max":6,"set-max-formula":6,push:7},WN=(e,t)=>!e||e.length===0?!0:e.every(r=>{if(r==="equipped")return t.isEquipped??!0;if(r==="attuned")return t.isAttuned??!0;if(r.startsWith("$picker:")){const n=r.match(/^\$picker:(\d+)(==|<=|>=|<|>)(.+)$/);if(n){const i=parseInt(n[1],10),a=n[2],s=n[3];if(!t.pickers||!t.pickers[i])return!1;const o=Number(t.pickers[i].value),u=Number(s);switch(a){case"==":return String(t.pickers[i].value)===s;case"<=":return o<=u;case">=":return o>=u;case"<":return o<u;case">":return o>u;default:return!1}}}return!0});function Jh(e,t){const r=/\$picker:(\d+)/g,n=Array.isArray(e),i=n?[...e]:[e];let a=!1;const s=i.map(o=>o.includes("$picker:")?o.replace(r,(u,l)=>{const c=parseInt(l,10);if(Array.isArray(t)&&t[c]){const f=t[c];if(f.value!==void 0&&f.value!==null&&f.value!=="")return String(f.value)}return a=!0,u}):o);return a?n?[]:"":n?s:s[0]}const yYe=(e,t)=>{if(!e.enabled)return!1;const r={pickers:e.pickers,isEquipped:!0,isAttuned:!0};return WN(t.required,r)},bYe={actions:e=>Wc().getEmptyAction(e),resources:e=>Kh().getEmptyResource(e),spells:e=>Ln().getEmptySpell(e),spellSources:e=>Ln().getEmptySource(e)};function KN(e,t,r){const n=Array.isArray(t)?t:[t],i=[];return e.forEach(a=>{(a.effects||[]).forEach(s=>{let o=s.attribute;o=Jh(o,a.pickers),r(a,s)&&n.includes(o)&&i.push({label:a.label,description:a.description,pickers:a.pickers,...s})})}),i.sort((a,s)=>CP[a.operation]-CP[s.operation]),i}function qJ(e,t){const r=t.filter(n=>n<=e);return r.length===0?Math.min(...t):Math.max(...r)}function _Ye(e,t,r){const n=[],i=bYe[t];return e.forEach(a=>{r(a)&&a[t]&&(a[t]||[]).forEach(o=>{const u={pickers:a.pickers,isEquipped:!0,isAttuned:!0};if(WN(o.required,u)){const l={...i(o),...o};n.push({...l,isFromEffect:!0,sourceEffectId:a._id,sourceEffectLabel:a.label})}})}),n}const Wv=(e,t)=>{if(!e)return;const r=ki();e.forEach(n=>{if(n["data-tags"]&&Array.isArray(n["data-tags"])){const i=Ct();n.tagId=i;const a={_id:i,category:t,tags:n["data-tags"].map(s=>({_id:Ct(),text:s}))};r.update(a),delete n["data-tags"]}})};function AYe(e,t,r){const n=KN(e,t,r).filter(a=>a.operation==="push"&&(typeof a.value=="string"||Array.isArray(a.value))),i=[];for(const a of n){const s=Array.isArray(a.value)?a.value:[a.value];if(a.attribute==="damage-resistances"||a.attribute==="damage-immunities"||a.attribute==="damage-vulnerabilities"||a.attribute==="condition-immunities")for(const u of s){const l=Je.damageTypes.includes(u),c=Je.autocomplete.conditions.includes(u);(l||c)&&i.push({text:u,isDefault:!0,isFromEffect:!0,sourceLabel:a.label})}else for(const u of s){const l=Je.autocomplete.armorProficiencies.includes(u),c=Je.autocomplete.weaponProficiencies.includes(u),f=Je.autocomplete.languages.includes(u),d=l||c||f;i.push({text:u,isDefault:d,isFromEffect:!0,sourceLabel:a.label})}}return i}function wYe(e,t,r=[]){let n=e;const i=[];return t.forEach(a=>{const s=n,o=/-formula$/g,u=Number(o.test(a.operation)?es(Jh(a.formula,a.pickers)):a.value);switch(a.operation.replace(o,"")){case"set-base":n=Math.max(n,u);break;case"add":n+=u;break;case"subtract":n-=u;break;case"set":n=Math.max(n,u);break;case"set-base-final":case"set-final":n=u;break;case"set-min":n=Math.min(u,n);break;case"set-max":n=Math.max(u,n);break}const c=n-s;c!==0&&i.push({name:a.label,value:c})}),r.length>0?{final:qJ(n,r),modifiers:i}:{final:n,modifiers:i}}function xYe(e,t){let r=[...e];const n=[];return t.forEach(i=>{const a=/-formula$/g;let s;if(a.test(i.operation)){const l=hh(Jh(i.formula||"0",i.pickers));try{s=Wl(l,{})}catch{s=l}}else s=i.value;const o=i.operation.replace(a,"");let u=0;switch(o){case"set-base":{const l=Vy(r);Vy([s])>l&&(r=[s]);break}case"set-base-final":{r=[s];break}case"add":r.push(s),u=s;break;case"subtract":r.push(`-${s}`),u=-s;break;case"set":{const l=Vy(r);Vy([s])>l&&(r=[s]);break}case"set-final":{r=[s];break}}u!==0&&n.push({name:i.label,value:u})}),{final:r,modifiers:n}}function SYe(e,t,r){const n=KN(e,t,r),i=[];for(const a of n){const s=hh(Jh(a.formula||String(a.value),a.pickers)),o=mh(s),u=a.operation.startsWith("subtract");for(const l of o){u&&(l.sides?l.count=-(l.count||1):l.value=-(l.value||0));let c="";l.sides?c=`${Math.abs(l.count||1)}d${l.sides}`:c=`${l.value>=0?"+":""}${l.value}`,l.label=`${a.label} [${c}]`,i.push(l)}}return i}function EYe(e){const t=e.map(i=>/-formula$/g.test(i.operation)?es(Jh(i.formula||"0",i.pickers)):Number(i.value)),r=t.some(i=>i>0),n=t.some(i=>i<0);return r&&n?0:r?Math.max(...t.filter(i=>i>0)):n?Math.min(...t.filter(i=>i<0)):0}const dr={getValidEffects:KN,calculateModifiedValue:wYe,calculateModifiedDicePool:xYe,calculateModifiedRollBonuses:SYe,calculateActionDie:EYe,calculateModifiedTags:AYe,collectFromEffects:_Ye,checkRequirements:WN,isNpcEffectActive:yYe,getPicker:Jh,constrain:qJ},yb={str:"strength",dex:"dexterity",con:"constitution",int:"intelligence",wis:"wisdom",cha:"charisma"},CYe=e=>typeof e!="string"?e:e.replace(/@\{([^}]+)\}/g,(t,r)=>{let n=r.trim().toLowerCase();if(n.endsWith("_mod")){const i=n.replace("_mod","");return`@{${yb[i]||i}-modifier}`}return yb[n]?`@{${yb[n]}}`:`@{${n}}`}),yf=e=>{if(typeof e=="string")return CYe(e);if(Array.isArray(e))return e.map(t=>yf(t));if(e&&typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=yf(e[r]));return t}return e},$P=e=>{if(!e)return{};const t={};return e.split(",").forEach(r=>{const n=r.trim().match(/([a-zA-Z\s]+?)\s*\+?(-?\d+)/);if(n){const i={con:"constitution",str:"strength",dex:"dexterity",int:"intelligence",wis:"wisdom",cha:"charisma"};let a=n[1].trim().toLowerCase();a=i[a]||a.replace(/\s+/g,"-"),t[a]=parseInt(n[2],10)}}),t},NP=e=>e.charAt(0).toUpperCase()+e.slice(1),DP={Action:"actions","Bonus Action":"bonus-actions",Reaction:"reactions","Free Action":"free-actions"},$Ye={Resistance:"damage-resistances",Immunity:"damage-immunities",Vulnerability:"damage-vulnerabilities"},NYe={Proficient:1,Expertise:2},jl=e=>{try{const t=yf(JSON.parse(e.payload)),r={};switch(t.type){case"Features":r.description=t.description||"";break;case"Spell Attach":{const n=(t.spells||[]).map(i=>({name:i,spellSourceId:"$source:0"}));n.length>0&&(r.spells=n,r.description=e.description||"");break}case"Action":{r.actions=[{name:t.name,group:DP[t.actionType]||"actions",description:t.description,critRange:t.critRange||20,isAttack:!1}];break}case"Attack":{const n=t.save?.saveAbility?.toLowerCase(),i=t.attack?.abilityBonus?.toLowerCase()||"auto",a=String(t.attack?.bonus||"0");let s="0";n&&(t.save?.saveFlat?s=String(t.save.saveFlat):s=`8 + @{pb} + @{${n}-modifier}`),r.actions=[{name:t.name,group:DP[t.actionType]||"actions",description:(t.description||"").trim(),range:t.range,isAttack:!!t.attack,attackAbility:i,attackBonus:a,saving:n||"none",savingDc:s,critRange:t.critRange||20}];break}case"Proficiency":{const n=[],a={"Saving Throw":`${t.proficiency?.toLowerCase()}-saving-proficiency`,Armor:"armor-proficiencies",Weapon:"weapon-proficiencies",Skill:`${t.proficiency?.toLowerCase().replace(/\s/g,"-")}-proficiency`,Tool:"tool-proficiencies"}[t.category];if(a){const s=t.category==="Saving Throw"?"set":t.category==="Skill"?"set-max":"push";let o=1;t.category==="Skill"?o=NYe[t.proficiencyLevel]||1:t.category!=="Saving Throw"&&(o=t.proficiency.toLowerCase().replace(/ /g,"-")),n.push({attribute:a,operation:s,value:o})}n.length>0&&(r.effects=n);break}case"Resource":{let n="none",i="",a="none",s="",o="none",u="";if(typeof t.recoveryRate=="object"&&t.recoveryRate!==null){const l=t.recoveryRate["Long Rest"];l?.type==="Full"?n="all":l?.type==="Calculation"&&(n="fixed-value",i=l.calculationFormula?.customFormula||l.rollFormula||String(l.calculationFormula?.flatValue||""));const c=t.recoveryRate["Short Rest"];c?.type==="Full"?a="all":c?.type==="Calculation"&&(a="fixed-value",s=c.calculationFormula?.customFormula||c.rollFormula||String(c.calculationFormula?.flatValue||""));const f=t.recoveryRate.Dawn;f?.type==="Roll"&&(o="fixed-value",u=f.calculationFormula?.customFormula||f.rollFormula||String(f.calculationFormula?.flatValue||""))}else typeof t.recovery=="string"&&typeof t.recoveryRate=="string"&&(t.recovery==="Long Rest"&&t.recoveryRate==="Full"&&(n="all"),t.recovery==="Short Rest"&&t.recoveryRate==="Full"&&(a="all"));r.resources=[{name:t.name,count:Number(t.maxValueFormula?.customFormula)||Number(t.maxValueFormula?.flatValue||0),max:t.maxValueFormula?.customFormula||String(t.maxValueFormula?.flatValue||0),refreshOnLongRest:n,refreshOnLongRestAmount:i,refreshOnShortRest:a,refreshOnShortRestAmount:s,refreshOnDawn:o,refreshOnDawnAmount:u}];break}case"Ability Score":{const i={Minimum:"set-base",Modify:"add",Add:"add"}[t.calculation]||"add",a=t.valueFormula?.flatValue||t.value||1;r.effects=[{attribute:t.ability.toLowerCase(),operation:i,value:a}];break}case"Ability Score Choice":{r.pickers=[],r.effects=[];const n=t.choose||1,i=t.increase||1,a=(t.from||Je.abilities).map(s=>({label:s.charAt(0).toUpperCase()+s.slice(1),value:s.toLowerCase()}));for(let s=0;s<n;s++){const o=t.pickerIndexOffset?t.pickerIndexOffset+s:s;r.pickers.push({label:`Ability Score Increase (+${i})`,options:a,mandatory:!0}),r.effects.push({attribute:`$picker:${o}`,operation:"add",value:i})}break}case"Roll Bonus":{if(!t.bonusName||!Array.isArray(t.bonusName)||t.bonusName.length===0)break;const n=t.bonusDetails==="Keep Highest",i=t.bonusDetails==="Keep Lowest";if(n||i){const a=n?1:-1,o=`${t.bonusName[0].toLowerCase().replace(/\s/g,"-")}-action-die`;r.effects=[{attribute:o,operation:"set",value:a}]}break}case"Language Choice":{r.pickers=[],r.effects=[];const n=t.numOfChoices||1,i=Je.autocomplete.languages.map(a=>({label:a.charAt(0).toUpperCase()+a.slice(1),value:a.toLowerCase()}));for(let a=0;a<n;a++){const s=t.pickerIndexOffset?t.pickerIndexOffset+a:a;r.pickers.push({label:"Language Choice",options:i,mandatory:!0}),r.effects.push({attribute:"languages",operation:"push",value:`$picker:${s}`})}break}case"Speed":{const i={"Set Base":"set-base",Modify:"add"}[t.calculation]||"set-base";r.effects=[{attribute:`${t.speed.toLowerCase()}-speed`,operation:i,value:t.valueFormula.flatValue||t.valueFormula.customFormula||0}];break}case"Sense":r.effects=[{attribute:`sense-${t.name.toLowerCase()}`,operation:"set-base",value:t.valueFormula.flatValue}];break;case"Language":r.effects=[{attribute:"languages",operation:"push",value:t.name}];break;case"Defense":{const n=$Ye[t.defense];t.damage&&n&&(r.effects=[{attribute:n,operation:"push",value:t.damage.toLowerCase()}]);break}case"Spellcasting":{r.spellSources=[{name:t.name||`${e.name} Spellcasting`,type:"ability",ability:t.ability.toLowerCase()}];break}}return r}catch(t){return console.warn(`Could not parse datarecord payload for "${e.name}":`,t),null}},JN=e=>{const t=jl(e);if(!t)return null;const r={label:e.name,description:t.description||""};return(t.effects||t.actions||t.resources||t.spells||t.pickers)&&(r["data-effects"]={label:e.name,enabled:!0,toggleable:!1,removable:!1,effects:t.effects||[],actions:t.actions||[],resources:t.resources||[],spells:t.spells||[],pickers:t.pickers||[]}),r},TP=(e,t,r)=>{const n=e.properties?.Category==="Feats"?"feats":"class-features";if(r["data-datarecords"]){const i=JSON.parse(r["data-datarecords"]||"[]"),a={label:e.name,group:n,description:"","data-effects":{label:`${e.name} Effects`,enabled:!0,toggleable:!0,removable:!0,effects:[],actions:[],resources:[],spells:[],pickers:[]}},s=[];for(const u of i){const l=jl(u);if(l){JSON.parse(u.payload).type==="Features"?a.description=l.description:l.description&&s.push(l.description);const c=a["data-effects"];l.effects&&c.effects?.push(...l.effects),l.actions&&c.actions?.push(...l.actions),l.resources&&c.resources?.push(...l.resources),l.spells&&c.spells?.push(...l.spells),l.pickers&&c.pickers?.push(...l.pickers)}}s.length>0&&(a.description+=(a.description?`

`:"")+s.join(`
`));const o=a["data-effects"];return(o.effects?.length??0)===0&&(o.actions?.length??0)===0&&(o.resources?.length??0)===0&&(o.spells?.length??0)===0&&(o.pickers?.length??0)===0&&delete a["data-effects"],a}return{label:e.name,group:n,description:r["data-description"]||r["data-Description"]||""}},DYe=(e,t,r)=>{const n={name:e.name},i={};if(r["data-datarecords"]){const a=JSON.parse(r["data-datarecords"]||"[]"),s=[],o={label:`${e.name} Traits`,group:"background-features",description:"","data-effects":{label:`${e.name} Background Effects`,enabled:!0,toggleable:!1,removable:!1,effects:[],pickers:[],actions:[],resources:[],spells:[],spellSources:[]}};let u=0;for(const m of a)try{const h=JSON.parse(m.payload);if(h.type==="Background"){o.description=h.description||"";continue}if(h.type==="Features"||h.type==="Feat Attach"){const w=JN(m);w&&(w.group="background-features",s.push(w));continue}h.pickerIndexOffset=u;const v={...m,payload:JSON.stringify(h)},y=jl(v);if(y){const w=o["data-effects"];y.effects&&w.effects.push(...y.effects),y.actions&&w.actions.push(...y.actions),y.resources&&w.resources.push(...y.resources),y.spellSources&&w.spellSources.push(...y.spellSources),y.spells&&w.spells.push(...y.spells),y.pickers&&(w.pickers.push(...y.pickers),u+=y.pickers.length)}}catch(h){console.warn(`Could not process datarecord for background "${e.name}":`,m,h)}const l=o["data-effects"];l.actions?.length===0&&delete l.actions,l.resources?.length===0&&delete l.resources,l.spells?.length===0&&delete l.spells,l.spellSources?.length===0&&delete l.spellSources;const c=(l.effects?.length??0)>0,f=(l.pickers?.length??0)>0,d=!!o.description,p=[];(c||f||d)&&p.push(o),s.length>0&&p.push(...s),p.length>0&&(i["level-1"]=p)}else{const a=r["data-description"]||null;if(!a)return{};const s={label:`${e.name} Features`,group:"background-features",description:a};i["level-1"]=[s]}return Object.keys(i).length>0&&(n["data-features"]=i),n},TYe={full:"full",half:"half",pact:"pact"},kYe=(e,t)=>{const r=t["data-description"]||"",n={name:e.name,hitDie:"1"+t["Hit Die"],subclassUnlockLevel:t["data-Subclass Level"]||1,spellcasting:(t["Caster Progression"]||"none").toLowerCase()};n.spellcasting!=="none"&&t["Spellcasting Ability"]&&(n["data-spellSource"]={name:`${e.name} Spellcasting`,type:"ability",ability:t["Spellcasting Ability"].toLowerCase(),isPrepared:!0});const i={},a=[];if(t["data-Saving Throws"])try{JSON.parse(t["data-Saving Throws"]).forEach(l=>{a.push({attribute:`${l.toLowerCase()}-saving-proficiency`,operation:"set",value:1})})}catch{console.warn(`Could not parse data-Saving Throws for "${e.name}"`)}const s=/^(Armor|Weapons|Tools|Skills):\s*(.*)/gm;let o;for(;(o=s.exec(r))!==null;){const u=o[1].trim(),l=o[2].split(",").map(c=>c.trim().toLowerCase());switch(u){case"Armor":l.forEach(c=>a.push({attribute:"armor-proficiencies",operation:"push",value:c.replace(/ /g,"-")}));break;case"Weapons":l.forEach(c=>a.push({attribute:"weapon-proficiencies",operation:"push",value:c.replace(/ /g,"-")}));break}}return a.length>0&&(i["level-1"]=[{label:"Proficiencies",group:"class-features",description:"Gained proficiencies from the "+e.name+" class.","data-effects":{label:`${e.name} Proficiencies`,enabled:!0,effects:a}}]),Object.keys(i).length>0&&(n["data-features"]=i),n},IYe=(e,t,r)=>{if(r["data-datarecords"]){const n=JSON.parse(r["data-datarecords"]||"[]");let i="1d8";const a=n.find(p=>{try{return JSON.parse(p.payload).type==="Hit Dice"}catch{return!1}});if(a){const p=JSON.parse(a.payload),m=p.dieSize?String(p.dieSize).replace(/^d/,""):"8";i=`${p.dieCount||1}d${m}`}else(r["Hit Die"]||r["filter-Hit Die"])&&(i=`1${r["Hit Die"]||r["filter-Hit Die"]}`);let s=3;const o=n.find(p=>{try{return JSON.parse(p.payload).type==="Class Details"}catch{return!1}});if(o){const p=JSON.parse(o.payload);p.subclassLevel&&(s=p.subclassLevel)}else r["data-Subclass Level"]&&(s=r["data-Subclass Level"]);const u={name:e.name,hitDie:i,subclassUnlockLevel:s},l=n.find(p=>{try{return JSON.parse(p.payload).type==="Spellcasting"}catch{return!1}});if(l){const p=yf(JSON.parse(l.payload)),m=TYe[p.casterType];m&&(u.spellcasting=m,u["data-spellSource"]={name:`${e.name} Spellcasting`,type:"ability",ability:p.ability.toLowerCase(),isPrepared:!0})}if(u.spellcasting&&u.spellcasting!=="none"){const p=Array(20).fill(0),m=Array(20).fill(0),h=n.filter(v=>{try{const y=JSON.parse(v.payload);return y.type==="Spell Choice"&&y.replace!==!0}catch{return!1}});for(const v of h){const y=JSON.parse(v.payload),w=parseInt(v.level,10),g=y.choices||0;w>0&&w<=20&&g>0&&(y.spellLevel===0?p[w-1]+=g:m[w-1]+=g)}for(let v=1;v<20;v++)p[v]+=p[v-1],m[v]+=m[v-1];u["data-spellSource"]&&(p.some(v=>v>0)&&(u["data-spellSource"].cantripsKnown=p),m.some(v=>v>0)&&(u["data-spellSource"].spellsKnown=m,u["data-spellSource"].isPrepared=!1))}let c={};const f=n.filter(p=>{if(p.level!==1&&p.level!=="1")return!1;try{return JSON.parse(p.payload).type==="Proficiency"}catch{return!1}});if(f.length>0){const p=[];f.forEach(h=>{const v=jl(h);v&&v.effects&&p.push(...v.effects)});const m={label:"Proficiencies",group:"class-features",description:"Gained proficiencies from the "+e.name+" class.","data-effects":{label:`${e.name} Proficiencies`,enabled:!0,effects:p}};c["level-1"]=[m]}const d=n.filter(p=>{if(f.includes(p))return!1;try{const m=JSON.parse(p.payload);return m.type!=="Spellcasting"&&m.type!=="Spell Choice"}catch{return!0}});for(const p of d){const m=JN(p);if(m){const h=m.description&&m.description.trim()!=="",v=!!m["data-effects"],y=!!m["data-spells"];if(h||v||y){m.group="class-features";const w=parseInt(p.level,10);if(!isNaN(w)&&w>0){const g=`level-${w}`;c[g]||(c[g]=[]),c[g].push(m)}}}}return Object.keys(c).length>0&&(u["data-features"]=c),u}else return kYe(e,r)},YN=hi("currency",()=>{const e=Je.currencyTypes.reduce((s,o)=>(s[o]=0,s),{}),t=Pe(e),r=(s,o=!0)=>{for(const u in s){const l=u;if(!Object.prototype.hasOwnProperty.call(t.value,l))continue;const c=s[l]||0;o?t.value[l]+=c:t.value[l]-=c,t.value[l]=Math.max(0,t.value[l])}},n=Oe(()=>{const s=ou(),o=ki();let u=0;Object.values(t.value).forEach(p=>{u+=p});const l=s.equipment.filter(p=>p.value&&p.value.amount>0&&o.groupHasTag(p.tagId,"treasure")).map(p=>({_id:p._id,name:p.name,value:{amount:(p.value?.amount??0)*p.quantity}}));let c=0;l.forEach(p=>{c+=p.value.amount});const f=u,d=Je.currencyTypes.reduce((p,m)=>(p[m]={total:t.value[m]},p),{});return{totalResources:f,treasureItems:l,breakdown:d}});return{values:t,updateCurrency:r,getCurrencyBreakdown:n,dehydrate:()=>({currency:{values:t.value}}),hydrate:s=>{s?.currency?.values&&(t.value={...e,...s.currency.values})}}}),OYe=e=>e?e.replace(/<[^>]*>/g,"").trim():"",MYe=e=>{if(!e)return;const t=e.match(/(\d+)\s*(\w+)/);if(t){const r=parseInt(t[1],10),n=t[2].toLowerCase();if(Je.currencyTypes.includes(n))return{amount:r,currency:n}}},kP=e=>{if(!e)return"equipment";const t=e.toLowerCase();return t.includes("wondrous")?"magic-item-wondrous":t.includes("weapon")?"weapon":t.includes("armor")?"armor":t.includes("consumable")||t.includes("potion")?"magic-item-consumable":t.includes("tool")?"tool":t.includes("vehicle")?"vehicle":t.includes("gear")?"survival-gear":t.includes("ammunition")?"ammunition":"equipment"},Zy=(e,t,r)=>{let n={name:e.name},i="";const a=[];if(r["data-datarecords"]){const s=JSON.parse(r["data-datarecords"]||"[]"),o=s.find(p=>JSON.parse(p.payload).type==="Item");if(!o)return{};const u=yf(JSON.parse(o.payload));n={...n,name:u.name,weight:u.weight||0,description:u.description||"",value:MYe(u.cost),type:kP(u.armorData?.category||u.weaponData?.category||r["Item Type"])},i=[u.rarity,r["Item Type"]].filter(Boolean).join(", "),u.properties&&Array.isArray(u.properties)&&u.properties.forEach(p=>{a.push(p.split("(")[0].trim())}),r.Mastery&&a.push(r.Mastery);const l={};s.forEach(p=>{p.parent&&(l[p.parent]||(l[p.parent]=[]),l[p.parent].push(p))});const c={label:`${u.name} Effects`,enabled:!0,toggleable:!1,removable:!1,required:["equipped"],effects:[],actions:[],resources:[],spells:[],pickers:[],spellSources:[]};if(u.armorData||u.shieldData){const p=!!u.shieldData,m=s.find(w=>JSON.parse(w.payload).type==="Armor Class"&&JSON.parse(w.payload).calculation==="Set Base"),h=s.filter(w=>JSON.parse(w.payload).type==="Armor Class"&&JSON.parse(w.payload).calculation==="Modify"),v=m?JSON.parse(m.payload).valueFormula.flatValue:0,y=h.reduce((w,g)=>w+JSON.parse(g.payload).valueFormula.flatValue,0);if(p)c.effects.push({attribute:"armor-class",operation:"add",value:v+y});else{let w=`${v+y}`;const g=u.armorData;if(g&&g.ability){const b={str:"strength",dex:"dexterity",con:"constitution",int:"intelligence",wis:"wisdom",cha:"charisma"},_=g.ability.toLowerCase(),x=b[_]||_,E=g.bonusCap,C=E?`@{${x}-modifier|max:${E}}`:`@{${x}-modifier}`;w+=`+${C}`}c.effects.push({attribute:"armor-class",operation:"set-base-final-formula",formula:w})}}const f=s.filter(p=>JSON.parse(p.payload).type!=="Item");for(const p of f){const m=JSON.parse(p.payload);if(m.type==="Armor Class"||m.type==="Damage")continue;if(m.type==="Attunement"){a.includes("attunement")||a.push("attunement"),c.required.includes("attuned")||c.required.push("attuned");continue}if(m.type==="Spell Attach"){if(c.spellSources.length===0){let y=0;const g=(u.description||"").match(/(?:save\s*)?DC\s*(\d+)/i);g&&g[1]&&(y=parseInt(g[1],10)),c.spellSources.push({name:u.name,type:"flat",flat:y-8})}const v=jl(p);v&&v.spells&&(n["data-spells"]||(n["data-spells"]=[]),n["data-spells"].push(...v.spells));continue}if(m.type==="Attack"){const v=jl(p);if(!v||!v.actions)continue;const y=v.actions[0],w=(l[p.name]||[]).filter(g=>JSON.parse(g.payload).type==="Damage");y.damage=w.map(g=>{const b=JSON.parse(g.payload),_=b.ability==="auto"?y.attackAbility:b.ability||"none",x=`${b.diceCount||1}${b.diceSize}`;let E="";if(b._bonus)E=`+(${b._bonus})`;else if(b.bonus){const C=parseInt(b.bonus,10);C>0?E=`+${C}`:C<0&&(E=`${C}`)}return{ability:_,damage:`${x}${E}`,type:b.damageType?.toLowerCase()||"bludgeoning",critDamage:`${x}${E}`}}),c.actions.push(y);continue}const h=jl(p);h&&(h.effects&&c.effects.push(...h.effects),h.actions&&c.actions.push(...h.actions),h.resources&&c.resources.push(...h.resources),h.spells&&c.spells.push(...h.spells),h.pickers&&c.pickers.push(...h.pickers))}([c.effects,c.actions,c.resources,c.spells,c.pickers,c.spellSources].some(p=>p&&p.length>0)||c.required.length>1)&&(n["data-effects"]=c)}else{if(n={...n,weight:parseFloat(r.Weight)||0,description:OYe(r["data-description"]),type:kP(r["Item Type"])},i=[r["Item Rarity"],r["Item Type"]].filter(Boolean).join(", "),r["Requires Attunement"]&&a.push("attunement"),r.Properties&&typeof r.Properties=="string"){const u=r.Properties.split(",").map(l=>l.trim());a.push(...u)}const s=[],o=[];if(r.AC&&(r["Item Type"]?.toLowerCase().includes("armor")||r["Item Type"]?.toLowerCase().includes("shield"))){const u=r["Item Type"]?.toLowerCase().includes("shield"),l=parseInt(r.AC,10)||0;let c=0;if(r.Modifiers&&typeof r.Modifiers=="string"){const f=r.Modifiers.match(/AC\s*\+(\d+)/i);f&&(c=parseInt(f[1],10))}if(u)s.push({attribute:"armor-class",operation:"add",value:l+c});else{const f=r["data-description"]?.toLowerCase()||"";let d=`${l+c}`;const p=f.match(/dex\s*modifier(?:\s*\(max\s*(\d+)\))?/);if(p){const m=p[1];d+=m?`+@{dexterity-modifier|max:${m}}`:"+@{dexterity-modifier}"}s.push({attribute:"armor-class",operation:"set-base-final-formula",formula:d})}}r.Damage&&o.push({name:e.name,group:"actions",isAttack:!0,attackType:"melee",sourceType:"weapon",damage:[{ability:"strength",damage:r.Damage,type:r["Damage Type"]?.toLowerCase()||"bludgeoning"}],range:r.Range||""}),(s.length>0||o.length>0)&&(n["data-effects"]={label:`${e.name} Effects`,enabled:!0,toggleable:!1,removable:!1,required:["equipped"],effects:s,actions:o},a.includes("attunement")&&n["data-effects"].required.push("attuned"))}return i&&(n.description=`**${i}**

${n.description||""}`),a.length>0&&(n["data-tags"]=[...new Set(a)]),n},pi=e=>{try{return JSON.parse(JSON.stringify(e))}catch(t){return console.error("Error cloning value:",t),e}};function Ya(e){if(Array.isArray(e))return e.map(Ya);if(e&&typeof e=="object"){const{_id:t,...r}=e;for(const n in r)r[n]=Ya(r[n]);return r}return e}const is=hi("npcs",()=>{const e=Pe(!1),t=Pe([]),r=Pe(!0),n=Pe(null),i=(R,le)=>{n.value={spellId:R,resultType:le}},a=(R=!1,le=!1,re={})=>({_id:re._id??Ct(),isDefault:re.isDefault??R,isCompanion:re.isCompanion??le,isCollapsed:re.isCollapsed??le,name:re.name??(le?"New Companion":"New NPC"),shortDescription:re.shortDescription??"Medium humanoid",armorClass:re.armorClass??10,acDescription:re.acDescription??"",hitPoints:re.hitPoints??{current:10,max:10,formula:"2d8+2"},speed:re.speed??"30 ft.",abilities:re.abilities??{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},savingThrows:{...Object.fromEntries(Je.abilities.map(F=>[F,null])),...re.savingThrows},skills:{...Object.fromEntries(Object.keys(Je.skills).map(F=>[F,null])),...re.skills},damageVulnerabilities:re.damageVulnerabilities??"",damageResistances:re.damageResistances??"",damageImmunities:re.damageImmunities??"",conditionImmunities:re.conditionImmunities??"",senses:re.senses??"Passive Perception 10",passivePerception:re.passivePerception??10,languages:re.languages??"",challenge:re.challenge??"1/2 (100XP)",features:re.features?re.features.map(F=>u(F)):[],actions:re.actions?re.actions.map(F=>l(F)):[],legendaryActions:re.legendaryActions?{description:re.legendaryActions.description,actions:re.legendaryActions.actions.map(F=>l(F))}:{description:"",actions:[]},lairActions:re.lairActions?{description:re.lairActions.description,actions:re.lairActions.actions.map(F=>l(F))}:{description:"",actions:[]},effects:re.effects??[],spellSources:re.spellSources?re.spellSources.map(F=>s(F)):[],spells:re.spells?re.spells.map(F=>o(F)):[],token:re.token??""}),s=(R={})=>({_id:R._id??Ct(),name:R.name??"New Spellcasting",type:R.type??"ability",ability:R.ability??"wisdom",spellAttackBonus:R.spellAttackBonus??0,spellSaveDC:R.spellSaveDC??10,isInnate:R.isInnate??!1,spellSlots:R.spellSlots??{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},spellSlotsUsed:R.spellSlotsUsed??{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},casterLevel:R.casterLevel??1}),o=(R={})=>({_id:R._id??Ct(),name:R.name??"",level:R.level??0,school:R.school??"abjuration",castingTime:R.castingTime??"",range:R.range??"",target:R.target??"",components:R.components??[],material:R.material??"",duration:R.duration??"",concentration:R.concentration??!1,ritual:R.ritual??!1,description:R.description??{default:""},damage:R.damage??[],saving:R.saving??"none",effectId:R.effectId??Ct(),spellSourceId:R.spellSourceId??"",innateUsage:R.innateUsage??"",upcast:R.upcast??[],tagId:R.tagId??"",isAttack:R.isAttack??!1,attackType:R.attackType??"melee",attackAbility:"none",critRange:R.critRange??20}),u=(R={})=>({_id:R._id??Ct(),name:R.name??"",description:R.description??"",effectId:R.effectId??Ct()}),l=R=>({_id:R._id??Ct(),name:R.name??"",group:R.group??"actions",isAttack:R.isAttack??!1,attackType:R.attackType??"melee",sourceType:R.sourceType??"weapon",critRange:R.critRange??20,attackBonus:R.attackBonus??0,saving:R.saving??"none",savingDc:R.savingDc??10,damage:R.damage??[],range:R.range??"",target:R.target??"",legendaryCost:R.legendaryCost??1,description:R.description??"",spellSourceId:R.spellSourceId??""}),c=()=>{const R=a(!1,!0,{});return t.value.push(R),R._id},f=(R,le)=>{const re=t.value.find(F=>F._id===R);if(re)return Object.assign(re,le),re._id;{const F=a(!1,!1,le);return t.value.push(F),F._id}},d=R=>{const le=t.value.findIndex(re=>re._id===R);le>-1&&!t.value[le].isDefault&&t.value.splice(le,1)},p=R=>{const le=t.value.find(re=>re._id===R);if(le){const re=pi(le);re._id=Ct(),re.name=`${le.name} (Copy)`,t.value.push(re),re.isDefault=!1;const F=new Map;re.spellSources&&re.spellSources.forEach(ve=>{const ae=ve._id,W=Ct();F.set(ae,W),ve._id=W}),re.spells&&re.spells.forEach(ve=>{ve._id=Ct(),F.has(ve.spellSourceId)&&(ve.spellSourceId=F.get(ve.spellSourceId))}),re.features&&re.features.forEach(ve=>{ve._id=Ct()});const H=ve=>{ve&&ve.forEach(ae=>{ae._id=Ct()})};H(re.actions),re.legendaryActions&&H(re.legendaryActions.actions),re.lairActions&&H(re.lairActions.actions)}},m=Oe(()=>t.value.filter(R=>!R.isCompanion)),h=Oe(()=>t.value.filter(R=>R.isCompanion)),v=(R,le)=>{let re=1;return le&&le.casterLevel&&le.casterLevel>0&&(re=le.casterLevel),{resolveHitDice:F=>{const H=R.hitPoints.formula.match(/d(\d+)/);return H?`${F}d${H[1]}`:"0"},variables:{level:re}}},y=dr.isNpcEffectActive,w=R=>{const le=dr.collectFromEffects(R.effects||[],"actions",re=>re.enabled);return console.log("Raw Actions from Effects:",le),le.map(re=>{let F;if(re.spellSourceId&&(F=R.spellSources.find(W=>W._id===re.spellSourceId)),!F&&re.sourceEffectId){const W=R.spells.find(Q=>Q.effectId===re.sourceEffectId);W&&W.spellSourceId&&(F=R.spellSources.find(Q=>Q._id===W.spellSourceId))}!F&&R.spellSources.length>0&&(F=R.spellSources[0]);let H=0;re.attackBonus&&(H+=es(re.attackBonus)),re.isAttack&&re.attackAbility==="spellcasting"&&F&&(H+=F.spellAttackBonus);const ve=re.damage?.map(W=>W.ability==="spellcasting"&&F?{...W,ability:F.ability}:W)||[];return{_id:re._id,name:re.name,description:re.description,group:re.group,isAttack:re.isAttack,critRange:re.critRange,attackBonus:H,saving:re.saving,savingDc:re.savingDc&&es(re.savingDc)||10,damage:ve,range:re.range,target:re.target,attackType:re.attackType,sourceType:re.sourceType,legendaryCost:0,isFromEffect:!0,sourceEffectId:re.sourceEffectId,sourceEffectLabel:re.sourceEffectLabel,spellSourceId:F?F._id:re.spellSourceId||""}})},g=R=>Oe(()=>{const le=t.value.find(F=>F._id===R),re={};if(!le)return re;for(const F of Je.abilities){const H=le.abilities[F],ve=L(R,H,Be[F]),ae=Oe(()=>{const W=Math.floor((ve.value.final-10)/2),Q=[Be[`${F}-check`],Be.check];return L(R,W,Q).value});re[F]={score:ve,bonus:Oe(()=>({final:ae.value.final,modifiers:ae.value.modifiers}))}}return re}),b=(R,le,re)=>Oe(()=>{const F=t.value.find(W=>W._id===R);if(!F)return{final:0,modifiers:[]};const H=F.spellSources.find(W=>W._id===le);if(!H)return{final:0,modifiers:[]};const ve=H.spellAttackBonus,ae=[Be["spell-attack"],Be.attack];return re&&(ae.push(Be[`${re.attackType}-attack`]),ae.push(Be[`${re.attackType}-spell-attack`])),L(R,ve,ae).value}),_=(R,le)=>Oe(()=>{const re=t.value.find(ve=>ve._id===R);if(!re)return{final:0,modifiers:[]};const F=re.spellSources.find(ve=>ve._id===le);if(!F)return{final:0,modifiers:[]};const H=F.spellSaveDC;return L(R,H,Be["spell-dc"]).value}),x=(R,le)=>Oe(()=>{const re=t.value.find(J=>J._id===R);if(!re)return{final:[],modifiers:[]};if(!le.damage||le.damage.length===0)return{final:[],modifiers:[]};const F=g(R).value,H=re.spellSources.find(J=>J._id===le.spellSourceId),ve=v(re,H),ae=[];for(const J of le.damage){J.damage&&ae.push(gf(J.damage,ve));const se=tc(J.ability,le.spellSourceId,re.spellSources);if(se!=="none"){const Ce=F[se]?.bonus.value.final??0;Ce!==0&&ae.push(Ce)}}const W=[Be.damage,Be["spell-damage"],Be[`${le.attackType}-spell-damage`],Be[`${le.attackType}-damage`]].filter(Boolean),Q=dr.getValidEffects(re.effects||[],W,y);return dr.calculateModifiedDicePool(ae,Q)}),E=(R,le)=>Oe(()=>{const re=le.critRange,F=[Be["crit-range"],Be[`${le.attackType}-crit-range`],Be[`${le.sourceType}-crit-range`],Be[`${le.attackType}-${le.sourceType}-crit-range`]];return L(R,re,F).value}),C=(R,le)=>Oe(()=>{const re=le.critRange,F=[Be["crit-range"],Be["spell-crit-range"],Be[`${le.attackType}-spell-crit-range`]];return L(R,re,F).value}),$=(R,le)=>Oe(()=>{const re=t.value.find(W=>W._id===R);if(!re)return{final:0,modifiers:[]};const H=g(R).value[le]?.bonus.value.final??0,ve=re.savingThrows[le]??H,ae=[Be[`${le}-saving`],Be.saving];return L(R,ve,ae).value}),D=(R,le)=>Oe(()=>{const re=t.value.find(Q=>Q._id===R);if(!re)return{final:0,modifiers:[]};const F=g(R).value,H=Je.skills[le].ability,ve=F[H]?.bonus.value.final??0,ae=re.skills[le]??ve,W=[Be[`${le}`],Be.skill,Be.check,Be[`${H}-check`]];return L(R,ae,W).value}),N=(R,le)=>Oe(()=>{const re=le.attackBonus??0,F=[Be[`${le.attackType}-attack`],Be[`${le.sourceType}-attack`],Be[`${le.attackType}-${le.sourceType}-attack`],Be.attack];return L(R,re,F).value}),k=(R,le)=>Oe(()=>{const re=t.value.find(Ce=>Ce._id===R);if(!re)return{final:[],modifiers:[]};const F=g(R).value;let H;if(le.spellSourceId&&(H=re.spellSources.find(Ce=>Ce._id===le.spellSourceId)),!H&&le.isFromEffect&&le.sourceEffectId){const Ce=re.spells.find(Te=>Te.effectId===le.sourceEffectId);Ce&&(H=re.spellSources.find(Te=>Te._id===Ce.spellSourceId))}const ve=v(re,H),ae=[];for(const Ce of le.damage)if(Ce.damage&&ae.push(gf(Ce.damage,ve)),Ce.ability!=="none"){const Te=F[Ce.ability]?.bonus.value.final??0;Te!==0&&ae.push(Te)}const W=[Be.damage,Be[`${le.attackType}-damage`],Be[`${le.sourceType}-damage`],Be[`${le.attackType}-${le.sourceType}-damage`]].filter(Boolean),Q=re.effects||[],J=dr.getValidEffects(Q,W,y);return dr.calculateModifiedDicePool(ae,J)}),P=R=>Oe(()=>{const le=t.value.find(re=>re._id===R);return le?le.effects||[]:[]}),U=(R,le)=>{const re=t.value.find(F=>F._id===R);if(re){const F=re.effects.find(H=>H._id===le);F&&F.toggleable&&(F.enabled=!F.enabled)}},L=(R,le,re)=>{const F=P(R);return Oe(()=>{const H=dr.getValidEffects(F.value,re,y);return dr.calculateModifiedValue(le,H)})};return{npcs:t,isEditMode:r,isNpc:e,updateNpc:f,removeNpc:d,duplicateNpc:p,getEmptyNpc:a,getEmptyNpcAction:l,hydrate:R=>{e.value=R?.npcs?.isNpc??e.value;const le=R?.npcs?.npcs;if(le){r.value=R.npcs.isEditMode??!0;const re=Hr(le).map(F=>{const H=ae=>Hr(ae).map(W=>({...W,damage:ar(W.damage)})),ve=a(!1,!1,{});return{...ve,...F,savingThrows:{...ve.savingThrows,...F.savingThrows},skills:{...ve.skills,...F.skills},features:Hr(F.features),actions:H(F.actions),legendaryActions:{...ve.legendaryActions,...F.legendaryActions,actions:H(F.legendaryActions?.actions)},lairActions:{...ve.lairActions,...F.lairActions,actions:H(F.lairActions?.actions)},spells:Hr(F.spells).map(ae=>({...ae,components:ar(ae.components),damage:ar(ae.damage),upcast:ar(ae.upcast)})),spellSources:Hr(F.spellSources).map(ae=>{const W=s();return{...W,...ae,spellSlots:{...W.spellSlots,...ae.spellSlots},spellSlotsUsed:{...W.spellSlotsUsed,...ae.spellSlotsUsed}}}),effects:Hr(F.effects).map(ae=>({...ae,required:ae.required?ar(ae.required):[],effects:Hr(ae.effects).map(W=>({...W,required:W.required?ar(W.required):void 0})),actions:ae.actions?Hr(ae.actions).map(W=>({...W,damage:W.damage?ar(W.damage):[],required:W.required?ar(W.required):void 0})):[],resources:ae.resources?Hr(ae.resources).map(W=>({...W,required:W.required?ar(W.required):void 0})):[],spellSources:ae.spellSources?Hr(ae.spellSources).map(W=>({...W,required:W.required?ar(W.required):void 0})):[],spells:ae.spells?Hr(ae.spells).map(W=>({...W,components:W.components?ar(W.components):[],damage:W.damage?ar(W.damage):[],required:W.required?ar(W.required):void 0})):[],pickers:ae.pickers?ar(ae.pickers).map(W=>({...W,options:W.options?ar(W.options):[]})):[]}))}});re.length===0?t.value=[a(!0,!1,{})]:(re[0].isDefault=!0,t.value=re)}else t.value=[a(!0,!1,{})]},dehydrate:()=>({npcs:{isNpc:e.value,isEditMode:r.value,npcs:rn(t.value.map(R=>{const le=re=>rn(re.map(F=>({...F,damage:ur(F.damage)})));return{...R,actions:le(R.actions),legendaryActions:{...R.legendaryActions,actions:le(R.legendaryActions.actions)},lairActions:{...R.lairActions,actions:le(R.lairActions.actions)},spells:rn(R.spells.map(re=>({...re,components:ur(re.components),damage:ur(re.damage),upcast:ur(re.upcast)}))),effects:rn((R.effects||[]).map(re=>({...re,required:re.required?ur(re.required):void 0,effects:rn(re.effects.map(F=>({...F,required:F.required?ur(F.required):void 0,value:Array.isArray(F.value)?ur(F.value):F.value}))),actions:re.actions&&re.actions.length>0?rn(re.actions.map(F=>({...F,damage:F.damage?ur(F.damage):void 0,required:F.required?ur(F.required):void 0}))):void 0,resources:re.resources&&re.resources.length>0?rn(re.resources.map(F=>({...F,required:F.required?ur(F.required):void 0}))):void 0,spellSources:re.spellSources&&re.spellSources.length>0?rn(re.spellSources.map(F=>({...F,required:F.required?ur(F.required):void 0}))):void 0,spells:re.spells&&re.spells.length>0?rn(re.spells.map(F=>({...F,components:F.components?ur(F.components):void 0,damage:F.damage?ur(F.damage):void 0,required:F.required?ur(F.required):void 0}))):void 0,pickers:re.pickers&&re.pickers.length>0?ur(re.pickers.map(F=>({...F,options:ur(F.options)}))):void 0}))),features:rn(R.features),spellSources:rn(R.spellSources)}}))}}),getNpcFormulaContext:v,getNpcModifiedValue:L,getNpcEffects:P,getNpcActionBonus:N,getEmptyNpcFeature:u,getNpcSavingThrowBonus:$,getNpcSkillBonus:D,getNpcActionDamage:k,getNpcModifiedAbilities:g,getEmptyNpcSpellSource:s,getEmptyNpcSpell:o,getNpcActionsFromEffects:w,getNpcSpellAttackBonus:b,lastNpcSpellAttack:n,setLastNpcSpellAttackResult:i,getNpcSpellDamage:x,getNpcSpellCritRange:C,getNpcActionCritRange:E,getNpcSpellSaveDC:_,regularNpcs:m,companionNpcs:h,toggleNpcEffect:U,addCompanion:c,sendActionInfoToChat:async(R,le,re)=>{const F=t.value.find(ae=>ae._id===R);if(!F)return;const H=[...F.actions,...F.legendaryActions.actions,...F.lairActions.actions].find(ae=>ae._id===le);if(!H)return;const ve=Yd({type:"chat",parameters:{characterName:F.name,title:H.name,sourceType:"action",properties:Ao(H,re,H.savingDc),description:H.description}});await Hs.value.post({characterId:fa.character.id,content:ve})},sendSpellInfoToChat:async(R,le,re)=>{const F=t.value.find(Q=>Q._id===R);if(!F)return;const H=F.spells.find(Q=>Q._id===le);if(!H)return;const ve=F.spellSources.find(Q=>Q._id===H.spellSourceId),ae=ve?_(R,ve._id).value.final:void 0,W=Yd({type:"chat",parameters:{characterName:F.name,title:H.name,sourceType:"spell",properties:Ao(H,re,ae),description:H.description.default}});await Hs.value.post({characterId:fa.character.id,content:W})},isNpcEffectSingleActive:y}});function PYe(e){if(!e)return{armorClass:10,acDescription:""};const r=String(e).match(/(\d+)\s*(?:\((.*?)\))?/);return{armorClass:r?parseInt(r[1],10):10,acDescription:r&&r[2]?r[2].toLowerCase():""}}const BYe=e=>{if(!e)return 2;const t={0:2,"1/8":2,"1/4":2,"1/2":2,1:2,2:2,3:2,4:2,5:3,6:3,7:3,8:3,9:4,10:4,11:4,12:4,13:5,14:5,15:5,16:5,17:6,18:6,19:6,20:6,21:7,22:7,23:7,24:7,25:8,26:8,27:8,28:8,29:9,30:9},r=e.toString().trim();return t[r]||2};function LYe(e){if(!e)return{current:1,max:1,formula:"1d4"};const t=e.match(/\((.*?)\)/),r=e.match(/^(\d+)/);return{current:r?parseInt(r[1],10):1,max:r?parseInt(r[1],10):1,formula:t?t[1]:""}}function FYe(e){if(!e)return[];try{return JSON.parse(e).map(r=>({name:r.Name,description:(r.Desc||"").replace(/effect/g,"effect")}))}catch{return[]}}function RYe(e,t,r,n){const i={actions:[],legendaryActions:[],lairActions:[]},a=(s,o)=>s.map(u=>{const l={name:u.Name,group:o,isAttack:!!u["Type Attack"],description:(u.Desc||"").replace(/effect/g,"effect")},c=u.Name.match(/\(Costs (\d+) Actions\)/);if(c&&(l.legendaryCost=parseInt(c[1],10),l.name=l.name.replace(c[0],"").trim()),l.isAttack&&(l.sourceType=u["Type Attack"].toLowerCase().includes("spell")?"spell":"weapon",l.attackType=u.Type?u.Type.toLowerCase().trim():"melee",l.attackBonus=u["Hit Bonus"]?parseInt(u["Hit Bonus"],10):0,l.range=u.Reach?String(u.Reach):"5 ft.",l.target=u.Target?String(u.Target):"one target",l.damage=[],u.Damage)){const p=u.Damage?.match(/(\d+d\d+(?:\s*\+\s*\d+)?)/),m=p?p[1]:u.Damage;l.damage.push({ability:"none",damage:m,type:u["Damage Type"]?u["Damage Type"].toLowerCase():"bludgeoning",critDamage:m.match(/d/)?m.split("+")[0].trim():""})}if((!l.damage||l.damage.length===0)&&l.description){const p=l.description.match(/\[\[(.*?)\]\]/);if(p&&p[1]){const m=p[1],v=l.description.substring(p.index+p[0].length).match(/(\w+)\s+damage/i);let y="bludgeoning";v&&v[1]&&Je.damageTypes.includes(v[1].toLowerCase())&&(y=v[1].toLowerCase()),l.damage=[{ability:"none",damage:m,type:y,critDamage:m.match(/d/)?m.split("+")[0].trim():""}]}}const d=(l.description||"").match(/DC (\d+) (\w+) saving throw/i);return d&&(l.savingDc=parseInt(d[1],10),l.saving=d[2].toLowerCase()),u.Name==="Multiattack"&&(l.isAttack=!1),l});try{let s=[];e&&(s=s.concat(a(JSON.parse(e),"actions"))),n&&(s=s.concat(a(JSON.parse(n),"reactions"))),i.actions=s,t&&(i.legendaryActions=a(JSON.parse(t),"legendary")),r&&(i.lairActions=a(JSON.parse(r),"lair"))}catch(s){console.error("Error processing actions:",s)}return i}const UYe=(e,t,r)=>{const n=yf(r),i={strength:parseInt(n.STR,10),dexterity:parseInt(n.DEX,10),constitution:parseInt(n.CON,10),intelligence:parseInt(n.INT,10),wisdom:parseInt(n.WIS,10),charisma:parseInt(n.CHA,10)};let a=n.Senses||"";const s=BYe(n["Challenge Rating"]),o=parseInt(n["Passive Perception"],10)||10;a&&!a.toLowerCase().includes("passive perception")?a+=`, passive perception ${o}`:a||(a=`Passive Perception ${o}`);const{actions:u,legendaryActions:l,lairActions:c}=RYe(n["data-Actions"],n["data-Legendary Actions"],n["data-Lair Actions"],n["data-Reactions"]),f=[],d=[];if(n["data-Spells"])try{const m=JSON.parse(n["data-Spells"]||"{}"),v=JSON.parse(n["data-Traits"]||"[]").find(y=>y.Name.toLowerCase().includes("spellcasting"));if(v){const y=v.Desc||"";let w="intelligence";const g=y.match(/spellcasting ability is (\w+)/i);if(g&&g[1]){const C=g[1].toLowerCase();Object.keys(i).includes(C)&&(w=C)}else if(n["Spellcasting Ability"]){const C=n["Spellcasting Ability"].toLowerCase();Object.keys(i).includes(C)&&(w=C)}let b=parseInt(y.match(/\+(\d+) to hit/)?.[1]||"0",10),_=parseInt(y.match(/DC (\d+)/)?.[1]||"0",10);if(b===0||_===0){const C=Math.floor((i[w]-10)/2);b===0&&(b=s+C),_===0&&(_=8+s+C)}const x={name:`${e.name} ${v.Name}`,type:"ability",ability:w,isInnate:!!m.innate,spellAttackBonus:b,spellSaveDC:_,spellSlots:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},spellSlotsUsed:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0}};if(m.spells){const C=y.match(/.*\((.+) slots?\)/g)||[];for(const $ of C){const D=$.match(/(\d+)[a-z]{2} level/),N=$.match(/\((\d+) slot/);if(D&&N){const k=parseInt(D[1]),P=parseInt(N[1]);x.spellSlots&&(x.spellSlots[k]=P)}}}f.push(x);const E=f.length-1;if(m.spells)for(const C in m.spells)m.spells[C].forEach($=>{d.push({name:$.split(" ").map(NP).join(" "),spellSourceId:`$picker:${E}`})});else if(m.innate)for(const C in m.innate){let $;C==="at-will"?$="At Will":$=C.replace(/_/g,"/").replace(/\b\w/g,D=>D.toUpperCase()),m.innate[C].forEach(D=>{d.push({name:D.split(" ").map(NP).join(" "),innateUsage:$,spellSourceId:`$picker:${E}`})})}}}catch{console.warn("Could not parse monster spell data for:",e.name)}const p={name:e.name,shortDescription:`${n.Size||"Medium"} ${n.Type||"beast"}, ${n.Alignment||"unaligned"}`,...PYe(n.AC),hitPoints:LYe(n.HP),speed:n.Speed||"30 ft.",abilities:i,savingThrows:$P(n["Saving Throws"]),skills:$P(n.Skills),damageVulnerabilities:n.Vulnerabilities||"",damageResistances:n.Resistances||"",damageImmunities:n.Immunities||"",conditionImmunities:n["Condition Immunities"]||"",senses:a,passivePerception:parseInt(n["Passive Perception"],10)||10,languages:n.Languages||"",challenge:`${n["Challenge Rating"]||"0"} (${n["data-XP"]||"10"} XP)`,token:n.Token||"",features:FYe(n["data-Traits"]),actions:u,legendaryActions:{description:n["data-LANum"]?`The ${e.name} can take ${n["data-LANum"]} legendary actions, choosing from the options below. Only one legendary action can be used at a time and only at the end of another creature's turn. The ${e.name} regains spent legendary actions at the start of its turn.`:"",actions:l},lairActions:{description:"",actions:c},spellSources:f,"data-spells":d};return console.log(p),p},Wy=(e,t,r,n)=>{const i={name:e.name},a={};r["Parent Race"]&&(i["data-compatibility"]=[{name:r["Parent Race"],sourceBook:Number(t.itemId)}]);const s={label:`${e.name} Racial Traits`,group:"ancestry-features",description:"","data-spells":[],"data-effects":{label:`${e.name} Traits`,enabled:!0,toggleable:!1,removable:!1,effects:[],pickers:[],actions:[],resources:[],spells:[],spellSources:[]}};if(r["data-datarecords"]){const o=JSON.parse(r["data-datarecords"]||"[]"),u=[],l=new Set(o.map(m=>m.parent).filter(Boolean)),c={},f=[],d=[];for(const m of o)m.parent?(c[m.parent]||(c[m.parent]=[]),c[m.parent].push(m)):l.has(m.name)?d.push(m):f.push(m);for(const m of f){const h=JSON.parse(m.payload).type;if(h==="Species"||h==="Size")continue;const v=jl(m);if(v){const y=s["data-effects"];v.effects&&y.effects.push(...v.effects),v.actions&&y.actions.push(...v.actions),v.resources&&y.resources.push(...v.resources),v.spellSources&&y.spellSources.push(...v.spellSources),v.spells&&s["data-spells"].push(...v.spells),v.pickers&&y.pickers.push(...v.pickers)}}for(const m of d){if(JSON.parse(m.payload).type==="Species")continue;const h={label:m.name,group:"ancestry-features",description:JSON.parse(m.payload).description||"","data-spells":[],"data-effects":{label:`${m.name} Effects`,enabled:!0,toggleable:!0,removable:!0,effects:[],actions:[],resources:[],spells:[],spellSources:[],pickers:[]}},v=c[m.name]||[];for(const w of v){const g=jl(w);if(g){const b=h["data-effects"];g.effects&&b.effects.push(...g.effects),g.actions&&b.actions.push(...g.actions),g.resources&&b.resources.push(...g.resources),g.spellSources&&b.spellSources.push(...g.spellSources),g.spells&&h["data-spells"].push(...g.spells),g.pickers&&b.pickers.push(...g.pickers)}}const y=h["data-effects"];y.effects.length===0&&y.actions.length===0&&y.resources.length===0&&y.spellSources.length===0&&y.pickers.length===0&&delete h["data-effects"],h["data-spells"].length===0&&delete h["data-spells"],u.push({feature:h,level:m.level||1})}const p=s["data-effects"];(p.effects.length>0||p.pickers.length>0)&&(a["level-1"]||(a["level-1"]=[]),a["level-1"].unshift(s));for(const{feature:m,level:h}of u){const v=`level-${h}`;a[v]||(a[v]=[]),a[v].push(m)}}else{if(r["data-Ability Score Increase"]){const o=JSON.parse(r["data-Ability Score Increase"]);for(const u in o){const l=u.toLowerCase(),c=yb[l]||l;s["data-effects"].effects.push({attribute:c,operation:"add",value:parseInt(o[u],10)||0})}}r.Speed&&s["data-effects"].effects.push({attribute:"walk-speed",operation:"set-base",value:parseInt(r.Speed,10)||0}),r["data-Feats"]&&s["data-effects"].pickers.push({label:"Bonus Feat",options:[],count:r["data-Feats"]}),(s["data-effects"].effects.length>0||s["data-effects"].pickers.length>0)&&(a["level-1"]||(a["level-1"]=[]),a["level-1"].unshift(s))}return Object.keys(a).length>0&&(i["data-features"]=a),i},IP=e=>{if(e)return e.toLowerCase().split("(")[0].trim()},zYe=e=>{if(!e)return[];try{return JSON.parse(e).map(r=>{try{return r.payload=yf(JSON.parse(r.payload)),r}catch{return null}}).filter(Boolean)}catch{return[]}},OP=e=>{if(!e)return[];const t=[];return e.includes("V")&&t.push("verbal"),e.includes("S")&&t.push("somatic"),e.includes("M")&&t.push("material"),t},qYe=(e,t,r)=>{const n=t.find(i=>i.payload.type==="Damage");if(n){const{payload:i}=n,a=Je.dicePoolTypes.includes(i.damageType?.toLowerCase())?i.damageType.toLowerCase():"untyped";return[{ability:i.ability||"none",damage:`${i.diceCount||1}${i.diceSize}`,type:a}]}if(e.Damage&&e["Damage Type"])return[{ability:"none",damage:e.Damage,type:e["Damage Type"].toLowerCase()}]},MP=e=>e.Save?.toLowerCase()||"none",jYe=(e,t,r)=>{if(!r||r.length===0||!r[0].damage.match(/\d+d\d+/))return null;const n=e.filter(c=>c.payload.type==="Upcasting"&&c.payload.mode==="Specific Character Level"&&c.parent.startsWith(t)).sort((c,f)=>c.payload.level-f.payload.level);if(n.length===0)return null;const i=r[0].damage.match(/(\d+)d(\d+)/);if(!i)return null;const a=parseInt(i[1]),s=i[2],o=[{level:1,dice:a}];let u=a;n.forEach(c=>{u+=c.payload.value,o.push({level:c.payload.level,dice:u})});let l=`${o[o.length-1].dice}`;for(let c=o.length-2;c>=0;c--)l=`@{level} < ${o[c+1].level} ? ${o[c].dice} : ${l}`;return`(${l})d${s}`},VYe=(e,t,r)=>{const n=e.filter(s=>s.payload.type==="Upcasting");if(n.length===0)return;const i={};for(const s of n){const{payload:o}=s,{mode:u,startingLevel:l,level:c,value:f,target:d,level:p}=o;if(u==="Per X Spell Level"){if(d==="$.diceCount"&&t&&t.length>0){const m=t[0],h=m.damage.match(/(\d+)d(\d+)/);if(!h)continue;const v=parseInt(h[1]),y=h[2];for(let w=l;w<=9;w+=c){i[w]||(i[w]={level:w});const b=(Math.floor((w-l)/c)+1)*f,_=v+b;i[w].damage=[{...m,damage:`${_}d${y}`}]}}if(d==="$.duration"&&typeof f=="string"){const m=f.match(/(\d+)\s*(hours?|minutes?|rounds?)/);if(!m)continue;const h=parseInt(m[1]),v=m[2],y=r.match(/(\d+)\s*(hours?|minutes?|rounds?)/),w=y?parseInt(y[1]):0;for(let g=l;g<=9;g+=c){i[g]||(i[g]={level:g});const b=Math.floor((g-l)/c)+1,_=w+b*h;i[g].duration=`${_} ${v}`}}}if(u==="Specific Spell Level"){const h={"$.duration":"duration","$.concentration":"concentration","$.range":"range","$.target":"target"}[d];if(!h)continue;i[p]||(i[p]={level:p}),i[p][h]=o.value}}const a=Object.values(i).sort((s,o)=>s.level-o.level);for(let s=1;s<a.length;s++){const o=a[s-1];a[s]={...o,...a[s],level:a[s].level}}return a.length>0?a:void 0},HYe=(e,t)=>{if(!e["Higher Spell Slot Desc"]||!t||t.length===0)return;const r=t[0],n=r.damage.match(/(\d+)d(\d+)/);if(!n)return;const i=parseInt(n[1],10),a=n[2],s=parseInt(e.Level,10),o=parseInt(e["Higher Spell Slot Dice"],10)||1,u=s+1,l=[];for(let c=u;c<=9;c++){const f=c-s,d=i+f*o;l.push({level:c,damage:[{...r,damage:`${d}d${a}`}]})}return l.length>0?l:void 0},GYe=(e,t,r)=>{if(r["data-datarecords"]){const n=zYe(r["data-datarecords"]),i=n.find(d=>d.payload.type==="Spell"),a=e.name,s=r["data-description"]||i?.payload.description||"",o=r["Higher Spell Slot Desc"]||i?.payload.upcastText||"",u=qYe(r,n),l=r.Duration||"";let c=u;if(r.Level===0||r.Level==="0"){const d=u?jYe(n,a,u):null;d&&c&&c[0]&&(c[0].damage=d)}const f={name:a,level:parseInt(r.Level,10)||0,school:IP(r.School),castingTime:r["Casting Time"],range:r.Range,duration:l,target:r.Target,components:OP(r.Components),material:i?.payload?.components?.materialDescription,concentration:r["filter-Concentration"]==="Yes"||r.Concentration==="Yes",ritual:r["filter-Ritual"]==="Yes",isAttack:r["Spell Attack"]&&r["Spell Attack"]!=="None",description:{default:s,upcast:o||void 0},damage:c,saving:MP(r),upcast:VYe(n,u,l),"data-tags":r["filter-Tags"]?.split(",").map(d=>d.trim())};return Object.fromEntries(Object.entries(f).filter(([d,p])=>p!==void 0))}else{const n=e.name,i=r["data-description"]||"",a=r["Higher Spell Slot Desc"]||"";let s;r.Damage&&r["Damage Type"]&&(s=[{ability:"none",damage:r.Damage,type:r["Damage Type"].toLowerCase(),critDamage:r.Damage}]);const o={name:n,level:parseInt(r.Level,10)||0,school:IP(r.School),castingTime:r["Casting Time"],range:r.Range,duration:r.Duration,target:r.Target,components:OP(r.Components),material:r.Material,concentration:r.Concentration==="Yes",ritual:r.Ritual==="Yes",isAttack:r["Spell Attack"]&&r["Spell Attack"]!=="None",description:{default:i,upcast:a||void 0},damage:s||void 0,saving:MP(r),upcast:HYe(r,s)};return Object.fromEntries(Object.entries(o).filter(([u,l])=>l!==void 0&&l!==""))}},ZYe={full:"full",half:"half",third:"third",pact:"pact"},WYe=(e,t,r)=>{const n={name:e.name,"data-compatibility":[{name:r["Parent Class"]}]},i={};let a=[];try{a=JSON.parse(r["data-datarecords"]||"[]")}catch{console.warn(`Failed to parse data-datarecords for subclass: ${e.name}`),a=[]}for(const s of a){let o;try{o=JSON.parse(s.payload)}catch{console.warn(`Failed to parse payload for record: ${s.name}`);continue}if(o.type==="Spellcasting"){const l=yf(o),c=ZYe[l.casterType];c&&(n.spellcasting=c,n["data-spellSource"]={name:`${e.name} Spellcasting`,type:"ability",ability:(l.ability||"intelligence").toLowerCase(),isPrepared:!1});continue}const u=JN(s);if(u){u.group="class-features";const l=parseInt(s.level,10);if(!isNaN(l)&&l>0){const c=`level-${l}`;i[c]||(i[c]=[]),i[c].push(u)}}}return Object.keys(i).length>0&&(n["data-features"]=i),n},R_={Classes:IYe,Subclasses:WYe,Spells:GYe,Species:Wy,Races:Wy,Subraces:Wy,"Species Options":Wy,Monsters:UYe,Features:TP,Feats:TP,Backgrounds:DYe,Items:Zy,Armor:Zy,Weapons:Zy,Equipment:Zy},XN=async e=>{if(!e||!Array.isArray(e)||e.length===0)return[];try{const t=e.map(async r=>{if(!r.name)return null;const n=eD("Spells",r.name),i=await Hs.value.compendiumRequest({query:n});if(i.errors||!i?.data?.ruleSystem?.category?.pages)return console.warn(`Could not find compendium spell: "${r.name}". Skipping hydration.`),null;const a=i.data?.ruleSystem?.id,s=i.data.ruleSystem.category.pages;let o;if(o=s.find(l=>String(l.book.itemId)==="5")||s[0],!o)return null;let u;if(o.properties.hasOwnProperty("data-payload"))u=JSON.parse(o.properties["data-payload"]);else if(R_.Spells){const l=R_.Spells,c={name:o.name,...o.properties};u=l(c,o.book,o.properties)}else return console.warn(`Could not transform legacy spell: "${r.name}". Returning original data.`),r;return{...u,...r}});return(await Promise.all(t)).filter(Boolean)}catch(t){return console.error("Failed to hydrate spells from compendium.",t),[]}},em=async({payload:e,effects:t,tags:r,spells:n})=>{e.value&&!e.value.currency&&(e.value.currency=Je.currencyTypes[0]);const i=AWe.safeParse(e);if(!i.success){console.error("Invalid equipment data",i.error);return}t&&n&&Array.isArray(n)&&(t.spells=await XN(n));const a=ou(),s=kt();if(t&&t.spellSources&&Array.isArray(t.spellSources)&&t.spellSources.length>0&&t.spells&&Array.isArray(t.spells)){const u=new Map,l=/^\$source:(\d+)$/;t.spellSources.forEach((c,f)=>{const d=c._id||Ct();c._id=d,u.set(f,d)}),t.spells.forEach(c=>{if(typeof c.spellSourceId=="string"){const f=c.spellSourceId.match(l);if(f&&f[1]){const d=parseInt(f[1],10);u.has(d)?c.spellSourceId=u.get(d):c.spellSourceId=u.get(0)||""}}})}if(r&&r.length>0){const u=Ct(),l={_id:u,tags:[],category:"equipment"};r.forEach(c=>{const f={_id:Ct(),text:c};l.tags.push(f)}),ki().update(l),i.data.tagId=u}if(t){Wv(t.actions,"action"),Wv(t.spells,"spell");const u=s.getEmptyEffect(t);s.update(u),i.data.effectId=u._id}const o=a.getEmptyEquipment(i.data);a.update(o)},p4=async({payload:e,effects:t,tags:r,npcId:n})=>{const i=Bg.safeParse(e);if(!i.success){console.error("Invalid spell data",i.error);return}if(console.log("Dropping spell:",i.data),kt(),r&&r.length>0){const o=Ct(),u={_id:o,tags:[],category:"spell"};r.forEach(l=>{const c={_id:Ct(),text:l};u.tags.push(c)}),ki().update(u),i.data.tagId=o}let a,s;if(t&&(Wv(t.actions,"action"),s=kt().getEmptyEffect(t),a=s._id,i.data.effectId=a),n){const o=is(),u=o.npcs.find(l=>l._id===n);if(u)try{s&&u.effects.push(s);const l=[i.data],c=await XN(l);if(c.length>0){const f=c[0];if(u.spellSources.length===0){const p=o.getEmptyNpcSpellSource();p.name="Spellcasting",p.isInnate=!0,p.ability="wisdom",u.spellSources.push(p)}if(!f.spellSourceId||typeof f.spellSourceId=="string"&&f.spellSourceId.startsWith("$picker:")){let p=u.spellSources[0]._id;if(f.spellSourceId&&f.spellSourceId.startsWith("$picker:")){const m=parseInt(f.spellSourceId.split(":")[1],10);!isNaN(m)&&m<u.spellSources.length&&(p=u.spellSources[m]._id)}f.spellSourceId=p}const d=o.getEmptyNpcSpell(f);u.spells.push(d),o.updateNpc(u._id,{spells:u.spells,effects:u.effects,spellSources:u.spellSources})}}catch(l){console.error("Failed to hydrate and add spell to NPC.",l)}}else{const o=kt(),u=Ln();s&&o.update(s);const l=u.getEmptySpell(i.data);u.updateSpell(l)}},KYe=An(["eq","neq","gt","gte","lt","lte","includes"]),JYe=vr({op:KYe,value:ka([ct(),St(),ra()])}),YYe=vr({label:ct(),category:ct(),filter:kA(ct(),JYe).optional(),featureId:ct().optional(),featureLabel:ct().optional()}),XYe=vr({label:ct(),group:An(["class-features","ancestry-features","feats","others","transformation-features","background-features","traits"]),description:ct(),validUntilLevel:St().min(1).max(20).optional(),"data-tags":Rr(ct()).optional(),"data-effects":IA.optional(),"data-spells":Rr(Bg).optional(),compendiumPickers:YYe.array().optional()}),jJ=XYe.extend({_id:ct().optional(),effectId:ct().optional(),tagId:ct().optional()}),Ri=hi("features",()=>{const e=Pe([]),t=o=>({_id:Ct(),label:"",group:"others",source:"",description:"",effectId:Ct(),tagId:Ct(),compendiumPickers:[],...o}),r=o=>{const l=ki().tagGroups.find(c=>c._id===o);return l?l.tags:[]},n=o=>{const u=o._id?Ud(o._id,e.value):!1;if(u)Object.assign(u,o);else{const l=t(o);e.value.push(l)}},i=o=>{const u=e.value.findIndex(l=>l._id===o);if(u>=0){const l=e.value[u];l.effectId&&kt().remove(l.effectId),l.tagId&&ki().remove(l.tagId),l.compendiumPickers&&l.compendiumPickers.length>0&&l.compendiumPickers.forEach(c=>{c.featureId&&i(c.featureId)}),e.value.splice(u,1)}};return{features:e,update:n,remove:i,getFeatureTags:r,getEmptyFeature:t,dehydrate:()=>({features:{features:rn(e.value.map(o=>({...o,compendiumPickers:ur(o.compendiumPickers||[])})))}}),hydrate:o=>{e.value=o.features?.features?Hr(o.features.features).map(u=>({...u,compendiumPickers:ar(u.compendiumPickers)})):e.value}}}),Ps=async({payload:e,effects:t,tags:r,spells:n,cascade:i})=>{const a=jJ.safeParse(e);if(!a.success){console.error("Invalid feature data",a.error);return}if(n&&n.length>0&&!t&&(t={label:e.label||"Feature Effects",enabled:!0,toggleable:!1,removable:!1}),r&&r.length>0){const l=Ct(),c={_id:l,tags:[],category:"feature"};r.forEach(f=>{const d={_id:Ct(),text:f};c.tags.push(d)}),ki().update(c),a.data.tagId=l}t&&n&&Array.isArray(n)&&(t.spells=await XN(n));const s=Ri(),o=kt();if(t&&t.spells&&i?.spellSourceId&&(!t.spellSources||t.spellSources.length===0)&&t.spells.forEach(l=>{l.spellSourceId=i.spellSourceId}),t&&t.spellSources&&Array.isArray(t.spellSources)&&t.spellSources.length>0&&t.spells&&Array.isArray(t.spells)){const l=new Map,c=/^\$source:(\d+)$/;t.spellSources.forEach((f,d)=>{const p=f._id||Ct();f._id=p,l.set(d,p)}),t.spells.forEach(f=>{if(typeof f.spellSourceId=="string"){const d=f.spellSourceId.match(c);if(d&&d[1]){const p=parseInt(d[1],10);l.has(p)?f.spellSourceId=l.get(p):f.spellSourceId=l.get(0)||""}}})}if(t){Wv(t.actions,"action"),Wv(t.spells,"spell");const l=o.getEmptyEffect(t);o.update(l),a.data.effectId=l._id}const u=s.getEmptyFeature(a.data);return i?.source&&(u.source=i.source),s.update(u),u._id},QN=St().min(1).max(20),rc=vr({level:QN,id:ct()}),Yh=kA(An(["level-1","level-2","level-3","level-4","level-5","level-6","level-7","level-8","level-9","level-10","level-11","level-12","level-13","level-14","level-15","level-16","level-17","level-18","level-19","level-20"]),jJ.array());vr({type:Ai("ability"),ability:Ap()});const VJ=vr({name:ct(),hitDie:An([...Je.hitDieSize]),subclassUnlockLevel:QN.optional(),"data-features":Yh.optional()}),QYe=VJ.extend({spellcasting:yJ,"data-spellSource":zN}),eXe=VJ.extend({spellcasting:qo().optional(),cantripsKnown:qo().optional(),spellsKnown:qo().optional(),preparedCaster:qo().optional(),"data-spellSource":qo().optional()}),tXe=ka([QYe,eXe]),rXe=tXe.and(vr({_id:ct().optional(),sourceBook:St().optional(),hitPoints:Rr(St()).optional(),level:QN.optional(),subclass:ct().optional(),subclassSourceBook:St().optional(),spellSourceId:ct().optional(),featureIds:Rr(rc).optional(),subclassFeatureIds:Rr(rc).optional()})),nXe=(e,t)=>{const r=JSON.stringify(t),n=/\$ownerlevel/g,i=`@{${e.toLowerCase().replace(/ /g,"-")}-level}`;return JSON.parse(r.replace(n,i))},OA={"level-1":"1st-level","level-2":"2nd-level","level-3":"3rd-level","level-4":"4th-level","level-5":"5th-level","level-6":"6th-level","level-7":"7th-level","level-8":"8th-level","level-9":"9th-level","level-10":"10th-level","level-11":"11th-level","level-12":"12th-level","level-13":"13th-level","level-14":"14th-level","level-15":"15th-level","level-16":"16th-level","level-17":"17th-level","level-18":"18th-level","level-19":"19th-level","level-20":"20th-level"};async function $m({features:e,updatedClass:t,levelOverride:r,updateSubclass:n=!1,onlyExpired:i=!1,previousLevels:a,cascade:s={}}){const o=r!==void 0?r:t.level,u=nXe(t.name,e);for(const[l,c]of Object.entries(u)){const f=parseInt(l.replace("level-",""));if(o===f)for(const d of c){if(i&&(!d.validUntilLevel||!(a&&a.includes(d.validUntilLevel))))continue;let p,m,h;d["data-effects"]&&(p=d["data-effects"],delete d["data-effects"]),d["data-tags"]&&(m=d["data-tags"],delete d["data-tags"]),d["data-spells"]&&(h=d["data-spells"],delete d["data-spells"]);const v=`level-${f}`,y=n?t.subclass:t.name;s.source=`${OA[v]} ${y}`;const w=await Ps({payload:d,effects:p,tags:m,spells:h,cascade:s});w&&(n?t.subclassFeatureIds.push({level:o,id:w,expirantionLevel:d.validUntilLevel}):t.featureIds.push({level:o,id:w,expirantionLevel:d.validUntilLevel}))}}}const iXe=async({payload:e,features:t,expansionId:r})=>{const n=rXe.safeParse(e);if(!n.success){console.error("Invalid class data",n.error);return}const i=Zt(),a=i.classes.find(u=>u.name===n.data.name&&u.sourceBook===r);let s;if(!a){const u={...i.getEmptyClass(),name:n.data.name,sourceBook:r||-1,level:1,hitDie:n.data.hitDie,hitPoints:[parseInt(n.data.hitDie.split("d")[1])],subclassUnlockLevel:n.data.subclassUnlockLevel||-1,compendiumData:{class:t?JSON.stringify(t):null,subclass:null}};if(n.data.spellcasting&&n.data.spellcasting!=="none"&&n.data["data-spellSource"]){const l=Ln().getEmptySource({...n.data["data-spellSource"]});Ln().updateSource(l),u.spellSourceId=l._id,u.spellcasting=n.data.spellcasting}s=u,i.classes.push(u)}const o=s?.spellSourceId&&Ln().sources.find(u=>u._id===s?.spellSourceId)?{spellSourceId:s.spellSourceId}:void 0;t&&!a&&await $m({features:t,updatedClass:s,cascade:o})},aXe=vr({name:ct(),"data-features":Yh.optional()}),sXe=aXe.and(vr({subrace:ct().optional(),sourceBook:St().optional(),subraceSourceBook:St().optional(),featureIds:Rr(rc).optional(),subraceFeatureIds:Rr(rc).optional(),compendiumData:vr({race:ct().optional(),subrace:ct().optional()}).optional()})),oXe=vr({name:ct(),"data-features":Yh.optional()}),uXe=oXe.and(vr({sourceBook:St().optional(),featureIds:Rr(rc).optional(),compendiumData:vr({transformation:ct().optional()}).optional()}));async function lXe({features:e,levelOverride:t,onlyExpired:r=!1,previousLevels:n,cascade:i}){const a=t||1;for(const[s,o]of Object.entries(e)){const u=parseInt(s.replace("level-",""));if(a===u)for(const l of o){if(r&&(!l.validUntilLevel||!(n&&n.includes(l.validUntilLevel))))continue;let c,f,d;l["data-effects"]&&(c=l["data-effects"],delete l["data-effects"]),l["data-tags"]&&(f=l["data-tags"],delete l["data-tags"]),l["data-spells"]&&(d=l["data-spells"],delete l["data-spells"]);const p=`level-${u}`,m={...i};m?.source&&(m.source=`${OA[p]} ${m.source}`);const h=await Ps({payload:l,effects:c,tags:f,spells:d,cascade:m});h&&Zt().transformation.featureIds.push({level:a,id:h,expirantionLevel:l.validUntilLevel})}}}const cXe=async({payload:e,features:t,expansionId:r})=>{const n=uXe.safeParse(e);if(!n.success){console.error("Invalid transformation data",n.error);return}const i=Zt();i.removeTransformation();const a=1;i.transformation.name=n.data.name,i.transformation.sourceBook=r,i.transformation.compendiumData.transformation=t?JSON.stringify(t):null,i.transformation.level=a,await i.addFeaturesToTransformation(1,a),i.removeTransformationExpiredFeatures(a)},fXe=vr({name:ct(),sourceBook:St().optional()}),HJ=vr({name:ct(),"data-compatibility":fXe.array().optional(),"data-features":Yh.optional()}),dXe=HJ.extend({spellcasting:yJ,"data-spellSource":zN}),pXe=HJ.extend({spellcasting:qo().optional(),"data-spellSource":qo().optional()}),mXe=ka([dXe,pXe]),hXe=mXe.and(vr({_id:ct().optional(),subclass:ct().optional(),subclassSourceBook:St().optional(),subclassFeatureIds:Rr(rc).optional(),spellSourceId:ct().optional()})),vXe=async({payload:e,features:t,expansionId:r})=>{const n=hXe.safeParse(e);if(!n.success){console.error("Invalid subclass data",n.error);return}const i=Zt(),a=i.classes.find(s=>n.data["data-compatibility"]?.some(o=>o.name.trim().toLowerCase()===s.name.trim().toLowerCase()&&(o.sourceBook!==void 0?o.sourceBook===s.sourceBook:!0)));if(a&&!(a.subclassUnlockLevel<=0||a.level<a.subclassUnlockLevel)){if(i.removeSubclass(a._id),a.subclass=n.data.name,a.subclassSourceBook=r,n.data.spellcasting&&n.data.spellcasting!=="none"&&n.data["data-spellSource"]){if(a.spellSourceId){const o=Ln().sources.find(u=>u._id===a.spellSourceId);o&&Ln().removeSource(o)}const s=Ln().getEmptySource({...n.data["data-spellSource"]});Ln().updateSource(s),a.spellSourceId=s._id,a.spellcasting=n.data.spellcasting}a.compendiumData.subclass=t?JSON.stringify(t):null,await i.addFeaturesToClass(a._id,1,a.level,!1,!0),i.removeClassFeatures(a._id,!1,!0,20)}},gXe=vr({name:ct(),sourceBook:St().optional()}),yXe=vr({name:ct(),"data-compatibility":gXe.array().optional(),"data-features":Yh.optional()}),bXe=yXe.and(vr({subrace:ct().optional(),sourceBook:St().optional(),subraceSourceBook:St().optional(),featureIds:Rr(rc).optional(),subraceFeatureIds:Rr(rc).optional(),compendiumData:vr({race:ct().optional(),subrace:ct().optional()}).optional()})),PP=async({payload:e,features:t,expansionId:r})=>{const n=bXe.safeParse(e);if(!n.success){console.error("Invalid subrace data",n.error);return}const i=Zt();if(!Object.entries(n.data["data-compatibility"]||{}).find(([u,l])=>i.ancestry.name.trim().toLowerCase()===l.name.trim().toLowerCase()&&(l.sourceBook!==void 0?l.sourceBook===i.ancestry.sourceBook:!0)))return;i.removeSubrace(),i.ancestry.subrace=n.data.name,i.ancestry.subraceSourceBook=r,i.ancestry.compendiumData.subrace=t?JSON.stringify(t):null;const s=i.getLevel||1;i.addFeaturesToAncestry(1,s,!1,!0);const o=i.getLevel||0;i.removeAncestryExpiredFeatures(o)};async function BP({features:e,levelOverride:t,updateSubrace:r=!1,onlyExpired:n=!1,previousLevels:i,cascade:a}){const s=t||1;for(const[o,u]of Object.entries(e)){const l=parseInt(o.replace("level-",""));if(s===l)for(const c of u){if(n&&(!c.validUntilLevel||!(i&&i.includes(c.validUntilLevel))))continue;let f,d,p;c["data-effects"]&&(f=c["data-effects"],delete c["data-effects"]),c["data-tags"]&&(d=c["data-tags"],delete c["data-tags"]),c["data-spells"]&&(p=c["data-spells"],delete c["data-spells"]);const m=`level-${l}`,h={...a};h?.source&&(h.source=`${OA[m]} ${h.source}`);const v=await Ps({payload:c,effects:f,tags:d,spells:p,cascade:h});v&&(r?Zt().ancestry.subraceFeatureIds.push({level:s,id:v,expirantionLevel:c.validUntilLevel}):Zt().ancestry.featureIds.push({level:s,id:v,expirantionLevel:c.validUntilLevel}))}}}const LP=async({payload:e,features:t,expansionId:r})=>{const n=sXe.safeParse(e);if(!n.success){console.error("Invalid subclass data",n.error);return}const i=Zt();i.removeSubrace(),i.removeRace(),i.ancestry.name=n.data.name,i.ancestry.sourceBook=r,i.ancestry.compendiumData.race=t?JSON.stringify(t):null;const a=i.getLevel||1;await i.addFeaturesToAncestry(1,a,!0);const s=i.getLevel||0;i.removeAncestryExpiredFeatures(s)},_Xe=vr({name:ct(),"data-features":Yh.optional()}),AXe=_Xe.and(vr({sourceBook:St().optional(),featureIds:Rr(rc).optional(),compendiumData:ct().optional()}));async function wXe({features:e,levelOverride:t,onlyExpired:r=!1,previousLevels:n}){const i=t||1;for(const[a,s]of Object.entries(e)){const o=parseInt(a.replace("level-",""));if(i===o)for(const u of s){if(r&&(!u.validUntilLevel||!(n&&n.includes(u.validUntilLevel))))continue;let l,c;u["data-effects"]&&(l=u["data-effects"],delete u["data-effects"]),u["data-tags"]&&(c=u["data-tags"],delete u["data-tags"]);const f=`level-${o}`,d={source:`${OA[f]} ${Zt().background.name}`},p=await Ps({payload:u,effects:l,tags:c,cascade:d});p&&Zt().background.featureIds.push({level:i,id:p,expirantionLevel:u.validUntilLevel})}}}const xXe=async({payload:e,features:t,expansionId:r})=>{const n=AXe.safeParse(e);if(!n.success){console.error("Invalid subclass data",n.error);return}const i=Zt();i.removeBackground(),i.background.name=n.data.name,i.background.sourceBook=r,i.background.compendiumData=t?JSON.stringify(t):null;const a=i.getLevel||1;i.addFeaturesToBackground(1,a);const s=i.getLevel||0;i.removeBackgroundExpiredFeatures(s)},GJ=Bg.extend({innateUsage:ct().optional()}),SXe=vr({_id:ct().optional(),spellAttackBonus:St(),spellSaveDC:St(),isInnate:ra().optional(),ability:Ap(),spellSlots:vr({1:St(),2:St(),3:St(),4:St(),5:St(),6:St(),7:St(),8:St(),9:St()}).optional(),spellSlotsUsed:vr({1:St(),2:St(),3:St(),4:St(),5:St(),6:St(),7:St(),8:St(),9:St()}).optional(),name:ct(),casterLevel:St().optional()}),EXe=vr({ability:ka([Ai("none"),Ai("spellcasting"),Ap()]),damage:ct(),type:An([...Je.dicePoolTypes]),critDamage:ct().optional()}),bS=vr({_id:ct().optional(),name:ct(),description:ct().optional(),group:An(["actions","bonus-actions","reactions","free-actions","legendary","lair"]),isAttack:ra(),critRange:St().min(1).max(20).optional(),attackBonus:St().nullable().optional(),saving:ka([An([...Je.abilities]),Ai("none")]).optional(),savingDc:St().optional(),damage:EXe.array().optional(),range:ct().optional(),target:ct().optional(),attackType:An(["melee","ranged"]).optional(),sourceType:An(["weapon","spell"]).optional(),legendaryCost:St().optional()}),CXe=vr({_id:ct().optional(),name:ct(),description:ct(),effectId:ct().optional(),"data-effects":IA.optional(),"data-spells":Rr(GJ).optional()}),$Xe=vr({name:ct(),shortDescription:ct().optional(),armorClass:St(),acDescription:ct().optional(),hitPoints:vr({current:St(),max:St().optional(),formula:ct()}),speed:ct(),abilities:vr({strength:St(),dexterity:St(),constitution:St(),intelligence:St(),wisdom:St(),charisma:St()}),savingThrows:vr({strength:St().optional(),dexterity:St().optional(),constitution:St().optional(),intelligence:St().optional(),wisdom:St().optional(),charisma:St().optional()}).optional(),skills:vr({acrobatics:St().optional(),"animal-handling":St().optional(),arcana:St().optional(),athletics:St().optional(),deception:St().optional(),history:St().optional(),insight:St().optional(),intimidation:St().optional(),investigation:St().optional(),medicine:St().optional(),nature:St().optional(),perception:St().optional(),performance:St().optional(),persuasion:St().optional(),religion:St().optional(),"sleight-of-hand":St().optional(),stealth:St().optional(),survival:St().optional()}),damageVulnerabilities:ct().optional(),damageResistances:ct().optional(),damageImmunities:ct().optional(),conditionImmunities:ct().optional(),senses:ct().optional(),passivePerception:St().optional(),languages:ct().optional(),challenge:ct().optional(),features:Rr(CXe).optional(),actions:Rr(bS).optional(),legendaryActions:vr({description:ct().optional(),actions:bS.array().optional()}).optional(),lairActions:vr({description:ct().optional(),actions:bS.array().optional()}).optional(),spellSources:SXe.array().optional(),token:ct(),"data-spells":Rr(GJ).optional()}),ZJ=$Xe.extend({_id:ct().optional(),isDefault:ra().optional(),isCompanion:ra().optional(),isCollapsed:ra().optional(),effects:IA.array().optional()}),NXe=(e="medium")=>{Je.sizes;const t={tiny:1,small:1,medium:1,large:2,huge:3,gargantuan:4};let r=1;for(const n in t)if(e.toLowerCase().includes(n)){r=t[n];break}return r},DXe=async({characterId:e,payload:t,dispatch:r})=>{const n=ZJ.safeParse(t);if(!n.success){console.error("Invalid monster data",n.error);return}const i=NXe(n.data.shortDescription);await r.updateTokensByCharacter({characterId:e,token:{name:n.data.name,imgsrc:n.data.token,width:i*70,height:i*70}})},TXe=async({payload:e,effects:t,spells:r,isNewSheet:n})=>{const i=is(),a=ZJ.safeParse(e);if(!a.success){console.error("Invalid monster data",a.error);return}const s=Array.isArray(t)?t:[];a.data.features&&a.data.features.forEach(u=>{if(u["data-effects"]){const l=Ct();u.effectId=l,u["data-effects"]._id=l,s.push(u["data-effects"]),delete u["data-effects"]}u._id=Ct()}),s.length>0&&(a.data.effects=s),a.data.isDefault=!!n,a.data.isCompanion=!n,a.data.isCollapsed=!n,n&&(i.npcs=[]),n&&(i.isNpc=!0),i.isEditMode=!1;const o=i.updateNpc(null,a.data);r&&(console.log("Dropping spells for monster",r),r.forEach(async u=>{const l=u["data-tags"]??[],c=u["data-effects"]??[];delete u["data-tags"],delete u["data-effects"],await p4({payload:u,tags:l,effects:c,npcId:o})}))},eD=(e,t)=>{const r=t?`
pages(name: "${decodeURIComponent(t)}") {
  id
  name
  properties
  book {
    name
    itemId
  }
  category {
    name
  }
}
`:`
pages {
  id
  name
  properties
  book {
    name
    itemId
  }
  category {
    name
  }
}
`;return`
id
category(name: "${e}") {
  id
  ${r}  
}
`},FP={Spells:p4,Features:Ps,Feats:Ps,Classes:iXe,Subclasses:vXe,Races:LP,Species:LP,"Species Options":PP,Backgrounds:xXe,"Fighting Styles":Ps,Armor:em,Monsters:TXe,Items:em,Subraces:PP,Transformations:cXe,"Transformation Boons":Ps,"Adventurer Talents":Ps,Ammunition:em,"Compound Options":Ps,"Epic Boons":Ps,Equipment:em,"Gifts of Damnation":Ps,"Magic Items":em,"Shadowsteel Curses":p4,Traits:Ps,Weapons:em},tD=async({dropData:e,coordinates:t},r,n=!1,i)=>{const{pageName:a,expansionId:s}=e,o=e.categoryName,u=eD(o,a),l=r??Hs.value,c=await l.compendiumRequest({query:u});if(c.errors)throw new Error("Expected a compendium request, but instead got an error.");if(!c?.data?.ruleSystem?.category?.pages)throw new Error("Could not find a page, you probably need to relog.");const{pages:f}=c.data.ruleSystem.category,d=f.findIndex(h=>+h.book.itemId==+s),p=f[d];console.log("Dropping page",p);let m;if(t){const h=document.elementsFromPoint(t.left,t.top),v=h.find(y=>y.closest("[data-npc-id]"));console.log("Elements at drop point:",h),v&&(m=v.closest("[data-npc-id]")?.getAttribute("data-npc-id")||void 0)}if(FP.hasOwnProperty(o))try{let h;if(p.properties.hasOwnProperty("data-payload"))h=JSON.parse(p.properties["data-payload"]);else if(R_[o]){const _=R_[o],x={name:p.name,book:p.book,properties:p.properties};h=_(x,p.book,p.properties)}else{console.error(`Item is not in native format and no transformer was found for category: "${o}".`);return}let v;h["data-tags"]&&(v=h["data-tags"],delete h["data-tags"]);let y;h["data-features"]&&(y=h["data-features"],delete h["data-features"]);let w;h["data-spells"]&&(w=h["data-spells"],delete h["data-spells"]);let g;h["data-effects"]&&(g=h["data-effects"],delete h["data-effects"]);const b=FP[o];await b({payload:h,effects:g,tags:v,features:y,spells:w,expansionId:s,isNewSheet:n,npcId:m,dispatch:l,character:i}),n&&(await new Promise(_=>setTimeout(_,2e3)),DXe({characterId:i.id,payload:h,dispatch:l}))}catch(h){console.error("Failed to parse data-payload",h)}},kXe=async({character:e,settings:t,compendiumDropData:r},n)=>{fa.id=e.id,fa.character=e,fa.settings=t,fa.compendiumDrop=r||null,console.log("onInit -> Example Sheet Relay"),r&&r.categoryName==="Monsters"&&tD({coordinates:{left:0,top:0},dropData:r},n,!0,e)},IXe=async({character:e})=>{const t=m4.value;m4.value=t+1,console.log("onChange -> Example Sheet Relay",e)},OXe=()=>{},MXe=()=>{},PXe=()=>({}),BXe=()=>{},LXe=tD,WJ=(e,t)=>{const r=!t.attributes?.equipment||!t.attributes.equipment.hasOwnProperty("equipment")?{}:t.attributes.equipment.equipment,n=Object.values(r).find(i=>i.effectId===e._id);return{pickers:e.pickers,isEquipped:n?n.equipped:!1,isAttuned:n?n.isAttuned:!1}},FXe=(e,t)=>{if(!e.enabled)return!1;const r=WJ(e,t);return dr.checkRequirements(e.required,r)},RXe=(e,t,r)=>{if(!FXe(e,r))return!1;const n=WJ(e,r);return dr.checkRequirements(t.required,n)},MA=(e,t,r=[],n)=>{const a=(!n.attributes?.modifiers||!n.attributes.modifiers.hasOwnProperty("effects")?[]:Hr(n.attributes.modifiers.effects).map(o=>({...o,required:ar(o.required)}))).slice().map(o=>{const u=Hr(o.effects).map(l=>({...l,required:ar(l.required)}));return{...o,effects:u}}),s=dr.getValidEffects(a,t,(o,u)=>RXe(o,u,n));return dr.calculateModifiedValue(e,s,r).final},KJ=({character:e})=>{const t=!e.attributes?.progression||!e.attributes.progression.hasOwnProperty("classes")?{}:e.attributes.progression.classes;return Object.values(t).reduce((n,i)=>n+(i.level||0),0)},JJ=({character:e})=>{const t=KJ({character:e}),r=t===0?0:Math.ceil(t/4)+1;return MA(r,"proficiency-bonus",void 0,e)},YJ=({character:e},t)=>{const r=!e.attributes?.abilities||!e.attributes.abilities.hasOwnProperty("abilities")?{}:e.attributes.abilities.abilities,n=Object.values(r).find(i=>i.label===t);return n?MA(n.score,t,void 0,e):0},XJ=({character:e},t)=>{const r=YJ({character:e},t);return r===0?0:Math.ceil((r-10)/2)},QJ=({character:e},t)=>{const r=!e.attributes?.proficiencies||!e.attributes.proficiencies.hasOwnProperty("ranked")?{}:e.attributes.proficiencies.ranked;return Object.values(r).find(i=>i.label===t)},eY=({character:e},t)=>{const r=QJ({character:e},t);return r?r.level===-1?MA(0,`${t}-proficiency`,gY,e):r.level:0},tY=({character:e},t)=>{const r=QJ({character:e},t);if(!r)return 0;const n=JJ({character:e}),i=eY({character:e},t),s=XJ({character:e},r.ability)+n*i;return MA(s,`${t}-modifier`,void 0,e)},UXe=({character:e})=>tY({character:e},"initiative"),zXe=Object.fromEntries(Je.abilities.map(e=>[e,{tokenBarValue:!1,get:t=>YJ(t,e)}])),qXe=Object.fromEntries(Je.abilities.map(e=>[`${e}-mod`,{tokenBarValue:!1,get:t=>XJ(t,e)}])),jXe=Object.fromEntries(Object.keys(Je.skills).map(e=>[e,{tokenBarValue:!1,get:t=>eY(t,e)}])),VXe=Object.fromEntries(Object.keys(Je.skills).map(e=>[`${e}-mod`,{tokenBarValue:!1,get:t=>tY(t,e)}])),HXe={handlers:{onInit:kXe,onChange:IXe,onSettingsChange:OXe,onSharedSettingsChange:MXe,onTranslationsRequest:PXe,onDragOver:BXe,onDropOver:LXe},actions:{},computed:{pb:{tokenBarValue:!1,get:JJ},level:{tokenBarValue:!1,get:KJ},initiative:{tokenBarValue:!1,get:UXe},...zXe,...qXe,...jXe,...VXe}},fa=Gs({id:"",character:{attributes:{}},settings:{},compendiumDrop:null}),m4=Pe(0),Ky=Pe(!1),Hs=Oi();Pe({});Pe(!1);const rY=Pe(Ct()),GXe=(e,t,r=!1)=>{r&&console.info(" sheet: Updating Firebase"),r&&console.dir(`Firebase Update: ${fa.character.id}`,t);const n={character:{id:fa.character.id,...t}};n.character.attributes.updateId=rY.value,e.updateCharacter(n)},ZXe=ace.debounce(GXe,800),WXe=async()=>({update:(...e)=>console.log("devRelay update",e),updateCharacter:(...e)=>console.log("devRelay updateCharacter",e),characters:{},updateTokensByCharacter:()=>""}),KXe=async({devMode:e=!1,primaryStore:t="sheetStore",logMode:r=!1})=>{const n=await(e?WXe():wZe(HXe));return{relayPinia:s=>{if(s.store.$id!==t)return;const o=s.store;Hs.value=n;const{attributes:u,...l}=fa.character;return o.hydrateStore(u,l),o.setCampaignId(fa.settings.campaignId),o.setPermissions(fa.settings.owned,fa.settings.gm),o.$subscribe(()=>{if(Ky.value===!0)return;const c=o.dehydrateStore();ZXe(n,c,r)}),Xn(m4,async(c,f)=>{r&&console.log(" Beacon Pulse",{newValue:c,oldValue:f});const d=fa.character.id;if(!n.characters||!n.characters[d]){r&&console.warn(`Character ${d} not found in dispatch during pulse.`);return}Ky.value=!0,r&&console.log(" locking changes");const{attributes:p,...m}=n.characters[d];if(p.updateId===rY.value){Ky.value=!1;return}o.hydrateStore(p,m),await _f(),r&&console.log(" unlocking changes"),Ky.value=!1}),{...n}},relayVue:{install(s){s.provide("dispatch",n)}}}},JXe=au({level:iu(),school:Ko([...Je.spellSchools]),castingTime:fr(),range:fr(),duration:fr(),target:fr(),description:fr(),concentration:zs(),damage:wi(X6).optional()}),YXe=au({_id:fr(),name:fr(),level:iu(),school:Ko([...Je.spellSchools]),castingTime:fr(),range:fr(),target:fr(),components:wi(Ko([...Je.spellComponents])),material:fr(),duration:fr(),concentration:zs(),ritual:zs(),description:au({default:fr(),upcast:fr().optional()}),isAttack:zs(),attackType:Ko(["melee","ranged"]),attackAbility:Wo([Ea("none"),Ea("spellcasting"),uf()]),critRange:iu(),damage:wi(X6),saving:Wo([Ea("none"),uf()]),upcast:wi(JXe),spellSourceId:fr(),sourceEffectId:fr().optional(),isFromEffect:zs().optional(),effectId:fr(),tagId:fr(),"data-tags":wi(fr()).optional(),required:wi(xp).optional()}),nY=au({_id:fr(),name:fr(),isPrepared:zs().optional(),cantripsKnown:wi(iu()).optional(),spellsKnown:wi(iu()).optional()}),XXe=nY.extend({type:Ea("ability"),ability:uf(),required:wi(xp).optional()}),QXe=nY.extend({type:Ea("flat"),flat:iu().or(fr()),required:wi(xp).optional()}),eQe=bj("type",[XXe,QXe]),Ln=hi("spells",()=>{const e=Pe([]),t=Pe([]),r=Pe({mode:"automatic",total:{standard:Array(Je.spellLevels.length-1).fill(0),pact:Array(Je.spellLevels.length-1).fill(0)},used:Array(Je.spellLevels.length-1).fill(0)}),n=kt();Bt();const i=Oe(()=>dr.collectFromEffects(n.effects,"spellSources",n.isEffectActive)),a=Oe(()=>[...t.value,...i.value]),s=Oe(()=>dr.collectFromEffects(n.effects,"spells",n.isEffectActive)),o=Oe(()=>[...e.value,...s.value]),u=Pe(null),l=(P,U)=>{u.value={spellId:P,resultType:U}},c=P=>({_id:Ct(),name:"",level:0,school:Je.spellSchools[0],castingTime:"",range:"",target:"",components:[],material:"",duration:"",concentration:!1,ritual:!1,isAttack:!1,attackType:"melee",attackAbility:P.isAttack===!1?"none":"spellcasting",critRange:20,damage:[],saving:"none",description:{default:""},upcast:[],spellSourceId:a.value[0]?._id??"",effectId:Ct(),tagId:Ct(),...P}),f=P=>{const U={_id:Ct(),name:""};if(P.type==="ability")return{...U,type:"ability",ability:P.ability??Je.abilities[0],...P};if(P.type==="flat")return{...U,type:"flat",flat:P.flat??0,...P};{const{type:L,ability:B,...O}=P;return{...U,...O,type:"ability",ability:Je.abilities[0]}}},d=P=>{if(P.sourceEffectId){n.updateItemWithinEffect({effectId:P.sourceEffectId,itemKey:"spellSources",itemPatch:P});return}const U=P._id?t.value.find(L=>L._id===P._id):void 0;if(U)Object.assign(U,P);else{const L=f(P);t.value.push(L)}},p=P=>{if(P.sourceEffectId){n.removeItemFromEffect({effectId:P.sourceEffectId,itemKey:"spellSources",itemId:P._id});return}const U=t.value.findIndex(L=>L._id===P._id);U>=0&&(t.value.splice(U,1),e.value=e.value.filter(L=>L.spellSourceId!==P._id))},m=P=>{if(P.sourceEffectId){n.updateItemWithinEffect({effectId:P.sourceEffectId,itemKey:"spells",itemPatch:P});return}const U=P._id?e.value.find(L=>L._id===P._id):void 0;if(U)Object.assign(U,P);else{const L=c(P);e.value.push(L)}},h=P=>{if(P.sourceEffectId){n.removeItemFromEffect({effectId:P.sourceEffectId,itemKey:"spells",itemId:P._id});return}const U=e.value.findIndex(L=>L._id===P._id);if(U>=0){const{effectId:L,tagId:B}=e.value[U];kt().remove(L),ki().remove(B),e.value.splice(U,1)}},v=P=>{const U=P.critRange,L=[Be["crit-range"],Be["spell-crit-range"],Be[`${P.attackType}-spell-crit-range`]];return kt().getModifiedValue(U,L.filter(Boolean))},y=()=>{const P=e.value.map(L=>({...L,components:ur(L.components),damage:ur(L.damage),upcast:ur(L.upcast),required:L.required?ur(L.required):void 0})),U=t.value.map(L=>({...L,required:L.required?ur(L.required):void 0}));return{spells:rn(P),sources:rn(U),slots:{mode:r.value.mode,total:{standard:ur(r.value.total.standard),pact:ur(r.value.total.pact)},used:ur(r.value.used)}}},w=P=>{const U=P?.spells?Hr(P.spells).map(L=>({...L,components:ar(L.components),damage:ar(L.damage),upcast:ar(L.upcast),required:L.required?ar(L.required):void 0})):e.value;e.value=U,t.value=P?.sources?Hr(P.sources).map(L=>({...L,required:L.required?ar(L.required):void 0})):t.value,r.value=P?.slots?{mode:P.slots.mode||"automatic",total:{standard:ar(P.slots.total?.standard),pact:ar(P.slots.total?.pact)},used:ar(P.slots.used)}:r.value},g=P=>{const U=P.reduce((L,B)=>{const O=B.spellcasting;return O!=="none"&&O!=="pact"&&Je.casterTypes[O]&&B.level>0?L+B.level*(Je.casterTypes[O].multiclassMultiplier||1):L},0);return Math.floor(U)};function b(P,U){const L=Zt(),B=kt(),O=L.classes.filter(R=>U(R));if(O.length===0)return Array(Je.spellLevels.length).fill(0);const T=O.length>1;let j;if(T)if(P==="pact-spell-slots")j=O.reduce((R,le)=>{if(Je.casterTypes.hasOwnProperty("pact")&&le.spellcasting==="pact"){const re=le.level,F=Je.casterTypes[le.spellcasting].slots[re-1];return R.map((H,ve)=>H+F[ve])}return R},Array(Je.spellLevels.length).fill(0));else{const R=g(O);j=Je.casterMulticlassing[R-1]}else{const R=O[0],le=R.level;P==="pact-spell-slots"?R.spellcasting==="pact"&&Je.casterTypes.hasOwnProperty("pact")?j=Je.casterTypes[R.spellcasting].slots[le-1]:j=Array(Je.spellLevels.length-1).fill(0):j=Je.casterTypes[R.spellcasting].slots[le-1]}return j.map((R,le)=>B.getModifiedValue(R,`${P}-${le}`).value.final)}const _=Oe(()=>r.value.mode==="automatic"?b("spell-slots",P=>P.spellcasting!=="none"&&P.spellcasting!=="pact"):r.value.total.standard.map((P,U)=>kt().getModifiedValue(P,`spell-slots-${U}`).value.final)),x=Oe(()=>r.value.mode==="automatic"?b("pact-spell-slots",P=>P.spellcasting!=="none"):r.value.total.pact.map((P,U)=>kt().getModifiedValue(P,`pact-spell-slots-${U}`).value.final)),E=Oe(()=>({standard:_.value,pact:x.value,all:_.value.map((U,L)=>U+x.value[L])})),C=P=>{const U=a.value.findIndex(B=>B._id===P);if(U<0)return kt().getModifiedValue(0,Ct());const L=a.value[U];if(L.type==="flat")return kt().getModifiedValue(es(L.flat)+Je.baseDC,Be["spell-dc"]);if(L.type==="ability"){const B=Yr().getAbilityModifier(Ga(L.ability,Yr().abilities)),O=Math.floor(Zt().getProficiencyBonus);return kt().getModifiedValue(B.value.final+O+Je.baseDC,Be["spell-dc"])}return kt().getModifiedValue(0,Ct())};return{spells:o,userSpells:e,sources:a,userSources:t,slots:r,getSlots:E,lastSpellAttack:u,setLastSpellAttackResult:l,getSourceAttackBonus:P=>{const U=a.value.findIndex(B=>B._id===P);if(U<0)return kt().getModifiedValue(0,Ct());const L=a.value[U];if(L.type==="flat")return kt().getModifiedValue(es(L.flat),[Be["spell-attack"],Be.attack]);if(L.type==="ability"){const B=Yr().getAbilityModifier(Ga(L.ability,Yr().abilities)),O=Math.floor(Zt().getProficiencyBonus);return kt().getModifiedValue(B.value.final+O,[Be["spell-attack"],Be.attack])}return kt().getModifiedValue(0,Ct())},getSpellDamage:P=>{if(!P)return kt().getModifiedDicePool([],Ct());if(!P.damage||P.damage.length===0)return Oe(()=>({final:[],modifiers:[]}));const U=t.value.find(O=>O._id===P.spellSourceId),L=Pe([]);for(const O of P.damage){O.damage&&L.value.push(gf(O.damage));let T=O.ability;if(T==="spellcasting"&&U&&U.type==="ability"&&(T=U.ability),T!=="none"&&T!=="spellcasting"){const j=Yr().getAbilityModifier(Ga(T,Yr().abilities));L.value.push(j.value.final)}}const B=[Be.damage,Be["spell-damage"],Be[`${P.attackType}-spell-damage`],Be[`${P.attackType}-damage`]];return kt().getModifiedDicePool(L.value,B)},getSpellCritRange:v,getSpellAttackBonus:P=>{const U=t.value.find(T=>T._id===P.spellSourceId);let L=0;const B=tc(P.attackAbility,P.spellSourceId,t.value);if(B!=="none"){const T=Ga(B,Yr().abilities);if(T){const j=Yr().getAbilityModifier(T).value.final,R=Math.floor(Zt().getProficiencyBonus);L=j+R}}else(P.attackAbility==="spellcasting"||!P.attackAbility)&&U?.type==="flat"&&(L=U.flat);const O=[Be["spell-attack"],Be.attack,Be[`${P.attackType}-spell-attack`],Be[`${P.attackType}-attack`]];return kt().getModifiedValue(L,O)},getSourceDC:C,getEmptySource:f,getEmptySpell:c,updateSpell:m,removeSpell:h,updateSource:d,removeSource:p,sendSpellInfoToChat:async(P,U)=>{const L=o.value.find(R=>R._id===P);if(!L)return;const B=C(L.spellSourceId).value.final,O=Ao(L,U,B),T=Yd({type:"chat",parameters:{characterName:yo().name,title:L.name,sourceType:"spell",properties:O,description:L.description.default}});await Hs.value.post({characterId:fa.character.id,content:T})},dehydrate:y,hydrate:w}});/**
 * @dice-roller/rpg-dice-roller - An advanced JS based dice roller that can roll various types of dice and modifiers, along with mathematical equations.
 * 
 * @version 5.5.1
 * @license MIT
 * @author GreenImp Media <info@greenimp.co.uk> (https://greenimp.co.uk)
 * @link https://dice-roller.github.io/documentation
 */class rD extends TypeError{constructor(t){super(`Operator "${t}" is invalid`),TypeError.captureStackTrace&&TypeError.captureStackTrace(this,rD),this.name="CompareOperatorError",this.operator=t}}class nD extends Error{constructor(t){super(`Invalid data format: ${t}`),Error.captureStackTrace&&Error.captureStackTrace(this,nD),this.name="ImportError",this.data=t}}class qg extends Error{constructor(t,r=null){super(`Die "${t}" must have more than 1 possible value to ${r||"do this action"}`),Error.captureStackTrace&&Error.captureStackTrace(this,qg),this.name="DieActionValueError",this.action=r,this.die=t}}class U_ extends Error{constructor(t){super(`Notation "${t}" is invalid`),Error.captureStackTrace&&Error.captureStackTrace(this,U_),this.name="NotationError",this.notation=t}}class Vu extends Error{constructor(t=null){super(`Missing argument${t?` "${t}"`:""}`),Error.captureStackTrace&&Error.captureStackTrace(this,Vu),this.argumentName=t}}const tQe=(e,t,r)=>{const n=Number(e),i=Number(t);let a;if(Number.isNaN(n)||Number.isNaN(i))return!1;switch(r){case"=":case"==":a=n===i;break;case"<":a=n<i;break;case">":a=n>i;break;case"<=":a=n<=i;break;case">=":a=n>=i;break;case"!":case"!=":case"<>":a=n!==i;break;default:a=!1;break}return a},iY=e=>Wl(e),di=e=>typeof e!="number"&&typeof e!="string"?!1:!Number.isNaN(e)&&Number.isFinite(Number(e)),_S=e=>{if(!di(e))return!1;const t=Number(e);return t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER},rQe=e=>Array.isArray(e)?e.reduce((t,r)=>t+(di(r)?parseFloat(`${r}`):0),0):0,nQe=(e,t=0)=>parseFloat(parseFloat(`${e}`).toFixed(t||0)),Ui=9007199254740992,B0=Ui-1,z_=-1>>>0,No=z_+1,Vl=No/2,AS=Vl-1,jg=1<<21,Xd=jg-1;function iD(e){return e.next()|0}function Mc(e,t){return t===0?e:r=>e(r)+t}function h4(e){const t=e.next()|0,r=e.next()>>>0;return(t&Xd)*No+r+(t&jg?-Ui:0)}function aY(e){for(;;){const t=e.next()|0;if(t&4194304){if((t&8388607)===4194304&&!(e.next()|0))return Ui}else{const r=e.next()>>>0;return(t&Xd)*No+r+(t&jg?-Ui:0)}}}function sY(e){return e.next()>>>0}function PA(e){const t=e.next()&Xd,r=e.next()>>>0;return t*No+r}function aD(e){for(;;){const t=e.next()|0;if(t&jg){if(!(t&Xd)&&!(e.next()|0))return Ui}else{const r=e.next()>>>0;return(t&Xd)*No+r}}}function oY(e){return(e+1&e)===0}function iQe(e){return t=>t.next()&e}function aQe(e){const t=e+1,r=t*Math.floor(No/t);return n=>{let i=0;do i=n.next()>>>0;while(i>=r);return i%t}}function sQe(e){return oY(e)?iQe(e):aQe(e)}function oQe(e){return(e|0)===0}function uQe(e){return t=>{const r=t.next()&e,n=t.next()>>>0;return r*No+n}}function lQe(e){const t=e*Math.floor(Ui/e);return r=>{let n=0;do{const i=r.next()&Xd,a=r.next()>>>0;n=i*No+a}while(n>=t);return n%e}}function cQe(e){const t=e+1;if(oQe(t)){const r=(t/No|0)-1;if(oY(r))return uQe(r)}return lQe(t)}function RP(e,t){return r=>{let n=0;do{const i=r.next()|0,a=r.next()>>>0;n=(i&Xd)*No+a+(i&jg?-Ui:0)}while(n<e||n>t);return n}}function Sp(e,t){if(e=Math.floor(e),t=Math.floor(t),e<-Ui||!isFinite(e))throw new RangeError(`Expected min to be at least ${-Ui}`);if(t>Ui||!isFinite(t))throw new RangeError(`Expected max to be at most ${Ui}`);const r=t-e;return r<=0||!isFinite(r)?()=>e:r===z_?e===0?sY:Mc(iD,e+Vl):r<z_?Mc(sQe(r),e):r===B0?Mc(PA,e):r<B0?Mc(cQe(r),e):t-1-e===B0?Mc(aD,e):e===-Ui&&t===Ui?aY:e===-Ui&&t===B0?h4:e===-B0&&t===Ui?Mc(h4,1):t===Ui?Mc(RP(e-1,t-1),1):RP(e,t)}function fQe(e){return(e.next()&1)===1}function v4(e,t){return r=>e(r)<t}function dQe(e){if(e<=0)return()=>!1;if(e>=1)return()=>!0;{const t=e*No;return t%1===0?v4(iD,t-Vl|0):v4(PA,Math.round(e*Ui))}}function pQe(e,t){return t==null?e==null?fQe:dQe(e):e<=0?()=>!1:e>=t?()=>!0:v4(Sp(0,t-1),e)}function mQe(e,t){const r=Sp(+e,+t);return n=>new Date(r(n))}function uY(e){return Sp(1,e)}function hQe(e,t){const r=uY(e);return n=>{const i=[];for(let a=0;a<t;++a)i.push(r(n));return i}}const vQe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function sD(e=vQe){const t=e.length;if(!t)throw new Error("Expected pool not to be an empty string");const r=Sp(0,t-1);return(n,i)=>{let a="";for(let s=0;s<i;++s){const o=r(n);a+=e.charAt(o)}return a}}const lY="0123456789abcdef",gQe=sD(lY),yQe=sD(lY.toUpperCase());function bQe(e){return e?yQe:gQe}function UP(e,t){return e<0?Math.max(e+t,0):Math.min(e,t)}function zP(e){const t=+e;return t<0?Math.ceil(t):Math.floor(t)}function _Qe(e,t,r,n){const i=t.length;if(i===0)throw new RangeError("Cannot pick from an empty array");const a=r==null?0:UP(zP(r),i),s=n===void 0?i:UP(zP(n),i);if(a>=s)throw new RangeError(`Cannot pick between bounds ${a} and ${s}`);const o=Sp(a,s-1);return t[o(e)]}function AQe(e,t){return t===1?e:t===0?()=>0:r=>e(r)*t}function cY(e){return PA(e)/Ui}function fY(e){return aD(e)/Ui}function wQe(e,t,r=!1){if(isFinite(e)){if(!isFinite(t))throw new RangeError("Expected max to be a finite number")}else throw new RangeError("Expected min to be a finite number");return Mc(AQe(r?fY:cY,t-e),e)}const xQe=Array.prototype.slice;function g4(e,t,r=0){const n=t.length;if(n)for(let i=n-1>>>0;i>r;--i){const s=Sp(0,i)(e);if(i!==s){const o=t[i];t[i]=t[s],t[s]=o}}return t}function SQe(e,t,r){if(r<0||r>t.length||!isFinite(r))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(r===0)return[];const n=xQe.call(t),i=n.length;if(i===r)return g4(e,n,0);const a=i-r;return g4(e,n,a-1).slice(a)}const EQe=(()=>{try{if("x".repeat(3)==="xxx")return(e,t)=>e.repeat(t)}catch{}return(e,t)=>{let r="";for(;t>0;)t&1&&(r+=e),t>>=1,e+=e;return r}})();function tm(e,t){return EQe("0",t-e.length)+e}function CQe(e){const t=e.next()>>>0,r=e.next()|0,n=e.next()|0,i=e.next()>>>0;return tm(t.toString(16),8)+"-"+tm((r&65535).toString(16),4)+"-"+tm((r>>4&4095|16384).toString(16),4)+"-"+tm((n&16383|32768).toString(16),4)+"-"+tm((n>>4&65535).toString(16),4)+tm(i.toString(16),8)}const Nm={next(){return Math.random()*No|0}};class $Qe{constructor(t=Nm){this.engine=t}int32(){return iD(this.engine)}uint32(){return sY(this.engine)}uint53(){return PA(this.engine)}uint53Full(){return aD(this.engine)}int53(){return h4(this.engine)}int53Full(){return aY(this.engine)}integer(t,r){return Sp(t,r)(this.engine)}realZeroToOneInclusive(){return fY(this.engine)}realZeroToOneExclusive(){return cY(this.engine)}real(t,r,n=!1){return wQe(t,r,n)(this.engine)}bool(t,r){return pQe(t,r)(this.engine)}pick(t,r,n){return _Qe(this.engine,t,r,n)}shuffle(t){return g4(this.engine,t)}sample(t,r){return SQe(this.engine,t,r)}die(t){return uY(t)(this.engine)}dice(t,r){return hQe(t,r)(this.engine)}uuid4(){return CQe(this.engine)}string(t,r){return sD(r)(this.engine,t)}hex(t,r){return bQe(r)(this.engine,t)}date(t,r){return mQe(t,r)(this.engine)}}const dY=(()=>{try{const e=new ArrayBuffer(4),t=new Int32Array(e);if(t[0]=Vl,t[0]===-Vl)return Int32Array}catch{}return Array})();let Jy=null;const y4=128;let wS=y4;const NQe={next(){return wS>=y4&&(Jy===null&&(Jy=new dY(y4)),crypto.getRandomValues(Jy),wS=0),Jy[wS++]|0}};function DQe(e=Nm,t=16){const r=[];r.push(new Date().getTime()|0);for(let n=1;n<t;++n)r[n]=e.next()|0;return r}const b4=(()=>{try{if(Math.imul(z_,5)===-5)return Math.imul}catch{}const e=65535;return(t,r)=>{const n=t>>>16&e,i=t&e,a=r>>>16&e,s=r&e;return i*s+(n*s+i*a<<16>>>0)|0}})(),Bu=624,Vc=Bu-1,_4=397,qP=Bu-_4,xS=2567483615;class rv{constructor(){this.data=new dY(Bu),this.index=0,this.uses=0}static seed(t){return new rv().seed(t)}static seedWithArray(t){return new rv().seedWithArray(t)}static autoSeed(){return rv.seedWithArray(DQe())}next(){(this.index|0)>=Bu&&(SS(this.data),this.index=0);const t=this.data[this.index];return this.index=this.index+1|0,this.uses+=1,TQe(t)|0}getUseCount(){return this.uses}discard(t){if(t<=0)return this;for(this.uses+=t,(this.index|0)>=Bu&&(SS(this.data),this.index=0);t+this.index>Bu;)t-=Bu-this.index,SS(this.data),this.index=0;return this.index=this.index+t|0,this}seed(t){let r=0;this.data[0]=r=t|0;for(let n=1;n<Bu;n=n+1|0)this.data[n]=r=b4(r^r>>>30,1812433253)+n|0;return this.index=Bu,this.uses=0,this}seedWithArray(t){return this.seed(19650218),kQe(this.data,t),this}}function SS(e){let t=0,r=0;for(;(t|0)<qP;t=t+1|0)r=e[t]&Vl|e[t+1|0]&AS,e[t]=e[t+_4|0]^r>>>1^(r&1?xS:0);for(;(t|0)<Vc;t=t+1|0)r=e[t]&Vl|e[t+1|0]&AS,e[t]=e[t-qP|0]^r>>>1^(r&1?xS:0);r=e[Vc]&Vl|e[0]&AS,e[Vc]=e[_4-1]^r>>>1^(r&1?xS:0)}function TQe(e){return e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^e>>>18}function kQe(e,t){let r=1,n=0;const i=t.length;let a=Math.max(i,Bu)|0,s=e[0]|0;for(;(a|0)>0;--a)e[r]=s=(e[r]^b4(s^s>>>30,1664525))+(t[n]|0)+(n|0)|0,r=r+1|0,++n,(r|0)>Vc&&(e[0]=e[Vc],r=1),n>=i&&(n=0);for(a=Vc;(a|0)>0;--a)e[r]=s=(e[r]^b4(s^s>>>30,1566083941))-r|0,r=r+1|0,(r|0)>Vc&&(e[0]=e[Vc],r=1);e[0]=Vl}let jP=null;const A4=128;let ES=A4;const IQe={next(){return ES>=A4&&(jP=new Int32Array(new Int8Array(require("crypto").randomBytes(4*A4)).buffer),ES=0),jP[ES++]|0}},L0=Symbol("engine"),CS=Symbol("random"),OQe={range:[],next(){return this.range[1]-this.range[0]}},MQe={next(){return 0}},VP={browserCrypto:NQe,nodeCrypto:IQe,MersenneTwister19937:rv,nativeMath:Nm,min:MQe,max:OQe};class PQe{constructor(t=Nm){this.engine=t||Nm}get engine(){return this[L0]}set engine(t){if(t&&typeof t.next!="function")throw new TypeError("engine must have function `next()`");this[L0]=t||Nm,this[CS]=new $Qe(this[L0])}integer(t,r){return this[L0].range=[t,r],this[CS].integer(t,r)}real(t,r,n=!1){return this[L0].range=[t,r],this[CS].real(t,r,n)}}const Dm=new PQe,HP=Symbol("text"),GP=Symbol("type");class Mu{static types={MULTILINE:"multiline",INLINE:"inline"};constructor(t,r=this.constructor.types.INLINE){this.text=t,this.type=r}get text(){return this[HP]}set text(t){if(typeof t=="object")throw new TypeError("Description text is invalid");if(!t&&t!==0||`${t}`.trim()==="")throw new TypeError("Description text cannot be empty");this[HP]=`${t}`.trim()}get type(){return this[GP]}set type(t){const r=Object.values(this.constructor.types);if(typeof t!="string")throw new TypeError("Description type must be a string");if(!r.includes(t))throw new RangeError(`Description type must be one of; ${r.join(", ")}`);this[GP]=t}toJSON(){const{text:t,type:r}=this;return{text:t,type:r}}toString(){return this.type===this.constructor.types.INLINE?`# ${this.text}`:`[${this.text}]`}}const Yy=Symbol("description");class pY{constructor(t=null){this.description=t}get description(){return this[Yy]||null}set description(t){if(!t&&t!==0)this[Yy]=null;else if(t instanceof Mu)this[Yy]=t;else if(typeof t=="string")this[Yy]=new Mu(t);else throw new TypeError(`description must be of type Description, string or null. Received ${typeof t}`)}toJSON(){const{description:t}=this;return{description:t}}toString(){return this.description?`${this.description}`:""}}class Ff{static order=999;constructor(){this.order=this.constructor.order}get name(){return"modifier"}get notation(){return""}get maxIterations(){return 1e3}defaults(t){return{}}useDefaultsIfNeeded(t){Object.entries(this.defaults(t)).forEach(([r,n])=>{typeof this[r]>"u"&&(this[r]=n)})}run(t,r){return this.useDefaultsIfNeeded(r),t}toJSON(){const{notation:t,name:r}=this;return{name:r,notation:t,type:"modifier"}}toString(){return this.notation}}const BQe={compound:"!",explode:"!","critical-failure":"__","critical-success":"**",drop:"d",max:"v",min:"^",penetrate:"p","re-roll":"r","re-roll-once":"ro","target-failure":"_","target-success":"*",unique:"u","unique-once":"uo"},mY=(...e)=>[...e].reduce((t,r)=>{let n;return r instanceof Ff?n=r.name:n=r,t+(BQe[n]||n)},""),$S=Symbol("calculation-value"),NS=Symbol("modifiers"),F0=Symbol("initial-value"),ZP=Symbol("use-in-total"),DS=Symbol("value");class q_{constructor(t,r=[],n=!0){if(di(t))this[F0]=Number(t),this.modifiers=r||[],this.useInTotal=n;else if(t&&typeof t=="object"&&!Array.isArray(t)){const i=di(t.initialValue)?t.initialValue:t.value;if(!di(i))throw new TypeError(`Result value is invalid: ${i}`);this[F0]=Number(i),di(t.value)&&Number(t.value)!==this[F0]&&(this.value=t.value),di(t.calculationValue)&&parseFloat(`${t.calculationValue}`)!==this.value&&(this.calculationValue=t.calculationValue),this.modifiers=t.modifiers||r||[],this.useInTotal=typeof t.useInTotal=="boolean"?t.useInTotal:n||!1}else throw t===1/0?new RangeError("Result value must be a finite number"):new TypeError(`Result value is invalid: ${t}`)}get calculationValue(){return di(this[$S])?parseFloat(this[$S]):this.value}set calculationValue(t){const r=di(t);if(t===1/0)throw new RangeError("Result calculation value must be a finite number");if(t&&!r)throw new TypeError(`Result calculation value is invalid: ${t}`);this[$S]=r?parseFloat(`${t}`):null}get initialValue(){return this[F0]}get modifierFlags(){return mY(...this.modifiers)}get modifiers(){return this[NS]}set modifiers(t){if((Array.isArray(t)||t instanceof Set)&&[...t].every(r=>typeof r=="string")){this[NS]=new Set([...t]);return}if(!t&&t!==0){this[NS]=new Set;return}throw new TypeError(`modifiers must be a Set or array of modifier names: ${t}`)}get useInTotal(){return!!this[ZP]}set useInTotal(t){this[ZP]=!!t}get value(){return di(this[DS])?this[DS]:this[F0]}set value(t){if(t===1/0)throw new RangeError("Result value must be a finite number");if(!di(t))throw new TypeError(`Result value is invalid: ${t}`);this[DS]=Number(t)}toJSON(){const{calculationValue:t,initialValue:r,modifierFlags:n,modifiers:i,useInTotal:a,value:s}=this;return{calculationValue:t,initialValue:r,modifierFlags:n,modifiers:[...i],type:"result",useInTotal:a,value:s}}toString(){return this.value+this.modifierFlags}}const TS=Symbol("rolls");class Pl{constructor(t=[]){this.rolls=t}get length(){return this.rolls.length||0}get rolls(){return[...this[TS]]}set rolls(t){if(!t||!Array.isArray(t))throw new TypeError(`rolls must be an array: ${t}`);this[TS]=[],t.forEach(r=>{this.addRoll(r)})}get value(){return this.rolls.reduce((t,r)=>t+(r.useInTotal?r.calculationValue:0),0)}addRoll(t){const r=t instanceof q_?t:new q_(t);this[TS].push(r)}toJSON(){const{rolls:t,value:r}=this;return{rolls:t,type:"roll-results",value:r}}toString(){return`[${this.rolls.join(", ")}]`}}const kS=Symbol("modifiers"),WP=Symbol("qty"),KP=Symbol("sides"),JP=Symbol("min-value"),YP=Symbol("max-value");class vh extends pY{constructor(t,r=1,n=null,i=1,a=null,s=null){if(super(s),!t&&t!==0)throw new Vu("sides");if(t===1/0)throw new RangeError("numerical sides must be finite number");if(di(t)){if(t<1||!_S(t))throw new RangeError("numerical sides must be a positive finite number")}else if(typeof t!="string")throw new TypeError("non-numerical sides must be a string");if(di(r)){if(r<1||r>999)throw new RangeError("qty must be between 1 and 999")}else throw new TypeError("qty must be a positive finite integer");let o=i;if(o==null)o=1;else if(di(o)){if(!_S(o))throw new RangeError("min must a finite number")}else throw new TypeError("min must a finite number");if(a&&!di(a))throw new TypeError("max must a finite number");if(a&&!_S(a))throw new RangeError("max must a finite number");this[WP]=parseInt(`${r}`,10),this[KP]=t,n&&(this.modifiers=n),this[JP]=parseInt(o,10),this[YP]=a?parseInt(`${a}`,10):t}get average(){return(this.min+this.max)/2}get modifiers(){return this[kS]?new Map([...this[kS]].sort((t,r)=>t[1].order-r[1].order)):null}set modifiers(t){let r;if(t instanceof Map)r=t;else if(Array.isArray(t))r=new Map(t.map(n=>[n.name,n]));else if(typeof t=="object")r=new Map(Object.entries(t));else throw new TypeError("modifiers should be a Map, array, or an Object containing Modifiers");if(r.size&&[...r.entries()].some(n=>!(n[1]instanceof Ff)))throw new TypeError("modifiers must only contain Modifier instances");this[kS]=r}get max(){return this[YP]}get min(){return this[JP]}get name(){return"standard"}get notation(){let t=`${this.qty}d${this.sides}`;return this.modifiers&&this.modifiers.size&&(t+=[...this.modifiers.values()].reduce((r,n)=>r+n.notation,"")),t}get qty(){return this[WP]}get sides(){return this[KP]}roll(){const t=new Pl;for(let r=0;r<this.qty;r++)t.addRoll(this.rollOnce());return(this.modifiers||[]).forEach(r=>{r.run(t,this)}),t}rollOnce(){return new q_(Dm.integer(this.min,this.max))}toJSON(){const{average:t,max:r,min:n,modifiers:i,name:a,notation:s,qty:o,sides:u}=this;return Object.assign(super.toJSON(),{average:t,max:r,min:n,modifiers:i,name:a,notation:s,qty:o,sides:u,type:"die"})}toString(){return`${this.notation}${this.description?` ${this.description}`:""}`}}class LQe extends vh{constructor(t=2,r=1,n=null,i=null){let a=t;if(!a&&a!==0)a=2;else if(a!==1&&a!==2)throw new RangeError("nonBlanks must be 1 or 2");super(a,r,n,-1,1,i)}get name(){return"fudge"}get nonBlanks(){return super.sides}get sides(){return`F.${this.nonBlanks}`}rollOnce(){let t=0;if(this.nonBlanks===2)t=Dm.integer(1,3)-2;else if(this.nonBlanks===1){const r=Dm.integer(1,6);r===1?t=-1:r===6&&(t=1)}return new q_(t)}}class FQe extends vh{constructor(t=1,r=null,n=!1,i=null){super(100,t,r,null,null,i),this.sidesAsNumber=!!n}get name(){return"percentile"}get sides(){return this.sidesAsNumber?super.sides:"%"}}const XP=Symbol("operator"),QP=Symbol("value");class j_{constructor(t,r){if(t){if(!r&&r!==0)throw new Vu("value")}else throw new Vu("operator");this.operator=t,this.value=r}static isValidOperator(t){return typeof t=="string"&&/^(?:[<>!]?=|[<>]|<>)$/.test(t)}set operator(t){if(!this.constructor.isValidOperator(t))throw new rD(t);this[XP]=t}get operator(){return this[XP]}set value(t){if(!di(t))throw new TypeError("value must be a finite number");this[QP]=Number(t)}get value(){return this[QP]}isMatch(t){return tQe(t,this.value,this.operator)}toJSON(){const{operator:t,value:r}=this;return{operator:t,type:"compare-point",value:r}}toString(){return`${this.operator}${this.value}`}}const eB=Symbol("compare-point");class Xh extends Ff{constructor(t){super(),t&&(this.comparePoint=t)}get comparePoint(){return this[eB]}set comparePoint(t){if(!(t instanceof j_))throw new TypeError("comparePoint must be instance of ComparePoint");this[eB]=t}get name(){return"comparison"}get notation(){return`${this.comparePoint||""}`}defaultComparePoint(t){return{}}defaults(t){const r=this.defaultComparePoint(t);return typeof r=="object"&&r.length===2?{comparePoint:new j_(...r)}:{}}isComparePoint(t){return this.comparePoint?this.comparePoint.isMatch(t):!1}toJSON(){const{comparePoint:t}=this;return Object.assign(super.toJSON(),{comparePoint:t})}}class RQe extends Xh{static order=10;constructor(t){super(t)}get name(){return"critical-failure"}get notation(){return`cf${super.notation}`}defaultComparePoint(t){return["=",t.min]}run(t,r){return super.run(t,r),t.rolls.forEach(n=>(this.isComparePoint(n.value)&&n.modifiers.add("critical-failure"),n)),t}}class UQe extends Xh{static order=9;constructor(t){super(t)}get name(){return"critical-success"}get notation(){return`cs${super.notation}`}defaultComparePoint(t){return["=",t.max]}run(t,r){return super.run(t,r),t.rolls.forEach(n=>(this.isComparePoint(n.value)&&n.modifiers.add("critical-success"),n)),t}}const IS=Symbol("calculation-value"),tB=Symbol("is-roll-group"),OS=Symbol("modifiers"),MS=Symbol("results"),rB=Symbol("use-in-total");class ca{constructor(t=[],r=[],n=!1,i=!0){this.isRollGroup=n,this.modifiers=r,this.results=t,this.useInTotal=i}get calculationValue(){return di(this[IS])?parseFloat(this[IS]):this.value}set calculationValue(t){const r=di(t);if(t===1/0)throw new RangeError("Results calculation value must be a finite number");if(t&&!r)throw new TypeError(`Results calculation value is invalid: ${t}`);this[IS]=r?parseFloat(`${t}`):null}get isRollGroup(){return this[tB]}set isRollGroup(t){this[tB]=!!t}get length(){return this.results.length||0}get modifierFlags(){return mY(...this.modifiers)}get modifiers(){return this[OS]}set modifiers(t){if((Array.isArray(t)||t instanceof Set)&&[...t].every(r=>typeof r=="string"))this[OS]=new Set([...t]);else if(!t&&t!==0)this[OS]=new Set;else throw new TypeError(`modifiers must be a Set or array of modifier names: ${t}`)}get results(){return[...this[MS]]}set results(t){if(!t||!Array.isArray(t))throw new TypeError(`results must be an array: ${t}`);this[MS]=[],t.forEach(r=>{this.addResult(r)})}get useInTotal(){return!!this[rB]}set useInTotal(t){this[rB]=!!t}get value(){if(!this.results.length)return 0;const t=this.results.reduce((r,n)=>{let i=n;return n instanceof ca?i=n.useInTotal?n.calculationValue:0:n instanceof Pl&&(i=n.value),r+i},typeof this.results[0]=="string"?"":0);return typeof t=="string"?iY(t):t}addResult(t){let r;if(t instanceof ca||t instanceof Pl)r=t;else if(typeof t=="string"||di(t))r=t;else throw new TypeError("value must be one of ResultGroup, RollResults, string, or number");this[MS].push(r)}toJSON(){const{calculationValue:t,isRollGroup:r,modifierFlags:n,modifiers:i,results:a,useInTotal:s,value:o}=this;return{calculationValue:t,isRollGroup:r,modifierFlags:n,modifiers:[...i],results:a,type:"result-group",useInTotal:s,value:o}}toString(){let t;return this.isRollGroup?t=`{${this.results.join(", ")}}`:t=this.results.join(""),this.modifierFlags&&(t=`(${t})${this.modifierFlags}`),t}}const nB=Symbol("end"),iB=Symbol("qty");class hY extends Ff{static order=6;constructor(t="h",r=1){super(),this.end=t,this.qty=r}get end(){return this[nB]}set end(t){if(t!=="h"&&t!=="l")throw new RangeError('End must be "h" or "l"');this[nB]=t}get name(){return`keep-${this.end}`}get notation(){return`k${this.end}${this.qty}`}get qty(){return this[iB]}set qty(t){if(t===1/0)throw new RangeError("qty must be a finite number");if(!di(t)||t<1)throw new TypeError("qty must be a positive finite integer");this[iB]=Math.floor(t)}rangeToDrop(t){return this.end==="h"?[0,t.length-this.qty]:[this.qty,t.length]}run(t,r){let n,i;return t instanceof ca?(n=t.results,n.length===1&&n[0]instanceof ca?i=n[0].results.map((a,s)=>a instanceof Pl?a.rolls.map((o,u)=>({value:o.value,index:[s,u]})):null).flat().filter(Boolean):i=[...n].map((a,s)=>({value:a.value,index:s}))):(n=t.rolls,i=[...n].map((a,s)=>({value:a.value,index:s}))),i=i.sort((a,s)=>a.value-s.value).map(a=>a.index).slice(...this.rangeToDrop(i)),i.forEach(a=>{let s;Array.isArray(a)?s=n[0].results[a[0]].rolls[a[1]]:s=n[a],s.modifiers.add("drop"),s.useInTotal=!1}),t}toJSON(){const{end:t,qty:r}=this;return Object.assign(super.toJSON(),{end:t,qty:r})}}class zQe extends hY{static order=7;constructor(t="l",r=1){super(t,r)}get name(){return`drop-${this.end}`}get notation(){return`d${this.end}${this.qty}`}rangeToDrop(t){return this.end==="h"?[t.length-this.qty,t.length]:[0,this.qty]}}const aB=Symbol("compound"),sB=Symbol("penetrate");class qQe extends Xh{static order=3;constructor(t=null,r=!1,n=!1){super(t),this[aB]=!!r,this[sB]=!!n}get compound(){return this[aB]}get name(){return"explode"}get notation(){return`!${this.compound?"!":""}${this.penetrate?"p":""}${super.notation}`}get penetrate(){return this[sB]}defaultComparePoint(t){return["=",t.max]}run(t,r){if(super.run(t,r),r.min===r.max)throw new qg(r,"explode");const n=t;return n.rolls=t.rolls.map(i=>{const a=[i];let s=i.value;for(let o=0;o<this.maxIterations&&this.isComparePoint(s);o++){const u=a[a.length-1],l=r.rollOnce();s=l.value,u.modifiers.add("explode"),this.penetrate&&(u.modifiers.add("penetrate"),l.value-=1),a.push(l)}return this.compound&&a.length>1?(i.value=rQe(a.map(o=>o.value)),i.modifiers=["explode","compound"],this.penetrate&&i.modifiers.add("penetrate"),i):a}).flat(),n}toJSON(){const{compound:t,penetrate:r}=this;return Object.assign(super.toJSON(),{compound:t,penetrate:r})}}const oB=Symbol("max");class jQe extends Ff{static order=2;constructor(t){super(),this.max=t}get max(){return this[oB]}set max(t){if(!di(t))throw new TypeError("max must be a number");this[oB]=parseFloat(`${t}`)}get name(){return"max"}get notation(){return`max${this.max}`}run(t,r){const n=t;return n.rolls=t.rolls.map(i=>{const a=i;return i.value>this.max&&(a.value=this.max,a.modifiers.add("max")),a}),n}toJSON(){const{max:t}=this;return Object.assign(super.toJSON(),{max:t})}}const uB=Symbol("min");class VQe extends Ff{static order=1;constructor(t){super(),this.min=t}get min(){return this[uB]}set min(t){if(!di(t))throw new TypeError("min must be a number");this[uB]=parseFloat(`${t}`)}get name(){return"min"}get notation(){return`min${this.min}`}run(t,r){const n=t;return n.rolls=t.rolls.map(i=>{const a=i;return i.value<this.min&&(a.value=this.min,a.modifiers.add("min")),a}),n}toJSON(){const{min:t}=this;return Object.assign(super.toJSON(),{min:t})}}const lB=Symbol("once");class HQe extends Xh{static order=4;constructor(t=!1,r=null){super(r),this.once=!!t}get name(){return"re-roll"}get notation(){return`r${this.once?"o":""}${super.notation}`}get once(){return!!this[lB]}set once(t){this[lB]=!!t}defaultComparePoint(t){return["=",t.min]}run(t,r){if(super.run(t,r),r.min===r.max)throw new qg(r,"re-roll");return t.rolls.map(n=>{for(let i=0;i<this.maxIterations&&this.isComparePoint(n.value);i++){const a=r.rollOnce();if(n.value=a.value,n.modifiers.add(`re-roll${this.once?"-once":""}`),this.once)break}return n}),t}toJSON(){const{once:t}=this;return Object.assign(super.toJSON(),{once:t})}}const cB=Symbol("direction");class GQe extends Ff{static order=11;constructor(t="a"){super(),this.direction=t}get direction(){return this[cB]}set direction(t){if(t!=="a"&&t!=="d")throw new RangeError('Direction must be "a" (Ascending) or "d" (Descending)');this[cB]=t}get name(){return"sorting"}get notation(){return`s${this.direction}`}run(t,r){let n;return t instanceof ca?n="results":n="rolls",t[n]=t[n].sort((i,a)=>this.direction==="d"?a.value-i.value:i.value-a.value),t instanceof ca&&(t[n]=t[n].map(i=>i instanceof ca||i instanceof Pl?this.run(i,r):i)),t}toJSON(){const{direction:t}=this;return Object.assign(super.toJSON(),{direction:t})}}const fB=Symbol("failure-cp");class ZQe extends Xh{static order=8;constructor(t,r=null){super(t),this.failureComparePoint=r}get failureComparePoint(){return this[fB]}set failureComparePoint(t){if(t&&!(t instanceof j_))throw new TypeError("failure comparePoint must be instance of ComparePoint or null");this[fB]=t||null}get name(){return"target"}get notation(){return`${super.notation}${this.failureComparePoint?`f${this.failureComparePoint}`:""}`}get successComparePoint(){return this.comparePoint}set successComparePoint(t){super.comparePoint=t}getStateValue(t){return this.isSuccess(t)?1:this.isFailure(t)?-1:0}isFailure(t){return this.failureComparePoint?this.failureComparePoint.isMatch(t):!1}isNeutral(t){return!this.isSuccess(t)&&!this.isFailure(t)}isSuccess(t){return this.isComparePoint(t)}run(t,r){let n;return t instanceof ca?n=t.results:n=t.rolls,n.forEach(i=>{this.isSuccess(i.value)?i.modifiers.add("target-success"):this.isFailure(i.value)&&i.modifiers.add("target-failure"),i.calculationValue=this.getStateValue(i.value)}),t}toJSON(){const{failureComparePoint:t,successComparePoint:r}=this,n=super.toJSON();return delete n.comparePoint,Object.assign(n,{failureComparePoint:t,successComparePoint:r})}}const dB=Symbol("once"),WQe=(e,t,r,n=!1)=>{const i=r.map(a=>a.value).indexOf(e.value);return n?i<t:i!==t};class KQe extends Xh{static order=5;constructor(t=!1,r=null){super(r),this.once=!!t}get name(){return"unique"}get notation(){return`u${this.once?"o":""}${super.notation}`}get once(){return!!this[dB]}set once(t){this[dB]=!!t}run(t,r){if(r.min===r.max)throw new qg(r,"re-roll");return t.rolls.forEach((n,i,a)=>{if(i!==0)for(let s=0;s<this.maxIterations&&(!this.comparePoint||this.isComparePoint(n.value))&&WQe(n,i,a,!0);s++){const o=r.rollOnce();if(n.value=o.value,n.modifiers.add(`unique${this.once?"-once":""}`),this.once)break}}),t}toJSON(){const{once:t}=this;return Object.assign(super.toJSON(),{once:t})}}const JQe=e=>{try{return!!(e&&btoa(atob(e))===e)}catch{return!1}},YQe=e=>{try{const t=e?JSON.parse(e):!1;return!!(t&&typeof t=="object")}catch{return!1}},PS=Symbol("expressions"),BS=Symbol("modifiers");class vY extends pY{constructor(t=[],r=[],n=null){super(n),this.expressions=t,this.modifiers=r}get expressions(){return[...this[PS]||[]]}set expressions(t){if(!t)throw new Vu("expressions");if(!Array.isArray(t))throw new TypeError(`expressions must be an array: ${t}`);this[PS]=[],t.forEach(r=>{if(!r||!Array.isArray(r))throw new TypeError(`Expressions must be an array of arrays: ${t}`);if(r.length===0)throw new TypeError(`Sub expressions cannot be empty: ${t}`);if(!r.every(n=>n instanceof vh||typeof n=="string"||typeof n=="number"))throw new TypeError("Sub expression items must be Dice, numbers, or strings");this[PS].push(r)})}get modifiers(){return this[BS]?new Map([...this[BS]].sort((t,r)=>t[1].order-r[1].order)):null}set modifiers(t){let r;if(t instanceof Map)r=t;else if(Array.isArray(t))r=new Map(t.map(n=>[n.name,n]));else if(typeof t=="object")r=new Map(Object.entries(t));else throw new TypeError("modifiers should be a Map, array, or an Object containing Modifiers");if(r.size&&[...r.entries()].some(n=>!(n[1]instanceof Ff)))throw new TypeError("modifiers must only contain Modifier instances");this[BS]=r}get notation(){let t=this.expressions.map(r=>r.reduce((n,i)=>n+i,"")).join(", ");return t=`{${t}}`,this.modifiers&&this.modifiers.size&&(t+=[...this.modifiers.values()].reduce((r,n)=>r+n.notation,"")),t}roll(){const t=new ca(this.expressions.map(r=>{const n=r.map(i=>i instanceof vh?i.roll():i);return new ca(n)}));return t.isRollGroup=!0,(this.modifiers||[]).forEach(r=>{r.run(t,this)}),t}toJSON(){const{modifiers:t,notation:r,expressions:n}=this;return Object.assign(super.toJSON(),{expressions:n,modifiers:t,notation:r,type:"group"})}toString(){return`${this.notation}${this.description?` ${this.description}`:""}`}}function XQe(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function gh(e,t,r,n){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,gh.prototype),i.expected=t,i.found=r,i.location=n,i.name="SyntaxError",i}XQe(gh,Error);function LS(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,r+=r.repeat(t),e+r.slice(0,t))}gh.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r=null,n;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,s=this.location.source+":"+a.line+":"+a.column;if(r){var o=this.location.end,u=LS("",a.line.toString().length," "),l=r[i.line-1],c=i.line===o.line?o.column:l.length+1,f=c-i.column||1;t+=`
 --> `+s+`
`+u+` |
`+a.line+" | "+l+`
`+u+" | "+LS("",i.column-1," ")+LS("",f,"^")}else t+=`
 at `+s}return t};gh.buildMessage=function(e,t){var r={literal:function(l){return'"'+i(l.text)+'"'},class:function(l){var c=l.parts.map(function(f){return Array.isArray(f)?a(f[0])+"-"+a(f[1]):a(f)});return"["+(l.inverted?"^":"")+c.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(l){return l.description}};function n(l){return l.charCodeAt(0).toString(16).toUpperCase()}function i(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+n(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+n(c)})}function a(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+n(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+n(c)})}function s(l){return r[l.type](l)}function o(l){var c=l.map(s),f,d;if(c.sort(),c.length>0){for(f=1,d=1;f<c.length;f++)c[f-1]!==c[f]&&(c[d]=c[f],d++);c.length=d}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function u(l){return l?'"'+i(l)+'"':"end of input"}return"Expected "+o(e)+" but "+u(t)+" found."};function QQe(e,t){t=t!==void 0?t:{};var r={},n=t.grammarSource,i={Main:Qg},a=Qg,s="{",o=",",u="}",l="d",c="d%",f="dF",d=".",p="!",m="p",h="k",v="max",y="min",w="r",g="o",b="u",_="cs",x="cf",E="s",C="a",$="f",D="!=",N="<=",k=">=",P="=",U="<>",L=">",B="<",O="(",T=")",j="abs",R="ceil",le="cos",re="exp",F="floor",H="log",ve="round",ae="sign",W="sin",Q="sqrt",J="tan",se="pow",Ce="-",Te="**",oe="*",q="^",me="%",X="/",K="+",de="/*",Ee="*/",te="[",ce="]",pe="//",Y="#",be=/^[12]/,ye=/^[lh]/,ge=/^[.]/,xe=/^[1-9]/,ke=/^[0-9]/,Ke=/^[^\]]/,Ue=/^[\n\r\u2028\u2029]/,rt=/^[ \t\n\r]/,je=Gt("{",!1),Rt=Gt(",",!1),Pt=Gt("}",!1),cr=Gt("d",!1),G=Gt("d%",!1),Ne=Gt("dF",!1),Ge=Gt(".",!1),ot=Io(["1","2"],!1,!1),Ht=Gt("!",!1),Xt=Gt("p",!1),oi=Io(["l","h"],!1,!1),bu=Gt("k",!1),ol=Gt("max",!1),oc=Gt("min",!1),uc=Gt("r",!1),_u=Gt("o",!1),lc=Gt("u",!1),Rf=Gt("cs",!1),Uf=Gt("cf",!1),Au=Gt("s",!1),Ks=Gt("a",!1),wu=Gt("f",!1),zf=Gt("!=",!1),qf=Gt("<=",!1),ia=Gt(">=",!1),ti=Gt("=",!1),jf=Gt("<>",!1),xu=Gt(">",!1),as=Gt("<",!1),Su=Gt("(",!1),Cs=Gt(")",!1),Vf=Gt("abs",!1),Hf=Gt("ceil",!1),Gf=Gt("cos",!1),Zf=Gt("exp",!1),Wf=Gt("floor",!1),Kf=Gt("log",!1),Eu=Gt("round",!1),Do=Gt("sign",!1),jr=Gt("sin",!1),$i=Gt("sqrt",!1),Jf=Gt("tan",!1),Cu=Gt("pow",!1),$s=Gt("-",!1),cc=Io(["."],!1,!1),Cp=Io([["1","9"]],!1,!1),fc=Io([["0","9"]],!1,!1),Qh=Gt("**",!1),e0=Gt("*",!1),t0=Gt("^",!1),Fa=Gt("%",!1),dc=Gt("/",!1),Yf=Gt("+",!1),pc=Tp("comment"),r0=Gt("/*",!1),Js=Gt("*/",!1),To=Yg(),$p=Gt("[",!1),Xf=Io(["]"],!0,!1),Np=Gt("]",!1),Dp=Gt("//",!1),z=Gt("#",!1),ie=Io([`
`,"\r","\u2028","\u2029"],!1,!1),$e=Tp("whitespace"),Re=Io([" ","	",`
`,"\r"],!1,!1),at=Tp("whitespace or comment"),Et=function(ue,Ie,Ve,Ye){return new vY([ue,...Ie.map(ht=>ht[3])],Object.assign({},...Ve.map(ht=>({[ht.name]:ht}))),Ye.find(ht=>ht instanceof Mu))},$r=function(ue,Ie,Ve){return ue.modifiers=Object.assign({},...Ie.map(Ye=>({[Ye.name]:Ye}))),ue.description=Ve.find(Ye=>Ye instanceof Mu),ue},fn=function(ue,Ie){return new vh(Ie,ue||1)},gi=function(ue){return new FQe(ue||1)},ui=function(ue,Ie){return new LQe(Ie?parseInt(Ie[1],10):2,ue||1)},Zg=function(ue,Ie,Ve){return new qQe(Ve,!!ue,!!Ie)},Wg=function(ue,Ie){return new ZQe(ue,Ie)},Kg=function(ue,Ie){return new zQe(ue||"l",Ie)},HA=function(ue,Ie){return new hY(ue||"h",Ie)},GA=function(ue){return new jQe(ue)},ZA=function(ue){return new VQe(ue)},Jg=function(ue,Ie){return new HQe(!!ue,Ie)},WA=function(ue,Ie){return new KQe(!!ue,Ie)},KA=function(ue){return new UQe(ue)},JA=function(ue){return new RQe(ue)},YA=function(ue){return new GQe(ue||"a")},n0=function(ue){return ue},XA=function(ue,Ie){return new j_(ue,Ie)},QA=function(ue,Ie,Ve){return iY(aa())},ew=function(ue,Ie){return ue=Array.isArray(ue)?ue:[ue],[...ue,...Ie.map(([,Ve,,Ye])=>[Ve,Ye]).flat(2)]},tw=function(ue,Ie,Ve){return[ue,...Ie,Ve]},rw=function(ue,Ie){return[`${ue}(`,...Ie,")"]},Un=function(ue,Ie,Ve){return[`${ue}(`,...Ie,",",...Ve,")"]},On=function(){return parseFloat(aa())},nw=function(){return parseInt(aa(),10)},iw=function(){return parseInt(aa(),10)},aw=function(){return"^"},sw=function(ue){return new Mu(ue.flat().join(""),Mu.types.MULTILINE)},ow=function(ue){return new Mu(ue.flat().join(""),Mu.types.MULTILINE)},uw=function(ue){return new Mu(ue.flat().join(""),Mu.types.INLINE)},we=0,dn=0,ci=[{line:1,column:1}],ss=0,ko=[],dt=0,mc;if("startRule"in t){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=i[t.startRule]}function aa(){return e.substring(dn,we)}function Gt(ue,Ie){return{type:"literal",text:ue,ignoreCase:Ie}}function Io(ue,Ie,Ve){return{type:"class",parts:ue,inverted:Ie,ignoreCase:Ve}}function Yg(){return{type:"any"}}function Xg(){return{type:"end"}}function Tp(ue){return{type:"other",description:ue}}function i0(ue){var Ie=ci[ue],Ve;if(Ie)return Ie;for(Ve=ue-1;!ci[Ve];)Ve--;for(Ie=ci[Ve],Ie={line:Ie.line,column:Ie.column};Ve<ue;)e.charCodeAt(Ve)===10?(Ie.line++,Ie.column=1):Ie.column++,Ve++;return ci[ue]=Ie,Ie}function _a(ue,Ie,Ve){var Ye=i0(ue),ht=i0(Ie),$t={source:n,start:{offset:ue,line:Ye.line,column:Ye.column},end:{offset:Ie,line:ht.line,column:ht.column}};return Ve&&n&&typeof n.offset=="function"&&($t.start=n.offset($t.start),$t.end=n.offset($t.end)),$t}function _t(ue){we<ss||(we>ss&&(ss=we,ko=[]),ko.push(ue))}function os(ue,Ie,Ve){return new gh(gh.buildMessage(ue,Ie),ue,Ie,Ve)}function Qg(){var ue;return ue=Nu(),ue}function e1(){var ue,Ie,Ve,Ye,ht,$t,Vr,wn,Ds;if(ue=we,e.charCodeAt(we)===123?(Ie=s,we++):(Ie=r,dt===0&&_t(je)),Ie!==r)if(Vn(),Ve=Nu(),Ve!==r){for(Ye=[],ht=we,$t=Vn(),e.charCodeAt(we)===44?(Vr=o,we++):(Vr=r,dt===0&&_t(Rt)),Vr!==r?(wn=Vn(),Ds=Nu(),Ds!==r?($t=[$t,Vr,wn,Ds],ht=$t):(we=ht,ht=r)):(we=ht,ht=r);ht!==r;)Ye.push(ht),ht=we,$t=Vn(),e.charCodeAt(we)===44?(Vr=o,we++):(Vr=r,dt===0&&_t(Rt)),Vr!==r?(wn=Vn(),Ds=Nu(),Ds!==r?($t=[$t,Vr,wn,Ds],ht=$t):(we=ht,ht=r)):(we=ht,ht=r);if(ht=Vn(),e.charCodeAt(we)===125?($t=u,we++):($t=r,dt===0&&_t(Pt)),$t!==r){for(Vr=[],wn=Ns();wn!==r;)Vr.push(wn),wn=Ns();wn=o1(),dn=ue,ue=Et(Ve,Ye,Vr,wn)}else we=ue,ue=r}else we=ue,ue=r;else we=ue,ue=r;return ue}function $u(){var ue,Ie,Ve,Ye;if(ue=we,Ie=kp(),Ie===r&&(Ie=a0(),Ie===r&&(Ie=jn())),Ie!==r){for(Ve=[],Ye=Ns();Ye!==r;)Ve.push(Ye),Ye=Ns();Ye=o1(),dn=ue,ue=$r(Ie,Ve,Ye)}else we=ue,ue=r;return ue}function kp(){var ue,Ie,Ve,Ye;return ue=we,Ie=Qf(),Ie===r&&(Ie=null),e.charCodeAt(we)===100?(Ve=l,we++):(Ve=r,dt===0&&_t(cr)),Ve!==r?(Ye=Qf(),Ye!==r?(dn=ue,ue=fn(Ie,Ye)):(we=ue,ue=r)):(we=ue,ue=r),ue}function a0(){var ue,Ie,Ve;return ue=we,Ie=Qf(),Ie===r&&(Ie=null),e.substr(we,2)===c?(Ve=c,we+=2):(Ve=r,dt===0&&_t(G)),Ve!==r?(dn=ue,ue=gi(Ie)):(we=ue,ue=r),ue}function jn(){var ue,Ie,Ve,Ye,ht,$t;return ue=we,Ie=Qf(),Ie===r&&(Ie=null),e.substr(we,2)===f?(Ve=f,we+=2):(Ve=r,dt===0&&_t(Ne)),Ve!==r?(Ye=we,e.charCodeAt(we)===46?(ht=d,we++):(ht=r,dt===0&&_t(Ge)),ht!==r?(be.test(e.charAt(we))?($t=e.charAt(we),we++):($t=r,dt===0&&_t(ot)),$t!==r?(ht=[ht,$t],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r),Ye===r&&(Ye=null),dn=ue,ue=ui(Ie,Ye)):(we=ue,ue=r),ue}function Ns(){var ue;return ue=s0(),ue===r&&(ue=lw(),ue===r&&(ue=o0(),ue===r&&(ue=cw(),ue===r&&(ue=t1(),ue===r&&(ue=Ip(),ue===r&&(ue=hc(),ue===r&&(ue=pw(),ue===r&&(ue=r1(),ue===r&&(ue=fw(),ue===r&&(ue=dw())))))))))),ue}function s0(){var ue,Ie,Ve,Ye,ht;return ue=we,e.charCodeAt(we)===33?(Ie=p,we++):(Ie=r,dt===0&&_t(Ht)),Ie!==r?(e.charCodeAt(we)===33?(Ve=p,we++):(Ve=r,dt===0&&_t(Ht)),Ve===r&&(Ve=null),e.charCodeAt(we)===112?(Ye=m,we++):(Ye=r,dt===0&&_t(Xt)),Ye===r&&(Ye=null),ht=Oo(),ht===r&&(ht=null),dn=ue,ue=Zg(Ve,Ye,ht)):(we=ue,ue=r),ue}function lw(){var ue,Ie,Ve;return ue=we,Ie=Oo(),Ie!==r?(Ve=n1(),Ve===r&&(Ve=null),dn=ue,ue=Wg(Ie,Ve)):(we=ue,ue=r),ue}function o0(){var ue,Ie,Ve,Ye;return ue=we,e.charCodeAt(we)===100?(Ie=l,we++):(Ie=r,dt===0&&_t(cr)),Ie!==r?(ye.test(e.charAt(we))?(Ve=e.charAt(we),we++):(Ve=r,dt===0&&_t(oi)),Ve===r&&(Ve=null),Ye=Op(),Ye!==r?(dn=ue,ue=Kg(Ve,Ye)):(we=ue,ue=r)):(we=ue,ue=r),ue}function cw(){var ue,Ie,Ve,Ye;return ue=we,e.charCodeAt(we)===107?(Ie=h,we++):(Ie=r,dt===0&&_t(bu)),Ie!==r?(ye.test(e.charAt(we))?(Ve=e.charAt(we),we++):(Ve=r,dt===0&&_t(oi)),Ve===r&&(Ve=null),Ye=Op(),Ye!==r?(dn=ue,ue=HA(Ve,Ye)):(we=ue,ue=r)):(we=ue,ue=r),ue}function fw(){var ue,Ie,Ve;return ue=we,e.substr(we,3)===v?(Ie=v,we+=3):(Ie=r,dt===0&&_t(ol)),Ie!==r?(Ve=ul(),Ve!==r?(dn=ue,ue=GA(Ve)):(we=ue,ue=r)):(we=ue,ue=r),ue}function dw(){var ue,Ie,Ve;return ue=we,e.substr(we,3)===y?(Ie=y,we+=3):(Ie=r,dt===0&&_t(oc)),Ie!==r?(Ve=ul(),Ve!==r?(dn=ue,ue=ZA(Ve)):(we=ue,ue=r)):(we=ue,ue=r),ue}function t1(){var ue,Ie,Ve,Ye;return ue=we,e.charCodeAt(we)===114?(Ie=w,we++):(Ie=r,dt===0&&_t(uc)),Ie!==r?(e.charCodeAt(we)===111?(Ve=g,we++):(Ve=r,dt===0&&_t(_u)),Ve===r&&(Ve=null),Ye=Oo(),Ye===r&&(Ye=null),dn=ue,ue=Jg(Ve,Ye)):(we=ue,ue=r),ue}function Ip(){var ue,Ie,Ve,Ye;return ue=we,e.charCodeAt(we)===117?(Ie=b,we++):(Ie=r,dt===0&&_t(lc)),Ie!==r?(e.charCodeAt(we)===111?(Ve=g,we++):(Ve=r,dt===0&&_t(_u)),Ve===r&&(Ve=null),Ye=Oo(),Ye===r&&(Ye=null),dn=ue,ue=WA(Ve,Ye)):(we=ue,ue=r),ue}function hc(){var ue,Ie,Ve;return ue=we,e.substr(we,2)===_?(Ie=_,we+=2):(Ie=r,dt===0&&_t(Rf)),Ie!==r?(Ve=Oo(),Ve===r&&(Ve=null),dn=ue,ue=KA(Ve)):(we=ue,ue=r),ue}function pw(){var ue,Ie,Ve;return ue=we,e.substr(we,2)===x?(Ie=x,we+=2):(Ie=r,dt===0&&_t(Uf)),Ie!==r?(Ve=Oo(),Ve===r&&(Ve=null),dn=ue,ue=JA(Ve)):(we=ue,ue=r),ue}function r1(){var ue,Ie,Ve;return ue=we,e.charCodeAt(we)===115?(Ie=E,we++):(Ie=r,dt===0&&_t(Au)),Ie!==r?(e.charCodeAt(we)===97?(Ve=C,we++):(Ve=r,dt===0&&_t(Ks)),Ve===r&&(e.charCodeAt(we)===100?(Ve=l,we++):(Ve=r,dt===0&&_t(cr))),Ve===r&&(Ve=null),dn=ue,ue=YA(Ve)):(we=ue,ue=r),ue}function n1(){var ue,Ie,Ve;return ue=we,e.charCodeAt(we)===102?(Ie=$,we++):(Ie=r,dt===0&&_t(wu)),Ie!==r?(Ve=Oo(),Ve!==r?(dn=ue,ue=n0(Ve)):(we=ue,ue=r)):(we=ue,ue=r),ue}function Oo(){var ue,Ie,Ve;return ue=we,Ie=u0(),Ie!==r?(Ve=ul(),Ve!==r?(dn=ue,ue=XA(Ie,Ve)):(we=ue,ue=r)):(we=ue,ue=r),ue}function u0(){var ue;return e.substr(we,2)===D?(ue=D,we+=2):(ue=r,dt===0&&_t(zf)),ue===r&&(e.substr(we,2)===N?(ue=N,we+=2):(ue=r,dt===0&&_t(qf)),ue===r&&(e.substr(we,2)===k?(ue=k,we+=2):(ue=r,dt===0&&_t(ia)),ue===r&&(e.charCodeAt(we)===61?(ue=P,we++):(ue=r,dt===0&&_t(ti)),ue===r&&(e.substr(we,2)===U?(ue=U,we+=2):(ue=r,dt===0&&_t(jf)),ue===r&&(e.charCodeAt(we)===62?(ue=L,we++):(ue=r,dt===0&&_t(xu)),ue===r&&(e.charCodeAt(we)===60?(ue=B,we++):(ue=r,dt===0&&_t(as)))))))),ue}function Qf(){var ue,Ie,Ve,Ye,ht,$t,Vr,wn,Ds,yc;if(ue=Op(),ue===r)if(ue=we,e.charCodeAt(we)===40?(Ie=O,we++):(Ie=r,dt===0&&_t(Su)),Ie!==r){if(Vn(),Ve=we,Ye=ul(),Ye!==r){if(ht=[],$t=we,Vr=Vn(),wn=vc(),wn!==r?(Ds=Vn(),yc=ul(),yc!==r?(Vr=[Vr,wn,Ds,yc],$t=Vr):(we=$t,$t=r)):(we=$t,$t=r),$t!==r)for(;$t!==r;)ht.push($t),$t=we,Vr=Vn(),wn=vc(),wn!==r?(Ds=Vn(),yc=ul(),yc!==r?(Vr=[Vr,wn,Ds,yc],$t=Vr):(we=$t,$t=r)):(we=$t,$t=r);else ht=r;ht!==r?(Ye=[Ye,ht],Ve=Ye):(we=Ve,Ve=r)}else we=Ve,Ve=r;Ve!==r?(Ye=Vn(),e.charCodeAt(we)===41?(ht=T,we++):(ht=r,dt===0&&_t(Cs)),ht!==r?(dn=ue,ue=QA()):(we=ue,ue=r)):(we=ue,ue=r)}else we=ue,ue=r;return ue}function Nu(){var ue,Ie,Ve,Ye,ht,$t,Vr,wn;if(ue=we,Ie=ed(),Ie!==r){for(Ve=[],Ye=we,ht=Vn(),$t=vc(),$t!==r?(Vr=Vn(),wn=ed(),wn!==r?(ht=[ht,$t,Vr,wn],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r);Ye!==r;)Ve.push(Ye),Ye=we,ht=Vn(),$t=vc(),$t!==r?(Vr=Vn(),wn=ed(),wn!==r?(ht=[ht,$t,Vr,wn],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r);dn=ue,ue=ew(Ie,Ve)}else we=ue,ue=r;return ue}function ed(){var ue,Ie,Ve,Ye;return ue=l0(),ue===r&&(ue=$u(),ue===r&&(ue=ul(),ue===r&&(ue=we,e.charCodeAt(we)===40?(Ie=O,we++):(Ie=r,dt===0&&_t(Su)),Ie!==r?(Vn(),Ve=Nu(),Ve!==r?(Vn(),e.charCodeAt(we)===41?(Ye=T,we++):(Ye=r,dt===0&&_t(Cs)),Ye!==r?(dn=ue,ue=tw(Ie,Ve,Ye)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r),ue===r&&(ue=e1())))),ue}function l0(){var ue,Ie,Ve,Ye,ht,$t,Vr;return ue=we,e.substr(we,3)===j?(Ie=j,we+=3):(Ie=r,dt===0&&_t(Vf)),Ie===r&&(e.substr(we,4)===R?(Ie=R,we+=4):(Ie=r,dt===0&&_t(Hf)),Ie===r&&(e.substr(we,3)===le?(Ie=le,we+=3):(Ie=r,dt===0&&_t(Gf)),Ie===r&&(e.substr(we,3)===re?(Ie=re,we+=3):(Ie=r,dt===0&&_t(Zf)),Ie===r&&(e.substr(we,5)===F?(Ie=F,we+=5):(Ie=r,dt===0&&_t(Wf)),Ie===r&&(e.substr(we,3)===H?(Ie=H,we+=3):(Ie=r,dt===0&&_t(Kf)),Ie===r&&(e.substr(we,5)===ve?(Ie=ve,we+=5):(Ie=r,dt===0&&_t(Eu)),Ie===r&&(e.substr(we,4)===ae?(Ie=ae,we+=4):(Ie=r,dt===0&&_t(Do)),Ie===r&&(e.substr(we,3)===W?(Ie=W,we+=3):(Ie=r,dt===0&&_t(jr)),Ie===r&&(e.substr(we,4)===Q?(Ie=Q,we+=4):(Ie=r,dt===0&&_t($i)),Ie===r&&(e.substr(we,3)===J?(Ie=J,we+=3):(Ie=r,dt===0&&_t(Jf)))))))))))),Ie!==r?(e.charCodeAt(we)===40?(Ve=O,we++):(Ve=r,dt===0&&_t(Su)),Ve!==r?(Vn(),Ye=Nu(),Ye!==r?(Vn(),e.charCodeAt(we)===41?(ht=T,we++):(ht=r,dt===0&&_t(Cs)),ht!==r?(dn=ue,ue=rw(Ie,Ye)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r),ue===r&&(ue=we,e.substr(we,3)===se?(Ie=se,we+=3):(Ie=r,dt===0&&_t(Cu)),Ie===r&&(e.substr(we,3)===v?(Ie=v,we+=3):(Ie=r,dt===0&&_t(ol)),Ie===r&&(e.substr(we,3)===y?(Ie=y,we+=3):(Ie=r,dt===0&&_t(oc)))),Ie!==r?(e.charCodeAt(we)===40?(Ve=O,we++):(Ve=r,dt===0&&_t(Su)),Ve!==r?(Vn(),Ye=Nu(),Ye!==r?(Vn(),e.charCodeAt(we)===44?(ht=o,we++):(ht=r,dt===0&&_t(Rt)),ht!==r?(Vn(),$t=Nu(),$t!==r?(Vn(),e.charCodeAt(we)===41?(Vr=T,we++):(Vr=r,dt===0&&_t(Cs)),Vr!==r?(dn=ue,ue=Un(Ie,Ye,$t)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r)):(we=ue,ue=r)),ue}function ul(){var ue,Ie,Ve,Ye,ht;return ue=we,e.charCodeAt(we)===45?we++:dt===0&&_t($s),Ie=Aa(),Ie!==r?(Ve=we,ge.test(e.charAt(we))?(Ye=e.charAt(we),we++):(Ye=r,dt===0&&_t(cc)),Ye!==r?(ht=Aa(),ht!==r?(Ye=[Ye,ht],Ve=Ye):(we=Ve,Ve=r)):(we=Ve,Ve=r),Ve===r&&(Ve=null),dn=ue,ue=On()):(we=ue,ue=r),ue}function Op(){var ue,Ie,Ve,Ye;if(ue=we,xe.test(e.charAt(we))?(Ie=e.charAt(we),we++):(Ie=r,dt===0&&_t(Cp)),Ie!==r){for(Ve=[],ke.test(e.charAt(we))?(Ye=e.charAt(we),we++):(Ye=r,dt===0&&_t(fc));Ye!==r;)Ve.push(Ye),ke.test(e.charAt(we))?(Ye=e.charAt(we),we++):(Ye=r,dt===0&&_t(fc));dn=ue,ue=nw()}else we=ue,ue=r;return ue}function Aa(){var ue,Ie,Ve;if(ue=we,Ie=[],ke.test(e.charAt(we))?(Ve=e.charAt(we),we++):(Ve=r,dt===0&&_t(fc)),Ve!==r)for(;Ve!==r;)Ie.push(Ve),ke.test(e.charAt(we))?(Ve=e.charAt(we),we++):(Ve=r,dt===0&&_t(fc));else Ie=r;return Ie!==r&&(dn=ue,Ie=iw()),ue=Ie,ue}function vc(){var ue,Ie;return ue=we,e.substr(we,2)===Te?(Ie=Te,we+=2):(Ie=r,dt===0&&_t(Qh)),Ie!==r&&(dn=ue,Ie=aw()),ue=Ie,ue===r&&(e.charCodeAt(we)===42?(ue=oe,we++):(ue=r,dt===0&&_t(e0)),ue===r&&(e.charCodeAt(we)===94?(ue=q,we++):(ue=r,dt===0&&_t(t0)),ue===r&&(e.charCodeAt(we)===37?(ue=me,we++):(ue=r,dt===0&&_t(Fa)),ue===r&&(e.charCodeAt(we)===47?(ue=X,we++):(ue=r,dt===0&&_t(dc)),ue===r&&(e.charCodeAt(we)===43?(ue=K,we++):(ue=r,dt===0&&_t(Yf)),ue===r&&(e.charCodeAt(we)===45?(ue=Ce,we++):(ue=r,dt===0&&_t($s)))))))),ue}function gc(){var ue;return dt++,ue=i1(),ue===r&&(ue=a1()),dt--,ue===r&&dt===0&&_t(pc),ue}function i1(){var ue,Ie,Ve,Ye,ht,$t;if(ue=we,e.substr(we,2)===de?(Ie=de,we+=2):(Ie=r,dt===0&&_t(r0)),Ie!==r){for(Ve=[],Ye=we,ht=we,dt++,e.substr(we,2)===Ee?($t=Ee,we+=2):($t=r,dt===0&&_t(Js)),dt--,$t===r?ht=void 0:(we=ht,ht=r),ht!==r?(e.length>we?($t=e.charAt(we),we++):($t=r,dt===0&&_t(To)),$t!==r?(ht=[ht,$t],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r);Ye!==r;)Ve.push(Ye),Ye=we,ht=we,dt++,e.substr(we,2)===Ee?($t=Ee,we+=2):($t=r,dt===0&&_t(Js)),dt--,$t===r?ht=void 0:(we=ht,ht=r),ht!==r?(e.length>we?($t=e.charAt(we),we++):($t=r,dt===0&&_t(To)),$t!==r?(ht=[ht,$t],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r);e.substr(we,2)===Ee?(Ye=Ee,we+=2):(Ye=r,dt===0&&_t(Js)),Ye!==r?(dn=ue,ue=sw(Ve)):(we=ue,ue=r)}else we=ue,ue=r;if(ue===r)if(ue=we,e.charCodeAt(we)===91?(Ie=te,we++):(Ie=r,dt===0&&_t($p)),Ie!==r){for(Ve=[],Ke.test(e.charAt(we))?(Ye=e.charAt(we),we++):(Ye=r,dt===0&&_t(Xf));Ye!==r;)Ve.push(Ye),Ke.test(e.charAt(we))?(Ye=e.charAt(we),we++):(Ye=r,dt===0&&_t(Xf));e.charCodeAt(we)===93?(Ye=ce,we++):(Ye=r,dt===0&&_t(Np)),Ye!==r?(dn=ue,ue=ow(Ve)):(we=ue,ue=r)}else we=ue,ue=r;return ue}function a1(){var ue,Ie,Ve,Ye,ht,$t;if(ue=we,e.substr(we,2)===pe?(Ie=pe,we+=2):(Ie=r,dt===0&&_t(Dp)),Ie===r&&(e.charCodeAt(we)===35?(Ie=Y,we++):(Ie=r,dt===0&&_t(z))),Ie!==r){for(Ve=[],Ye=we,ht=we,dt++,$t=s1(),dt--,$t===r?ht=void 0:(we=ht,ht=r),ht!==r?(e.length>we?($t=e.charAt(we),we++):($t=r,dt===0&&_t(To)),$t!==r?(ht=[ht,$t],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r);Ye!==r;)Ve.push(Ye),Ye=we,ht=we,dt++,$t=s1(),dt--,$t===r?ht=void 0:(we=ht,ht=r),ht!==r?(e.length>we?($t=e.charAt(we),we++):($t=r,dt===0&&_t(To)),$t!==r?(ht=[ht,$t],Ye=ht):(we=Ye,Ye=r)):(we=Ye,Ye=r);dn=ue,ue=uw(Ve)}else we=ue,ue=r;return ue}function s1(){var ue;return Ue.test(e.charAt(we))?(ue=e.charAt(we),we++):(ue=r,dt===0&&_t(ie)),ue}function Mp(){var ue;return dt++,rt.test(e.charAt(we))?(ue=e.charAt(we),we++):(ue=r,dt===0&&_t(Re)),dt--,ue===r&&dt===0&&_t($e),ue}function Vn(){var ue,Ie;for(ue=[],Ie=Mp();Ie!==r;)ue.push(Ie),Ie=Mp();return ue}function o1(){var ue,Ie;for(dt++,ue=[],Ie=Mp(),Ie===r&&(Ie=gc());Ie!==r;)ue.push(Ie),Ie=Mp(),Ie===r&&(Ie=gc());return dt--,Ie=r,dt===0&&_t(at),ue}if(mc=a(),mc!==r&&we===e.length)return mc;throw mc!==r&&we<e.length&&_t(Xg()),os(ko,ss<e.length?e.charAt(ss):null,ss<e.length?_a(ss,ss+1):_a(ss,ss))}class pB{static parse(t){if(!t)throw new Vu("notation");if(typeof t!="string")throw new TypeError("Notation must be a string");return QQe(t)}}const rm=Object.freeze({BASE_64:1,JSON:0,OBJECT:2}),FS=Symbol("notation"),RS=Symbol("maxTotal"),US=Symbol("minTotal"),nm=Symbol("expressions"),Xy=Symbol("roll-method"),Dc=Symbol("rolls"),mB=Symbol("set-rolls"),Qy=Symbol("total"),zS=e=>nQe(e.calculationValue,2);class Hu{constructor(t){if(!t)throw new Vu("notation");if(this[nm]=[],t instanceof Object&&!Array.isArray(t)){if(t.notation){if(typeof t.notation!="string")throw new U_(t.notation);t.rolls&&this[mB](t.rolls)}else throw new Vu("notation");this[FS]=t.notation,this[nm]=pB.parse(this.notation),this.hasRolls()||this.roll()}else if(typeof t=="string")this[FS]=t,this[nm]=pB.parse(this.notation),this.roll();else throw new U_(t)}get averageTotal(){return(this.maxTotal+this.minTotal)/2}get maxTotal(){if(!this.hasExpressions())return 0;if(!this[RS]){const t=this[Xy](VP.max);this[RS]=zS(t)}return this[RS]}get minTotal(){if(!this.hasExpressions())return 0;if(!this[US]){const t=this[Xy](VP.min);this[US]=zS(t)}return this[US]}get notation(){return this[FS]}get output(){let t=`${this.notation}: `;return this.hasRolls()?t+=`${this[Dc]} = ${this.total}`:t+="No dice rolled",t}get rolls(){return this[Dc]?this[Dc].results:[]}get total(){return!this[Qy]&&this.hasRolls()&&(this[Qy]=zS(this[Dc])),this[Qy]||0}export(t=rm.JSON){switch(t){case rm.BASE_64:return btoa(this.export(rm.JSON));case rm.JSON:return JSON.stringify(this);case rm.OBJECT:return JSON.parse(this.export(rm.JSON));default:throw new TypeError(`Invalid export format "${t}"`)}}hasExpressions(){return this[nm]&&this[nm].length>0}hasRolls(){return this.hasExpressions()&&this.rolls.length>0}roll(){return this[Qy]=0,this[Dc]=this[Xy](),this.rolls}toJSON(){const{averageTotal:t,maxTotal:r,minTotal:n,notation:i,output:a,rolls:s,total:o}=this;return{averageTotal:t,maxTotal:r,minTotal:n,notation:i,output:a,rolls:s,total:o,type:"dice-roll"}}toString(){return this.output}static import(t){if(t){if(YQe(t))return Hu.import(JSON.parse(t));if(JQe(t))return Hu.import(atob(t));if(typeof t=="object")return new Hu(t);throw new nD(t)}else throw new Vu("data")}[Xy](t){let r;t&&(r=Dm.engine,Dm.engine=t);const n=new ca(this[nm].map(i=>i instanceof vh||i instanceof vY?i.roll():i).filter(i=>!!i||i===0));return t&&(Dm.engine=r),n}[mB](t){if(t instanceof ca)this[Dc]=t;else if(t instanceof Pl)this[Dc]=new ca([t]);else if(Array.isArray(t))this[Dc]=new ca(t.map(r=>{if(r instanceof ca||r instanceof Pl)return r;if(Array.isArray(r))return new Pl(r);if(typeof r=="object"){if(Array.isArray(r.results))return new ca(r.results,r.modifiers||[],r.isRollGroup||!1,typeof r.useInTotal=="boolean"?r.useInTotal:!0);if(Array.isArray(r.rolls))return new Pl(r.rolls)}return r}));else throw new TypeError("Rolls must be a valid result object, or an array")}}const Zt=hi("progression",()=>{const e=Pe([]),t=Pe({name:"",sourceBook:-1,featureIds:[],level:0,compendiumData:{transformation:null}}),r=Pe({name:"",sourceBook:-1,subrace:"",subraceSourceBook:-1,featureIds:[],subraceFeatureIds:[],compendiumData:{race:null,subrace:null}}),n=Pe("average"),i=Pe(0),a=Pe("experience"),s=Pe({name:"",sourceBook:-1,featureIds:[],compendiumData:null}),o=Pe({mode:"automatic",total:Object.fromEntries(Je.hitDieSize.map(F=>[F,0])),used:Object.fromEntries(Je.hitDieSize.map(F=>[F,0]))}),u=Oe(()=>{if(o.value.mode==="manual")return Object.fromEntries(Object.entries(o.value.total).filter(([F,H])=>H&&H>0));{const F=e.value.reduce((ae,W)=>{const Q=W.hitDie;return ae[Q]=(ae[Q]||0)+(W.level||0),ae},Object.fromEntries(Je.hitDieSize.map(ae=>[ae,0]))),H=kt(),ve={};return Object.keys(F).forEach(ae=>{const W=F[ae],Q=`${ae.replace("1","")}-hit-dice`,J=Be[Q],se=H.getModifiedValue(W,J).value.final;se>0&&(ve[ae]=se)}),ve}}),l=Oe(()=>e.value.reduce((F,H)=>F+(H.level||0),0)),c=Oe(()=>{const F=l.value;return F===0?0:Math.ceil(F/4)+1}),f=(F,H)=>F.length>H?F.slice(0,H)+"...":F,d=Oe(()=>{const F=e.value.map(H=>`${H.subclass} ${H.name} ${H.level}`).join(",").trim();return f(F,13)}),p=Oe(()=>t.value.name&&t.value.level&&t.value.level>0?`${t.value.name} ${t.value.level}`:""),m=Oe(()=>r.value.subrace?r.value.name?r.value.subrace.toLowerCase().includes(r.value.name.toLowerCase())?r.value.subrace:`${r.value.subrace} ${r.value.name}`:"":r.value.name),h=()=>({name:"",sourceBook:-1,featureIds:[],compendiumData:null}),v=()=>({_id:Ct(),name:"",sourceBook:-1,hitDie:Je.hitDieSize[0],hitPoints:[],level:1,subclass:"",subclassSourceBook:-1,subclassUnlockLevel:-1,label:"",spellcasting:"none",subclassSpellcasting:"none",spellSourceId:Ct(),featureIds:[],subclassFeatureIds:[],compendiumData:{class:null,subclass:null}}),y=F=>{let H=F._id?Ud(F._id,e.value):!1;if(H?Object.assign(H,F):(H={...v(),...F},e.value.push(H)),H.hitDie&&H.level){const ve=parseInt(H.hitDie.split("d")[1]),ae=parseInt(H.hitDie.split("d")[0]),W=H.hitPoints||[],Q=Array.from({length:H.level??1},(J,se)=>{if(n.value==="average")return se===0?ve*ae:(Math.ceil(ve/2)+1)*ae;if(n.value==="rolled"){if(W[se])return W[se];const Ce=new Hu(H.hitDie);return Ce.roll(),Ce.total}else return W[se]||0});H.hitPoints=Q}else H.hitPoints=[]},w=(F,H=!0,ve=!0,ae)=>{const W=e.value.find(J=>J._id===F);if(!W)return;const Q=Ri();H&&(ae?(W.featureIds.filter(J=>J.level>ae).forEach(J=>Q.remove(J.id)),W.featureIds=W.featureIds.filter(J=>J.level<=ae),W.featureIds.filter(J=>J.expirantionLevel&&J.expirantionLevel<W.level+1).forEach(J=>Q.remove(J.id)),W.featureIds=W.featureIds.filter(J=>!J.expirantionLevel||J.expirantionLevel>=W.level-1)):(W.featureIds.forEach(J=>Q.remove(J.id)),W.featureIds=[])),ve&&(ae?(W.subclassFeatureIds.filter(J=>J.level>ae).forEach(J=>Q.remove(J.id)),W.subclassFeatureIds=W.subclassFeatureIds.filter(J=>J.level<=ae),W.subclassFeatureIds.filter(J=>J.expirantionLevel&&J.expirantionLevel<W.level+1).forEach(J=>Q.remove(J.id)),W.subclassFeatureIds=W.subclassFeatureIds.filter(J=>!J.expirantionLevel||J.expirantionLevel>=W.level-1)):(W.subclassFeatureIds.forEach(J=>Q.remove(J.id)),W.subclassFeatureIds=[]))},g=F=>{const H=e.value.find(W=>W._id===F);if(!H||!H.spellSourceId)return;const ve=Ln(),ae=ve.sources.find(W=>W._id===H.spellSourceId);ae&&ve.removeSource(ae)},b=F=>{const H=e.value.findIndex(ve=>ve._id===F);H>=0&&(w(F),g(F),e.value.splice(H,1))},_=F=>{const H=e.value.find(ve=>ve._id===F);H&&(w(F,!1,!0),H.subclass="",H.subclassSourceBook=void 0,H.compendiumData.subclass=null)},x=async(F,H,ve=H,ae=!0,W=!0,Q=!1)=>{const J=e.value.find(Ce=>Ce._id===F);if(!J)return;const se=J?.spellSourceId&&Ln().sources.find(Ce=>Ce._id===J?.spellSourceId)?{spellSourceId:J.spellSourceId}:void 0;try{const Ce=J.compendiumData.class?JSON.parse(J.compendiumData.class):{},Te=J.compendiumData.subclass?JSON.parse(J.compendiumData.subclass):{};if(ae)for(let oe=H;oe<=ve;oe++)await $m({features:Ce,updatedClass:J,levelOverride:oe,updateSubclass:!1,onlyExpired:Q,cascade:se});if(W)for(let oe=H;oe<=ve;oe++)await $m({features:Te,updatedClass:J,levelOverride:oe,updateSubclass:!0,onlyExpired:Q,cascade:se})}catch(Ce){console.warn("Failed to parse class features from compendium data",Ce)}},E=async(F,H=F,ve=!1,ae)=>{try{const W=t.value.compendiumData.transformation?JSON.parse(t.value.compendiumData.transformation):{},Q={source:t.value.name};for(let J=F;J<=H;J++)await lXe({features:W,levelOverride:J,onlyExpired:ve,previousLevels:ae,cascade:Q})}catch(W){console.warn("Failed to parse transformation features from compendium data",W)}},C=async(F,H=F,ve=!0,ae=!0,W=!1,Q)=>{try{const J=r.value.compendiumData.race?JSON.parse(r.value.compendiumData.race):{},se=r.value.compendiumData.subrace?JSON.parse(r.value.compendiumData.subrace):{};if(ve){const Ce={source:r.value.name};for(let Te=F;Te<=H;Te++)await BP({features:J,levelOverride:Te,updateSubrace:!1,onlyExpired:W,previousLevels:Q,cascade:Ce})}if(ae){const Ce={source:r.value.subrace||r.value.name};for(let Te=F;Te<=H;Te++)await BP({features:se,levelOverride:Te,updateSubrace:!0,onlyExpired:W,previousLevels:Q,cascade:Ce})}}catch(J){console.warn("Failed to parse ancestry features from compendium data",J)}},$=(F,H=1)=>{const ve=e.value.find(J=>J._id===F);if(!ve)return;const ae=ve.level||1,W=Math.min(Math.max(ae+H,1),20),Q={...ve,level:W};W>ae?(y(Q),x(F,ae+1,W,!0,!0,!1),w(F,!0,!0,W)):(y(Q),x(F,1,Q.level,!0,!0,!0),Q.subclassUnlockLevel>0&&W<Q.subclassUnlockLevel?_(F):w(F,!0,!0,W))},D=()=>{if(t.value.featureIds.length){const F=Ri();t.value.featureIds.forEach(H=>F.remove(H.id))}t.value={name:"",sourceBook:-1,featureIds:[],level:0,compendiumData:{transformation:null}}},N=()=>{if(r.value.subraceFeatureIds.length){const F=Ri();r.value.subraceFeatureIds.forEach(H=>F.remove(H.id))}r.value={...r.value,subrace:"",subraceFeatureIds:[],subraceSourceBook:-1,compendiumData:{...r.value.compendiumData,subrace:null}}};return{classes:e,transformation:t,ancestry:r,hitPointsMode:n,experiencePoints:i,advancementeMode:a,hitDice:o,background:s,getEmptyClass:v,getEmptyBackground:h,getHitDice:u,getClassesSummary:d,getTransformationSummary:p,getAncestrySummary:m,getLevel:l,getProficiencyBonus:c,addFeaturesToClass:x,addFeaturesToTransformation:E,addFeaturesToAncestry:C,levelUpClass:$,removeTransformationFeatures:F=>{const H=Ri();t.value.featureIds.length&&(t.value.featureIds.filter(ae=>ae.level>F).forEach(ae=>H.remove(ae.id)),t.value.featureIds=t.value.featureIds.filter(ae=>ae.level<=F))},removeTransformationExpiredFeatures:F=>{const H=Ri();t.value.featureIds.length&&(t.value.featureIds.filter(ae=>ae.expirantionLevel&&ae.expirantionLevel<=F).forEach(ae=>H.remove(ae.id)),t.value.featureIds=t.value.featureIds.filter(ae=>!ae.expirantionLevel||ae.expirantionLevel>F))},removeAncestryFeatures:F=>{const H=Ri();r.value.featureIds.length&&(r.value.featureIds.filter(ae=>ae.level>F).forEach(ae=>H.remove(ae.id)),r.value.featureIds=r.value.featureIds.filter(ae=>ae.level<=F)),r.value.subraceFeatureIds.length&&(r.value.subraceFeatureIds.filter(ae=>ae.level>F).forEach(ae=>H.remove(ae.id)),r.value.subraceFeatureIds=r.value.subraceFeatureIds.filter(ae=>ae.level<=F))},removeAncestryExpiredFeatures:F=>{const H=Ri();r.value.featureIds.length&&(r.value.featureIds.filter(ae=>ae.expirantionLevel&&ae.expirantionLevel<=F).forEach(ae=>H.remove(ae.id)),r.value.featureIds=r.value.featureIds.filter(ae=>!ae.expirantionLevel||ae.expirantionLevel>F)),r.value.subraceFeatureIds.length&&(r.value.subraceFeatureIds.filter(ae=>ae.expirantionLevel&&ae.expirantionLevel<=F).forEach(ae=>H.remove(ae.id)),r.value.subraceFeatureIds=r.value.subraceFeatureIds.filter(ae=>!ae.expirantionLevel||ae.expirantionLevel>F))},removeClass:b,removeSubclass:_,removeClassFeatures:w,updateClass:y,removeTransformation:D,removeSubrace:N,removeRace:()=>{if(N(),r.value.featureIds.length){const F=Ri();r.value.featureIds.forEach(H=>F.remove(H.id))}r.value={name:"",sourceBook:-1,subrace:"",subraceSourceBook:-1,featureIds:[],subraceFeatureIds:[],compendiumData:{race:null,subrace:null}}},addFeaturesToBackground:async(F,H=F,ve=!1,ae)=>{try{const W=s.value.compendiumData?JSON.parse(s.value.compendiumData):{};for(let Q=F;Q<=H;Q++)await wXe({features:W,levelOverride:Q,onlyExpired:ve,previousLevels:ae})}catch(W){console.warn("Failed to parse background features from compendium data",W)}},removeBackground:()=>{if(s.value.featureIds.length){const F=Ri();s.value.featureIds.forEach(H=>F.remove(H.id))}s.value=h()},removeBackgroundFeatures:F=>{const H=Ri();s.value.featureIds.length&&(s.value.featureIds.filter(ae=>ae.level>F).forEach(ae=>H.remove(ae.id)),s.value.featureIds=s.value.featureIds.filter(ae=>ae.level<=F))},removeBackgroundExpiredFeatures:F=>{const H=Ri();s.value.featureIds.length&&(s.value.featureIds.filter(ae=>ae.expirantionLevel&&ae.expirantionLevel<=F).forEach(ae=>H.remove(ae.id)),s.value.featureIds=s.value.featureIds.filter(ae=>!ae.expirantionLevel||ae.expirantionLevel>F))},dehydrate:()=>{const F=e.value.map(W=>({...W,hitPoints:ur(W.hitPoints),featureIds:ur(W.featureIds),subclassFeatureIds:ur(W.subclassFeatureIds)})),H={...t.value,featureIds:ur(t.value.featureIds)},ve={...r.value,featureIds:ur(r.value.featureIds),subraceFeatureIds:ur(r.value.subraceFeatureIds)},ae={...s.value,featureIds:ur(s.value.featureIds)};return{classes:rn(F),transformation:H,ancestry:ve,HitPointsMode:n.value,experiencePoints:i.value,advancementeMode:a.value,hitDice:o.value,background:ae}},hydrate:F=>{const H=F?.classes?Hr(F.classes).map(Q=>({...Q,hitPoints:ar(Q.hitPoints),featureIds:ar(Q.featureIds),subclassFeatureIds:ar(Q.subclassFeatureIds)})):e.value,ve=F?.transformation?{...F.transformation,featureIds:ar(F.transformation.featureIds)}:t.value,ae=F?.ancestry?{...F.ancestry,featureIds:ar(F.ancestry.featureIds),subraceFeatureIds:ar(F.ancestry.subraceFeatureIds)}:r.value,W=F?.background?{...F.background,featureIds:ar(F.background.featureIds)}:s.value;e.value=H,t.value=ve,r.value=ae,n.value=F?.HitPointsMode??n.value,i.value=F?.experiencePoints??i.value,a.value=F?.advancementeMode??a.value,o.value=F?.hitDice??o.value,s.value=W??s.value}}}),gY=[0,.5,1,2],V_={untrained:0,"half-proficient":.5,proficient:1,expert:2},hB={...V_,automatic:-1},im=(e,t,r)=>({_id:Ct(),label:e,ability:t,group:r,level:-1}),Qo=hi("proficiencies",()=>{Bt();const e=Pe([im("initiative","dexterity","abilities"),im("death-saving","constitution","abilities"),...Je.abilities.map(h=>im(`${h}-check`,h,"abilities")),...Je.abilities.map(h=>im(`${h}-saving`,h,"savings")),...Object.entries(Je.skills).map(([h,v])=>im(h,v.ability,"default-skills"))]),t=h=>{if(!h)return Oe(()=>({final:0,modifiers:[]}));const v=l(h),y=Oe(()=>v.value.final+10);return kt().getModifiedValue(y.value,Be[`${h.label}-passive`])},r=Pe([]),n=Oe(()=>e.value[0]),i=Oe(()=>e.value[1]),a=h=>Ga(h,e.value),s=h=>Object.entries(V_).find(([,y])=>y===h)?.[0]??"untrained",o=h=>{const v=[Be[`${h.label}-proficiency`]];h.group==="savings"?v.push(Be["saving-proficiency"]):h.group==="default-skills"?v.push(Be["skill-proficiency"]):h.group==="tools"&&v.push(Be["tools-proficiency"]);const y=v.filter(w=>!!w);return kt().getModifiedProficiency(y,h.level)},u=h=>Ga(h.ability,Yr().abilities),l=h=>{const v=u(h);if(!v)return Oe(()=>({final:0,modifiers:[]}));const y=Yr().getAbilityModifier(v).value.final,w=Math.floor(o(h).value.final*Zt().getProficiencyBonus),g=y+w,b=[];return b.push(Be[`${h.label}`]),h.group==="savings"?b.push(Be.saving):h.group==="default-skills"?(b.push(Be.skill),b.push(Be.check)):h.group==="tools"?b.push(Be.tools):h.label==="initiative"?(b.push(Be.check),b.push(Be["dexterity-check"])):h.label==="death-saving"&&(b.push(Be.saving),b.push(Be["constitution-saving"])),kt().getModifiedValue(g,b)};return{ranked:e,unranked:r,initiative:n,deathSaving:i,getPassiveProficiency:t,getProficiencyLevelKey:s,getModifiedProficiencyLevel:o,getProficiencyAbility:u,getProficiencyModifier:l,getProficiencyByLabel:a,updateRanked:(h,v)=>{const y=h?Ud(h,e.value):!1;if(y)Object.assign(y,v);else{const w={...im("New Skill","strength","tools"),...v};e.value.push(w)}},updateUnranked:(h,v)=>{const y=Ud(h,r.value);Object.assign(y,v)},removeRanked:h=>{const v=e.value.findIndex(y=>y._id===h);v>=0&&e.value.splice(v,1)},dehydrate:()=>({ranked:rn(e.value),unranked:rn(r.value)}),hydrate:h=>{e.value=Hr(h.ranked)||e.value,r.value=Hr(h.unranked)||r.value}}}),eet=au({_id:fr(),attribute:fr(),operation:Ko(["add","subtract","set","set-base","set-min","set-max","add-formula","subtract-formula","set-formula","set-base-formula","set-min-formula","set-max-formula","set-base-final","set-base-final-formula","set-final","set-final-formula","push"]),value:Wo([iu(),fr(),fr().array()]),formula:fr(),required:xp.array().optional()}),tet=au({label:fr(),value:uf()}),ret=au({label:fr(),value:fr().optional(),options:tet.array(),mandatory:zs().optional()});au({_id:fr(),label:fr(),enabled:zs(),toggleable:zs().optional(),removable:zs().optional(),required:xp.array().optional(),effects:wi(eet),description:fr(),actions:wi(vYe).optional(),resources:wi(gYe).optional(),spells:wi(YXe).optional(),spellSources:wi(eQe).optional(),pickers:wi(ret).optional()});const kt=hi("effects",()=>{const e=Pe([]),t=g=>{g.actions&&g.actions.forEach(_=>_._id=_._id??Ct()),g.resources&&g.resources.forEach(_=>_._id=_._id??Ct()),g.spellSources&&g.spellSources.forEach(_=>_._id=_._id??Ct()),g.spells&&g.spells.forEach(_=>_._id=_._id??Ct()),g.effects&&g.effects.forEach(_=>_._id=_._id??Ct());const b=g._id?Ud(g._id,e.value):!1;b?Object.assign(b,g):u(g)},r=g=>{const b=e.value.find(_=>_._id===g.effectId);if(b&&b[g.itemKey]){const _=b[g.itemKey].find(x=>x._id===g.itemPatch._id);_&&Object.assign(_,g.itemPatch)}},n=g=>{const b=e.value.find(_=>_._id===g.effectId);if(b&&b[g.itemKey]){const _=b[g.itemKey],x=_.findIndex(E=>E._id===g.itemId);x>-1&&_.splice(x,1)}},i=g=>{const b=e.value.findIndex(_=>_._id===g._id);return b>=0?e.value[b]:u(g)},a=g=>{const b={_id:g._id??Ct(),label:g.label??"",description:g.description??"",required:g.required??[],effects:g.effects??[],enabled:g.enabled??!0,toggleable:g.toggleable??!1,removable:g.removable??!1,actions:g.actions??[],resources:g.resources??[],spellSources:g.spellSources??[],spells:g.spells??[],pickers:g.pickers??[],...g};return g.actions&&(b.actions=b.actions?.map((_,x)=>({..._,_id:_._id||(b.actions?.[x]?._id??Ct())}))),g.resources&&(b.resources=b.resources?.map((_,x)=>({..._,_id:_._id||(b.resources?.[x]?._id??Ct())}))),g.spells&&(b.spells=b.spells?.map((_,x)=>({..._,_id:_._id||(b.spells?.[x]?._id??Ct())}))),g.spellSources&&(b.spellSources=b.spellSources?.map((_,x)=>({..._,_id:_._id||(b.spellSources?.[x]?._id??Ct())}))),b},s=g=>{const b=dr.getValidEffects(e.value,g,c),_=new Set(b.map(x=>x.label));return Array.from(_)},o=Oe(()=>e.value.filter(g=>g.toggleable)),u=g=>{const b=a(g);return e.value.push(b),b},l=g=>{if(!g.enabled)return!1;const _=ou().equipment.find(E=>E.effectId===g._id),x={pickers:g.pickers,isEquipped:_?_.equipped:!0,isAttuned:_?_.isAttuned:!0};return dr.checkRequirements(g.required,x)},c=(g,b)=>{if(!l(g))return!1;const x=ou().equipment.find(C=>C.effectId===g._id),E={pickers:g.pickers,isEquipped:x?x.equipped:!0,isAttuned:x?x.isAttuned:!0};return dr.checkRequirements(b.required,E)},f=g=>Oe(()=>dr.calculateModifiedRollBonuses(e.value,g,c)),d=(g,b)=>Oe(()=>{const _=p(b,g,gY).value;return{final:_.final,modifiers:_.modifiers}}),p=(g,b,_=[])=>Oe(()=>{const x=dr.getValidEffects(e.value,b,c);return dr.calculateModifiedValue(g,x,_)});return{effects:e,addEffect:u,getModifiedValue:p,getModifiedProficiency:d,getModifiedDicePool:(g,b)=>Oe(()=>{const _=dr.getValidEffects(e.value,b,c);return dr.calculateModifiedDicePool(g,_)}),remove:g=>{const b=e.value.findIndex(_=>_._id===g);if(b>=0){const _=e.value[b],x=ki();_.actions&&_.actions.forEach(E=>{E.tagId&&x.remove(E.tagId)}),_.spells&&_.spells.forEach(E=>{E.tagId&&x.remove(E.tagId)}),e.value.splice(b,1)}},getExistingOrCreate:i,getEmptyEffect:a,updateItemWithinEffect:r,removeItemFromEffect:n,update:t,isEffectActive:l,isEffectSingleActive:c,getModifiedRollBonuses:f,getModifiedActionDie:g=>Oe(()=>{const b=dr.getValidEffects(e.value,g,c);return dr.calculateActionDie(b)}),visibleEffects:o,getActiveEffectLabels:s,dehydrate:()=>({effects:rn(e.value.map(g=>({...g,required:g.required?ur(g.required):void 0,effects:rn(g.effects.map(b=>({...b,required:b.required?ur(b.required):void 0,value:Array.isArray(b.value)?ur(b.value):b.value}))),actions:g.actions&&g.actions.length>0?rn(g.actions.map(b=>({...b,damage:b.damage?ur(b.damage):void 0,required:b.required?ur(b.required):void 0}))):void 0,resources:g.resources&&g.resources.length>0?rn(g.resources.map(b=>({...b,required:b.required?ur(b.required):void 0}))):void 0,spellSources:g.spellSources&&g.spellSources.length>0?rn(g.spellSources.map(b=>({...b,required:b.required?ur(b.required):void 0}))):void 0,spells:g.spells&&g.spells.length>0?rn(g.spells.map(b=>({...b,components:b.components?ur(b.components):void 0,damage:b.damage?ur(b.damage):void 0,required:b.required?ur(b.required):void 0}))):void 0,pickers:g.pickers&&g.pickers.length>0?ur(g.pickers.map(b=>({...b,options:ur(b.options)}))):void 0})))}),hydrate:g=>{g?.effects&&(e.value=Hr(g.effects)?.map(b=>({...b,required:b.required?ar(b.required):[],effects:Hr(b.effects)?.map(_=>({..._,required:_.required?ar(_.required):void 0,value:typeof _.value=="object"?ar(_.value):_.value}))||[],actions:b.actions?Hr(b.actions).map(_=>({..._,damage:_.damage?ar(_.damage):[],required:_.required?ar(_.required):void 0})):[],resources:b.resources?Hr(b.resources).map(_=>({..._,required:_.required?ar(_.required):void 0})):[],spellSources:b.spellSources?Hr(b.spellSources).map(_=>({..._,required:_.required?ar(_.required):void 0})):[],spells:b.spells?Hr(b.spells).map(_=>({..._,components:_.components?ar(_.components):[],damage:_.damage?ar(_.damage):[],required:_.required?ar(_.required):void 0})):[],pickers:b.pickers?ar(b.pickers).map(_=>({..._,options:_.options?ar(_.options):[]})):[]}))||e.value)}}}),Yr=hi("abilities",()=>{Bt();const e=Pe(Je.abilities.reduce((o,u)=>(o.push({_id:Ct(),score:10,label:u}),o),[])),t=o=>kt().getModifiedValue(o.score,Be[o.label]),r=o=>Oe(()=>({final:Math.floor((t(o).value.final-10)/2),modifiers:[]}));return{abilities:e,getAbilityModifier:r,getAbilityCheckModifier:o=>kt().getModifiedValue(r(o).value.final,[Be[`${o.label}-check`],Be.check]),getModifiedAbilityScore:t,update:(o,u)=>{const l=Ud(o,e.value);Object.assign(l,u)},dehydrate:()=>({abilities:rn(e.value)}),hydrate:o=>{o?.abilities&&(e.value=Hr(o.abilities)||e.value)}}}),vB=["size","gender"],yY=hi("biography",()=>{const e={size:Pe(Je.sizes[2]),gender:Pe("")};return{...e,dehydrate:()=>{const n={};return vB.forEach(i=>{n[i]=e[i].value}),{biography:n}},hydrate:n=>{vB.forEach(i=>{e[i].value=n.biography[i]||e[i].value})}}});var Ci={},Lu,Fu;function w4(){throw new Error("setTimeout has not been defined")}function x4(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Lu=setTimeout:Lu=w4}catch{Lu=w4}try{typeof clearTimeout=="function"?Fu=clearTimeout:Fu=x4}catch{Fu=x4}})();function bY(e){if(Lu===setTimeout)return setTimeout(e,0);if((Lu===w4||!Lu)&&setTimeout)return Lu=setTimeout,setTimeout(e,0);try{return Lu(e,0)}catch{try{return Lu.call(null,e,0)}catch{return Lu.call(this,e,0)}}}function net(e){if(Fu===clearTimeout)return clearTimeout(e);if((Fu===x4||!Fu)&&clearTimeout)return Fu=clearTimeout,clearTimeout(e);try{return Fu(e)}catch{try{return Fu.call(null,e)}catch{return Fu.call(this,e)}}}var Bl=[],Tm=!1,Nd,bb=-1;function iet(){!Tm||!Nd||(Tm=!1,Nd.length?Bl=Nd.concat(Bl):bb=-1,Bl.length&&_Y())}function _Y(){if(!Tm){var e=bY(iet);Tm=!0;for(var t=Bl.length;t;){for(Nd=Bl,Bl=[];++bb<t;)Nd&&Nd[bb].run();bb=-1,t=Bl.length}Nd=null,Tm=!1,net(e)}}Ci.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Bl.push(new AY(e,t)),Bl.length===1&&!Tm&&bY(_Y)};function AY(e,t){this.fun=e,this.array=t}AY.prototype.run=function(){this.fun.apply(null,this.array)};Ci.title="browser";Ci.browser=!0;Ci.env={};Ci.argv=[];Ci.version="";Ci.versions={};function sc(){}Ci.on=sc;Ci.addListener=sc;Ci.once=sc;Ci.off=sc;Ci.removeListener=sc;Ci.removeAllListeners=sc;Ci.emit=sc;Ci.prependListener=sc;Ci.prependOnceListener=sc;Ci.listeners=function(e){return[]};Ci.binding=function(e){throw new Error("process.binding is not supported")};Ci.cwd=function(){return"/"};Ci.chdir=function(e){throw new Error("process.chdir is not supported")};Ci.umask=function(){return 0};const oD=hi("unrankedProficiencies",()=>{const e=kt(),t=Pe([]),r=Pe([]),n=Pe([]),i=(f,d)=>Oe(()=>{const p=f.value,m=dr.calculateModifiedTags(e.effects,d,e.isEffectSingleActive).map(v=>({...v,_id:`effect-${d}-${v.text}`})),h=[...p];return m.forEach(v=>{p.some(y=>y.text.toLowerCase()===v.text.toLowerCase())||h.push(v)}),h}),a=i(t,"languages"),s=i(r,"armor-proficiencies"),o=i(n,"weapon-proficiencies");return{languages:t,armor:r,weapons:n,combinedLanguages:a,combinedArmorProficiencies:s,combinedWeaponProficiencies:o,setProficiencies:f=>{t.value=f.languages,r.value=f.armor,n.value=f.weapons},dehydrate:()=>({unrankedProficiencies:{languages:rn(t.value),armor:rn(r.value),weapons:rn(n.value)}}),hydrate:f=>{f?.unrankedProficiencies&&(t.value=Hr(f.unrankedProficiencies.languages),r.value=Hr(f.unrankedProficiencies.armor),n.value=Hr(f.unrankedProficiencies.weapons))}}}),uD=hi("defenses",()=>{const e=kt(),t=Pe([]),r=Pe([]),n=Pe([]),i=Pe([]),a=(v,y)=>Oe(()=>{const w=v.value,g=dr.calculateModifiedTags(e.effects,y,e.isEffectSingleActive).map(_=>({..._,_id:`effect-${y}-${_.text}`})),b=[...w];return g.forEach(_=>{w.some(x=>x.text===_.text)||b.push(_)}),b}),s=a(t,"condition-immunities"),o=a(r,"damage-resistances"),u=a(n,"damage-immunities"),l=a(i,"damage-vulnerabilities"),c=Oe(()=>u.value),f=Oe(()=>{const v=new Set(u.value.map(w=>w.text)),y=new Set(l.value.map(w=>w.text));return o.value.filter(w=>!v.has(w.text)&&!y.has(w.text))}),d=Oe(()=>{const v=new Set(u.value.map(w=>w.text)),y=new Set(o.value.map(w=>w.text));return l.value.filter(w=>!v.has(w.text)&&!y.has(w.text))});return{conditionImmunities:t,damageResistances:r,damageImmunities:n,damageVulnerabilities:i,combinedConditionImmunities:s,combinedDamageResistances:o,combinedDamageImmunities:u,combinedDamageVulnerabilities:l,displayDamageImmunities:c,displayDamageResistances:f,displayDamageVulnerabilities:d,dehydrate:()=>({defenses:{conditionImmunities:rn(t.value),damageResistances:rn(r.value),damageImmunities:rn(n.value),damageVulnerabilities:rn(i.value)}}),setDefenses:v=>{t.value=v.conditionImmunities,r.value=v.damageResistances,n.value=v.damageImmunities,i.value=v.damageVulnerabilities},hydrate:v=>{v?.defenses&&(t.value=Hr(v.defenses.conditionImmunities),r.value=Hr(v.defenses.damageResistances),n.value=Hr(v.defenses.damageImmunities),i.value=Hr(v.defenses.damageVulnerabilities))}}}),lD=hi("conditions",()=>{const e=Pe([]),t=s=>e.value.includes(s);return{activeConditions:e,isConditionActive:t,toggleCondition:s=>{t(s)?e.value=e.value.filter(o=>o!==s):e.value.push(s)},setActiveConditions:s=>{e.value=Array.from(new Set(s))},hydrate:s=>{s?.conditions&&(e.value=ar(s.conditions.activeConditions)??[])},dehydrate:()=>({conditions:{activeConditions:ur(e.value)}})}}),cD=hi("senses",()=>{const e=Pe(Je.senses.reduce((s,o)=>(s[o]=0,s),{})),t=s=>{const o=kt();return Oe(()=>{const u=e.value[s]||0,l=`sense-${s}`;return o.getModifiedValue(u,l).value})},r=Oe(()=>Je.senses.map(s=>({key:s,label:`titles.sense.${s}`,value:t(s)}))),n=Oe(()=>r.value.filter(s=>s.value.value.final>0));return{manualSenses:e,activeSenses:n,getSenseValue:t,hydrate:s=>{s?.senses?.manualSenses&&Je.senses.forEach(o=>{typeof s.senses.manualSenses[o]=="number"&&(e.value[o]=s.senses.manualSenses[o])})},dehydrate:()=>({senses:{manualSenses:e.value}})}}),fD=hi("sheetStore",()=>{const e={meta:yo(),biography:yY(),abilities:Yr(),modifiers:kt(),proficiencies:Qo(),progression:Zt(),features:Ri(),actions:Wc(),resources:Kh(),equipment:ou(),combat:La(),currency:YN(),tags:ki(),spells:Ln(),npcs:is(),defenses:uD(),unrankedProficiencies:oD(),attunement:Lg(),conditions:lD(),senses:cD()},t=Pe(!1),r=Object.keys(e);return{...e,storeRegistry:r,getValue:f=>Tx.value(e,f),setValue:(f,d)=>Tx.value(e,f,d),doAction:(f,d)=>{const p=Tx.value(e,f);typeof p=="function"&&p(d,e)},dehydrateStore:()=>{const f={};return f.attributes={},Object.keys(e).forEach(p=>{if(p==="meta"){const{name:m,bio:h,gmNotes:v,avatar:y}=e.meta.dehydrate();f.name=m,f.bio=h,f.gmNotes=v,f.avatar=y}else f.attributes[p]=e[p].dehydrate()}),f},hydrateStore:(f,d)=>{f&&r.forEach(p=>{!f[p]&&p!="npcs"||e[p].hydrate(f[p])}),d&&e.meta.hydrate(d)},setPermissions:(f,d)=>{e.meta.permissions.isOwner=f,e.meta.permissions.isGM=d},setCampaignId:f=>{e.meta.campaignId=f},pageLoading:t,loadExampleData:()=>{}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const cm=typeof window<"u";function aet(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const En=Object.assign;function qS(e,t){const r={};for(const n in t){const i=t[n];r[n]=lu(i)?i.map(e):e(i)}return r}const nv=()=>{},lu=Array.isArray,set=/\/$/,oet=e=>e.replace(set,"");function jS(e,t,r="/"){let n,i={},a="",s="";const o=t.indexOf("#");let u=t.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(n=t.slice(0,u),a=t.slice(u+1,o>-1?o:t.length),i=e(a)),o>-1&&(n=n||t.slice(0,o),s=t.slice(o,t.length)),n=det(n??t,r),{fullPath:n+(a&&"?")+a+s,path:n,query:i,hash:s}}function uet(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function gB(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cet(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&yh(t.matched[n],r.matched[i])&&wY(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function yh(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wY(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!fet(e[r],t[r]))return!1;return!0}function fet(e,t){return lu(e)?yB(e,t):lu(t)?yB(t,e):e===t}function yB(e,t){return lu(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function det(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var Kv;(function(e){e.pop="pop",e.push="push"})(Kv||(Kv={}));var iv;(function(e){e.back="back",e.forward="forward",e.unknown=""})(iv||(iv={}));function pet(e){if(!e)if(cm){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),oet(e)}const met=/^[^#]+#/;function het(e,t){return e.replace(met,"#")+t}function vet(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const BA=()=>({left:window.pageXOffset,top:window.pageYOffset});function get(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=vet(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function bB(e,t){return(history.state?history.state.position-t:-1)+e}const S4=new Map;function yet(e,t){S4.set(e,t)}function bet(e){const t=S4.get(e);return S4.delete(e),t}let _et=()=>location.protocol+"//"+location.host;function xY(e,t){const{pathname:r,search:n,hash:i}=t,a=e.indexOf("#");if(a>-1){let o=i.includes(e.slice(a))?e.slice(a).length:1,u=i.slice(o);return u[0]!=="/"&&(u="/"+u),gB(u,"")}return gB(r,e)+n+i}function Aet(e,t,r,n){let i=[],a=[],s=null;const o=({state:d})=>{const p=xY(e,location),m=r.value,h=t.value;let v=0;if(d){if(r.value=p,t.value=d,s&&s===m){s=null;return}v=h?d.position-h.position:0}else n(p);i.forEach(y=>{y(r.value,m,{delta:v,type:Kv.pop,direction:v?v>0?iv.forward:iv.back:iv.unknown})})};function u(){s=r.value}function l(d){i.push(d);const p=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return a.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(En({},d.state,{scroll:BA()}),"")}function f(){for(const d of a)d();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:f}}function _B(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?BA():null}}function wet(e){const{history:t,location:r}=window,n={value:xY(e,r)},i={value:t.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(u,l,c){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+u:_et()+e+u;try{t[c?"replaceState":"pushState"](l,"",d),i.value=l}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function s(u,l){const c=En({},t.state,_B(i.value.back,u,i.value.forward,!0),l,{position:i.value.position});a(u,c,!0),n.value=u}function o(u,l){const c=En({},i.value,t.state,{forward:u,scroll:BA()});a(c.current,c,!0);const f=En({},_B(n.value,u,null),{position:c.position+1},l);a(u,f,!1),n.value=u}return{location:n,state:i,push:o,replace:s}}function xet(e){e=pet(e);const t=wet(e),r=Aet(e,t.state,t.location,t.replace);function n(a,s=!0){s||r.pauseListeners(),history.go(a)}const i=En({location:"",base:e,go:n,createHref:het.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Eet(e){return typeof e=="string"||e&&typeof e=="object"}function SY(e){return typeof e=="string"||typeof e=="symbol"}const Tc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},EY=Symbol("");var AB;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(AB||(AB={}));function bh(e,t){return En(new Error,{type:e,[EY]:!0},t)}function xl(e,t){return e instanceof Error&&EY in e&&(t==null||!!(e.type&t))}const wB="[^/]+?",Cet={sensitive:!1,strict:!1,start:!0,end:!0},$et=/[.+*?^${}()[\]/\\]/g;function Net(e,t){const r=En({},Cet,t),n=[];let i=r.start?"^":"";const a=[];for(const l of e){const c=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let f=0;f<l.length;f++){const d=l[f];let p=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace($et,"\\$&"),p+=40;else if(d.type===1){const{value:m,repeatable:h,optional:v,regexp:y}=d;a.push({name:m,repeatable:h,optional:v});const w=y||wB;if(w!==wB){p+=10;try{new RegExp(`(${w})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+b.message)}}let g=h?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(g=v&&l.length<2?`(?:/${g})`:"/"+g),v&&(g+="?"),i+=g,p+=20,v&&(p+=-8),h&&(p+=-20),w===".*"&&(p+=-50)}c.push(p)}n.push(c)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function o(l){const c=l.match(s),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",m=a[d-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function u(l){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:h,optional:v}=p,y=m in l?l[m]:"";if(lu(y)&&!h)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=lu(y)?y.join("/"):y;if(!w)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=w}}return c||"/"}return{re:s,score:n,keys:a,parse:o,stringify:u}}function Det(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Tet(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const a=Det(n[r],i[r]);if(a)return a;r++}if(Math.abs(i.length-n.length)===1){if(xB(n))return 1;if(xB(i))return-1}return i.length-n.length}function xB(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ket={type:0,value:""},Iet=/[a-zA-Z0-9_]/;function Oet(e){if(!e)return[[]];if(e==="/")return[[ket]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${r})/"${l}": ${p}`)}let r=0,n=r;const i=[];let a;function s(){a&&i.push(a),a=[]}let o=0,u,l="",c="";function f(){l&&(r===0?a.push({type:0,value:l}):r===1||r===2||r===3?(a.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=u}for(;o<e.length;){if(u=e[o++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(l&&f(),s()):u===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:u==="("?r=2:Iet.test(u)?d():(f(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:f(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${l}"`),f(),s(),i}function Met(e,t,r){const n=Net(Oet(e.path),r),i=En(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Pet(e,t){const r=[],n=new Map;t=CB({strict:!1,end:!0,sensitive:!1},t);function i(c){return n.get(c)}function a(c,f,d){const p=!d,m=Bet(c);m.aliasOf=d&&d.record;const h=CB(t,c),v=[m];if("alias"in c){const g=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of g)v.push(En({},m,{components:d?d.record.components:m.components,path:b,aliasOf:d?d.record:m}))}let y,w;for(const g of v){const{path:b}=g;if(f&&b[0]!=="/"){const _=f.record.path,x=_[_.length-1]==="/"?"":"/";g.path=f.record.path+(b&&x+b)}if(y=Met(g,f,h),d?d.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),p&&c.name&&!EB(y)&&s(c.name)),m.children){const _=m.children;for(let x=0;x<_.length;x++)a(_[x],y,d&&d.children[x])}d=d||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&u(y)}return w?()=>{s(w)}:nv}function s(c){if(SY(c)){const f=n.get(c);f&&(n.delete(c),r.splice(r.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=r.indexOf(c);f>-1&&(r.splice(f,1),c.record.name&&n.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function o(){return r}function u(c){let f=0;for(;f<r.length&&Tet(c,r[f])>=0&&(c.record.path!==r[f].record.path||!CY(c,r[f]));)f++;r.splice(f,0,c),c.record.name&&!EB(c)&&n.set(c.record.name,c)}function l(c,f){let d,p={},m,h;if("name"in c&&c.name){if(d=n.get(c.name),!d)throw bh(1,{location:c});h=d.record.name,p=En(SB(f.params,d.keys.filter(w=>!w.optional).map(w=>w.name)),c.params&&SB(c.params,d.keys.map(w=>w.name))),m=d.stringify(p)}else if("path"in c)m=c.path,d=r.find(w=>w.re.test(m)),d&&(p=d.parse(m),h=d.record.name);else{if(d=f.name?n.get(f.name):r.find(w=>w.re.test(f.path)),!d)throw bh(1,{location:c,currentLocation:f});h=d.record.name,p=En({},f.params,c.params),m=d.stringify(p)}const v=[];let y=d;for(;y;)v.unshift(y.record),y=y.parent;return{name:h,path:m,params:p,matched:v,meta:Fet(v)}}return e.forEach(c=>a(c)),{addRoute:a,resolve:l,removeRoute:s,getRoutes:o,getRecordMatcher:i}}function SB(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function Bet(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Let(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Let(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function EB(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fet(e){return e.reduce((t,r)=>En(t,r.meta),{})}function CB(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function CY(e,t){return t.children.some(r=>r===e||CY(e,r))}const $Y=/#/g,Ret=/&/g,Uet=/\//g,zet=/=/g,qet=/\?/g,NY=/\+/g,jet=/%5B/g,Vet=/%5D/g,DY=/%5E/g,Het=/%60/g,TY=/%7B/g,Get=/%7C/g,kY=/%7D/g,Zet=/%20/g;function dD(e){return encodeURI(""+e).replace(Get,"|").replace(jet,"[").replace(Vet,"]")}function Wet(e){return dD(e).replace(TY,"{").replace(kY,"}").replace(DY,"^")}function E4(e){return dD(e).replace(NY,"%2B").replace(Zet,"+").replace($Y,"%23").replace(Ret,"%26").replace(Het,"`").replace(TY,"{").replace(kY,"}").replace(DY,"^")}function Ket(e){return E4(e).replace(zet,"%3D")}function Jet(e){return dD(e).replace($Y,"%23").replace(qet,"%3F")}function Yet(e){return e==null?"":Jet(e).replace(Uet,"%2F")}function H_(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Xet(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const a=n[i].replace(NY," "),s=a.indexOf("="),o=H_(s<0?a:a.slice(0,s)),u=s<0?null:H_(a.slice(s+1));if(o in t){let l=t[o];lu(l)||(l=t[o]=[l]),l.push(u)}else t[o]=u}return t}function $B(e){let t="";for(let r in e){const n=e[r];if(r=Ket(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(lu(n)?n.map(a=>a&&E4(a)):[n&&E4(n)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+r,a!=null&&(t+="="+a))})}return t}function Qet(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=lu(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const ett=Symbol(""),NB=Symbol(""),LA=Symbol(""),IY=Symbol(""),C4=Symbol("");function R0(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function jc(e,t,r,n,i){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,o)=>{const u=f=>{f===!1?o(bh(4,{from:r,to:t})):f instanceof Error?o(f):Eet(f)?o(bh(2,{from:t,to:f})):(a&&n.enterCallbacks[i]===a&&typeof f=="function"&&a.push(f),s())},l=e.call(n&&n.instances[i],t,r,u);let c=Promise.resolve(l);e.length<3&&(c=c.then(u)),c.catch(f=>o(f))})}function VS(e,t,r,n){const i=[];for(const a of e)for(const s in a.components){let o=a.components[s];if(!(t!=="beforeRouteEnter"&&!a.instances[s]))if(ttt(o)){const l=(o.__vccOpts||o)[t];l&&i.push(jc(l,r,n,a,s))}else{let u=o();i.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${a.path}"`));const c=aet(l)?l.default:l;a.components[s]=c;const d=(c.__vccOpts||c)[t];return d&&jc(d,r,n,a,s)()}))}}return i}function ttt(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function DB(e){const t=js(LA),r=js(IY),n=Oe(()=>t.resolve(he(e.to))),i=Oe(()=>{const{matched:u}=n.value,{length:l}=u,c=u[l-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(yh.bind(null,c));if(d>-1)return d;const p=TB(u[l-2]);return l>1&&TB(c)===p&&f[f.length-1].path!==p?f.findIndex(yh.bind(null,u[l-2])):d}),a=Oe(()=>i.value>-1&&att(r.params,n.value.params)),s=Oe(()=>i.value>-1&&i.value===r.matched.length-1&&wY(r.params,n.value.params));function o(u={}){return itt(u)?t[he(e.replace)?"replace":"push"](he(e.to)).catch(nv):Promise.resolve()}return{route:n,href:Oe(()=>n.value.href),isActive:a,isExactActive:s,navigate:o}}const rtt=ft({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:DB,setup(e,{slots:t}){const r=Gs(DB(e)),{options:n}=js(LA),i=Oe(()=>({[kB(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[kB(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=t.default&&t.default(r);return e.custom?a:np("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},a)}}}),ntt=rtt;function itt(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function att(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!lu(i)||i.length!==n.length||n.some((a,s)=>a!==i[s]))return!1}return!0}function TB(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const kB=(e,t,r)=>e??t??r,stt=ft({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=js(C4),i=Oe(()=>e.route||n.value),a=js(NB,0),s=Oe(()=>{let l=he(a);const{matched:c}=i.value;let f;for(;(f=c[l])&&!f.components;)l++;return l}),o=Oe(()=>i.value.matched[s.value]);W0(NB,Oe(()=>s.value+1)),W0(ett,o),W0(C4,i);const u=Pe();return Xn(()=>[u.value,o.value,e.name],([l,c,f],[d,p,m])=>{c&&(c.instances[f]=l,p&&p!==c&&l&&l===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),l&&c&&(!p||!yh(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(h=>h(l))},{flush:"post"}),()=>{const l=i.value,c=e.name,f=o.value,d=f&&f.components[c];if(!d)return IB(r.default,{Component:d,route:l});const p=f.props[c],m=p?p===!0?l.params:typeof p=="function"?p(l):p:null,v=np(d,En({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return IB(r.default,{Component:v,route:l})||v}}});function IB(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const ott=stt;function utt(e){const t=Pet(e.routes,e),r=e.parseQuery||Xet,n=e.stringifyQuery||$B,i=e.history,a=R0(),s=R0(),o=R0(),u=Oi(Tc);let l=Tc;cm&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=qS.bind(null,W=>""+W),f=qS.bind(null,Yet),d=qS.bind(null,H_);function p(W,Q){let J,se;return SY(W)?(J=t.getRecordMatcher(W),se=Q):se=W,t.addRoute(se,J)}function m(W){const Q=t.getRecordMatcher(W);Q&&t.removeRoute(Q)}function h(){return t.getRoutes().map(W=>W.record)}function v(W){return!!t.getRecordMatcher(W)}function y(W,Q){if(Q=En({},Q||u.value),typeof W=="string"){const q=jS(r,W,Q.path),me=t.resolve({path:q.path},Q),X=i.createHref(q.fullPath);return En(q,me,{params:d(me.params),hash:H_(q.hash),redirectedFrom:void 0,href:X})}let J;if("path"in W)J=En({},W,{path:jS(r,W.path,Q.path).path});else{const q=En({},W.params);for(const me in q)q[me]==null&&delete q[me];J=En({},W,{params:f(q)}),Q.params=f(Q.params)}const se=t.resolve(J,Q),Ce=W.hash||"";se.params=c(d(se.params));const Te=uet(n,En({},W,{hash:Wet(Ce),path:se.path})),oe=i.createHref(Te);return En({fullPath:Te,hash:Ce,query:n===$B?Qet(W.query):W.query||{}},se,{redirectedFrom:void 0,href:oe})}function w(W){return typeof W=="string"?jS(r,W,u.value.path):En({},W)}function g(W,Q){if(l!==W)return bh(8,{from:Q,to:W})}function b(W){return E(W)}function _(W){return b(En(w(W),{replace:!0}))}function x(W){const Q=W.matched[W.matched.length-1];if(Q&&Q.redirect){const{redirect:J}=Q;let se=typeof J=="function"?J(W):J;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=w(se):{path:se},se.params={}),En({query:W.query,hash:W.hash,params:"path"in se?{}:W.params},se)}}function E(W,Q){const J=l=y(W),se=u.value,Ce=W.state,Te=W.force,oe=W.replace===!0,q=x(J);if(q)return E(En(w(q),{state:typeof q=="object"?En({},Ce,q.state):Ce,force:Te,replace:oe}),Q||J);const me=J;me.redirectedFrom=Q;let X;return!Te&&cet(n,se,J)&&(X=bh(16,{to:me,from:se}),le(se,se,!0,!1)),(X?Promise.resolve(X):D(me,se)).catch(K=>xl(K)?xl(K,2)?K:R(K):T(K,me,se)).then(K=>{if(K){if(xl(K,2))return E(En({replace:oe},w(K.to),{state:typeof K.to=="object"?En({},Ce,K.to.state):Ce,force:Te}),Q||me)}else K=k(me,se,!0,oe,Ce);return N(me,se,K),K})}function C(W,Q){const J=g(W,Q);return J?Promise.reject(J):Promise.resolve()}function $(W){const Q=H.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(W):W()}function D(W,Q){let J;const[se,Ce,Te]=ltt(W,Q);J=VS(se.reverse(),"beforeRouteLeave",W,Q);for(const q of se)q.leaveGuards.forEach(me=>{J.push(jc(me,W,Q))});const oe=C.bind(null,W,Q);return J.push(oe),ae(J).then(()=>{J=[];for(const q of a.list())J.push(jc(q,W,Q));return J.push(oe),ae(J)}).then(()=>{J=VS(Ce,"beforeRouteUpdate",W,Q);for(const q of Ce)q.updateGuards.forEach(me=>{J.push(jc(me,W,Q))});return J.push(oe),ae(J)}).then(()=>{J=[];for(const q of Te)if(q.beforeEnter)if(lu(q.beforeEnter))for(const me of q.beforeEnter)J.push(jc(me,W,Q));else J.push(jc(q.beforeEnter,W,Q));return J.push(oe),ae(J)}).then(()=>(W.matched.forEach(q=>q.enterCallbacks={}),J=VS(Te,"beforeRouteEnter",W,Q),J.push(oe),ae(J))).then(()=>{J=[];for(const q of s.list())J.push(jc(q,W,Q));return J.push(oe),ae(J)}).catch(q=>xl(q,8)?q:Promise.reject(q))}function N(W,Q,J){o.list().forEach(se=>$(()=>se(W,Q,J)))}function k(W,Q,J,se,Ce){const Te=g(W,Q);if(Te)return Te;const oe=Q===Tc,q=cm?history.state:{};J&&(se||oe?i.replace(W.fullPath,En({scroll:oe&&q&&q.scroll},Ce)):i.push(W.fullPath,Ce)),u.value=W,le(W,Q,J,oe),R()}let P;function U(){P||(P=i.listen((W,Q,J)=>{if(!ve.listening)return;const se=y(W),Ce=x(se);if(Ce){E(En(Ce,{replace:!0}),se).catch(nv);return}l=se;const Te=u.value;cm&&yet(bB(Te.fullPath,J.delta),BA()),D(se,Te).catch(oe=>xl(oe,12)?oe:xl(oe,2)?(E(oe.to,se).then(q=>{xl(q,20)&&!J.delta&&J.type===Kv.pop&&i.go(-1,!1)}).catch(nv),Promise.reject()):(J.delta&&i.go(-J.delta,!1),T(oe,se,Te))).then(oe=>{oe=oe||k(se,Te,!1),oe&&(J.delta&&!xl(oe,8)?i.go(-J.delta,!1):J.type===Kv.pop&&xl(oe,20)&&i.go(-1,!1)),N(se,Te,oe)}).catch(nv)}))}let L=R0(),B=R0(),O;function T(W,Q,J){R(W);const se=B.list();return se.length?se.forEach(Ce=>Ce(W,Q,J)):console.error(W),Promise.reject(W)}function j(){return O&&u.value!==Tc?Promise.resolve():new Promise((W,Q)=>{L.add([W,Q])})}function R(W){return O||(O=!W,U(),L.list().forEach(([Q,J])=>W?J(W):Q()),L.reset()),W}function le(W,Q,J,se){const{scrollBehavior:Ce}=e;if(!cm||!Ce)return Promise.resolve();const Te=!J&&bet(bB(W.fullPath,0))||(se||!J)&&history.state&&history.state.scroll||null;return _f().then(()=>Ce(W,Q,Te)).then(oe=>oe&&get(oe)).catch(oe=>T(oe,W,Q))}const re=W=>i.go(W);let F;const H=new Set,ve={currentRoute:u,listening:!0,addRoute:p,removeRoute:m,hasRoute:v,getRoutes:h,resolve:y,options:e,push:b,replace:_,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:B.add,isReady:j,install(W){const Q=this;W.component("RouterLink",ntt),W.component("RouterView",ott),W.config.globalProperties.$router=Q,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>he(u)}),cm&&!F&&u.value===Tc&&(F=!0,b(i.location).catch(Ce=>{}));const J={};for(const Ce in Tc)Object.defineProperty(J,Ce,{get:()=>u.value[Ce],enumerable:!0});W.provide(LA,Q),W.provide(IY,z4(J)),W.provide(C4,u);const se=W.unmount;H.add(W),W.unmount=function(){H.delete(W),H.size<1&&(l=Tc,P&&P(),P=null,u.value=Tc,F=!1,O=!1),se()}}};function ae(W){return W.reduce((Q,J)=>Q.then(()=>$(J)),Promise.resolve())}return ve}function ltt(e,t){const r=[],n=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let s=0;s<a;s++){const o=t.matched[s];o&&(e.matched.find(l=>yh(l,o))?n.push(o):r.push(o));const u=e.matched[s];u&&(t.matched.find(l=>yh(l,u))||i.push(u))}return[r,n,i]}function ctt(){return js(LA)}const ftt=e=>(Hi("data-v-1afbb9c1"),e=e(),Gi(),e),dtt={class:"toggle-switch"},ptt=["disabled","checked"],mtt=ftt(()=>M("div",{class:"toggle-switch__slider"},null,-1)),htt=ft({__name:"ToggleSwitch",props:{modelValue:{type:[Boolean,String,Number]},disabled:{type:Boolean,default:!1},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t}){const r=e,n=t,i=a=>{const o=a.target.checked?r.checkedValue:r.uncheckedValue;n("change",o),n("update:modelValue",o)};return(a,s)=>(Z(),ee("div",dtt,[M("input",{class:"toggle-switch__input",type:"checkbox",disabled:a.disabled,checked:a.modelValue===a.checkedValue,onChange:i},null,40,ptt),mtt]))}});const Vg=xt(htt,[["__scopeId","data-v-1afbb9c1"]]),pD=hi("rollDialog",()=>{const e=Pe(!1),t=Pe(null),r=Pe(null),n=Pe(""),i=Oi(0);function a(o,u){e.value=!0,t.value=o,r.value=u,n.value="",i.value=o==="d20"?0:!1}function s(){e.value=!1,t.value=null,r.value=null,i.value=0,n.value=""}return{isOpen:e,rollType:t,rollArgs:r,additionalBonus:n,selectedMode:i,open:a,close:s}}),vtt={class:"roll-dialog"},gtt={class:"roll-dialog__header"},ytt={class:"roll-dialog__title"},btt=["title"],_tt={class:"roll-dialog__content"},Att={class:"roll-dialog__breakdown"},wtt={class:"roll-dialog__breakdown-title"},xtt={class:"roll-dialog__breakdown-list"},Stt={class:"roll-dialog__controls"},Ett={key:0,class:"sanguomancy-section"},Ctt={class:"sanguomancy-section__title"},$tt={class:"sanguomancy-section__grid"},Ntt=["onUpdate:modelValue","max"],Dtt={class:"roll-dialog__roll-type"},Ttt={for:"rollTypeSelect"},ktt={value:0},Itt={value:1},Ott={value:-1},Mtt={value:!1},Ptt={key:0,value:!0},Btt={class:"roll-dialog__bonus-input"},Ltt={for:"additionalBonus"},Ftt={class:"roll-dialog__footer"},Rtt=ft({__name:"RollDialog",setup(e){const t=pD(),{t:r}=Bt(),n=Zt(),i=Pe({}),a=Pe(0),s=Oe(()=>{const d=n.hitDice.used,p=n.getHitDice,m={};return Je.hitDieSize.forEach(h=>{const v=h,y=d[v]||0,w=p[v]||0;m[h]=Math.min(y,w)}),m}),o=Oe(()=>Object.values(i.value).reduce((d,p)=>d+(p||0),0)),u=()=>{i.value=Je.hitDieSize.reduce((d,p)=>(d[p]=0,d),{}),a.value=0},l=d=>{const p=[...Je.hitDieSize].reverse();let m=d;const h={...i.value};for(const v of p){if(m<=0)break;const y=s.value[v]||0,w=Math.min(y,m);h[v]=w,m-=w}i.value=h};Xn(()=>t.rollArgs,d=>{if(u(),!d||t.rollType!=="damage")return;const p=d;let m=0;p.damageRolls?.forEach(h=>{const y=(h.originalFormula||h.damage).match(/hit-dice:(\d+)/);y&&(m=parseInt(y[1],10))}),m>0&&(a.value=m,l(m))},{immediate:!0});const c=Oe(()=>{if(!t.rollArgs)return[];const d=[];if(t.rollType==="d20"){const p=t.rollArgs,{baseComponents:m,effectRollBonuses:h}=mYe(p);m.forEach(v=>{d.push({label:v.label,value:v.value>0?`+${v.value}`:String(v.value)})}),h.forEach(v=>{const y=!!v.sides,w=y?`${Math.abs(v.count)}d${v.sides}`:String(v.value),g=(y?v.count:v.value)<0?"-":"+";d.push({label:v.label,value:`${g} ${w.replace("-","")}`})})}else if(t.rollType==="damage"){const p=t.rollArgs,{baseComponents:m,flatBonuses:h,rollBonuses:v}=hYe(p);m.forEach(y=>{d.push({label:y.label,value:String(y.value)})}),h.forEach(y=>{d.push({label:y.name,value:y.value>0?`+${y.value}`:String(y.value)})}),v.forEach(y=>{const w=!!y.sides,g=w?`${Math.abs(y.count)}d${y.sides}`:String(y.value),b=(w?y.count:y.value)<0?"-":"+";d.push({label:y.label,value:`${b} ${g.replace("-","")}`})})}return d}),f=async()=>{if(t.rollArgs){if(t.rollType==="d20"){const d=pi(t.rollArgs),p=hh(t.additionalBonus),m=mh(p,r("titles.bonus")),h=m.filter(y=>y.sides),v=m.filter(y=>!y.sides&&y.value).map(y=>({label:y.label||r("titles.additional-bonus"),value:y.value}));d.bonuses||(d.bonuses=[]),d.bonuses.push(...v),d.additionalComponents=h,d.advantage=t.selectedMode,await UJ(d)}else if(t.rollType==="damage"){const d=pi(t.rollArgs);if(a.value>0){if(o.value!==a.value)return;const m=Object.entries(i.value).filter(([v,y])=>y>0).map(([v,y])=>{const w=v.substring(1);return`${y}${w}`}),h=m.length>0?m.join("+"):"0";d.damageRolls?.forEach(v=>{const y=v.originalFormula||v.damage;v.damage=y.replace(/@?\{hit-dice:\d+\}/g,h)})}const p=hh(t.additionalBonus);d.additionalComponents=mh(p,r("titles.damage")),d.isCrit=t.selectedMode,d.t=r,await zJ(d)}t.close()}};return(d,p)=>(Z(),Yt(aC,{to:"body"},[he(t).isOpen?(Z(),ee("div",{key:0,class:"roll-dialog__overlay",onClick:p[4]||(p[4]=Qr((...m)=>he(t).close&&he(t).close(...m),["self"]))},[M("div",vtt,[M("div",gtt,[M("h3",ytt,ne(he(t).rollArgs?.rollName),1),M("button",{class:"roll-dialog__close-button",onClick:p[0]||(p[0]=(...m)=>he(t).close&&he(t).close(...m)),title:he(r)("actions.close")},[Fe(Qn,{icon:"close"})],8,btt)]),M("div",_tt,[M("div",Att,[M("h4",wtt,ne(he(r)("rolls.details")),1),M("ul",xtt,[(Z(!0),ee(tt,null,wt(c.value,(m,h)=>(Z(),ee("li",{key:h,class:"roll-dialog__breakdown-item"},[M("span",null,ne(m.label),1),M("span",null,ne(m.value),1)]))),128))])])]),M("div",Stt,[a.value>0?(Z(),ee("div",Ett,[M("h4",Ctt,[Xe(ne(he(r)("titles.hit-dice"))+" ",1),M("span",{class:Sr({"text-error":o.value!==a.value})}," ("+ne(o.value)+" / "+ne(a.value)+") ",3)]),M("div",$tt,[(Z(!0),ee(tt,null,wt(he(Je).hitDieSize,m=>(Z(),ee("div",{key:m,class:Sr(["sanguomancy-item",{"sanguomancy-item--disabled":(s.value[m]||0)===0&&i.value[m]===0}])},[M("label",null,ne(m)+" ("+ne(s.value[m]||0)+")",1),Ze(M("input",{type:"number","onUpdate:modelValue":h=>i.value[m]=h,min:"0",max:s.value[m]||0},null,8,Ntt),[[gt,i.value[m],void 0,{number:!0}]])],2))),128))])])):He("",!0),M("div",Dtt,[M("label",Ttt,ne(he(r)("rolls.roll-type")),1),he(t).rollType==="d20"?Ze((Z(),ee("select",{key:0,id:"rollTypeSelect","onUpdate:modelValue":p[1]||(p[1]=m=>he(t).selectedMode=m)},[M("option",ktt,ne(he(r)("rolls.normal")),1),M("option",Itt,ne(he(r)("rolls.advantage")),1),M("option",Ott,ne(he(r)("rolls.disadvantage")),1)],512)),[[lr,he(t).selectedMode]]):He("",!0),he(t).rollType==="damage"?Ze((Z(),ee("select",{key:1,id:"rollTypeSelect","onUpdate:modelValue":p[2]||(p[2]=m=>he(t).selectedMode=m)},[M("option",Mtt,ne(he(r)("titles.damage")),1),he(t).rollArgs.canCrit?(Z(),ee("option",Ptt,ne(he(r)("rolls.crit")),1)):He("",!0)],512)),[[lr,he(t).selectedMode]]):He("",!0)]),M("div",Btt,[M("label",Ltt,ne(he(r)("titles.additional-bonus")),1),Ze(M("input",{id:"additionalBonus",type:"text","onUpdate:modelValue":p[3]||(p[3]=m=>he(t).additionalBonus=m),placeholder:"e.g., 5 or 1d4+2"},null,512),[[gt,he(t).additionalBonus]])])]),M("div",Ftt,[M("button",{class:"button button--primary button--full-width",onClick:f},ne(he(r)("actions.roll")),1)])])])):He("",!0)]))}});const Utt=xt(Rtt,[["__scopeId","data-v-4dcb3027"]]);const OY=e=>(Hi("data-v-c6c4f583"),e=e(),Gi(),e),ztt=OY(()=>M("div",{class:"logo"},[M("img",{src:"https://i.postimg.cc/zXVY0Dtc/logo.png",alt:"Logo"})],-1)),qtt={class:"header"},jtt={class:"header__tabs"},Vtt={key:0,class:"npc-switch"},Htt=OY(()=>M("div",{class:"sheet-background"},null,-1)),Gtt={__name:"App",setup(e){fD();const t=is(),r=ctt(),n=yo(),i=Pe(!1);function a(u){}function s(u){}const o=Oe(()=>n.permissions.isGM);return t.isNpc?r.replace({name:"npcs"}):r.replace({name:"core"}),Xn(()=>t.isNpc,u=>{u?r.replace({name:"npcs"}):r.replace({name:"core"})}),wf(()=>{window.addEventListener("keydown",a),window.addEventListener("keyup",s)}),wh(()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",s)}),(u,l)=>{const c=Wu("router-link"),f=Wu("router-view");return Z(),ee(tt,null,[M("div",{class:Sr(["sheet",{"ctrl-key-active":i.value,"sheet--npc":he(t).isNpc}])},[ztt,M("div",qtt,[M("div",jtt,[he(t).isNpc?He("",!0):(Z(),Yt(c,{key:0,to:"/core"},{default:Xr(()=>[Xe(ne(u.$t("titles.tabs.core")),1)]),_:1})),he(t).isNpc?He("",!0):(Z(),Yt(c,{key:1,to:"/spells"},{default:Xr(()=>[Xe(ne(u.$t("titles.tabs.spells")),1)]),_:1}))])]),o.value?(Z(),ee("div",Vtt,[Xe(ne(u.$t("titles.npc-sheet"))+" ",1),Fe(Vg,{modelValue:he(t).isNpc,"onUpdate:modelValue":l[0]||(l[0]=d=>he(t).isNpc=d),disabled:!1},null,8,["modelValue"])])):He("",!0),Fe(f,null,{default:Xr(({Component:d})=>[Fe(lg,null,{default:Xr(()=>[(Z(),Yt(J4(d)))]),_:2},1024)]),_:1}),Fe(mfe),Fe(Utt)],2),Htt],64)}}},Ztt=xt(Gtt,[["__scopeId","data-v-c6c4f583"]]),Wtt={class:"tags-input-container"},Ktt={class:"item-tags-input__label"},FA=ft({__name:"ItemTagsInput",props:{tagId:{},label:{},tagSource:{}},emits:["update"],setup(e,{emit:t}){const{t:r}=Bt(),n=e,i=t,a=ki(),s=Pe([]),o=h=>h.sort((v,y)=>v.text.localeCompare(y.text)),u=Pe(""),l=h=>{const v=a.getExistingOrCreate(h,n.tagSource);s.value=o(JSON.parse(JSON.stringify(v.tags)))};l(n.tagId),Xn(()=>n.tagId,h=>{l(h)});const c=h=>h==="equipment"?"titles.tag.equipment.":"",f=Oe(()=>{const h=c(n.tagSource);return s.value.map(v=>({...v,text:v.isDefault?r(h+v.text):v.text,originalKey:v.isDefault?v.text:void 0}))}),d=Oe(()=>{const h=c(n.tagSource),v=new Map;if(n.tagSource==="equipment"&&Je.autocomplete.equipmentTags.forEach(y=>{v.set(y.text,{text:r(h+y.text),originalKey:y.text,isDefault:!0})}),n.tagSource)for(const y of Object.values(a.tagGroups))y.category===n.tagSource&&y.tags.forEach(w=>{!w.isDefault&&!v.has(w.text)&&v.set(w.text,{text:w.text,isDefault:!1})});return Array.from(v.values())}),p=Oe(()=>{if(!u.value)return[];const h=u.value.toLowerCase();return d.value.filter(v=>v.text.toLowerCase().includes(h))}),m=h=>{const v=h.map(y=>({_id:y._id||Ct(),text:y.originalKey||y.text,isDefault:!!y.originalKey}));s.value=o(v),i("update",v)};return(h,v)=>{const y=Wu("vue-tags-input");return Z(),ee("div",Wtt,[M("label",Ktt,ne(h.$t(h.label)),1),Fe(y,{modelValue:u.value,"onUpdate:modelValue":v[0]||(v[0]=w=>u.value=w),tags:f.value,"autocomplete-items":p.value,"allow-edit-tags":!0,placeholder:h.$t("actions.add-tags")+"...",onTagsChanged:m},null,8,["modelValue","tags","autocomplete-items","placeholder"])])}}}),Jtt={class:"view-container"},Ytt={class:"columns columns-2"},Xtt={class:"span-2"},Qtt={class:"span-1"},ert={value:"class-features"},trt={value:"ancestry-features"},rrt={value:"feats"},nrt={value:"background-features"},irt={value:"others"},art={value:"others"},srt={value:"transformation-features"},ort={class:"span-1"},urt={class:"effects-editor"},lrt=ft({__name:"FeatureSidebar",props:{feature:{}},setup(e,{expose:t}){const r=Pe(null),n=e,i=Pe(n.feature?.label??""),a=Pe(n.feature?.group??""),s=Pe(n.feature?.source??""),o=Pe(n.feature?.description??""),u=n.feature?._id??Ct(),l=n.feature?.effectId??Ct(),c=ki(),f=n.feature?.tagId??Ct(),d=c.getExistingOrCreate(f,"feature"),p=Pe(JSON.parse(JSON.stringify(d.tags))),m=_=>{p.value=_};let h=JSON.stringify(Ya(kt().getEmptyEffect({_id:l})),null,2);const v=kt();if(n.feature?.effectId){const _=v.effects.find(x=>n.feature&&x._id===n.feature.effectId);if(_)try{h=JSON.stringify(Ya(_),null,2)}catch{h=JSON.stringify(Ya(kt().getEmptyEffect({_id:l})),null,2)}}const y=Pe(h),w=()=>{if(r.value&&!r.value.reportValidity())return;const _={_id:u,label:i.value.trim(),group:a.value,source:s.value.trim(),description:o.value?.trim(),effectId:l,tagId:f};g(_),en().close()},g=_=>{const x=Ri(),E=kt();x.update(_);let C={};try{C=JSON.parse(y.value),C._id=_.effectId}catch{C={_id:_.effectId}}E.update(C),c.update({_id:f,tags:p.value})};return Oe(()=>!n.feature?.group),t({save:w,remove:()=>{n.feature?._id&&(Ri().remove(n.feature._id),en().close())}}),(_,x)=>(Z(),ee("div",Jtt,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(w,["prevent"])},[M("div",Ytt,[M("label",Xtt,[Xe(ne(_.$t("titles.name"))+" * ",1),Ze(M("input",{"onUpdate:modelValue":x[0]||(x[0]=E=>i.value=E),required:""},null,512),[[gt,i.value]])]),M("label",Qtt,[Xe(ne(_.$t("titles.group"))+" * ",1),Ze(M("select",{"onUpdate:modelValue":x[1]||(x[1]=E=>a.value=E),required:""},[M("option",ert,ne(_.$t("titles.feature-groups.class-features")),1),M("option",trt,ne(_.$t("titles.feature-groups.ancestry-features")),1),M("option",rrt,ne(_.$t("titles.feature-groups.feats")),1),M("option",nrt,ne(_.$t("titles.feature-groups.background-features")),1),M("option",irt,ne(_.$t("titles.feature-groups.others")),1),M("option",art,ne(_.$t("titles.feature-groups.traits")),1),M("option",srt,ne(_.$t("titles.feature-groups.transformation-features")),1)],512),[[lr,a.value]])]),M("label",ort,[Xe(ne(_.$t("titles.source"))+" ",1),Ze(M("input",{"onUpdate:modelValue":x[2]||(x[2]=E=>s.value=E)},null,512),[[gt,s.value]])]),M("label",null,[Xe(ne(_.$t("titles.description"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":x[3]||(x[3]=E=>o.value=E),rows:"4"},null,512),[[gt,o.value]])]),Fe(FA,{tagId:he(f),onUpdate:m,label:"titles.tags",tagSource:"feature"},null,8,["tagId"]),M("label",urt,[Xe(ne(_.$t("titles.effects"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":x[4]||(x[4]=E=>y.value=E)},null,512),[[gt,y.value]])])])],544)]))}}),crt=e=>(Hi("data-v-5e6b0777"),e=e(),Gi(),e),frt={key:0,class:"damage-type"},drt={class:"damage-type__header"},prt={key:0},mrt=crt(()=>M("span",null,null,-1)),hrt=["onUpdate:modelValue"],vrt=["onUpdate:modelValue","placeholder"],grt=["onUpdate:modelValue"],yrt={value:"none"},brt={value:"spellcasting"},_rt=["value"],Art=["onUpdate:modelValue"],wrt=["value"],xrt=["onClick"],Srt=ft({__name:"DamageType",props:{damage:{},showCrit:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,n=s=>{r.damage.splice(s,1)},i=()=>{r.damage.push({ability:"none",damage:"",type:Je.dicePoolTypes[0],critDamage:""})},a=Oe(()=>{const s=["damage-type__container"];return r.showCrit&&s.push("damage-type__container--with-crit"),s});return(s,o)=>Array.isArray(s.damage)&&s.damage.length>0?(Z(),ee("div",frt,[M("div",{class:Sr(a.value)},[M("div",drt,[M("span",null,ne(s.$t("titles.damage")),1),s.showCrit?(Z(),ee("span",prt,ne(s.$t("titles.crit")),1)):He("",!0),M("span",null,ne(s.$t("titles.ability-bonus")),1),M("span",null,ne(s.$t("titles.damage-type")),1),mrt]),(Z(!0),ee(tt,null,wt(s.damage,(u,l)=>(Z(),ee("div",{key:l,class:"damage-type__row"},[Ze(M("input",{type:"text","onUpdate:modelValue":c=>u.damage=c,placeholder:"1d6 + 2"},null,8,hrt),[[gt,u.damage]]),s.showCrit?Ze((Z(),ee("input",{key:0,type:"text","onUpdate:modelValue":c=>u.critDamage=c,placeholder:he(RJ)(u.damage)},null,8,vrt)),[[gt,u.critDamage]]):He("",!0),Ze(M("select",{"onUpdate:modelValue":c=>u.ability=c},[M("option",yrt,ne(s.$t("titles.none")),1),M("option",brt,ne(s.$t("titles.spellcasting")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,c=>(Z(),ee("option",{key:c,value:c},ne(s.$t(`abbreviations.${c}`)),9,_rt))),128))],8,grt),[[lr,u.ability]]),Ze(M("select",{"onUpdate:modelValue":c=>u.type=c},[(Z(!0),ee(tt,null,wt(he(Je).dicePoolTypes,c=>(Z(),ee("option",{key:c,value:c},ne(s.$t(`titles.dice-pool-types.${c}`)),9,wrt))),128))],8,Art),[[lr,u.type]]),M("button",{type:"button",class:"button button--negative",onClick:c=>n(l)},[Fe(Qn,{icon:"delete"})],8,xrt)]))),128))],2),M("button",{type:"button",class:"damage-type__add button button--tertiary",onClick:i},[M("strong",null,ne(s.$t("actions.add-damage-roll")),1)])])):(Z(),ee("button",{key:1,type:"button",class:"damage-type__add button button--tertiary",onClick:i},[M("strong",null,ne(s.$t("actions.add-damage-roll")),1)]))}});const RA=xt(Srt,[["__scopeId","data-v-5e6b0777"]]),Ert={class:"view-container"},Crt={class:"columns columns-4"},$rt={class:"span-2"},Nrt={class:"span-2"},Drt={value:"actions"},Trt={value:"bonus-actions"},krt={value:"reactions"},Irt={value:"free-actions"},Ort={class:"toggable-group"},Mrt={class:"checkbox-label"},Prt={key:0,class:"toggable-group__options columns columns-3"},Brt={class:"span-1"},Lrt={value:"weapon"},Frt={value:"spell"},Rrt={class:"span-1"},Urt={value:"melee"},zrt={value:"ranged"},qrt={class:"span-1"},jrt={value:"none"},Vrt={value:"spellcasting"},Hrt=["value"],Grt={class:"span-1"},Zrt={class:"span-1"},Wrt=["value"],Krt={class:"span-1"},Jrt={class:"span-2"},Yrt={value:"none"},Xrt=["value"],Qrt={class:"span-2"},ent=["disabled"],tnt={key:0,class:"span-2"},rnt=["value"],nnt={class:"span-2"},int={class:"span-2"},ant=ft({__name:"ActionSidebar",props:{action:{}},setup(e,{expose:t}){const r=Ln(),n=Pe(null),i=e,a=Pe(pi(i.action||null)),s=Wc(),o=a.value?._id??Ct(),u=Pe(a.value?.name??""),l=Pe(a.value?.group??"actions"),c=Pe(a.value?.isAttack??!1),f=Pe(a.value?.attackType??"melee"),d=Pe(a.value?.sourceType??"weapon"),p=Pe(a.value?.critRange??20),m=Pe(a.value?.attackAbility??"none"),h=Pe(a.value?.attackBonus??"0"),v=Pe(a.value?.attackProficiency??1),y=Pe(a.value?.damage??[]),w=Pe(a.value?.saving??"none"),g=Pe(a.value?.spellSourceId??r.sources[0]?._id??""),b=Pe(a.value?.savingDc??"0"),_=Pe(a.value?.range??""),x=Pe(a.value?.target??""),E=Pe(a.value?.ammo??0),C=Pe(a?.value?.description??""),$=ki(),D=a.value?.tagId??Ct(),N=$.getExistingOrCreate(D,"action"),k=Pe(JSON.parse(JSON.stringify(N.tags))),P=O=>{k.value=O},U=Oe(()=>!!(m.value==="spellcasting"||b.value.includes("@{spell-dc}")||y.value.some(O=>O.ability==="spellcasting"))),L=()=>{if(n.value&&!n.value.reportValidity())return;const O={_id:o,name:u.value.trim(),group:l.value,attackAbility:m.value,attackBonus:h.value,attackProficiency:v.value,isAttack:c.value,attackType:f.value,sourceType:d.value,critRange:p.value,damage:y.value,saving:w.value,savingDc:b.value,range:_.value,target:x.value,ammo:E.value,description:C.value,tagId:D,spellSourceId:g.value};i.action?.sourceEffectId&&(O.sourceEffectId=i.action.sourceEffectId),s.update(O),$.update({_id:D,tags:k.value}),en().close()};return Xn(w,O=>{O==="none"&&(b.value="0")}),t({save:L,remove:()=>{a.value?._id&&(s.remove(i.action),a.value.tagId&&$.remove(a.value.tagId)),en().close()}}),(O,T)=>(Z(),ee("div",Ert,[M("form",{ref_key:"form",ref:n,onSubmit:Qr(L,["prevent"])},[M("div",Crt,[M("label",$rt,[Xe(ne(O.$t("titles.name"))+" * ",1),Ze(M("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=j=>u.value=j),required:""},null,512),[[gt,u.value]])]),M("label",Nrt,[Xe(ne(O.$t("titles.group"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[1]||(T[1]=j=>l.value=j),required:""},[M("option",Drt,ne(O.$t("titles.action-groups.actions")),1),M("option",Trt,ne(O.$t("titles.action-groups.bonus-actions")),1),M("option",krt,ne(O.$t("titles.action-groups.reactions")),1),M("option",Irt,ne(O.$t("titles.action-groups.free-actions")),1)],512),[[lr,l.value]])]),M("div",Ort,[M("label",Mrt,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":T[2]||(T[2]=j=>c.value=j)},null,512),[[ys,c.value]]),M("strong",null,ne(O.$t("titles.is-attack")),1)]),c.value?(Z(),ee("div",Prt,[M("label",Brt,[Xe(ne(O.$t("titles.source-type"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[3]||(T[3]=j=>d.value=j)},[M("option",Lrt,ne(O.$t("titles.source-types.weapon")),1),M("option",Frt,ne(O.$t("titles.source-types.spell")),1)],512),[[lr,d.value]])]),M("label",Rrt,[Xe(ne(O.$t("titles.attack-type"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[4]||(T[4]=j=>f.value=j)},[M("option",Urt,ne(O.$t("titles.attack-types.melee")),1),M("option",zrt,ne(O.$t("titles.attack-types.ranged")),1)],512),[[lr,f.value]])]),M("label",qrt,[Xe(ne(O.$t("titles.attack-ability"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[5]||(T[5]=j=>m.value=j)},[M("option",jrt,ne(O.$t("titles.none")),1),M("option",Vrt,ne(O.$t("titles.spellcasting")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,j=>(Z(),ee("option",{key:j,value:j},ne(O.$t(`titles.abilities.${j}`)),9,Hrt))),128))],512),[[lr,m.value]])]),M("label",Grt,[Xe(ne(O.$t("titles.attack-bonus"))+" ",1),Ze(M("input",{type:"text","onUpdate:modelValue":T[6]||(T[6]=j=>h.value=j)},null,512),[[gt,h.value]])]),M("label",Zrt,[Xe(ne(O.$t("titles.proficiency"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[7]||(T[7]=j=>v.value=j)},[(Z(!0),ee(tt,null,wt(he(V_),(j,R)=>(Z(),ee("option",{key:R,value:he(V_)[R]},ne(O.$t(`titles.proficiency-levels.${R}`)),9,Wrt))),128))],512),[[lr,v.value,void 0,{number:!0}]])]),M("label",Krt,[Xe(ne(O.$t("titles.crit-range"))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":T[8]||(T[8]=j=>p.value=j),min:"1",max:"20"},null,512),[[gt,p.value,void 0,{number:!0}]])])])):He("",!0)]),Fe(RA,{damage:y.value,showCrit:c.value},null,8,["damage","showCrit"]),M("label",Jrt,[Xe(ne(O.$t("titles.saving-throw"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[9]||(T[9]=j=>w.value=j)},[M("option",Yrt,ne(O.$t("titles.none")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,j=>(Z(),ee("option",{key:j,value:j},ne(O.$t(`titles.abilities.${j}`)),9,Xrt))),128))],512),[[lr,w.value]])]),M("label",Qrt,[Xe(ne(O.$t("titles.save-dc"))+" ",1),Ze(M("input",{type:"text","onUpdate:modelValue":T[10]||(T[10]=j=>b.value=j),disabled:w.value==="none"},null,8,ent),[[gt,b.value]])]),U.value?(Z(),ee("label",tnt,[Xe(ne(O.$t("titles.spell-source"))+" ",1),Ze(M("select",{"onUpdate:modelValue":T[11]||(T[11]=j=>g.value=j)},[(Z(!0),ee(tt,null,wt(he(r).sources,j=>(Z(),ee("option",{key:j._id,value:j._id},ne(j.name),9,rnt))),128))],512),[[lr,g.value]])])):He("",!0),M("label",nnt,[Xe(ne(O.$t("titles.range"))+" ",1),Ze(M("input",{type:"text","onUpdate:modelValue":T[12]||(T[12]=j=>_.value=j)},null,512),[[gt,_.value]])]),M("label",int,[Xe(ne(O.$t("titles.target"))+" ",1),Ze(M("input",{type:"text","onUpdate:modelValue":T[13]||(T[13]=j=>x.value=j)},null,512),[[gt,x.value]])]),M("label",null,[Xe(ne(O.$t("titles.description"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":T[14]||(T[14]=j=>C.value=j),rows:"4"},null,512),[[gt,C.value]])]),Fe(FA,{tagId:he(D),onUpdate:P,label:"titles.props-mods",tagSource:"action"},null,8,["tagId"])])],544)]))}});const snt=xt(ant,[["__scopeId","data-v-b9cf967d"]]),ont={class:"view-container"},unt={class:"columns columns-6"},lnt={class:"span-3"},cnt={class:"span-3"},fnt=["value"],dnt={class:"span-2"},pnt={class:"span-2"},mnt={class:"span-2"},hnt={class:"span-2"},vnt=["value"],gnt={class:"effects-editor"},ynt=ft({__name:"EquipmentSidebar",props:{equipment:{}},setup(e,{expose:t}){const r=Pe(null),n=e,i=Je.equipmentTypes,{currencyTypes:a}=Je,s=ou(),o=kt(),u=Lg(),l=n.equipment?._id??Ct(),c=n.equipment?.effectId??Ct(),f=Pe(n.equipment?.name??""),d=Pe(n.equipment?.quantity??1),p=Pe(n.equipment?.weight??0),m=Pe(n.equipment?.type??"equipment"),h=Pe(n.equipment?.description??""),v=ki(),y=n.equipment?.tagId??Ct(),w=v.getExistingOrCreate(y,"equipment"),g=Pe(JSON.parse(JSON.stringify(w.tags))),b=Pe(n.equipment?.value?.amount??0),_=Pe(n.equipment?.value?.currency??a[0]),x=N=>{g.value=N};let E=JSON.stringify(Ya(o.getEmptyEffect({_id:c})),null,2);if(n.equipment?.effectId){const N=o.effects.find(k=>k._id===n.equipment.effectId);N&&(E=JSON.stringify(Ya(N),null,2))}const C=Pe(E),$=()=>{if(r.value&&!r.value.reportValidity())return;const N=g.value.some(B=>B.text.toLowerCase()==="attunement");N||u.unattuneItem(l);const k={amount:b.value,currency:_.value},P={_id:l,name:f.value.trim(),quantity:Math.max(0,d.value),weight:Math.max(0,p.value),type:m.value,description:h.value.trim(),effectId:c,tagId:y,value:k};s.update(P);let U={};try{U=JSON.parse(C.value),U._id=c}catch{U={_id:c,effects:[]}}U.effects?.some(B=>B.required?.includes("attuned"))&&!N&&g.value.push({_id:Ct(),text:"attunement",isDefault:!0}),o.update(U),v.update({_id:y,tags:g.value}),en().close()};return t({save:$,remove:()=>{n.equipment?._id&&(n.equipment.effectId&&o.remove(n.equipment.effectId),n.equipment.tagId&&v.remove(n.equipment.tagId),s.remove(n.equipment._id),en().close())}}),(N,k)=>(Z(),ee("div",ont,[M("form",{ref_key:"form",ref:r,onSubmit:Qr($,["prevent"])},[M("div",unt,[M("label",lnt,[Xe(ne(N.$t("titles.name"))+" * ",1),Ze(M("input",{"onUpdate:modelValue":k[0]||(k[0]=P=>f.value=P),required:""},null,512),[[gt,f.value]])]),M("label",cnt,[Xe(ne(N.$t("titles.type"))+" * ",1),Ze(M("select",{"onUpdate:modelValue":k[1]||(k[1]=P=>m.value=P),required:""},[(Z(!0),ee(tt,null,wt(he(i),P=>(Z(),ee("option",{key:P,value:P},ne(N.$t(`titles.equipment-types.${P}`)),9,fnt))),128))],512),[[lr,m.value]])]),M("label",dnt,[Xe(ne(N.$t("titles.quantity"))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":k[2]||(k[2]=P=>d.value=P),min:"0"},null,512),[[gt,d.value,void 0,{number:!0}]])]),M("label",pnt,[Xe(ne(N.$t("titles.weight"))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":k[3]||(k[3]=P=>p.value=P),min:"0",step:"any"},null,512),[[gt,p.value,void 0,{number:!0}]])]),M("label",mnt,[Xe(ne(N.$t("titles.value"))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":k[4]||(k[4]=P=>b.value=P),min:"0",class:"value-inputs__amount"},null,512),[[gt,b.value,void 0,{number:!0}]])]),M("label",hnt,[Xe(ne(N.$t("titles.currency"))+" ",1),Ze(M("select",{"onUpdate:modelValue":k[5]||(k[5]=P=>_.value=P)},[(Z(!0),ee(tt,null,wt(he(a),P=>(Z(),ee("option",{key:P,value:P},ne(N.$t(`titles.currency-types.${P}`)),9,vnt))),128))],512),[[lr,_.value]])]),M("label",null,[Xe(ne(N.$t("titles.description"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":k[6]||(k[6]=P=>h.value=P),rows:"4"},null,512),[[gt,h.value]])]),Fe(FA,{tagId:he(y),onUpdate:x,label:"titles.tags",tagSource:"equipment"},null,8,["tagId"]),M("label",gnt,[Xe(ne(N.$t("titles.effects"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":k[7]||(k[7]=P=>C.value=P),rows:"5"},null,512),[[gt,C.value]])])])],544)]))}}),bnt={class:"class-item"},_nt={class:"columns columns-4"},Ant={class:"span-3"},wnt=["value","readonly"],xnt={class:"span-1"},Snt={class:"columns columns-5"},Ent=["value"],Cnt=["value"],$nt={class:"span-2"},Nnt=["value","readonly","placeholder"],Dnt={class:"span-2"},Tnt=["value"],knt=["value"],Int={class:"span-2"},Ont=["value"],Mnt={value:"none"},Pnt=["value"],Bnt={class:"span-2"},Lnt=["disabled","value"],Fnt=["value"],Rnt=ft({__name:"ClassItem",props:{classData:{},spellSourceData:{}},emits:["update","updateSpellSource","remove"],setup(e,{emit:t}){const{t:r}=Bt(),n=e,i=Oe(()=>!!n.classData?.compendiumData?.class),a=Oe(()=>!!(n.classData?.compendiumData?.subclass||n.classData.subclassUnlockLevel>0&&n.classData.level<n.classData.subclassUnlockLevel)),s=Oe(()=>n.classData.subclassUnlockLevel&&n.classData.subclassUnlockLevel>n.classData.level?r("descriptions.unlocks-at-level",{level:n.classData.subclassUnlockLevel}):""),o=t;function u(c,f){o("update",{_id:n.classData._id,[c]:f})}function l(c,f){o("updateSpellSource",{_id:n.spellSourceData._id,[c]:f})}return Oe(()=>n.classData.hitPoints?n.classData.hitPoints.join(", "):""),(c,f)=>(Z(),ee("div",bnt,[M("div",_nt,[M("label",Ant,[Xe(ne(c.$t("titles.name"))+" ",1),M("input",{value:c.classData.name,onChange:f[0]||(f[0]=d=>u("name",d.target.value)),required:"",readonly:i.value},null,40,wnt)]),M("label",xnt,[Xe(ne(c.$t("titles.level"))+": ",1),M("div",Snt,[M("select",{class:"span-3",value:c.classData.level,onInput:f[1]||(f[1]=d=>u("level",parseInt(d.target.value)))},[(Z(),ee(tt,null,wt(20,d=>M("option",{key:d,value:d},ne(d),9,Cnt)),64))],40,Ent),M("button",{type:"button",class:"span-2 button button--negative",onClick:f[2]||(f[2]=d=>c.$emit("remove"))},[Fe(Qn,{icon:"delete"})])])]),M("label",$nt,[Xe(ne(c.$t("titles.subclass"))+" ",1),M("input",{value:c.classData.subclass,onInput:f[3]||(f[3]=d=>u("subclass",d.target.value)),readonly:a.value||i.value,placeholder:s.value},null,40,Nnt)]),M("label",Dnt,[Xe(ne(c.$t("titles.hit-die"))+" ",1),M("select",{value:c.classData.hitDie,onChange:f[4]||(f[4]=d=>u("hitDie",d.target.value))},[(Z(!0),ee(tt,null,wt(he(Je).hitDieSize,d=>(Z(),ee("option",{key:d,value:`${d}`},ne(d),9,knt))),128))],40,Tnt)]),M("label",Int,[Xe(ne(c.$t("titles.spellcasting"))+" ",1),M("select",{value:c.classData.spellcasting,onChange:f[5]||(f[5]=d=>u("spellcasting",d.target.value))},[M("option",Mnt,ne(c.$t("titles.none")),1),(Z(!0),ee(tt,null,wt(Object.keys(he(Je).casterTypes),d=>(Z(),ee("option",{key:d,value:d},ne(c.$t(`titles.spellcasting-types.${d}`))+" "+ne(c.$t(`titles.spellcasting-types.${d}-examples`)),9,Pnt))),128))],40,Ont)]),M("label",Bnt,[Xe(ne(c.$t("titles.spellcasting-ability"))+" ",1),M("select",{disabled:c.classData.spellcasting==="none",value:c.spellSourceData.ability,onChange:f[6]||(f[6]=d=>l("ability",d.target.value))},[(Z(!0),ee(tt,null,wt(he(Je).abilities,d=>(Z(),ee("option",{key:d,value:d},ne(he(r)(`titles.abilities.${d}`)),9,Fnt))),128))],40,Lnt)])])]))}});const Unt=xt(Rnt,[["__scopeId","data-v-b2f9a80c"]]),znt={class:"class-list"},qnt=ft({__name:"ClassesSidebar",setup(e,{expose:t}){const r=Pe(null),n=Zt(),i=Ln(),a=Pe(pi(n.classes)),s=Pe(pi(i.sources)),o=Pe([]),u=Pe([]),l=Pe([]),c=Pe([]),f=g=>s.value.find(b=>b._id===g)||i.getEmptySource({_id:g,name:"",type:"ability"}),d=g=>{const b=a.value.findIndex($=>$._id===g);if(b<0)return;const _=a.value[b];c.value=[...c.value,..._.featureIds,..._.subclassFeatureIds];const x=a.value[b].spellSourceId;u.value.push(x),o.value.push(g);const E=i.spells.filter($=>$.spellSourceId===x);for(const $ of E)l.value.push($._id);a.value.splice(b,1);const C=s.value.findIndex($=>$._id===x);C>=0&&s.value.splice(C,1)},p=Zt().hitPointsMode,m=()=>{const g=Zt().getEmptyClass();a.value.push(g);const b={_id:g.spellSourceId,name:g.name,type:"ability",ability:Je.abilities[0]};s.value.push(b)},h=(g,b)=>{const _=a.value.findIndex(x=>x._id===g);if(_>=0&&(Object.assign(a.value[_],b),y(a.value[_],b.hitDie!==void 0),b.spellcasting)){const x=s.value.findIndex(E=>E._id===a.value[_].spellSourceId);if(x>=0&&b.spellcasting==="none")s.value.splice(x,1);else if(x<0&&b.spellcasting!=="none"){const E=i.getEmptySource({_id:a.value[_].spellSourceId,name:a.value[_].name,type:"ability"});s.value.push(E)}}if(b.name){const x=s.value.findIndex(E=>E._id===a.value[_].spellSourceId);x>=0&&(s.value[x].name=b.name)}},v=(g,b)=>{const _=s.value.findIndex(x=>x._id===g);_>=0&&Object.assign(s.value[_],b)},y=(g,b)=>{g.hitPoints=Array.from({length:g.level},(_,x)=>{const E=parseInt(g.hitDie.split("d")[1]),C=parseInt(g.hitDie.split("d")[0]);if(p==="manual"&&x===0)return g.hitPoints[x];if(g.hitPoints[x]&&!b)return g.hitPoints[x];if(p==="average")return x===0?E*C:(Math.ceil(E/2)+1)*C;if(p==="rolled"){if(x===0)return E*C;{const $=new Hu(g.hitDie);return $.roll(),$.total}}else return 0})},w=async()=>{if(r.value&&!r.value.reportValidity())return;await Promise.all(a.value.map(async _=>{const x=n.classes.find(E=>E._id===_._id);if(x&&x.level!==_.level&&_?.compendiumData?.class){const E=x.level,C=_.level;try{const $=JSON.parse(_.compendiumData.class),D=_?.spellSourceId&&s.value.find(N=>N._id===_?.spellSourceId)?{spellSourceId:_.spellSourceId}:void 0;if(x.level<_.level){for(let N=E+1;N<=C;N++)if(await $m({features:$,updatedClass:_,levelOverride:N,cascade:D}),N>_.subclassUnlockLevel&&_.subclass&&_.compendiumData.subclass){const k=JSON.parse(_.compendiumData.subclass)||{};await $m({features:k,updatedClass:_,levelOverride:N,updateSubclass:!0,cascade:D})}c.value=[...c.value,..._.featureIds.filter(N=>N.expirantionLevel&&N.expirantionLevel<_.level+1)],_.featureIds=_.featureIds.filter(N=>!N.expirantionLevel||N.expirantionLevel>=_.level+1),_.level>=_.subclassUnlockLevel&&(c.value=[...c.value,..._.subclassFeatureIds.filter(N=>N.expirantionLevel&&N.expirantionLevel<_.level+1)],_.subclassFeatureIds=_.subclassFeatureIds.filter(N=>!N.expirantionLevel||N.expirantionLevel>=_.level+1))}else if(x.level>_.level){c.value=[...c.value,..._.featureIds.filter(k=>k.level>_.level)];const N=Array.from({length:E-_.level},(k,P)=>E-P);for(let k=C;k>=1;k--)await $m({features:$,updatedClass:_,levelOverride:k,updateSubclass:!1,onlyExpired:!0,previousLevels:N,cascade:D});_.level<_.subclassUnlockLevel?(c.value=[...c.value,..._.subclassFeatureIds],_.subclassSpellcasting!=="none"&&_.spellSourceId&&u.value.push(_.spellSourceId),_.subclass="",_.subclassFeatureIds=[],_.subclassSourceBook=-1,_.subclassSpellcasting="none"):c.value=[...c.value,..._.subclassFeatureIds.filter(k=>k.level>_.level)]}}catch{console.warn("Error leveling up class")}}}));const g=n.getLevel,b=a.value.reduce((_,x)=>_+x.level,0);if(g<b)await Zt().addFeaturesToAncestry(g+1,b,!0,!0),Zt().removeAncestryExpiredFeatures(b),await Zt().addFeaturesToBackground(g+1,b),Zt().removeBackgroundExpiredFeatures(b);else if(g>b){const _=Array.from({length:g-b},(x,E)=>g-E);Zt().removeAncestryFeatures(b),Zt().addFeaturesToAncestry(1,b,!0,!0,!0,_),Zt().removeBackgroundFeatures(b),Zt().addFeaturesToBackground(1,b,!0,_)}for(const _ of o.value)n.removeClass(_);for(const _ of l.value){const x=i.spells.find(E=>E.spellSourceId===_);x&&i.removeSpell(x)}for(const _ of c.value)Ri().remove(_.id);for(const _ of u.value){const x=i.sources.find(E=>E._id===_);x&&i.removeSource(x)}n.classes=a.value,i.userSources=s.value,en().close()};return t({save:w,add:m}),(g,b)=>(Z(),ee("form",{ref_key:"form",ref:r,class:"view-container",onSubmit:Qr(w,["prevent"])},[M("div",znt,[(Z(!0),ee(tt,null,wt(a.value,_=>(Z(),ee("div",{key:_._id},[Fe(Unt,{classData:_,spellSourceData:f(_.spellSourceId),onUpdate:x=>h(_._id,x),onUpdateSpellSource:x=>v(_.spellSourceId,x),onRemove:x=>d(_._id)},null,8,["classData","spellSourceData","onUpdate","onUpdateSpellSource","onRemove"])]))),128))])],544))}});const jnt=xt(qnt,[["__scopeId","data-v-ef481193"]]),Vnt={class:"view-container"},Hnt={value:"automatic"},Gnt={value:"manual"},Znt={key:0,class:"manual-settings columns columns-3"},Wnt={class:"span-1"},Knt={class:"span-1"},Jnt={value:"strength"},Ynt={value:"dexterity"},Xnt={value:"constitution"},Qnt={value:"intelligence"},eit={value:"wisdom"},tit={value:"charisma"},rit=ft({__name:"ArmorClassSidebar",setup(e,{expose:t}){const r=La(),n=Gs({...r.armorClass}),i=Pe(null);Xn(n,s=>{s.mode==="automatic"&&(n.base=10,n.ability="dexterity")});const a=()=>{if(i.value&&!i.value.reportValidity())return;const s={...n,base:n.mode==="manual"?n.base:10,ability:n.mode==="manual"?n.ability:"dexterity"};r.armorClass={...s},en().close()};return t({save:a}),(s,o)=>(Z(),ee("div",Vnt,[M("form",{ref_key:"form",ref:i,onSubmit:Qr(a,["prevent"])},[M("label",null,[Xe(ne(s.$t("titles.calculation"))+" ",1),Ze(M("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>n.mode=u)},[M("option",Hnt,ne(s.$t("titles.proficiency-levels.automatic")),1),M("option",Gnt,ne(s.$t("titles.manual")),1)],512),[[lr,n.mode]])]),n.mode==="manual"?(Z(),ee("div",Znt,[M("label",Wnt,[Xe(ne(s.$t("titles.base-ac"))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=u=>n.base=u),min:"0"},null,512),[[gt,n.base,void 0,{number:!0}]])]),M("label",Knt,[Xe(ne(s.$t("titles.ability-modifier"))+" ",1),Ze(M("select",{"onUpdate:modelValue":o[2]||(o[2]=u=>n.ability=u)},[M("option",Jnt,ne(s.$t("titles.strength")),1),M("option",Ynt,ne(s.$t("titles.dexterity")),1),M("option",Xnt,ne(s.$t("titles.constitution")),1),M("option",Qnt,ne(s.$t("titles.intelligence")),1),M("option",eit,ne(s.$t("titles.wisdom")),1),M("option",tit,ne(s.$t("titles.charisma")),1)],512),[[lr,n.ability]])])])):He("",!0)],544)]))}});const nit=xt(rit,[["__scopeId","data-v-f24fb736"]]),iit={class:"view-container"},ait={class:"columns columns-2"},sit={value:"average"},oit={value:"rolled"},uit={value:"manual"},lit={class:"columns columns-10 hit-dice"},cit=["onClick"],fit={key:1},dit={key:1,class:"view-container"},pit=ft({__name:"HitPointsSidebar",setup(e,{expose:t}){const r=Pe(null);La();const n=Zt(),i=Pe(n.hitPointsMode),a=Pe(pi(n.classes)),s=Pe(a.value[0]?.hitPoints?.[0]||0),o=(f,d)=>{const p=new Hu(f.hitDie);p.roll(),f.hitPoints[d]=p.total},u=()=>{a.value.forEach(f=>{const d=parseInt(f.hitDie.split("d")[1]),p=parseInt(f.hitDie.split("d")[0]),m=Array.from({length:f.level??1},(h,v)=>{if(i.value==="average")return v===0?d:Math.ceil(d/2)+1;if(i.value==="rolled"){const y=new Hu(f.hitDie);return y.roll(),v===0?d*p:y.total}else return 0});f.hitPoints=m,s.value=0})},l=()=>{a.value[0].hitPoints[0]=s.value},c=()=>{r.value&&!r.value.reportValidity()||(n.hitPointsMode=i.value,n.classes=a.value,en().close())};return t({save:c}),(f,d)=>(Z(),ee("div",iit,[a.value.length>0?(Z(),ee("form",{key:0,ref_key:"form",ref:r,onSubmit:Qr(c,["prevent"])},[M("div",ait,[M("label",null,[Xe(ne(f.$t("titles.calculation"))+" ",1),Ze(M("select",{"onUpdate:modelValue":d[0]||(d[0]=p=>i.value=p),onChange:u},[M("option",sit,ne(f.$t("titles.average")),1),M("option",oit,ne(f.$t("titles.rolled")),1),M("option",uit,ne(f.$t("titles.manual")),1)],544),[[lr,i.value]])]),i.value==="rolled"?(Z(!0),ee(tt,{key:0},wt(a.value,(p,m)=>(Z(),ee("label",{key:`class-${m}`,class:"class-entry"},[Xe(ne(p.name)+" "+ne(p.hitPoints.reduce((h,v)=>h+v,0))+" ("+ne(p.hitPoints.length*parseInt(p.hitDie.split("d")[0]))+"d"+ne(p.hitDie.split("d")[1])+") ",1),M("div",lit,[(Z(!0),ee(tt,null,wt(p.hitPoints,(h,v)=>(Z(),ee("button",{type:"button",class:"button span-1",key:`die-${m}-${v}`,onClick:y=>o(p,v)},ne(h),9,cit))),128))])]))),128)):He("",!0),i.value==="manual"?(Z(),ee("label",fit,[Xe(ne(f.$t("titles.hit-points"))+": ",1),Ze(M("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=p=>s.value=p),placeholder:"Enter manual HP",onChange:l,min:"0"},null,544),[[gt,s.value,void 0,{number:!0}]])])):He("",!0)])],544)):(Z(),ee("div",dit,[M("p",null,ne(f.$t("warnings.no-classes-for-hp")),1)]))]))}});const mit=xt(pit,[["__scopeId","data-v-b2938538"]]),hit={class:"view-container"},vit={class:"speed-list"},git={class:"speed-sidebar__label"},yit={class:"speed-sidebar__inputs"},bit=["onUpdate:modelValue"],_it=["onUpdate:modelValue","placeholder"],Ait=ft({__name:"SpeedSidebar",setup(e,{expose:t}){const r=La(),n=Je.speeds,i=kt(),{t:a}=Bt(),s=Pe(pi(r.speed)),o=Pe(null),u=f=>i.getActiveEffectLabels(Be[`${f}-speed`]),l=f=>{const d=u(f);return d.length===0?null:`${a("titles.effects-status.modified-by-effect")}:
- ${d.join(`
- `)}`},c=()=>{o.value&&!o.value.reportValidity()||(r.speed=s.value,en().close())};return t({save:c}),(f,d)=>{const p=Af("tooltip");return Z(),ee("div",hit,[M("form",{ref_key:"form",ref:o,onSubmit:Qr(c,["prevent"])},[M("div",vit,[(Z(!0),ee(tt,null,wt(he(n),m=>(Z(),ee("div",{key:m,class:"speed-sidebar__item"},[M("label",git,ne(f.$t(`titles.speeds.${m}`)),1),M("div",yit,[Ze((Z(),ee("div",{class:Sr(["speed-sidebar__base-input-wrapper",{"has-active-effect":u(m).length>0}])},[Ze(M("input",{type:"number","onUpdate:modelValue":h=>s.value[m].base=h,class:"speed-sidebar__input speed-sidebar__input--base",min:"0"},null,8,bit),[[gt,s.value[m].base,void 0,{number:!0}]])],2)),[[p,l(m)]]),Ze(M("input",{type:"text","onUpdate:modelValue":h=>s.value[m].description=h,class:"speed-sidebar__input speed-sidebar__input--desc",placeholder:f.$t("titles.description")},null,8,_it),[[gt,s.value[m].description]])])]))),128))])],544)])}}});const wit=xt(Ait,[["__scopeId","data-v-691d34f3"]]),xit={class:"view-container"},Sit={class:"columns columns-3"},Eit={class:"total-resources span-3"},Cit={class:"total-resources__value"},$it={class:"total-resources__label"},Nit=["id","onUpdate:modelValue"],Dit=ft({__name:"CurrencySidebar",setup(e,{expose:t}){const r=YN(),{currencyTypes:n}=Je,i=Oe(()=>r.getCurrencyBreakdown),a=()=>n.reduce((c,f)=>(c[f]=0,c),{}),s=Pe(a()),o=c=>{const f={};for(const d in s.value){const p=d;s.value[p]>0&&(f[p]=s.value[p])}Object.keys(f).length>0&&r.updateCurrency(f,c),s.value=a(),en().close()};return t({sum:()=>{o(!0)},subtract:()=>{o(!1)}}),(c,f)=>(Z(),ee("div",xit,[M("div",Sit,[M("div",Eit,[M("span",Cit,ne(i.value.totalResources),1),M("span",$it,ne(c.$t("titles.total")),1)]),(Z(!0),ee(tt,null,wt(he(n),d=>(Z(),ee("label",{key:d,class:"span-1"},[Xe(ne(c.$t(`titles.currency-types.${d}`))+" ",1),i.value.breakdown[d].total>0?(Z(),ee(tt,{key:0},[Xe(" ("+ne(i.value.breakdown[d].total)+")",1)],64)):He("",!0),Ze(M("input",{id:`currency-input-${d}`,"onUpdate:modelValue":p=>s.value[d]=p,type:"number",min:"0",placeholder:"0",class:"currency-form__input"},null,8,Nit),[[gt,s.value[d],void 0,{number:!0}]])]))),128))])]))}});const Tit=xt(Dit,[["__scopeId","data-v-9b4a1469"]]),kit=e=>(Hi("data-v-ed3ad7ea"),e=e(),Gi(),e),Iit={class:"view-container"},Oit={class:"columns columns-2"},Mit={class:"span-1"},Pit={class:"span-1"},Bit=kit(()=>M("hr",null,null,-1)),Lit={class:"refresh columns columns-3"},Fit={class:"span-1"},Rit={value:"none"},Uit={value:"all"},zit={value:"fixed-value"},qit={class:"span-1"},jit={value:"none"},Vit={value:"all"},Hit={value:"fixed-value"},Git={class:"span-1"},Zit={value:"none"},Wit={value:"all"},Kit={value:"fixed-value"},Jit=ft({__name:"ResourceSidebar",props:{resource:{}},setup(e,{expose:t}){Bt();const r=Pe(null),n=e,i=n.resource?._id??Ct(),a=Pe(n.resource?.name??""),s=Pe(n.resource?.count??0),o=Pe(n.resource?.max??"0"),u=Pe(n.resource?.refreshOnShortRest??"none"),l=Pe(n.resource?.refreshOnLongRest??"none"),c=Pe(n.resource?.refreshOnDawn??"none"),f=Pe(n.resource?.refreshOnShortRestAmount??""),d=Pe(n.resource?.refreshOnLongRestAmount??""),p=Pe(n.resource?.refreshOnDawnAmount??"");Oe(()=>!n.resource?._id);const m=Kh(),h=()=>{if(r.value&&!r.value.reportValidity())return;const y={_id:i,name:a.value.trim(),count:n.resource?._id?s.value:es(o.value),max:o.value,refreshOnShortRest:u.value,refreshOnShortRestAmount:f.value.trim(),refreshOnLongRest:l.value,refreshOnLongRestAmount:d.value.trim(),refreshOnDawn:c.value,refreshOnDawnAmount:p.value.trim()};n.resource?.sourceEffectId&&(y.sourceEffectId=n.resource.sourceEffectId),m.update(y),en().close()};return t({save:h,remove:()=>{n.resource&&m.remove(n.resource),en().close()}}),(y,w)=>(Z(),ee("div",Iit,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(h,["prevent"])},[M("div",Oit,[M("label",Mit,[Xe(ne(y.$t("titles.name"))+" * ",1),Ze(M("input",{"onUpdate:modelValue":w[0]||(w[0]=g=>a.value=g),required:""},null,512),[[gt,a.value]])]),M("label",Pit,[Xe(ne(y.$t("titles.max"))+" * ",1),Ze(M("input",{type:"string","onUpdate:modelValue":w[1]||(w[1]=g=>o.value=g),required:""},null,512),[[gt,o.value]])])]),Bit,M("div",Lit,[M("h3",null,ne(y.$t("titles.refresh-options")),1),M("label",Fit,[Xe(ne(y.$t("titles.short-rest"))+" ",1),Ze(M("select",{"onUpdate:modelValue":w[2]||(w[2]=g=>u.value=g)},[M("option",Rit,ne(y.$t("titles.none")),1),M("option",Uit,ne(y.$t("titles.all")),1),M("option",zit,ne(y.$t("titles.fixed-value")),1)],512),[[lr,u.value]]),u.value==="fixed-value"?Ze((Z(),ee("input",{key:0,type:"text","onUpdate:modelValue":w[3]||(w[3]=g=>f.value=g),placeholder:"1d4"},null,512)),[[gt,f.value]]):He("",!0)]),M("label",qit,[Xe(ne(y.$t("titles.long-rest"))+" ",1),Ze(M("select",{"onUpdate:modelValue":w[4]||(w[4]=g=>l.value=g)},[M("option",jit,ne(y.$t("titles.none")),1),M("option",Vit,ne(y.$t("titles.all")),1),M("option",Hit,ne(y.$t("titles.fixed-value")),1)],512),[[lr,l.value]]),l.value==="fixed-value"?Ze((Z(),ee("input",{key:0,type:"text","onUpdate:modelValue":w[5]||(w[5]=g=>d.value=g),placeholder:"1d4"},null,512)),[[gt,d.value]]):He("",!0)]),M("label",Git,[Xe(ne(y.$t("titles.dawn"))+" ",1),Ze(M("select",{"onUpdate:modelValue":w[6]||(w[6]=g=>c.value=g)},[M("option",Zit,ne(y.$t("titles.none")),1),M("option",Wit,ne(y.$t("titles.all")),1),M("option",Kit,ne(y.$t("titles.fixed-value")),1)],512),[[lr,c.value]]),c.value==="fixed-value"?Ze((Z(),ee("input",{key:0,type:"text","onUpdate:modelValue":w[7]||(w[7]=g=>p.value=g),placeholder:"1d4"},null,512)),[[gt,p.value]]):He("",!0)])])],544)]))}});const Yit=xt(Jit,[["__scopeId","data-v-ed3ad7ea"]]),Xit={class:"view-container"},Qit={class:"columns columns-2"},eat=["value"],tat={class:"span-1"},rat=["value"],nat={class:"span-1"},iat=["value"],aat=ft({__name:"SkillSidebar",props:{skill:{}},setup(e,{expose:t}){const r=Pe(null),n=e,i=Pe(n.skill?.label??""),a=Pe(n.skill?.ability??"strength"),s=Pe(n.skill?.level??-1),o=n.skill?._id;Oe(()=>!n.skill);const u=Je.abilities,l=()=>{if(r.value&&!r.value.reportValidity())return;const p={_id:o,label:i.value,ability:a.value,level:s.value};c(p),en().close()},c=p=>{Qo().updateRanked(p._id,{label:p.label,ability:p.ability,level:p.level})},f=Oe(()=>!n.skill?.group||n.skill.group==="tools");return t({save:l,remove:()=>{n.skill?._id&&(Qo().removeRanked(n.skill._id),en().close())}}),(p,m)=>(Z(),ee("div",Xit,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(l,["prevent"])},[M("div",Qit,[M("label",null,[Xe(ne(p.$t("titles.name"))+" ",1),f.value?Ze((Z(),ee("input",{key:0,"onUpdate:modelValue":m[0]||(m[0]=h=>i.value=h),required:""},null,512)),[[gt,i.value]]):(Z(),ee("input",{key:1,value:p.$t(`titles.${n.skill?.group}.${n.skill?.label}`),readonly:""},null,8,eat))]),M("label",tat,[Xe(ne(p.$t("titles.ability"))+" ",1),Ze(M("select",{"onUpdate:modelValue":m[1]||(m[1]=h=>a.value=h)},[(Z(!0),ee(tt,null,wt(he(u),h=>(Z(),ee("option",{key:h,value:h},ne(p.$t(`titles.abilities.${h}`)),9,rat))),128))],512),[[lr,a.value]])]),M("label",nat,[Xe(ne(p.$t("titles.proficiency"))+" ",1),Ze(M("select",{"onUpdate:modelValue":m[2]||(m[2]=h=>s.value=h)},[(Z(!0),ee(tt,null,wt(he(hB),(h,v)=>(Z(),ee("option",{key:v,value:he(hB)[v]},ne(p.$t(`titles.proficiency-levels.${v}`)),9,iat))),128))],512),[[lr,s.value,void 0,{number:!0}]])])])],544)]))}});const sat=xt(aat,[["__scopeId","data-v-97749a6a"]]),MY=e=>(Hi("data-v-ebcff873"),e=e(),Gi(),e),oat={key:0,class:"view-container"},uat={class:"columns columns-12"},lat={class:"span-6"},cat={class:"span-3"},fat=["value"],dat={class:"span-3"},pat=["value"],mat={class:"span-4"},hat={class:"detail-check"},vat=MY(()=>M("span",null,"R",-1)),gat={class:"span-4"},yat={class:"detail-check"},bat=MY(()=>M("span",null,"C",-1)),_at={class:"span-4"},Aat={class:"span-12 components"},wat={class:"span-1"},xat={class:"components__checkboxes"},Sat=["value"],Eat={class:"components__optional"},Cat=["disabled"],$at={class:"toggable-group"},Nat={class:"checkbox-label"},Dat={key:0,class:"toggable-group__options columns columns-3"},Tat={class:"span-1"},kat={value:"melee"},Iat={value:"ranged"},Oat={class:"span-1"},Mat={value:"none"},Pat={value:"spellcasting"},Bat=["value"],Lat={class:"span-1"},Fat={class:"span-6"},Rat={value:"none"},Uat=["value"],zat={class:"span-6"},qat=["value"],jat={class:"effects-editor"},Vat={key:1,class:"view-container"},Hat=ft({__name:"SpellSidebar",props:{spell:{}},setup(e,{expose:t}){const r=Pe(null),n=e,i=Pe(pi(n.spell||null)),a=kt(),s=Ln(),o=i.value?._id??Ct(),u=i.value?.effectId??Ct(),l=i.value?.tagId??Ct(),c=Pe(i.value?.name??""),f=Pe(i.value?.level??0),d=Pe(i.value?.school??Je.spellSchools[0]),p=Pe(i.value?.castingTime??""),m=Pe(i.value?.range??""),h=Pe(i.value?.target??""),v=Pe(i.value?.components??[]),y=Pe(i.value?.material??""),w=Pe(i.value?.duration??""),g=Pe(i.value?.concentration??!1),b=Pe(i.value?.ritual??!1),_=Pe(i.value?.isAttack??!1),x=Pe(i.value?.attackType??"ranged"),E=Pe(i.value?.attackAbility??"none"),C=Pe(i.value?.critRange??20),$=Pe(i.value?.saving??"none"),D=Pe(i.value?.damage??[]),N=Pe(i.value?.description?.default??""),k=Pe(i.value?.description?.upcast??""),P=Pe(i.value?.upcast??[]),U=Pe(i.value?.spellSourceId??s.sources[0]?._id??""),L=Je.spellLevels,B=Je.spellSchools,O=Je.spellComponents,T=ki(),j=Pe(JSON.parse(JSON.stringify(T.getExistingOrCreate(l).tags))),R=Pe(!1);Xn(()=>v.value,W=>{R.value=v.value.includes("material"),R.value||(y.value="")});const le=W=>{j.value=W},re=Oe(()=>s.sources.length>0);Oe(()=>kt().getExistingOrCreate({_id:u}));let F=JSON.stringify(Ya(kt().getEmptyEffect({_id:u})),null,2);if(i.value?.effectId){const W=a.effects.find(Q=>i.value&&Q._id===i.value.effectId);if(W)try{F=JSON.stringify(Ya(W),null,2)}catch{F=JSON.stringify(Ya(kt().getEmptyEffect({_id:u})),null,2)}}const H=Pe(F);Oe(()=>!i.value?._id);const ve=()=>{if(r.value&&!r.value.reportValidity())return;const W={_id:o,name:c.value.trim(),level:f.value,school:d.value,castingTime:p.value,range:m.value,target:h.value,components:v.value,material:y.value||void 0,duration:w.value,concentration:g.value,ritual:b.value,isAttack:_.value,attackType:x.value,attackAbility:E.value,critRange:C.value,saving:$.value,damage:D.value,description:{default:N.value.trim(),upcast:k.value?.trim()||void 0},upcast:P.value,spellSourceId:U.value,effectId:u,tagId:l};n.spell?.sourceEffectId&&(W.sourceEffectId=n.spell.sourceEffectId),s.updateSpell(W);try{const Q=JSON.parse(H.value);Q._id=u,a.update(Q)}catch{a.update({_id:u})}T.update({_id:l,tags:j.value}),en().close()};return t({save:ve,remove:()=>{n.spell&&s.removeSpell(n.spell),en().close()}}),(W,Q)=>{const J=Af("tooltip");return re.value?(Z(),ee("div",oat,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(ve,["prevent"])},[M("div",uat,[M("label",lat,[Xe(ne(W.$t("titles.name"))+" * ",1),Ze(M("input",{"onUpdate:modelValue":Q[0]||(Q[0]=se=>c.value=se),required:""},null,512),[[gt,c.value]])]),M("label",cat,[Xe(ne(W.$t("titles.level"))+" * ",1),Ze(M("select",{"onUpdate:modelValue":Q[1]||(Q[1]=se=>f.value=se),required:""},[(Z(!0),ee(tt,null,wt(he(L),se=>(Z(),ee("option",{key:se,value:se},ne(W.$t(`titles.spell-levels.${se}`)),9,fat))),128))],512),[[lr,f.value,void 0,{number:!0}]])]),M("label",dat,[Xe(ne(W.$t("titles.school"))+" * ",1),Ze(M("select",{"onUpdate:modelValue":Q[2]||(Q[2]=se=>d.value=se),required:""},[(Z(!0),ee(tt,null,wt(he(B),se=>(Z(),ee("option",{key:se,value:se},ne(W.$t(`titles.spell-schools.${se}`)),9,pat))),128))],512),[[lr,d.value]])]),M("label",mat,[Xe(ne(W.$t("titles.casting-time"))+" ",1),Ze(M("input",{"onUpdate:modelValue":Q[3]||(Q[3]=se=>p.value=se)},null,512),[[gt,p.value]]),Ze((Z(),ee("div",hat,[vat,Ze(M("input",{type:"checkbox","onUpdate:modelValue":Q[4]||(Q[4]=se=>b.value=se)},null,512),[[ys,b.value]])])),[[J,W.$t("titles.ritual")]])]),M("label",gat,[Xe(ne(W.$t("titles.duration"))+" ",1),Ze(M("input",{"onUpdate:modelValue":Q[5]||(Q[5]=se=>w.value=se)},null,512),[[gt,w.value]]),Ze((Z(),ee("div",yat,[bat,Ze(M("input",{type:"checkbox","onUpdate:modelValue":Q[6]||(Q[6]=se=>g.value=se)},null,512),[[ys,g.value]])])),[[J,W.$t("titles.concentration")]])]),M("label",_at,[Xe(ne(W.$t("titles.range"))+" ",1),Ze(M("input",{"onUpdate:modelValue":Q[7]||(Q[7]=se=>m.value=se)},null,512),[[gt,m.value]])]),M("div",Aat,[M("div",wat,[Xe(ne(W.$t("titles.components"))+" ",1),M("div",xat,[(Z(!0),ee(tt,null,wt(he(O),se=>(Z(),ee("label",{key:se,class:"span-1"},[Ze(M("input",{type:"checkbox",value:se,"onUpdate:modelValue":Q[8]||(Q[8]=Ce=>v.value=Ce)},null,8,Sat),[[ys,v.value]]),Ze((Z(),ee("span",null,[Xe(ne(W.$t(`abbreviations.spell-components.${se}`)),1)])),[[J,W.$t(`titles.spell-components.${se}`)]])]))),128))])]),M("label",Eat,[Xe(ne(W.$t("titles.material-optional"))+" ",1),Ze(M("input",{"onUpdate:modelValue":Q[9]||(Q[9]=se=>y.value=se),disabled:!R.value},null,8,Cat),[[gt,y.value]])])]),M("div",$at,[M("label",Nat,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":Q[10]||(Q[10]=se=>_.value=se)},null,512),[[ys,_.value]]),M("strong",null,ne(W.$t("titles.is-attack")),1)]),_.value?(Z(),ee("div",Dat,[M("label",Tat,[Xe(ne(W.$t("titles.attack-type"))+" ",1),Ze(M("select",{"onUpdate:modelValue":Q[11]||(Q[11]=se=>x.value=se)},[M("option",kat,ne(W.$t("titles.attack-types.melee")),1),M("option",Iat,ne(W.$t("titles.attack-types.ranged")),1)],512),[[lr,x.value]])]),M("label",Oat,[Xe(ne(W.$t("titles.attack-ability"))+" ",1),Ze(M("select",{"onUpdate:modelValue":Q[12]||(Q[12]=se=>E.value=se)},[M("option",Mat,ne(W.$t("titles.none")),1),M("option",Pat,ne(W.$t("titles.spellcasting")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,se=>(Z(),ee("option",{key:se,value:se},ne(W.$t(`titles.abilities.${se}`)),9,Bat))),128))],512),[[lr,E.value]])]),M("label",Lat,[Xe(ne(W.$t("titles.crit-range"))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":Q[13]||(Q[13]=se=>C.value=se),min:"1",max:"20"},null,512),[[gt,C.value,void 0,{number:!0}]])])])):He("",!0)]),M("label",Fat,[Xe(ne(W.$t("titles.saving-throw"))+" ",1),Ze(M("select",{"onUpdate:modelValue":Q[14]||(Q[14]=se=>$.value=se)},[M("option",Rat,ne(W.$t("titles.none")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,se=>(Z(),ee("option",{key:se,value:se},ne(W.$t(`titles.abilities.${se}`)),9,Uat))),128))],512),[[lr,$.value]])]),M("label",zat,[Xe(ne(W.$t("titles.source"))+" ",1),Ze(M("select",{"onUpdate:modelValue":Q[15]||(Q[15]=se=>U.value=se),required:""},[(Z(!0),ee(tt,null,wt(he(s).sources,se=>(Z(),ee("option",{key:se._id,value:se._id},ne(se.name),9,qat))),128))],512),[[lr,U.value]])]),Fe(RA,{damage:D.value,showCrit:_.value},null,8,["damage","showCrit"]),M("label",null,[Xe(ne(W.$t("titles.description"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":Q[16]||(Q[16]=se=>N.value=se),rows:"3"},null,512),[[gt,N.value]])]),M("label",null,[Xe(ne(W.$t("titles.upcast-description"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":Q[17]||(Q[17]=se=>k.value=se),rows:"2"},null,512),[[gt,k.value]])]),Fe(FA,{tagId:he(l),onUpdate:le,label:"titles.tags"},null,8,["tagId"]),M("label",jat,[Xe(ne(W.$t("titles.effects"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":Q[18]||(Q[18]=se=>H.value=se)},null,512),[[gt,H.value]])])])],544)])):(Z(),ee("div",Vat,[M("p",null,ne(W.$t("warnings.no-spell-sources")),1)]))}}});const Gat=xt(Hat,[["__scopeId","data-v-ebcff873"]]),Zat={class:"view-container"},Wat=ft({__name:"AbilitySidebar",props:{ability:{}},setup(e,{expose:t}){const r=Pe(null),n=e,i=Pe(n.ability?.score??10),a=()=>{if(r.value&&!r.value.reportValidity())return;const o={score:Number(i.value)};s(o),en().close()},s=o=>{const u=Yr();n.ability?._id&&u.update(n.ability._id,o)};return t({save:a}),(o,u)=>(Z(),ee("div",Zat,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(a,["prevent"])},[M("label",null,[Xe(ne(o.$t("titles.base-score"))+" * ",1),Ze(M("input",{type:"number","onUpdate:modelValue":u[0]||(u[0]=l=>i.value=l),required:"",min:"1"},null,512),[[gt,i.value]])])],544)]))}});const Kat=xt(Wat,[["__scopeId","data-v-0fd79ca3"]]),Jat={class:"view-container"},Yat={class:"columns columns-2"},Xat={class:"total-hp span-2"},Qat={class:"total-hp__value"},est={class:"total-hp__label"},tst={key:0},rst={class:"total-hp__value"},nst={class:"total-hp__label"},ist={class:"span-1 adjustment"},ast={key:0,class:"span-1 temp-hp"},sst=ft({__name:"DamageHealSidebar",props:{initialTempHp:{}},setup(e,{expose:t}){const r=e;Bt();const n=La(),i=en(),a=Pe(0),s=Pe("normal");Pe(!1);const o=Pe(r.initialTempHp>0),u={quarter:{label:"titles.damage-application.quarter",multiplier:.25},half:{label:"titles.damage-application.half",multiplier:.5},normal:{label:"titles.damage",multiplier:1},double:{label:"titles.damage-application.double",multiplier:2}},l=()=>{const p=u[s.value].multiplier;let m=Math.floor(a.value*p);if(m<=0){i.close();return}if(o.value&&r.initialTempHp>0){const h=n.getTemporaryHitPoints(),v=Math.min(m,h);n.life.temporary-=v,m-=v}m>0&&(n.life.hitPoints=Math.max(0,n.life.hitPoints-m)),i.close()},c=()=>{if(a.value<=0){i.close();return}const p=n.getHitPointsMax().value.final;n.life.hitPoints=Math.min(p,n.life.hitPoints+a.value),i.close()};return t({sum:()=>{c()},subtract:()=>{l()}}),(p,m)=>(Z(),ee("div",Jat,[M("div",Yat,[M("div",Xat,[M("div",null,[M("span",Qat,ne(he(n).life.hitPoints)+" / "+ne(he(n).getHitPointsMax().value.final),1),M("span",est,ne(p.$t("titles.hit-points")),1)]),he(n).getTemporaryHitPoints()>0?(Z(),ee("div",tst,[M("span",rst,ne(he(n).getTemporaryHitPoints()),1),M("span",nst,ne(p.$t("titles.temporary-hit-points")),1)])):He("",!0)]),M("label",ist,[Xe(ne(p.$t("titles.adjustment"))+" ",1),Ze(M("input",{"onUpdate:modelValue":m[0]||(m[0]=h=>a.value=h),type:"number",min:"0",class:"amount-input__field"},null,512),[[gt,a.value,void 0,{number:!0}]])]),p.initialTempHp>0?(Z(),ee("label",ast,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":m[1]||(m[1]=h=>o.value=h)},null,512),[[ys,o.value]]),Xe(" "+ne(p.$t("actions.apply-to-temp-hp")),1)])):He("",!0)])]))}});const ost=xt(sst,[["__scopeId","data-v-0b6ac1fe"]]),ust={key:0,class:"npc-statblock__name"},lst={class:"npc-statblock__header-controls"},cst={key:1,class:"npc-statblock__header npc-statblock__header--companion"},fst=["src"],dst={key:0,class:"npc-token-display__full-preview"},pst=["src"],mst={class:"npc-statblock__name"},hst={key:2,class:"npc-statblock__name"},vst=ft({__name:"NPCStatblockHeader",props:{npc:{type:Object,required:!0},localNpc:{type:Object,required:!0},editMode:{type:Boolean,required:!0},companionMode:{type:Boolean,default:!1},showCollapseControl:{type:Boolean,default:!0},isCollapsed:{type:Boolean,required:!0}},emits:["update:isCollapsed","delete","open-edit"],setup(e){const{t}=Bt(),r=Pe(!1);return(n,i)=>e.companionMode?(Z(),ee("div",cst,[e.npc.token?(Z(),ee("div",{key:0,class:"npc-token-display",onMouseenter:i[3]||(i[3]=a=>e.showCollapseControl&&(r.value=!0)),onMouseleave:i[4]||(i[4]=a=>e.showCollapseControl&&(r.value=!1))},[M("img",{src:e.npc.token,alt:"Companion Token",class:"npc-token-display__thumbnail"},null,8,fst),r.value&&e.showCollapseControl?(Z(),ee("div",dst,[M("img",{src:e.npc.token,alt:"Full Companion Token"},null,8,pst)])):He("",!0)],32)):He("",!0),!e.editMode&&e.showCollapseControl?(Z(),ee("button",{key:1,class:"npc-statblock__name-button",onClick:i[5]||(i[5]=a=>n.$emit("open-edit"))},[M("h3",mst,ne(e.npc.name),1)])):e.editMode?Ze((Z(),ee("input",{key:3,"onUpdate:modelValue":i[6]||(i[6]=a=>e.localNpc.name=a),class:"npc-statblock__name-input",required:""},null,512)),[[gt,e.localNpc.name]]):(Z(),ee("h3",hst,ne(e.npc.name),1))])):(Z(),ee("div",{key:0,class:Sr(["npc-statblock__header",{"npc-statblock__header--companion":e.companionMode}])},[e.editMode?Ze((Z(),ee("input",{key:1,"onUpdate:modelValue":i[0]||(i[0]=a=>e.localNpc.name=a),class:"npc-statblock__name-input",required:""},null,512)),[[gt,e.localNpc.name]]):(Z(),ee("h3",ust,ne(e.npc.name),1)),M("div",lst,[e.showCollapseControl?(Z(),ee("button",{key:0,onClick:i[1]||(i[1]=a=>n.$emit("update:isCollapsed",!e.isCollapsed))},ne(e.isCollapsed?he(t)("actions.expand"):he(t)("actions.collapse")),1)):He("",!0),e.editMode&&!e.npc.isDefault&&e.showCollapseControl?(Z(),ee("button",{key:1,onClick:i[2]||(i[2]=a=>n.$emit("delete")),class:"npc-statblock__delete-button"},ne(he(t)("actions.delete")),1)):He("",!0)])],2))}});const gst=xt(vst,[["__scopeId","data-v-66b68345"]]),yst=e=>(Hi("data-v-6f33b074"),e=e(),Gi(),e),bst={class:"current-max-number"},_st={class:"input-wrapper"},Ast=yst(()=>M("span",{class:"divider"},"/",-1)),wst={class:"max"},xst=ft({__name:"CurrentMaxNumber",props:{count:{},max:{}},emits:["update"],setup(e,{emit:t}){const r=e,n=Pe(r.count);Xn(()=>r.count,c=>{n.value=c});const i=Pe(null),a=c=>{const f=c.target;f.value.match(/^([+-]?\d*)$/)||(f.value=f.value.slice(0,-1))},s=t,o=()=>{const c=n.value.toString();let f=r.count;if(c[0]==="-"){const d=parseInt(c.slice(1))||0;f=Math.max(0,r.count-d)}else if(c[0]==="+"){const d=parseInt(c.slice(1))||0;f=Math.min(r.max,r.count+d)}else f=Math.min(r.max,Math.max(0,parseInt(c)))||0;i.value&&i.value.blur(),n.value=f,s("update",f)},u=()=>{s("update",Math.max(0,Math.max(r.count-1,0)))},l=()=>{s("update",Math.min(r.count+1,r.max))};return(c,f)=>(Z(),ee("div",bst,[M("button",{class:"button-minus",onClick:u},"-"),M("div",_st,[Ze(M("input",{type:"text",class:"input","onUpdate:modelValue":f[0]||(f[0]=d=>n.value=d),onInput:a,onBlur:o,onKeyup:m2(o,["enter"]),ref_key:"input",ref:i},null,544),[[gt,n.value]]),Ast,M("span",wst,ne(c.max),1)]),M("button",{class:"button-plus",onClick:l},"+")]))}});const mD=xt(xst,[["__scopeId","data-v-6f33b074"]]),Sst=["title"],Est={key:0},Cst=ft({__name:"RollModifier",props:{finalBonus:{},rollArgs:{}},emits:["rolled"],setup(e,{emit:t}){const{t:r}=Bt(),n=e,i=t,a=Oe(()=>n.finalBonus>=0),s=Oe(()=>n.finalBonus<0),o=Oe(()=>a.value?"roll-bonus--positive":s.value?"roll-bonus--negative":""),u=pD(),l=async c=>{if(c.altKey)c.preventDefault(),c.stopPropagation(),u.open("d20",n.rollArgs);else{const f=await UJ({...n.rollArgs,whisper:!1});i("rolled",f)}};return(c,f)=>(Z(),ee("button",{class:Sr(["roll-modifier",o.value]),title:he(r)("actions.roll"),onClick:Qr(l,["stop"])},[a.value?(Z(),ee("span",Est,"+")):He("",!0),Xe(ne(c.finalBonus),1)],10,Sst))}});const wo=xt(Cst,[["__scopeId","data-v-0511d47b"]]),$st=e=>(Hi("data-v-8d70d9f3"),e=e(),Gi(),e),Nst={class:"npc-statblock__summary-column"},Dst={class:"npc-statblock__summary-item"},Tst={key:0},kst={key:1,class:"npc-statblock__hp-inputs"},Ist=$st(()=>M("span",null,"/",-1)),Ost={key:0,class:"npc-statblock__summary-item"},Mst={class:"npc-statblock__summary-item"},Pst={key:0},Bst={key:1,class:"npc-statblock__summary-item"},Lst={class:"npc-statblock__summary-column npc-statblock__summary-column--effects"},Fst={key:0,class:"summary-effects"},Rst={class:"summary-effects__label"},Ust={class:"summary-effects__breakdown"},zst={class:"summary-effects__description"},qst={key:1},jst=ft({__name:"NPCStatblockSummary",props:{npc:{type:Object,required:!0},localNpc:{type:Object,required:!0},editMode:{type:Boolean,required:!0},activeEffects:{type:Array,required:!0},initiativeBonus:{type:Object,required:!0},initiativeRollArgs:{type:Object,required:!0}},emits:["update:hp"],setup(e){const t=e,r=is(),{t:n}=Bt(),i=Oe(()=>r.getNpcModifiedValue(t.npc._id,t.npc.hitPoints.current,[]).value.final),a=Oe(()=>r.getNpcModifiedValue(t.npc._id,t.npc.hitPoints.max,Be["hit-points-max"]).value.final),s=Oe(()=>r.getNpcModifiedValue(t.npc._id,t.npc.armorClass,Be["armor-class"]).value.final),o=Oe(()=>t.npc.speed??"30 ft."),u=l=>{const c=l.value!==void 0&&l.value!==""?typeof l.value=="string"&&!/^-?\d+(\.\d+)?$/.test(l.value)?`"${l.value}"`:l.value:l.formula;return`[${l.operation.toUpperCase()}] ${c} -> "${l.attribute}"`};return(l,c)=>(Z(),ee("summary",{class:"npc-statblock__summary",onClick:c[4]||(c[4]=Qr(()=>{},["prevent"]))},[M("div",Nst,[M("div",Dst,[M("strong",null,ne(he(n)("titles.hit-points")),1),e.editMode?(Z(),ee("div",kst,[Ze(M("input",{type:"number","onUpdate:modelValue":c[1]||(c[1]=f=>e.localNpc.hitPoints.current=f)},null,512),[[gt,e.localNpc.hitPoints.current,void 0,{number:!0}]]),Ist,Ze(M("input",{type:"number","onUpdate:modelValue":c[2]||(c[2]=f=>e.localNpc.hitPoints.max=f),min:"0"},null,512),[[gt,e.localNpc.hitPoints.max,void 0,{number:!0}]])])):(Z(),ee("span",Tst,[Fe(mD,{count:i.value,max:a.value,onUpdate:c[0]||(c[0]=f=>l.$emit("update:hp",f))},null,8,["count","max"])]))]),e.editMode?He("",!0):(Z(),ee("div",Ost,[M("strong",null,ne(he(n)("titles.initiative"))+": ",1),Fe(wo,{finalBonus:e.initiativeBonus.value.final,rollArgs:e.initiativeRollArgs},null,8,["finalBonus","rollArgs"])])),M("div",Mst,[M("strong",null,ne(he(n)("titles.ac"))+":",1),e.editMode?Ze((Z(),ee("input",{key:1,type:"number","onUpdate:modelValue":c[3]||(c[3]=f=>e.localNpc.armorClass=f),min:"0"},null,512)),[[gt,e.localNpc.armorClass,void 0,{number:!0}]]):(Z(),ee("span",Pst,ne(s.value),1))]),e.editMode?He("",!0):(Z(),ee("div",Bst,[M("strong",null,ne(he(n)("titles.speed"))+":",1),M("span",null,ne(o.value),1)]))]),M("div",Lst,[M("strong",null,ne(he(n)("titles.active-effects"))+":",1),e.activeEffects.length>0?(Z(),ee("div",Fst,[(Z(!0),ee(tt,null,wt(e.activeEffects,f=>(Z(),ee("div",{key:f._id,class:"summary-effects__group"},[M("span",Rst,ne(f.label),1),M("div",Ust,[(Z(!0),ee(tt,null,wt(f.effects,d=>(Z(),ee("div",{key:d._id,class:"summary-effects__single-effect"},[M("span",zst,ne(u(d)),1)]))),128))])]))),128))])):(Z(),ee("div",qst,ne(he(n)("titles.none")),1))])]))}});const Vst=xt(jst,[["__scopeId","data-v-8d70d9f3"]]),Hst={key:0,class:"npc-effects"},Gst={class:"npc-effects__header"},Zst={class:"npc-effects__title"},Wst={class:"npc-effects__list"},Kst={class:"npc-effects__group-header"},Jst={class:"npc-effects__controls"},Yst=["title"],Xst=["checked","onChange"],Qst={class:"npc-effects__label"},eot=["title","onClick"],tot={key:0,class:"npc-effects__pickers"},rot=["onUpdate:modelValue"],not={value:void 0},iot=["value"],aot={class:"npc-effects__breakdown"},sot=["title"],oot={class:"npc-effects__details"},uot={class:"npc-effects__description"},lot=ft({__name:"NpcEffectsList",props:{effects:{},editMode:{type:Boolean}},emits:["toggle-effect","remove-effect"],setup(e,{emit:t}){const{t:r}=Bt(),n=is(),i=t,a=c=>{i("toggle-effect",c._id)},s=c=>{i("remove-effect",c._id)},o=(c,f)=>n.isNpcEffectSingleActive(c,f)?"npc-effects__status--active":"npc-effects__status--inactive",u=(c,f)=>{if(!c.enabled)return r("titles.effects-status.inactive-parent");const d=n.isNpcEffectSingleActive(c,f);return!d&&f.required&&f.required.length>0?r("titles.effects-status.inactive-requires",{state:f.required.join(", ")}):r(d?"titles.effects-status.active":"titles.effects-status.inactive")},l=c=>{const f=c.value!==void 0&&c.value!==""?typeof c.value=="string"&&!/^-?\d+(\.\d+)?$/.test(c.value)?`"${c.value}"`:c.value:c.formula;return`[${c.operation.replace(/-formula/g,"").toUpperCase()}] ${f} -> "${c.attribute}"`};return(c,f)=>c.effects.length>0?(Z(),ee("div",Hst,[M("div",Gst,[M("h3",Zst,ne(he(r)("titles.active-effects")),1)]),M("div",Wst,[(Z(!0),ee(tt,null,wt(c.effects,d=>(Z(),ee("div",{key:d._id,class:Sr(["npc-effects__group",{"npc-effects__group--disabled":!d.enabled}])},[M("div",Kst,[M("div",Jst,[d.toggleable?(Z(),ee("label",{key:0,class:"npc-effects__toggle-wrap",title:he(r)(d.enabled?"actions.disable-effect":"actions.enable-effect")},[M("input",{type:"checkbox",class:"npc-effects__toggle",checked:d.enabled,onChange:p=>a(d)},null,40,Xst)],8,Yst)):He("",!0),M("span",Qst,ne(d.label),1)]),d.removable?(Z(),ee("button",{key:0,class:"npc-effects__remove-button",title:he(r)("actions.delete-effect"),onClick:p=>s(d)},"  ",8,eot)):He("",!0)]),!c.editMode&&d.enabled&&d.pickers&&d.pickers.length>0?(Z(),ee("div",tot,[(Z(!0),ee(tt,null,wt(d.pickers,(p,m)=>(Z(),ee("div",{key:m,class:"npc-effects__picker"},[M("label",null,[Xe(ne(p.label)+" ",1),Ze(M("select",{"onUpdate:modelValue":h=>p.value=h,class:Sr({"picker-unselected":!p.value})},[M("option",not,ne(he(r)("actions.select-source"))+"...",1),(Z(!0),ee(tt,null,wt(p.options,h=>(Z(),ee("option",{key:h.value,value:h.value},ne(h.label),9,iot))),128))],10,rot),[[lr,p.value]])])]))),128))])):He("",!0),M("div",aot,[(Z(!0),ee(tt,null,wt(d.effects,p=>(Z(),ee("div",{key:p._id,class:"npc-effects__single-effect"},[M("div",{class:Sr(["npc-effects__status",o(d,p)]),title:u(d,p)},null,10,sot),M("div",oot,[M("span",uot,ne(l(p)),1)])]))),128))])],2))),128))])])):He("",!0)}});const cot=xt(lot,[["__scopeId","data-v-9878bef0"]]),fot={key:0,class:"accordion"},dot={class:"accordion__summary"},pot={class:"accordion__details"},mot=["innerHTML"],hot={key:1,class:"npc-feature-editor"},vot={class:"npc-feature-editor__form"},got={class:"npc-feature-editor__row"},yot=["placeholder"],bot=["placeholder"],_ot=["placeholder"],Aot=ft({__name:"NpcFeatureItem",props:{feature:{},localNpc:{},editMode:{type:Boolean}},emits:["remove"],setup(e,{emit:t}){const{t:r}=Bt(),n=e,i=Oe(()=>uu(n.feature.description)),a=Oe({get(){const s=n.localNpc.effects.find(u=>u._id===n.feature.effectId);if(!s)return"{}";const o=Ya(JSON.parse(JSON.stringify(s)));return JSON.stringify(o,null,2)},set(s){if(!n.localNpc)return;let o=n.localNpc.effects.findIndex(u=>u._id===n.feature.effectId);if(o===-1){const u={_id:n.feature.effectId,label:n.feature.name,description:"",enabled:!1,toggleable:!1,removable:!1,effects:[]};n.localNpc.effects.push(u),o=n.localNpc.effects.length-1}try{const u=JSON.parse(s),l=n.localNpc.effects[o];u._id=l._id,(u.effects||[]).forEach((c,f)=>{const d=l.effects?.[f];c._id=d?._id??Ct()}),["actions","resources","spellSources","spells","pickers"].forEach(c=>{u[c]&&Array.isArray(u[c])&&u[c].forEach(f=>{f._id||(f._id=Ct())})}),u.label||(u.label=n.feature.name),n.localNpc.effects[o]=u}catch{}}});return(s,o)=>s.editMode?(Z(),ee("div",hot,[M("div",vot,[M("div",got,[Ze(M("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>s.feature.name=u),placeholder:he(r)("titles.name"),class:"npc-feature-editor__input npc-feature-editor__input--name",required:""},null,8,yot),[[gt,s.feature.name]]),M("button",{onClick:o[1]||(o[1]=u=>s.$emit("remove")),class:"npc-feature-editor__remove-button"},"")]),Ze(M("textarea",{"onUpdate:modelValue":o[2]||(o[2]=u=>s.feature.description=u),placeholder:he(r)("titles.description"),rows:"3",class:"npc-feature-editor__textarea"},null,8,bot),[[gt,s.feature.description]]),Ze(M("textarea",{"onUpdate:modelValue":o[3]||(o[3]=u=>a.value=u),placeholder:he(r)("titles.effects"),rows:"4",class:"npc-feature-editor__textarea"},null,8,_ot),[[gt,a.value]])])])):(Z(),ee("details",fot,[M("summary",dot,[M("strong",null,ne(s.feature.name),1)]),M("div",pot,[s.feature.description?(Z(),ee("div",{key:0,class:"description",innerHTML:i.value},null,8,mot)):He("",!0)])]))}});const wot=xt(Aot,[["__scopeId","data-v-c0f153f2"]]),xot=e=>{const t=typeof e=="string"?Jd.parse(e):e,r={};let n=0;for(const a of t){const s=a.sign==="-"?-1:1;if(a.type==="constant")n+=s*a.constant.value;else if(a.type==="rollable"){const{size:o,count:u}=a.rollable,l=`d${o}`;r[l]=(r[l]||0)+s*u}}const i=[];for(const[a,s]of Object.entries(r)){if(s===0)continue;const o=Math.abs(s),u=s<0?"-":i.length>0?"+":"";i.push(`${u}${o>1?o:""}${a}`)}if(n!==0){const a=n<0?"-":i.length>0?"+":"";i.push(`${a}${Math.abs(n)}`)}return i.join("")},Sot=e=>{const t=/^\+|^\-|^\*|^\\|^\//g,r=e.map((n,i)=>{const a=typeof n=="number"?String(n):n.replace(/ /g,"");return i===0||t.test(a)?a:`+${a}`});return xot(r.join(""))},Eot=["title"],Cot=ft({__name:"DicePool",props:{pool:{},rollArgs:{}},setup(e){const{t}=Bt(),r=e,n=Oe(()=>Sot(r.pool.value.final)),i=pD(),a=s=>{s.altKey?(s.preventDefault(),s.stopPropagation(),i.open("damage",r.rollArgs)):zJ(r.rollArgs)};return(s,o)=>(Z(),ee("button",{class:"dice-pool",title:he(t)("actions.roll"),onClick:Qr(a,["stop"])},ne(n.value),9,Eot))}});const Hg=xt(Cot,[["__scopeId","data-v-feba31a1"]]),$ot={key:0,class:"accordion"},Not={class:"accordion__summary"},Dot={class:"npc-action-item__summary-grid"},Tot={class:"npc-action-item__name"},kot={key:0,class:"npc-action-item__cost"},Iot=["title"],Oot={key:1,class:"npc-action-item__damage"},Mot={key:2,class:"npc-action-item__damage"},Pot={key:3,class:"npc-action-item__attack-bonus"},Bot={key:4,class:"npc-action-item__dc"},Lot={key:5},Fot={class:"accordion__details"},Rot={key:0},Uot={key:1},zot={key:2},qot={key:3},jot=["innerHTML"],Vot={key:1,class:"npc-action-editor"},Hot={class:"npc-action-editor__form"},Got={class:"npc-action-editor__row"},Zot=["placeholder"],Wot={class:"checkbox-label"},Kot={class:"npc-action-editor__grid"},Jot={key:0,class:"npc-action-editor__labeled-input"},Yot={value:"actions"},Xot={value:"bonus-actions"},Qot={value:"reactions"},eut={value:"free-actions"},tut={key:1,class:"npc-action-editor__labeled-input"},rut={value:"melee"},nut={value:"ranged"},iut={key:2,class:"npc-action-editor__labeled-input"},aut={value:"weapon"},sut={value:"spell"},out={class:"npc-action-editor__labeled-input"},uut={class:"npc-action-editor__labeled-input"},lut={class:"npc-action-editor__grid"},cut={key:0,class:"npc-action-editor__labeled-input"},fut={key:1,class:"npc-action-editor__labeled-input"},dut={class:"npc-action-editor__labeled-input"},put={value:"none"},mut=["value"],hut={key:2,class:"npc-action-editor__labeled-input"},vut={key:3,class:"npc-action-editor__labeled-input"},gut=["placeholder"],yut=ft({__name:"NpcActionItem",props:{npcId:{},action:{},editMode:{type:Boolean}},emits:["remove"],setup(e,{emit:t}){const r=e,n=is(),{t:i}=Bt(),a=Oe(()=>uu(r.action.description)),s=Oe(()=>n.getNpcActionBonus(r.npcId,r.action)),o=Oe(()=>n.getNpcActionDamage(r.npcId,r.action)),u=Pe(void 0),l=d=>{u.value=d},c=Oe(()=>{const d=n.npcs.find(v=>v._id===r.npcId);if(!d)return{rollName:"",subtitle:"",damageRolls:[],isCrit:!1,t:function(v){throw new Error("Function not implemented.")}};const p=r.action,m=[Be.damage,Be[`${p.attackType}-damage`],Be[`${p.sourceType}-damage`],Be[`${p.attackType}-${p.sourceType}-damage`]].filter(Boolean),h=[Be["damage-roll"],Be[`${p.attackType}-damage-roll`],Be[`${p.sourceType}-damage-roll`],Be[`${p.attackType}-${p.sourceType}-damage-roll`]].filter(Boolean);return{rollName:p.name,subtitle:i("rolls.damage-roll"),damageRolls:p.damage,isCrit:u.value==="crit-success",canCrit:p.isAttack,whisper:!1,sourceType:"action",characterName:d.name,effectsSource:d.effects,damageModifierKeys:m,damageRollKeys:h,properties:Ao(p,i,p.savingDc>0?p.savingDc:void 0),description:p.description,t:i}}),f=Oe(()=>{const d=r.action,p=n.npcs.find(_=>_._id===r.npcId);if(!p)return{rollName:"",subtitle:"",bonuses:[]};const m=[],h=n.getNpcActionBonus(r.npcId,d),v=h.value.modifiers.reduce((_,x)=>_+x.value,0),y=h.value.final-v;y!==0&&m.push({label:i("titles.attack-bonus"),value:y}),h.value.modifiers.forEach(_=>{m.push({label:_.name,value:_.value})});const w=[Be["attack-roll"],Be[`${d.attackType}-attack-roll`],Be[`${d.sourceType}-attack-roll`],Be[`${d.attackType}-${d.sourceType}-attack-roll`]].filter(Boolean),g=[Be["attack-action-die"],Be[`${d.attackType}-attack-action-die`],Be[`${d.sourceType}-attack-action-die`],Be[`${d.attackType}-${d.sourceType}-attack-action-die`]].filter(Boolean),b=n.getNpcActionCritRange(r.npcId,d).value.final;return{rollName:d.name,subtitle:i("rolls.attack-roll"),bonuses:m,rollBonusKeys:w,actionDieKeys:g,critRange:b,properties:Ao(d,i,d.savingDc>0?d.savingDc:void 0),description:d.description,effectsSource:p?.effects||[],sourceType:"action",characterName:n.npcs.find(_=>_._id===r.npcId)?.name}});return(d,p)=>d.editMode?(Z(),ee("div",Vot,[M("div",Hot,[M("div",Got,[Ze(M("input",{"onUpdate:modelValue":p[2]||(p[2]=m=>d.action.name=m),placeholder:he(i)("titles.name"),class:"npc-action-editor__input--name",required:""},null,8,Zot),[[gt,d.action.name]]),M("button",{onClick:p[3]||(p[3]=m=>d.$emit("remove")),class:"npc-action-editor__remove-button"},"")]),M("label",Wot,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":p[4]||(p[4]=m=>d.action.isAttack=m)},null,512),[[ys,d.action.isAttack]]),Xe(" "+ne(he(i)("titles.is-attack")),1)]),M("div",Kot,[d.action.group!=="legendary"&&d.action.group!=="lair"?(Z(),ee("div",Jot,[M("strong",null,ne(he(i)("titles.group"))+":",1),Ze(M("select",{"onUpdate:modelValue":p[5]||(p[5]=m=>d.action.group=m),required:""},[M("option",Yot,ne(he(i)("titles.action-groups.actions")),1),M("option",Xot,ne(he(i)("titles.action-groups.bonus-actions")),1),M("option",Qot,ne(he(i)("titles.action-groups.reactions")),1),M("option",eut,ne(he(i)("titles.action-groups.free-actions")),1)],512),[[lr,d.action.group]])])):He("",!0),d.action.isAttack?(Z(),ee("div",tut,[M("strong",null,ne(he(i)("titles.attack-type"))+":",1),Ze(M("select",{"onUpdate:modelValue":p[6]||(p[6]=m=>d.action.attackType=m)},[M("option",rut,ne(he(i)("titles.attack-types.melee")),1),M("option",nut,ne(he(i)("titles.attack-types.ranged")),1)],512),[[lr,d.action.attackType]])])):He("",!0),d.action.isAttack?(Z(),ee("div",iut,[M("strong",null,ne(he(i)("titles.source-type"))+":",1),Ze(M("select",{"onUpdate:modelValue":p[7]||(p[7]=m=>d.action.sourceType=m)},[M("option",aut,ne(he(i)("titles.source-types.weapon")),1),M("option",sut,ne(he(i)("titles.source-types.spell")),1)],512),[[lr,d.action.sourceType]])])):He("",!0),M("div",out,[M("strong",null,ne(he(i)("titles.range"))+":",1),Ze(M("input",{"onUpdate:modelValue":p[8]||(p[8]=m=>d.action.range=m)},null,512),[[gt,d.action.range]])]),M("div",uut,[M("strong",null,ne(he(i)("titles.target"))+":",1),Ze(M("input",{"onUpdate:modelValue":p[9]||(p[9]=m=>d.action.target=m)},null,512),[[gt,d.action.target]])])]),M("div",lut,[d.action.isAttack?(Z(),ee("div",cut,[M("strong",null,ne(he(i)("titles.attack-bonus"))+":",1),Ze(M("input",{type:"number","onUpdate:modelValue":p[10]||(p[10]=m=>d.action.attackBonus=m),placeholder:"-"},null,512),[[gt,d.action.attackBonus,void 0,{number:!0}]])])):He("",!0),d.action.isAttack?(Z(),ee("div",fut,[M("strong",null,ne(he(i)("titles.crit-range"))+":",1),Ze(M("input",{type:"number","onUpdate:modelValue":p[11]||(p[11]=m=>d.action.critRange=m),min:"1",max:"20"},null,512),[[gt,d.action.critRange,void 0,{number:!0}]])])):He("",!0),M("div",dut,[M("strong",null,ne(he(i)("titles.saving-throw"))+":",1),Ze(M("select",{"onUpdate:modelValue":p[12]||(p[12]=m=>d.action.saving=m)},[M("option",put,ne(he(i)("titles.none")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,m=>(Z(),ee("option",{key:m,value:m},ne(he(i)(`titles.abilities.${m}`)),9,mut))),128))],512),[[lr,d.action.saving]])]),d.action.saving!=="none"?(Z(),ee("div",hut,[M("strong",null,ne(he(i)("titles.save-dc"))+":",1),Ze(M("input",{type:"number","onUpdate:modelValue":p[13]||(p[13]=m=>d.action.savingDc=m)},null,512),[[gt,d.action.savingDc,void 0,{number:!0}]])])):He("",!0),d.action.group==="legendary"?(Z(),ee("div",vut,[M("strong",null,ne(he(i)("titles.legendary-cost"))+":",1),Ze(M("input",{type:"number","onUpdate:modelValue":p[14]||(p[14]=m=>d.action.legendaryCost=m),min:"1"},null,512),[[gt,d.action.legendaryCost,void 0,{number:!0}]])])):He("",!0)]),Fe(RA,{damage:d.action.damage,showCrit:d.action.isAttack},null,8,["damage","showCrit"]),Ze(M("textarea",{"onUpdate:modelValue":p[15]||(p[15]=m=>d.action.description=m),placeholder:he(i)("titles.description"),rows:"3"},null,8,gut),[[gt,d.action.description]])])])):(Z(),ee("details",$ot,[M("summary",Not,[M("div",Dot,[M("strong",Tot,[Xe(ne(d.action.name)+" ",1),d.action.group==="legendary"&&d.action.legendaryCost?(Z(),ee("span",kot," ("+ne(he(i)("titles.legendary-cost-label",{cost:d.action.legendaryCost}))+") ",1)):He("",!0)]),d.action.description||d.action.target||d.action.range?(Z(),ee("button",{key:0,class:"action-item__chat-button",title:he(i)("titles.icons.send-to-chat"),onClick:p[0]||(p[0]=Qr(m=>he(n).sendActionInfoToChat(d.npcId,d.action._id,he(i)),["stop"]))},[Fe(Qn,{icon:"chat"})],8,Iot)):He("",!0),o.value.value.final.length>0?(Z(),ee("span",Oot,[Fe(Hg,{pool:o.value,rollArgs:c.value},null,8,["pool","rollArgs"])])):(Z(),ee("span",Mot,"-")),d.action.isAttack?(Z(),ee("span",Pot,[Fe(wo,{finalBonus:s.value.value.final,rollArgs:f.value,onRolled:l},null,8,["finalBonus","rollArgs"])])):d.action.saving!=="none"?(Z(),ee("span",Bot,[M("button",{class:"button--link roll-dc",onClick:p[1]||(p[1]=Qr(m=>he(n).sendActionInfoToChat(d.npcId,d.action._id,he(i)),["stop"]))}," DC"+ne(d.action.savingDc),1)])):(Z(),ee("span",Lot))])]),M("div",Fot,[d.action.isAttack?(Z(),ee("p",Rot,[M("em",null,ne(he(i)(`titles.attack-types.${d.action.attackType}`))+" "+ne(he(i)(`titles.source-types.${d.action.sourceType}`))+" "+ne(he(i)("titles.attack")),1)])):He("",!0),d.action.target?(Z(),ee("p",Uot,[M("strong",null,ne(he(i)("titles.target"))+":",1),Xe(" "+ne(d.action.target),1)])):He("",!0),d.action.range?(Z(),ee("p",zot,[M("strong",null,ne(he(i)("titles.range"))+":",1),Xe(" "+ne(d.action.range),1)])):He("",!0),d.action.saving!=="none"?(Z(),ee("p",qot,[M("strong",null,ne(he(i)("titles.saving-throw"))+":",1),Xe(" "+ne(he(i)("titles.dc"))+" "+ne(d.action.savingDc)+" "+ne(he(i)(`titles.abilities.${d.action.saving}`)),1)])):He("",!0),d.action.description?(Z(),ee("div",{key:4,class:"description",innerHTML:a.value},null,8,jot)):He("",!0)])]))}});const HS=xt(yut,[["__scopeId","data-v-4f228938"]]),but={class:"npc-spell-source"},_ut={class:"npc-spell-source__header"},Aut={class:"npc-spell-source__grid"},wut={class:"npc-spell-source__labeled-input"},xut=["value"],Sut={class:"npc-spell-source__labeled-input"},Eut={class:"npc-spell-source__labeled-input"},Cut={class:"npc-spell-source__labeled-input"},$ut=["placeholder"],Nut={class:"npc-spell-source__checkbox-label"},Dut={key:0,class:"npc-spell-source__slots-editor"},Tut={class:"npc-spell-source__slots-grid"},kut=["onUpdate:modelValue"],Iut=ft({__name:"NpcSpellSourceItem",props:{source:{}},emits:["remove"],setup(e){const{t}=Bt();return(r,n)=>(Z(),ee("div",but,[M("div",_ut,[Ze(M("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>r.source.name=i),class:"npc-spell-source__name-input",required:""},null,512),[[gt,r.source.name]]),M("button",{onClick:n[1]||(n[1]=i=>r.$emit("remove")),class:"npc-spell-source__remove-button"},"")]),M("div",Aut,[M("div",wut,[M("strong",null,ne(he(t)("titles.spellcasting-ability")),1),Ze(M("select",{"onUpdate:modelValue":n[2]||(n[2]=i=>r.source.ability=i)},[(Z(!0),ee(tt,null,wt(he(Je).abilities,i=>(Z(),ee("option",{key:i,value:i},ne(he(t)(`titles.abilities.${i}`)),9,xut))),128))],512),[[lr,r.source.ability]])]),M("div",Sut,[M("strong",null,ne(he(t)("titles.spell-attack-bonus")),1),Ze(M("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=i=>r.source.spellAttackBonus=i)},null,512),[[gt,r.source.spellAttackBonus,void 0,{number:!0}]])]),M("div",Eut,[M("strong",null,ne(he(t)("titles.spell-save-dc")),1),Ze(M("input",{type:"number","onUpdate:modelValue":n[4]||(n[4]=i=>r.source.spellSaveDC=i)},null,512),[[gt,r.source.spellSaveDC,void 0,{number:!0}]])]),M("div",Cut,[M("strong",null,ne(he(t)("titles.level")),1),Ze(M("input",{type:"number","onUpdate:modelValue":n[5]||(n[5]=i=>r.source.casterLevel=i),min:"0",placeholder:he(t)("titles.level")},null,8,$ut),[[gt,r.source.casterLevel,void 0,{number:!0}]])]),M("label",Nut,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":n[6]||(n[6]=i=>r.source.isInnate=i)},null,512),[[ys,r.source.isInnate]]),Xe(" "+ne(he(t)("titles.innate")),1)])]),r.source.isInnate?He("",!0):(Z(),ee("div",Dut,[M("h4",null,ne(he(t)("titles.spell-slots")),1),M("div",Tut,[(Z(),ee(tt,null,wt(9,i=>M("div",{key:i,class:"npc-spell-source__labeled-input"},[M("strong",null,"Lvl "+ne(i),1),Ze(M("input",{type:"number","onUpdate:modelValue":a=>r.source.spellSlots[i]=a,min:"0"},null,8,kut),[[gt,r.source.spellSlots[i],void 0,{number:!0}]])])),64))])]))]))}});const Out=xt(Iut,[["__scopeId","data-v-67f13257"]]),Mut=e=>(Hi("data-v-64f12dd5"),e=e(),Gi(),e),Put={key:0,class:"accordion"},But={class:"accordion__summary"},Lut={class:"npc-spell-item__summary-grid"},Fut={class:"npc-spell-item__name"},Rut={key:0,class:"npc-spell-item__usage"},Uut=["title"],zut={key:1,class:"npc-spell-item__damage"},qut={key:2,class:"npc-spell-item__damage"},jut={key:3,class:"npc-spell-item__attack-bonus"},Vut={key:4,class:"npc-spell-item__dc"},Hut={key:5},Gut={class:"accordion__details"},Zut={key:0},Wut={key:0},Kut=Mut(()=>M("hr",null,null,-1)),Jut=["innerHTML"],Yut={key:2},Xut=["innerHTML"],Qut={key:1,class:"npc-spell-item__editor"},elt={class:"npc-spell-item__row"},tlt=["placeholder"],rlt={class:"npc-spell-item__grid"},nlt=["value"],ilt=["value"],alt={disabled:"",value:""},slt=["value"],olt=["placeholder"],ult={class:"npc-spell-item__grid"},llt=["placeholder"],clt=["placeholder"],flt=["placeholder"],dlt=["placeholder"],plt=["value"],mlt={class:"npc-spell-item__checkboxes"},hlt={class:"toggable-group"},vlt={class:"checkbox-label"},glt={key:0,class:"toggable-group__options npc-spell-item__grid"},ylt={value:"melee"},blt={value:"ranged"},_lt={value:"none"},Alt=["value"],wlt=["placeholder"],xlt=["placeholder"],Slt=["placeholder"],Elt=ft({__name:"NpcSpellItem",props:{spell:{},spellSources:{},editMode:{type:Boolean},localNpc:{},npcId:{}},emits:["remove"],setup(e){const t=e,{t:r}=Bt(),n=Je.spellComponents,i=Oe(()=>uu(t.spell.description.default)),a=Oe(()=>uu(t.spell.description.upcast)),s=is(),o=Oe(()=>s.getNpcSpellAttackBonus(t.npcId,t.spell.spellSourceId,t.spell)),u=Oe(()=>s.getNpcSpellDamage(t.npcId,t.spell)),l=Oe(()=>s.getNpcSpellSaveDC(t.npcId,t.spell.spellSourceId));Pe(void 0);const c=h=>{s.setLastNpcSpellAttackResult(t.spell._id,h)},f=Oe(()=>{const h=s.npcs.find(v=>v._id===t.npcId);return h?{rollName:t.spell.name,subtitle:r("rolls.damage-roll"),damageRolls:t.spell.damage.map(v=>({...v,ability:tc(v.ability,t.spell.spellSourceId,h.spellSources),damage:v.damage,critDamage:v.critDamage})),isCrit:s.lastNpcSpellAttack?.spellId===t.spell._id&&s.lastNpcSpellAttack.resultType==="crit-success",canCrit:t.spell.isAttack,whisper:!1,sourceType:"spell",characterName:h.name,effectsSource:h.effects,damageModifierKeys:[Be.damage,Be["spell-damage"],Be[`${t.spell.attackType}-spell-damage`],Be[`${t.spell.attackType}-damage`]].filter(Boolean),damageRollKeys:[Be["damage-roll"],Be["spell-damage-roll"],Be[`${t.spell.attackType}-spell-damage-roll`],Be[`${t.spell.attackType}-damage-roll`]].filter(Boolean),properties:Ao(t.spell,r,l.value.value.final),description:t.spell.description.default,t:r}:{rollName:"",subtitle:"",damageRolls:[],isCrit:!1,t:function(v){throw new Error("Function not implemented.")}}}),d=Oe(()=>{const h=s.npcs.find(b=>b._id===t.npcId);if(!h)return{rollName:"",subtitle:"",bonuses:[]};const v=[],y=s.getNpcSpellAttackBonus(t.npcId,t.spell.spellSourceId),w=y.value.modifiers.reduce((b,_)=>b+_.value,0),g=y.value.final-w;return g!==0&&v.push({label:r("titles.spell-attack-bonus"),value:g}),y.value.modifiers.forEach(b=>{v.push({label:b.name,value:b.value})}),{rollName:t.spell.name,subtitle:r("rolls.attack-roll"),bonuses:v,rollBonusKeys:[Be["spell-attack-roll"],Be["attack-roll"],Be[`${t.spell.attackType}-spell-attack-roll`],Be[`${t.spell.attackType}-attack-roll`]],actionDieKeys:[Be["spell-attack-action-die"],Be["attack-action-die"],Be[`${t.spell.attackType}-spell-attack-action-die`],Be[`${t.spell.attackType}-attack-action-die`]].filter(Boolean),critRange:s.getNpcSpellCritRange(t.npcId,t.spell).value.final,properties:Ao(t.spell,r,l.value.value.final),description:t.spell.description.default,effectsSource:h.effects,sourceType:"spell",characterName:h.name}}),p=Oe({get(){const h=t.localNpc.effects.find(y=>y._id===t.spell.effectId);if(!h)return"{}";const v=Ya(JSON.parse(JSON.stringify(h)));return JSON.stringify(v,null,2)},set(h){if(!t.localNpc)return;let v=t.localNpc.effects.findIndex(y=>y._id===t.spell.effectId);if(v===-1){const y={_id:t.spell.effectId,label:t.spell.name,description:"",enabled:!1,toggleable:!1,removable:!1,effects:[]};t.localNpc.effects.push(y),v=t.localNpc.effects.length-1}if(v>-1)try{const y=JSON.parse(h),w=t.localNpc.effects[v];y._id=w._id,(y.effects||[]).forEach((g,b)=>{const _=w.effects?.[b];g._id=_?._id??Ct()}),["actions","resources","spellSources","spells","pickers"].forEach(g=>{y[g]&&Array.isArray(y[g])&&y[g].forEach(b=>{b._id||(b._id=Ct())})}),y.label||(y.label=t.spell.name),t.localNpc.effects[v]=y}catch{}}}),m=Oe(()=>t.spellSources.find(v=>v._id===t.spell.spellSourceId)?.isInnate??!1);return(h,v)=>h.editMode?(Z(),ee("div",Qut,[M("div",elt,[Ze(M("input",{"onUpdate:modelValue":v[2]||(v[2]=y=>h.spell.name=y),placeholder:he(r)("titles.name"),class:"npc-spell-item__input--name",required:""},null,8,tlt),[[gt,h.spell.name]]),M("button",{onClick:v[3]||(v[3]=y=>h.$emit("remove")),class:"npc-spell-item__remove-button"},"")]),M("div",rlt,[Ze(M("select",{"onUpdate:modelValue":v[4]||(v[4]=y=>h.spell.level=y)},[(Z(!0),ee(tt,null,wt(he(Je).spellLevels,y=>(Z(),ee("option",{key:y,value:y},ne(he(r)(`titles.spell-levels.${y}`)),9,nlt))),128))],512),[[lr,h.spell.level,void 0,{number:!0}]]),Ze(M("select",{"onUpdate:modelValue":v[5]||(v[5]=y=>h.spell.school=y)},[(Z(!0),ee(tt,null,wt(he(Je).spellSchools,y=>(Z(),ee("option",{key:y,value:y},ne(he(r)(`titles.spell-schools.${y}`)),9,ilt))),128))],512),[[lr,h.spell.school]]),Ze(M("select",{"onUpdate:modelValue":v[6]||(v[6]=y=>h.spell.spellSourceId=y),required:""},[M("option",alt,ne(he(r)("actions.select-source")),1),(Z(!0),ee(tt,null,wt(h.spellSources,y=>(Z(),ee("option",{key:y._id,value:y._id},ne(y.name),9,slt))),128))],512),[[lr,h.spell.spellSourceId]]),m.value?Ze((Z(),ee("input",{key:0,"onUpdate:modelValue":v[7]||(v[7]=y=>h.spell.innateUsage=y),placeholder:he(r)("titles.innate-usage")},null,8,olt)),[[gt,h.spell.innateUsage]]):He("",!0)]),M("div",ult,[Ze(M("input",{"onUpdate:modelValue":v[8]||(v[8]=y=>h.spell.castingTime=y),placeholder:he(r)("titles.casting-time")},null,8,llt),[[gt,h.spell.castingTime]]),Ze(M("input",{"onUpdate:modelValue":v[9]||(v[9]=y=>h.spell.range=y),placeholder:he(r)("titles.range")},null,8,clt),[[gt,h.spell.range]]),Ze(M("input",{"onUpdate:modelValue":v[10]||(v[10]=y=>h.spell.target=y),placeholder:he(r)("titles.target")},null,8,flt),[[gt,h.spell.target]]),Ze(M("input",{"onUpdate:modelValue":v[11]||(v[11]=y=>h.spell.duration=y),placeholder:he(r)("titles.duration")},null,8,dlt),[[gt,h.spell.duration]])]),M("label",null,[Xe(ne(h.$t("titles.components"))+" ",1),Ze(M("select",{multiple:"","onUpdate:modelValue":v[12]||(v[12]=y=>h.spell.components=y)},[(Z(!0),ee(tt,null,wt(he(n),y=>(Z(),ee("option",{key:y,value:y},ne(h.$t(`titles.spell-components.${y}`)),9,plt))),128))],512),[[lr,h.spell.components]])]),M("label",null,[Xe(ne(h.$t("titles.material-optional"))+" ",1),Ze(M("input",{"onUpdate:modelValue":v[13]||(v[13]=y=>h.spell.material=y)},null,512),[[gt,h.spell.material]])]),M("div",mlt,[M("label",null,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":v[14]||(v[14]=y=>h.spell.concentration=y)},null,512),[[ys,h.spell.concentration]]),Xe(ne(he(r)("titles.concentration")),1)]),M("label",null,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":v[15]||(v[15]=y=>h.spell.ritual=y)},null,512),[[ys,h.spell.ritual]]),Xe(ne(he(r)("titles.ritual")),1)])]),M("div",hlt,[M("label",vlt,[Ze(M("input",{type:"checkbox","onUpdate:modelValue":v[16]||(v[16]=y=>h.spell.isAttack=y)},null,512),[[ys,h.spell.isAttack]]),M("strong",null,ne(he(r)("titles.is-attack")),1)]),h.spell.isAttack?(Z(),ee("div",glt,[Ze(M("select",{"onUpdate:modelValue":v[17]||(v[17]=y=>h.spell.attackType=y)},[M("option",ylt,ne(he(r)("titles.attack-types.melee")),1),M("option",blt,ne(he(r)("titles.attack-types.ranged")),1)],512),[[lr,h.spell.attackType]]),Ze(M("input",{type:"number","onUpdate:modelValue":v[18]||(v[18]=y=>h.spell.critRange=y),min:"1",max:"20"},null,512),[[gt,h.spell.critRange,void 0,{number:!0}]])])):He("",!0)]),Ze(M("select",{"onUpdate:modelValue":v[19]||(v[19]=y=>h.spell.saving=y)},[M("option",_lt,ne(he(r)("titles.saving-throw")),1),(Z(!0),ee(tt,null,wt(he(Je).abilities,y=>(Z(),ee("option",{key:y,value:y},ne(he(r)(`titles.abilities.${y}`)),9,Alt))),128))],512),[[lr,h.spell.saving]]),Fe(RA,{damage:h.spell.damage},null,8,["damage"]),Ze(M("textarea",{"onUpdate:modelValue":v[20]||(v[20]=y=>h.spell.description.default=y),placeholder:he(r)("titles.description"),rows:"3"},null,8,wlt),[[gt,h.spell.description.default]]),Ze(M("textarea",{"onUpdate:modelValue":v[21]||(v[21]=y=>p.value=y),placeholder:he(r)("titles.effects"),rows:"4"},null,8,xlt),[[gt,p.value]]),Ze(M("textarea",{"onUpdate:modelValue":v[22]||(v[22]=y=>h.spell.description.upcast=y),placeholder:he(r)("titles.at-higher-levels"),rows:"2"},null,8,Slt),[[gt,h.spell.description.upcast]])])):(Z(),ee("details",Put,[M("summary",But,[M("div",Lut,[M("strong",Fut,[Xe(ne(h.spell.name)+" ",1),m.value&&h.spell.innateUsage?(Z(),ee("span",Rut," ("+ne(h.spell.innateUsage)+") ",1)):He("",!0)]),h.spell.description.default||h.spell.target||h.spell.range?(Z(),ee("button",{key:0,class:"spell-item__chat-button",title:he(r)("titles.icons.send-to-chat"),onClick:v[0]||(v[0]=Qr(y=>he(s).sendSpellInfoToChat(h.npcId,h.spell._id,he(r)),["stop"]))},[Fe(Qn,{icon:"chat"})],8,Uut)):He("",!0),u.value.value.final.length>0?(Z(),ee("span",zut,[Fe(Hg,{pool:u.value,rollArgs:f.value},null,8,["pool","rollArgs"])])):(Z(),ee("span",qut,"-")),h.spell.isAttack?(Z(),ee("span",jut,[Fe(wo,{finalBonus:o.value.value.final,rollArgs:d.value,onRolled:c},null,8,["finalBonus","rollArgs"])])):h.spell.saving!=="none"?(Z(),ee("span",Vut,[M("button",{class:"button--link roll-dc",onClick:v[1]||(v[1]=Qr(y=>he(s).sendSpellInfoToChat(h.npcId,h.spell._id,he(r)),["stop"]))}," DC"+ne(l.value.value.final),1)])):(Z(),ee("span",Hut))])]),M("div",Gut,[M("p",null,[M("em",null,ne(he(r)(`titles.spell-levels.${h.spell.level}`))+" "+ne(he(r)(`titles.spell-schools.${h.spell.school}`)),1)]),M("p",null,[M("strong",null,ne(he(r)("titles.casting-time"))+":",1),Xe(" "+ne(h.spell.castingTime),1)]),M("p",null,[M("strong",null,ne(he(r)("titles.range"))+":",1),Xe(" "+ne(h.spell.range),1)]),h.spell.target?(Z(),ee("p",Zut,[M("strong",null,ne(he(r)("titles.target"))+":",1),Xe(" "+ne(h.spell.target),1)])):He("",!0),M("p",null,[M("strong",null,ne(h.$t("titles.components"))+":",1),Xe(" "+ne(h.spell.components.map(y=>h.$t(`abbreviations.spell-components.${y}`)).join(", "))+" ",1),h.spell.material?(Z(),ee("span",Wut," ("+ne(h.spell.material)+")",1)):He("",!0)]),Kut,M("p",null,[M("strong",null,ne(he(r)("titles.duration"))+":",1),Xe(" "+ne(h.spell.duration),1)]),h.spell.description.default?(Z(),ee("div",{key:1,class:"description",innerHTML:i.value},null,8,Jut)):He("",!0),h.spell.description.upcast?(Z(),ee("div",Yut,[M("strong",null,ne(h.$t("titles.at-higher-levels"))+".",1),h.spell.description.upcast?(Z(),ee("div",{key:0,class:"description",innerHTML:a.value},null,8,Xut)):He("",!0)])):He("",!0)])]))}});const GS=xt(Elt,[["__scopeId","data-v-64f12dd5"]]),Clt=["value"],$lt=ft({__name:"EditableTextField",props:{modelValue:{type:String,required:!0},editMode:{type:Boolean,required:!0},isItalic:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return(t,r)=>e.editMode?(Z(),ee("textarea",{key:1,value:e.modelValue,onInput:r[0]||(r[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"2",class:"npc-statblock__full-width-input"},null,40,Clt)):(Z(),ee("p",{key:0,class:Sr({"is-italic":e.isItalic})},[M("em",null,ne(e.modelValue),1)],2))}});const Nlt=xt($lt,[["__scopeId","data-v-b229ab9d"]]),Dlt={class:"editable-textarea"},Tlt={key:0,class:"editable-textarea__title"},klt={key:1},Ilt={key:0},Olt=["innerHTML"],Mlt=["value","placeholder"],Plt=ft({__name:"EditableTextArea",props:{modelValue:{type:String,required:!0},editMode:{type:Boolean,required:!0},label:{type:String},isTitled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const t=e,r=Oe(()=>uu(t.modelValue));return(n,i)=>(Z(),ee("div",Dlt,[e.isTitled&&e.label?(Z(),ee("h3",Tlt,ne(e.label),1)):He("",!0),!e.editMode&&e.modelValue?(Z(),ee("div",klt,[!e.isTitled&&e.label?(Z(),ee("strong",Ilt,ne(e.label)+":",1)):He("",!0),t.modelValue?(Z(),ee("div",{key:1,class:"description",innerHTML:r.value},null,8,Olt)):He("",!0)])):e.editMode?(Z(),ee("textarea",{key:2,value:e.modelValue,onInput:i[0]||(i[0]=a=>n.$emit("update:modelValue",a.target.value)),rows:"2",class:"npc-statblock__full-width-input",placeholder:e.label},null,40,Mlt)):He("",!0)]))}});const gd=xt(Plt,[["__scopeId","data-v-d1eb166a"]]),PY=e=>(Hi("data-v-426c254e"),e=e(),Gi(),e),Blt={class:"labeled-text-field"},Llt={key:0},Flt={key:0},Rlt={key:1,class:"npc-statblock__edit-row"},Ult=["type","value"],zlt=PY(()=>M("span",null,"(",-1)),qlt=["value","placeholder"],jlt=PY(()=>M("span",null,")",-1)),Vlt=ft({__name:"LabeledTextField",props:{editMode:{type:Boolean,required:!0},label:{type:String,required:!0},primary:{type:[String,Number],required:!0},secondary:{type:String,default:void 0},displayValue:{type:[String,Number],default:void 0},isNumeric:{type:Boolean,default:!1}},emits:["update:primary","update:secondary"],setup(e,{emit:t}){const r=e,n=t,i=a=>{const s=a.target,o=r.isNumeric?Number(s.value):s.value;n("update:primary",o)};return(a,s)=>(Z(),ee("div",Blt,[e.editMode?(Z(),ee("div",Rlt,[M("strong",null,ne(e.label)+":",1),M("input",{type:e.isNumeric?"number":"text",value:e.primary,onInput:i,class:Sr({"npc-statblock__ac-input":e.isNumeric})},null,42,Ult),e.secondary!==void 0?(Z(),ee(tt,{key:0},[zlt,M("input",{value:e.secondary,onInput:s[0]||(s[0]=o=>a.$emit("update:secondary",o.target.value)),placeholder:a.$t("titles.description")},null,40,qlt),jlt],64)):He("",!0)])):(Z(),ee("p",Llt,[M("strong",null,ne(e.label)+":",1),Xe(" "+ne(e.displayValue)+" ",1),e.secondary?(Z(),ee("span",Flt,"("+ne(e.secondary)+")",1)):He("",!0)]))]))}});const ZS=xt(Vlt,[["__scopeId","data-v-426c254e"]]),Hlt={class:"npc-proficiency-item"},Glt={class:"npc-proficiency-item__label"},Zlt={class:"npc-proficiency-item__control"},Wlt=["value","placeholder"],Klt=ft({__name:"NpcProficiencyItem",props:{label:{},baseBonus:{},placeholder:{},finalBonus:{},editMode:{type:Boolean},npcId:{},group:{},skillKey:{}},emits:["update:baseBonus"],setup(e){const t=e,{t:r}=Bt(),n=is(),i=Oe(()=>{const a=n.npcs.find(d=>d._id===t.npcId);if(!a)return{rollName:"",subtitle:"",bonuses:[]};const s=[],o=t.finalBonus.value.modifiers.reduce((d,p)=>d+p.value,0),u=t.finalBonus.value.final-o;u!==0&&s.push({label:r("titles.base-score"),value:u}),t.finalBonus.value.modifiers.forEach(d=>{s.push({label:d.name,value:d.value})});let l=[],c=[],f="";if(t.group==="saving-throws")f=r("rolls.savings"),l=[Be[`${t.skillKey}-roll`],Be["saving-roll"]],c=[Be[`${t.skillKey}-action-die`],Be["saving-action-die"]];else if(t.group==="skills"){f=r("rolls.default-skills");const d=Je.skills[t.skillKey].ability;l=[Be[`${t.skillKey}-roll`],Be["skill-roll"],Be["check-roll"],Be[`${d}-check-roll`]],c=[Be[`${t.skillKey}-action-die`],Be["skill-action-die"],Be["check-action-die"],Be[`${d}-check-action-die`]]}return{rollName:t.label,subtitle:f,bonuses:s,rollBonusKeys:l,actionDieKeys:c,critRange:20,effectsSource:a.effects,characterName:a.name}});return(a,s)=>(Z(),ee("div",Hlt,[M("span",Glt,ne(a.label),1),M("div",Zlt,[a.editMode?(Z(),ee("input",{key:1,type:"number",value:a.baseBonus,placeholder:a.placeholder,onInput:s[0]||(s[0]=o=>a.$emit("update:baseBonus",o.target.value===""?null:Number(o.target.value)))},null,40,Wlt)):(Z(),Yt(wo,{key:0,finalBonus:a.finalBonus.value.final,rollArgs:i.value},null,8,["finalBonus","rollArgs"]))])]))}});const OB=xt(Klt,[["__scopeId","data-v-df5ca038"]]),Jlt={class:"proficiency-section"},Ylt={key:0,class:"npc-statblock__prof-display"},Xlt={class:"npc-statblock__prof-grid"},Qlt={key:1,class:"npc-statblock__prof-editor"},ect={class:"npc-statblock__prof-grid"},tct=ft({__name:"ProficiencySection",props:{editMode:{type:Boolean,required:!0},title:{type:String,required:!0},items:{type:Array,required:!0},itemType:{type:String,required:!0},baseValues:{type:Object,required:!0},modifiedAbilities:{type:Object,required:!0},npcId:{type:String,required:!0},visibleKeys:{type:Array,required:!0}},emits:["update:base-value"],setup(e){const t=e,{t:r}=Bt(),n=is(),i=u=>t.itemType==="saving-throws"?`titles.abilities.${u}`:`titles.default-skills.${u}`,a=u=>t.itemType==="saving-throws"?`${u}-saving`:u,s=u=>t.itemType==="saving-throws"?n.getNpcSavingThrowBonus(t.npcId,u):n.getNpcSkillBonus(t.npcId,u),o=u=>{const l=t.itemType==="saving-throws"?u:Je.skills[u].ability;return t.modifiedAbilities[l]?.bonus.value.final.toString()??"0"};return(u,l)=>(Z(),ee("div",Jlt,[!e.editMode&&e.visibleKeys.length>0?(Z(),ee("div",Ylt,[M("strong",null,ne(e.title)+":",1),M("div",Xlt,[(Z(!0),ee(tt,null,wt(e.visibleKeys,c=>(Z(),Yt(OB,{key:c,label:he(r)(i(c)),finalBonus:s(c),baseBonus:e.baseValues[c]||null,placeholder:o(c),editMode:!1,npcId:e.npcId,group:e.itemType,skillKey:a(c)},null,8,["label","finalBonus","baseBonus","placeholder","npcId","group","skillKey"]))),128))])])):e.editMode?(Z(),ee("div",Qlt,[M("h4",null,ne(e.title),1),M("div",ect,[(Z(!0),ee(tt,null,wt(e.items,c=>(Z(),Yt(OB,{key:c,label:he(r)(i(c)),baseBonus:e.baseValues[c],placeholder:o(c),finalBonus:s(c),editMode:!0,npcId:e.npcId,group:e.itemType,skillKey:a(c),"onUpdate:baseBonus":f=>u.$emit("update:base-value",c,f)},null,8,["label","baseBonus","placeholder","finalBonus","npcId","group","skillKey","onUpdate:baseBonus"]))),128))])])):He("",!0)]))}});const MB=xt(tct,[["__scopeId","data-v-143488ec"]]),rct={class:"npc-statblock__section"},nct={class:"npc-statblock__section-header"},ict=ft({__name:"ListSection",props:{title:{type:String,required:!0},items:{type:Array,required:!0},editMode:{type:Boolean,required:!0}},emits:["add"],setup(e){const{t}=Bt();return(r,n)=>(Z(),ee("div",rct,[M("div",nct,[M("h3",null,ne(e.title),1),e.editMode?(Z(),ee("button",{key:0,onClick:n[0]||(n[0]=i=>r.$emit("add")),type:"button",class:"npc-statblock__add-button"},ne(he(t)("actions.add")),1)):He("",!0)]),(Z(!0),ee(tt,null,wt(e.items,(i,a)=>rf(r.$slots,"item",{item:i,index:a},void 0,!0)),256))]))}});const PB=xt(ict,[["__scopeId","data-v-56bad761"]]),act={class:"npc-statblock__section described-list-section"},sct={class:"npc-statblock__section-header"},oct=ft({__name:"DescribedListSection",props:{title:{type:String,required:!0},items:{type:Array,required:!0},editMode:{type:Boolean,required:!0},description:{type:String,required:!0}},emits:["add","update:description"],setup(e){const{t}=Bt();return(r,n)=>(Z(),ee("div",act,[M("div",sct,[M("h3",null,ne(e.title),1),e.editMode?(Z(),ee("button",{key:0,onClick:n[0]||(n[0]=i=>r.$emit("add")),type:"button",class:"npc-statblock__add-button"},ne(he(t)("actions.add")),1)):He("",!0)]),Fe(gd,{editMode:e.editMode,modelValue:e.description,"onUpdate:modelValue":n[1]||(n[1]=i=>r.$emit("update:description",i))},null,8,["editMode","modelValue"]),(Z(!0),ee(tt,null,wt(e.items,(i,a)=>rf(r.$slots,"item",{item:i,index:a},void 0,!0)),256))]))}});const BB=xt(oct,[["__scopeId","data-v-58863b2e"]]),uct=e=>(Hi("data-v-5471831f"),e=e(),Gi(),e),lct={class:"npc-statblock__details"},cct={class:"npc-statblock__abilities"},fct={class:"npc-statblock__ability-label"},dct={key:0,class:"npc-statblock__ability-view"},pct={class:"npc-statblock__ability-score"},mct=["onUpdate:modelValue"],hct={class:"npc-statblock__challenge"},vct={key:0},gct={key:1,class:"npc-statblock__edit-row"},yct=["value"],bct=["value"],_ct=uct(()=>M("hr",null,null,-1)),Act={key:6,class:"npc-statblock__list-editor"},wct=["value"],xct={key:7,class:"tabs"},Sct={key:8,class:"tab-content"},Ect={key:9,class:"tab-content"},Cct={key:10,class:"tab-content"},$ct={key:0,class:"npc-statblock__section"},Nct={class:"npc-statblock__section-header"},Dct={key:0,class:"npc-statblock__sources-editor"},Tct={key:1,class:"source-list"},kct={class:"npc-statblock__source-details"},Ict={key:0,class:"npc-statblock__level-group"},Oct={key:1},Mct={key:0},Pct={class:"npc-statblock__level-header"},Bct={key:0,class:"npc-statblock__slots-tracker"},Lct=["value","placeholder"],Fct=["value","placeholder"],Rct={key:2,class:"npc-statblock__spells-editor"},Uct=ft({__name:"NPCStatblockDetails",props:{npc:{type:Object,required:!0},localNpc:{type:Object,required:!0},editMode:{type:Boolean,required:!0},modifiedAbilities:{type:Object,required:!0},savingThrowsWithBonuses:{type:Array,required:!0},skillsWithBonuses:{type:Array,required:!0},challengeRatings:{type:Array,required:!0},challengeRatingValue:{type:String,required:!0},newEffectJson:{type:String,required:!0}},emits:["update:challengeRatingValue","update:newEffectJson","addEffect","toggleEffect","removeEffect","addFeature","removeFeature","addAction","removeAction","addSpellSource","removeSpellSource","addSpell","removeSpell","save-npc","update-spell-slots-used"],setup(e,{emit:t}){const r=e,n=is(),{t:i}=Bt(),a=Pe("features"),s=Oe(()=>(r.localNpc.effects&&r.localNpc.effects.forEach(m=>m.enabled),n.getNpcActionsFromEffects(r.localNpc))),o=Oe(()=>{const m=r.localNpc.actions,h=s.value.filter(v=>!v.group||v.group==="actions"||v.group==="bonus-actions"||v.group==="reactions"||v.group==="free-actions");return[...m,...h]}),u=Oe(()=>{const m=r.localNpc.legendaryActions.actions,h=s.value.filter(v=>v.group==="legendary");return[...m,...h]}),l=Oe(()=>{const m=r.localNpc.lairActions.actions,h=s.value.filter(v=>v.group==="lair");return[...m,...h]}),c=Oe(()=>{const m={},h=(v,y,w)=>{m[v]||(m[v]={}),m[v][y]||(m[v][y]=[]),m[v][y].push(w)};for(const v of r.localNpc.spells){if(!v.spellSourceId)continue;const y=r.localNpc.spellSources.find(g=>g._id===v.spellSourceId);if(!y)continue;const w=y.isInnate?"innate":v.level.toString();h(y._id,w,v),!y.isInnate&&v.level>0&&v.upcast&&v.upcast.length>0&&(console.log("Processing upcasts for spell:",v.name),v.upcast.forEach((g,b)=>{const _=g.level;if(y.spellSlots&&y.spellSlots[_]>0){let x=pi(v.damage);Array.isArray(v.damage)&&Array.isArray(g.damage)&&(x=v.damage.map((C,$)=>g.damage&&g.damage[$]?{...C,...g.damage[$]}:C));const E={...v,...g,damage:x,description:v.description,_id:`${v._id}-upcast-${b}`,level:_};h(y._id,_.toString(),E)}}))}for(const v in m)for(const y in m[v])m[v][y].sort((w,g)=>w.name.localeCompare(g.name));return m}),f=m=>{const h=r.npc;if(!h)return{rollName:"",subtitle:"",bonuses:[]};const v=r.modifiedAbilities[m].bonus.value,y=[],w=v.modifiers.reduce((x,E)=>x+E.value,0),g=v.final-w;g!==0&&y.push({label:i(`titles.abilities.${m}`),value:g}),v.modifiers.forEach(x=>{y.push({label:x.name,value:x.value})});const b=[Be[`${m}-check-roll`],Be["check-roll"]].filter(Boolean),_=[Be[`${m}-check-action-die`],Be["check-action-die"]].filter(Boolean);return{rollName:i(`titles.abilities.${m}`),subtitle:i("rolls.ability-check"),bonuses:y,rollBonusKeys:b,actionDieKeys:_,critRange:20,effectsSource:h.effects,characterName:h.name}},d=m=>{const h=r.npc?.spellSources.find(b=>b._id===m);if(!r.npc||!h)return{rollName:"",subtitle:"",bonuses:[]};const v=n.getNpcSpellAttackBonus(r.npc._id,m).value,y=v.modifiers.reduce((b,_)=>b+_.value,0),w=v.final-y,g=[];return w!==0&&g.push({label:i("titles.spell-attack-bonus"),value:w}),v.modifiers.forEach(b=>{g.push({label:b.name,value:b.value})}),{rollName:i("rolls.attack-roll"),subtitle:`${h.name}`,bonuses:g,rollBonusKeys:[Be["spell-attack-roll"],Be["attack-roll"]],actionDieKeys:[Be["spell-attack-action-die"],Be["attack-action-die"]],critRange:20,effectsSource:r.npc.effects,characterName:r.npc.name}},p=(m,h,v)=>r.editMode?!0:h===0||m.isInnate?v.length>0:m.spellSlots[h]>0||v.length>0;return(m,h)=>(Z(),ee("div",lct,[Fe(Nlt,{editMode:e.editMode,modelValue:e.localNpc.shortDescription,"onUpdate:modelValue":h[0]||(h[0]=v=>e.localNpc.shortDescription=v),"is-italic":!0},null,8,["editMode","modelValue"]),Fe(ZS,{editMode:e.editMode,label:he(i)("titles.armor-class"),primary:e.localNpc.armorClass,"onUpdate:primary":h[1]||(h[1]=v=>e.localNpc.armorClass=v),secondary:e.localNpc.acDescription,"onUpdate:secondary":h[2]||(h[2]=v=>e.localNpc.acDescription=v),displayValue:he(n).getNpcModifiedValue(e.npc._id,e.npc.armorClass,he(Be)["armor-class"]).value.final,"is-numeric":!0,min:"0"},null,8,["editMode","label","primary","secondary","displayValue"]),Fe(ZS,{editMode:e.editMode,label:he(i)("titles.hit-points"),primary:e.localNpc.hitPoints.max,"onUpdate:primary":h[3]||(h[3]=v=>e.localNpc.hitPoints.max=v),secondary:e.localNpc.hitPoints.formula,"onUpdate:secondary":h[4]||(h[4]=v=>e.localNpc.hitPoints.formula=v),displayValue:he(n).getNpcModifiedValue(e.npc._id,e.npc.hitPoints.max,he(Be)["hit-points-max"]).value.final,"is-numeric":!0,min:"0"},null,8,["editMode","label","primary","secondary","displayValue"]),Fe(ZS,{editMode:e.editMode,label:he(i)("titles.speed"),primary:e.localNpc.speed,"onUpdate:primary":h[5]||(h[5]=v=>e.localNpc.speed=v),displayValue:e.npc.speed},null,8,["editMode","label","primary","displayValue"]),M("div",cct,[(Z(!0),ee(tt,null,wt(he(Je).abilities,v=>(Z(),ee("div",{key:v,class:"npc-statblock__ability"},[M("strong",fct,ne(he(i)(`abbreviations.${v}`)),1),e.editMode?Ze((Z(),ee("input",{key:1,type:"number","onUpdate:modelValue":y=>e.localNpc.abilities[v]=y,min:"1"},null,8,mct)),[[gt,e.localNpc.abilities[v],void 0,{number:!0}]]):(Z(),ee("div",dct,[M("span",pct,ne(e.modifiedAbilities[v]?.score.value.final),1),Fe(wo,{class:"npc-statblock__ability-modifier",finalBonus:e.modifiedAbilities[v]?.bonus.value.final,rollArgs:f(v)},null,8,["finalBonus","rollArgs"])]))]))),128))]),Fe(MB,{editMode:e.editMode,title:he(i)("titles.saving-throws"),items:he(Je).abilities.slice(),"item-type":"saving-throws","base-values":e.localNpc.savingThrows,"modified-abilities":e.modifiedAbilities,"npc-id":e.npc._id,"visible-keys":e.savingThrowsWithBonuses,"onUpdate:baseValue":h[6]||(h[6]=(v,y)=>e.localNpc.savingThrows[v]=y)},null,8,["editMode","title","items","base-values","modified-abilities","npc-id","visible-keys"]),Fe(MB,{editMode:e.editMode,title:he(i)("titles.skills"),items:Object.keys(he(Je).skills),"item-type":"skills","base-values":e.localNpc.skills,"modified-abilities":e.modifiedAbilities,"npc-id":e.npc._id,"visible-keys":e.skillsWithBonuses,"onUpdate:baseValue":h[7]||(h[7]=(v,y)=>e.localNpc.skills[v]=y)},null,8,["editMode","title","items","base-values","modified-abilities","npc-id","visible-keys"]),e.npc.damageResistances||e.editMode?(Z(),Yt(gd,{key:0,editMode:e.editMode,modelValue:e.localNpc.damageResistances,"onUpdate:modelValue":h[8]||(h[8]=v=>e.localNpc.damageResistances=v),label:he(i)("titles.damage-resistances")},null,8,["editMode","modelValue","label"])):He("",!0),e.npc.damageImmunities||e.editMode?(Z(),Yt(gd,{key:1,editMode:e.editMode,modelValue:e.localNpc.damageImmunities,"onUpdate:modelValue":h[9]||(h[9]=v=>e.localNpc.damageImmunities=v),label:he(i)("titles.damage-immunities")},null,8,["editMode","modelValue","label"])):He("",!0),e.npc.damageVulnerabilities||e.editMode?(Z(),Yt(gd,{key:2,editMode:e.editMode,modelValue:e.localNpc.damageVulnerabilities,"onUpdate:modelValue":h[10]||(h[10]=v=>e.localNpc.damageVulnerabilities=v),label:he(i)("titles.damage-vulnerabilities")},null,8,["editMode","modelValue","label"])):He("",!0),e.npc.conditionImmunities||e.editMode?(Z(),Yt(gd,{key:3,editMode:e.editMode,modelValue:e.localNpc.conditionImmunities,"onUpdate:modelValue":h[11]||(h[11]=v=>e.localNpc.conditionImmunities=v),label:he(i)("titles.condition-immunities")},null,8,["editMode","modelValue","label"])):He("",!0),e.npc.senses||e.editMode?(Z(),Yt(gd,{key:4,editMode:e.editMode,modelValue:e.localNpc.senses,"onUpdate:modelValue":h[12]||(h[12]=v=>e.localNpc.senses=v),label:he(i)("titles.senses")},null,8,["editMode","modelValue","label"])):He("",!0),e.npc.languages||e.editMode?(Z(),Yt(gd,{key:5,editMode:e.editMode,modelValue:e.localNpc.languages,"onUpdate:modelValue":h[13]||(h[13]=v=>e.localNpc.languages=v),label:he(i)("titles.languages")},null,8,["editMode","modelValue","label"])):He("",!0),M("div",hct,[e.editMode?(Z(),ee("div",gct,[M("strong",null,ne(he(i)("titles.challenge"))+":",1),M("select",{value:e.challengeRatingValue,onInput:h[14]||(h[14]=v=>m.$emit("update:challengeRatingValue",v.target.value)),class:"npc-statblock__full-width-input"},[(Z(!0),ee(tt,null,wt(e.challengeRatings,v=>(Z(),ee("option",{key:v,value:v},ne(v)+" ("+ne(he(Je).challengeRatingXP[v].toLocaleString())+" XP; PB +"+ne(he(Je).challengeRatingPB[v])+") ",9,bct))),128))],40,yct)])):(Z(),ee("p",vct,[M("strong",null,ne(he(i)("titles.challenge"))+":",1),Xe(" "+ne(e.npc.challenge),1)]))]),_ct,e.editMode?(Z(),ee("div",Act,[M("h4",null,ne(he(i)("titles.effects")),1),M("textarea",{value:e.newEffectJson,onInput:h[15]||(h[15]=v=>m.$emit("update:newEffectJson",v.target.value)),rows:"5"},null,40,wct),M("div",null,[M("button",{type:"button",onClick:h[16]||(h[16]=v=>m.$emit("addEffect"))},ne(he(i)("actions.add"))+" "+ne(he(i)("titles.effects")),1)])])):He("",!0),Fe(cot,{effects:e.npc.effects,editMode:e.editMode,onToggleEffect:h[17]||(h[17]=v=>m.$emit("toggleEffect",v)),onRemoveEffect:h[18]||(h[18]=v=>m.$emit("removeEffect",v))},null,8,["effects","editMode"]),e.editMode?(Z(),ee("div",xct,[M("button",{class:Sr({active:a.value==="features"}),onClick:h[19]||(h[19]=v=>a.value="features"),type:"button"},ne(he(i)("titles.features")),3),M("button",{class:Sr({active:a.value==="actions"}),onClick:h[20]||(h[20]=v=>a.value="actions"),type:"button"},ne(he(i)("titles.actions")),3),M("button",{class:Sr({active:a.value==="spellcasting"}),onClick:h[21]||(h[21]=v=>a.value="spellcasting"),type:"button"},ne(he(i)("titles.spellcasting")),3)])):He("",!0),a.value==="features"||!e.editMode?(Z(),ee("div",Sct,[e.npc.features.length>0||e.editMode?(Z(),Yt(PB,{key:0,title:he(i)("titles.features"),items:e.localNpc.features,editMode:e.editMode,onAdd:h[22]||(h[22]=v=>m.$emit("addFeature"))},{item:Xr(({item:v,index:y})=>[Fe(wot,{feature:v,localNpc:e.localNpc,editMode:e.editMode,onRemove:w=>m.$emit("removeFeature",y)},null,8,["feature","localNpc","editMode","onRemove"])]),_:1},8,["title","items","editMode"])):He("",!0)])):He("",!0),a.value==="actions"||!e.editMode?(Z(),ee("div",Ect,[o.value.length>0||e.editMode?(Z(),Yt(PB,{key:0,title:he(i)("titles.actions"),items:o.value,editMode:e.editMode,onAdd:h[23]||(h[23]=v=>m.$emit("addAction","actions"))},{item:Xr(({item:v,index:y})=>[Fe(HS,{action:v,npcId:e.npc._id,editMode:e.editMode,onRemove:w=>m.$emit("removeAction",y,"actions")},null,8,["action","npcId","editMode","onRemove"])]),_:1},8,["title","items","editMode"])):He("",!0),u.value.length>0||e.editMode?(Z(),Yt(BB,{key:1,title:he(i)("titles.legendary-actions"),items:u.value,description:e.localNpc.legendaryActions.description,"onUpdate:description":h[24]||(h[24]=v=>e.localNpc.legendaryActions.description=v),editMode:e.editMode,onAdd:h[25]||(h[25]=v=>m.$emit("addAction","legendary"))},{item:Xr(({item:v,index:y})=>[Fe(HS,{action:v,npcId:e.npc._id,editMode:e.editMode,onRemove:w=>m.$emit("removeAction",y,"legendary")},null,8,["action","npcId","editMode","onRemove"])]),_:1},8,["title","items","description","editMode"])):He("",!0),l.value.length>0||e.editMode?(Z(),Yt(BB,{key:2,title:he(i)("titles.lair-actions"),items:l.value,description:e.localNpc.lairActions.description,"onUpdate:description":h[26]||(h[26]=v=>e.localNpc.lairActions.description=v),editMode:e.editMode,onAdd:h[27]||(h[27]=v=>m.$emit("addAction","lair"))},{item:Xr(({item:v,index:y})=>[Fe(HS,{action:v,npcId:e.npc._id,editMode:e.editMode,onRemove:w=>m.$emit("removeAction",y,"lair")},null,8,["action","npcId","editMode","onRemove"])]),_:1},8,["title","items","description","editMode"])):He("",!0)])):He("",!0),a.value==="spellcasting"||!e.editMode?(Z(),ee("div",Cct,[e.npc.spellSources.length>0||e.editMode?(Z(),ee("div",$ct,[M("div",Nct,[M("h3",null,ne(he(i)("titles.spellcasting")),1),e.editMode?(Z(),ee("button",{key:0,onClick:h[28]||(h[28]=v=>m.$emit("addSpellSource")),type:"button",class:"npc-statblock__add-button"},ne(he(i)("actions.add-spell-source")),1)):He("",!0)]),e.editMode?(Z(),ee("div",Dct,[(Z(!0),ee(tt,null,wt(e.localNpc.spellSources,(v,y)=>(Z(),Yt(Out,{key:v._id,source:v,onRemove:w=>m.$emit("removeSpellSource",y)},null,8,["source","onRemove"]))),128))])):He("",!0),e.editMode?(Z(),ee("div",Rct,[(Z(!0),ee(tt,null,wt(e.localNpc.spells,v=>(Z(),Yt(GS,{key:v._id,spell:v,spellSources:e.localNpc.spellSources,editMode:e.editMode,localNpc:e.localNpc,onRemove:y=>m.$emit("removeSpell",v._id),npcId:e.npc._id},null,8,["spell","spellSources","editMode","localNpc","onRemove","npcId"]))),128))])):(Z(),ee("div",Tct,[(Z(!0),ee(tt,null,wt(e.npc.spellSources,v=>(Z(),ee("div",{key:v._id,class:"npc-statblock__source-block"},[M("div",kct,[M("strong",null,ne(v.name)+" ("+ne(he(i)(`abbreviations.${v.ability}`))+"):",1),M("span",null,ne(he(i)("titles.save-dc"))+":"+ne(he(n).getNpcSpellSaveDC(e.npc._id,v._id).value.final),1),M("span",null,[M("span",null,ne(he(i)("titles.attack-bonus"))+":",1),Fe(wo,{finalBonus:he(n).getNpcSpellAttackBonus(e.npc._id,v._id).value.final,rollArgs:d(v._id)},null,8,["finalBonus","rollArgs"])])]),v.isInnate&&c.value[v._id]?.innate?(Z(),ee("div",Ict,[(Z(!0),ee(tt,null,wt(c.value[v._id]?.innate,y=>(Z(),Yt(GS,{key:y._id,spell:y,localNpc:e.localNpc,spellSources:e.localNpc.spellSources,editMode:e.editMode,onRemove:w=>m.$emit("removeSpell",y._id),npcId:e.npc._id},null,8,["spell","localNpc","spellSources","editMode","onRemove","npcId"]))),128))])):He("",!0),v.isInnate?He("",!0):(Z(),ee("div",Oct,[(Z(!0),ee(tt,null,wt(he(Je).spellLevels,y=>(Z(),ee("div",{key:y,class:"npc-statblock__level-group"},[p(v,y,c.value[v._id]?.[y]||[])?(Z(),ee("div",Mct,[M("div",Pct,[M("h4",null,ne(he(i)(`titles.spell-levels.${y}`)),1),y>0?(Z(),ee("div",Bct,[Xe(" ("+ne(he(i)("titles.slots"))+": ",1),M("input",{type:"number",value:v.spellSlotsUsed[y]||0,min:"0",placeholder:m.$t("titles.used")},null,8,Lct),Xe(" / "),M("input",{type:"number",value:v.spellSlots[y]||0,min:"0",placeholder:m.$t("titles.total")},null,8,Fct),Xe(" ) ")])):He("",!0)]),(Z(!0),ee(tt,null,wt(c.value[v._id]?.[y.toString()],w=>(Z(),Yt(GS,{key:w._id,spell:w,spellSources:e.localNpc.spellSources,editMode:e.editMode,localNpc:e.localNpc,npcId:e.npc._id},null,8,["spell","spellSources","editMode","localNpc","npcId"]))),128))])):He("",!0)]))),128))]))]))),128))])),e.editMode&&e.localNpc.spellSources.length>0?(Z(),ee("button",{key:3,onClick:h[29]||(h[29]=v=>m.$emit("addSpell")),type:"button",class:"npc-statblock__add-button"},ne(he(i)("actions.add-spell")),1)):He("",!0)])):He("",!0)])):He("",!0)]))}});const zct=xt(Uct,[["__scopeId","data-v-5471831f"]]),qct={class:"image-uploader"},jct={class:"image-uploader__label"},Vct={key:0,class:"image-uploader__preview"},Hct=["src"],Gct={key:1,class:"image-uploader__placeholder"},WS=200,KS=200,Zct=ft({__name:"ImageUpload",props:{modelValue:{},editMode:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const r=t,n=Pe(null),i=s=>{const u=s.target.files?.[0];if(!u)return;const l=new FileReader;l.onload=c=>{const f=new Image;f.onload=()=>{const d=document.createElement("canvas"),p=d.getContext("2d"),m=Math.min(WS/f.width,KS/f.height),h=f.width*m,v=f.height*m,y=(WS-h)/2,w=(KS-v)/2;d.width=WS,d.height=KS,p?.drawImage(f,y,w,h,v);const g=d.toDataURL("image/png");r("update:modelValue",g)},f.src=c.target?.result},l.readAsDataURL(u)},a=()=>{r("update:modelValue",""),n.value&&(n.value.value="")};return(s,o)=>(Z(),ee("div",qct,[M("label",jct,[M("input",{ref_key:"fileInput",ref:n,type:"file",accept:"image/*",class:"image-uploader__input",onChange:i},null,544),s.modelValue?(Z(),ee("div",Vct,[M("img",{src:s.modelValue,alt:"NPC Token"},null,8,Hct)])):(Z(),ee("div",Gct,[Fe(Qn,{icon:"upload"}),M("span",null,ne(s.$t("actions.upload")),1)]))]),s.modelValue?(Z(),ee("button",{key:0,onClick:Qr(a,["prevent"]),class:"image-uploader__remove-button"},[Fe(Qn,{icon:"close"})])):He("",!0)]))}});const Wct=xt(Zct,[["__scopeId","data-v-cf2bef9d"]]),Kct=["data-npc-id"],Jct=["open"],Yct=ft({__name:"NpcStatblock",props:{npc:{},editMode:{type:Boolean},companionMode:{type:Boolean,default:!1},forceExpanded:{type:Boolean,default:!1},showCollapseControl:{type:Boolean,default:!0}},emits:["open-edit"],setup(e,{expose:t}){const r=e,n=is(),{t:i}=Bt(),a=Pe(pi(r.npc)),s=Pe(""),o=Pe(r.npc?.isCollapsed??!0),u=Oe(()=>r.editMode?a.value:r.npc),l=Oe(()=>r.editMode?r.npc.isDefault?!0:o.value:!1);Xn(()=>r.npc?.isCollapsed,O=>{o.value=O??!0}),Xn(()=>r.npc,O=>{O&&!r.editMode&&(a.value=pi(O))},{deep:!0}),Xn(()=>r.editMode,O=>{O?a.value=pi(r.npc):a.value&&c()});const c=()=>{a.value&&n.updateNpc(r.npc._id,a.value)},f=()=>{a.value&&n.removeNpc(r.npc._id)},d=O=>{a.value&&(a.value.hitPoints.current=O,c())},p=({sourceId:O,level:T,value:j})=>{if(!a.value)return;const R=a.value.spellSources.find(le=>le._id===O);R&&(R.spellSlotsUsed||(R.spellSlotsUsed={}),R.spellSlotsUsed[T]=j,c())},m=Oe(()=>Object.keys(Je.challengeRatingXP).sort((O,T)=>{const j=Wl(O),R=Wl(T);return j-R})),h=Oe({get:()=>a.value?.challenge.split(" ")[0]??"0",set:O=>{if(a.value){const T=Je.challengeRatingXP[O]||0,j=Je.challengeRatingPB[O]||2;a.value.challenge=`${O} (${T.toLocaleString()} XP; PB +${j})`}}}),v=n.getNpcModifiedAbilities(r.npc._id),y=Oe(()=>{const O=v.value.dexterity?.bonus.value.final??0,T=[Be.initiative];return n.getNpcModifiedValue(r.npc._id,O,T)}),w=Oe(()=>{const O=u.value;if(!O)return{rollName:"",subtitle:"",bonuses:[]};const T=y.value.value,j=[],R=T.modifiers.reduce((H,ve)=>H+ve.value,0),le=T.final-R;le!==0&&j.push({label:i("titles.abilities.dexterity"),value:le}),T.modifiers.forEach(H=>{j.push({label:H.name,value:H.value})});const re=[Be["initiative-roll"],Be["dexterity-check-roll"],Be["check-roll"]].filter(Boolean),F=[Be["initiative-action-die"],Be["dexterity-check-action-die"],Be["check-action-die"]].filter(Boolean);return{rollName:i("titles.initiative"),subtitle:i("rolls.initiative-check"),bonuses:j,rollBonusKeys:re,actionDieKeys:F,critRange:20,effectsSource:O.effects,characterName:O.name,addToTracker:!0,tokenId:yo().token?.id,isCompanion:u.value?.isCompanion||!1,avatar:u.value?.token||void 0}}),g=Oe(()=>{if(!u.value)return[];const O=u.value._id,T=n.getNpcEffects(O).value;return Je.abilities.filter(j=>{if(u.value.savingThrows[j]!==null)return!0;if(O){if(n.getNpcSavingThrowBonus(O,j).value.modifiers.length>0)return!0;const le=[Be[`${j}-saving-roll`],Be["saving-roll"],Be[`${j}-saving-action-die`],Be["saving-action-die"]].filter(Boolean);if(dr.getValidEffects(T,le,F=>F.enabled).length>0)return!0}return!1})}),b=Oe(()=>{if(!u.value)return[];const O=u.value._id,T=n.getNpcEffects(O).value;return Object.keys(Je.skills).filter(j=>{if(u.value.skills[j]!==null)return!0;if(O){if(n.getNpcSkillBonus(O,j).value.modifiers.length>0)return!0;const le=Je.skills[j].ability,re=[Be[`${j}-roll`],Be["skill-roll"],Be["check-roll"],Be[`${le}-check-roll`],Be[`${j}-action-die`],Be["skill-action-die"],Be["check-action-die"],Be[`${le}-check-action-die`]].filter(Boolean);if(dr.getValidEffects(T,re,H=>H.enabled).length>0)return!0}return!1})}),_=Oe(()=>n.getNpcEffects(r.npc._id).value.filter(T=>T.enabled)),x=()=>{if(a.value)try{const O=JSON.parse(s.value);if(!O.label)throw new Error("Invalid structure: Label is required");const T=R=>Array.isArray(R)?R.map(le=>({...le,_id:le._id??Ct()})):[],j={_id:O._id??Ct(),label:O.label,description:O.description??"",enabled:O.enabled??!1,toggleable:O.toggleable??!0,removable:O.removable??!0,required:O.required??[],effects:T(O.effects??[]),actions:T(O.actions??[]),resources:T(O.resources??[]),spellSources:T(O.spellSources??[]),spells:T(O.spells??[]),pickers:T(O.pickers??[])};a.value.effects.push(j),s.value=""}catch(O){console.error(O),alert(i("titles.invalid-json"))}},E=O=>{if(r.editMode){const T=a.value?.effects.find(j=>j._id===O);T&&T.toggleable&&(T.enabled=!T.enabled)}else n.toggleNpcEffect(r.npc._id,O)},C=O=>{if(!r.editMode||!a.value)return;const T=a.value.effects.findIndex(j=>j._id===O);T>-1&&a.value.effects.splice(T,1)},$=()=>{if(a.value){const O=n.getEmptyNpcFeature();a.value.features.push(O)}},D=O=>{if(a.value){const T=a.value.features[O];if(T){const j=a.value.effects.findIndex(R=>R._id===T.effectId);j>-1&&a.value.effects.splice(j,1)}a.value.features.splice(O,1)}},N=O=>{if(a.value){const T=n.getEmptyNpcAction(O);O==="legendary"?a.value.legendaryActions.actions.push(T):O==="lair"?a.value.lairActions.actions.push(T):a.value.actions.push(T)}},k=(O,T)=>{a.value&&(T==="legendary"?a.value.legendaryActions.actions.splice(O,1):T==="lair"?a.value.lairActions.actions.splice(O,1):a.value.actions.splice(O,1))},P=()=>{a.value&&a.value.spellSources.push(n.getEmptyNpcSpellSource())},U=O=>{a.value&&a.value.spellSources.splice(O,1)},L=()=>{if(a.value){const O=n.getEmptyNpcSpell();a.value.spells.push(O)}},B=O=>{if(a.value){const T=a.value.spells.findIndex(j=>j._id===O);if(T>-1){const j=a.value.spells[T];if(j){const R=a.value.effects.findIndex(le=>le._id===j.effectId);R>-1&&a.value.effects.splice(R,1)}a.value.spells.splice(T,1)}}};return t({saveChanges:c,deleteNpc:f}),(O,T)=>a.value?(Z(),ee("div",{key:0,class:Sr(["npc-statblock",{"npc-statblock--edit-mode":l.value}]),"data-npc-id":O.npc._id},[O.companionMode&&l.value?(Z(),Yt(Wct,{key:0,modelValue:a.value.token,"onUpdate:modelValue":T[0]||(T[0]=j=>a.value.token=j),"edit-mode":!0,class:"npc-statblock__token-editor"},null,8,["modelValue"])):He("",!0),Fe(gst,{npc:u.value,localNpc:a.value,editMode:l.value,companionMode:O.companionMode,showCollapseControl:O.showCollapseControl,isCollapsed:o.value,"onUpdate:isCollapsed":T[1]||(T[1]=j=>o.value=j),onDelete:f,onOpenEdit:T[2]||(T[2]=j=>O.$emit("open-edit"))},null,8,["npc","localNpc","editMode","companionMode","showCollapseControl","isCollapsed"]),M("details",{open:O.forceExpanded||!o.value,class:"npc-statblock__content"},[Fe(Vst,{npc:u.value,localNpc:a.value,editMode:l.value,activeEffects:_.value,initiativeBonus:y.value,initiativeRollArgs:w.value,"onUpdate:hp":d},null,8,["npc","localNpc","editMode","activeEffects","initiativeBonus","initiativeRollArgs"]),Fe(zct,{npc:u.value,localNpc:a.value,editMode:l.value,modifiedAbilities:he(v),savingThrowsWithBonuses:g.value,skillsWithBonuses:b.value,challengeRatings:m.value,challengeRatingValue:h.value,"onUpdate:challengeRatingValue":T[3]||(T[3]=j=>h.value=j),newEffectJson:s.value,"onUpdate:newEffectJson":T[4]||(T[4]=j=>s.value=j),onAddEffect:x,onToggleEffect:E,onRemoveEffect:C,onAddFeature:$,onRemoveFeature:D,onAddAction:N,onRemoveAction:k,onAddSpellSource:P,onRemoveSpellSource:U,onAddSpell:L,onRemoveSpell:B,onUpdateSpellSlotsUsed:p,onSaveNpc:c},null,8,["npc","localNpc","editMode","modifiedAbilities","savingThrowsWithBonuses","skillsWithBonuses","challengeRatings","challengeRatingValue","newEffectJson"])],8,Jct)],10,Kct)):He("",!0)}});const hD=xt(Yct,[["__scopeId","data-v-763785d6"]]),Xct={class:"view-container"},Qct={class:"sidebar-controls"},eft=ft({__name:"CompanionsSidebar",props:{npcId:{},isNew:{type:Boolean}},setup(e,{expose:t}){const r=e,n=is(),i=en(),a=Pe(null),s=Pe(r.isNew??!1),o=Oe(()=>r.isNew?n.getEmptyNpc(!1,!0,{_id:Ct()}):n.npcs.find(c=>c._id===r.npcId));return t({save:()=>{a.value&&a.value.saveChanges(),i.close()},remove:()=>{a.value&&a.value.deleteNpc(),i.close()}}),(c,f)=>(Z(),ee("div",Xct,[M("div",Qct,[M("label",null,[Xe(ne(c.$t("actions.edit-mode"))+" ",1),Fe(Vg,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=d=>s.value=d),disabled:!1},null,8,["modelValue"])])]),o.value?(Z(),Yt(hD,{key:0,npc:o.value,editMode:s.value,forceExpanded:!0,showCollapseControl:!1,companionMode:!0,ref_key:"statblockRef",ref:a},null,8,["npc","editMode"])):He("",!0)]))}});const BY=xt(eft,[["__scopeId","data-v-66cd3a53"]]),tft={class:"tags-input-container"},rft=["title"],nft={class:"custom-tag__text"},ift=["onClick"],aft=ft({__name:"SheetTagsInput",props:{label:{},store:{},storeKey:{},placeholder:{},autocompleteSource:{},addOnlyFromAutocomplete:{type:Boolean}},setup(e){const t=e,{t:r}=Bt(),n=Pe(""),i={languages:"titles.language.",armor:"titles.proficiency-type.armor-proficiencies.",weapons:"titles.proficiency-type.weapon-proficiencies.",conditionImmunities:"titles.condition.",damageResistances:"titles.damage-types.",damageImmunities:"titles.damage-types.",damageVulnerabilities:"titles.damage-types."},a=Oe(()=>t.store[t.storeKey]??[]),s=Oe(()=>{const f=i[t.storeKey]||"";return a.value.map(d=>({...d,text:d.isDefault?r(f+d.text):d.text,originalKey:d.isDefault?d.text:void 0,classes:d.isFromEffect?"tag--from-effect":""}))}),o=f=>[...f].sort((d,p)=>d.text.localeCompare(p.text)),u=f=>{const d=f.filter(m=>!m.isFromEffect).map(m=>({_id:m._id||Ct(),text:m.originalKey||m.text,isDefault:!!m.isDefault})),p=t.store[t.storeKey].filter(m=>m.isFromEffect);t.store[t.storeKey]=o([...d,...p])},l=Oe(()=>{const f=i[t.storeKey]||"";return(t.autocompleteSource||[]).map(d=>({text:r(f+d),originalKey:d,isDefault:!0}))}),c=Oe(()=>{if(!n.value||!t.autocompleteSource)return[];const f=n.value.toLowerCase();return l.value.filter(d=>d.text.toLowerCase().includes(f))});return(f,d)=>{const p=Wu("vue-tags-input");return Z(),ee("div",tft,[M("label",null,ne(f.label),1),Fe(p,{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=m=>n.value=m),tags:s.value,"autocomplete-items":c.value,"allow-edit-tags":!1,placeholder:f.placeholder,onTagsChanged:u,"add-only-from-autocomplete":f.addOnlyFromAutocomplete},{"tag-center":Xr(({tag:m,index:h,performDelete:v})=>[M("div",{class:Sr(["custom-tag",{"custom-tag--from-effect":m.isFromEffect}]),title:m.title},[M("span",nft,ne(m.text),1),m.isFromEffect?(Z(),Yt(Qn,{key:0,icon:"lock",class:"custom-tag__lock-icon"})):(Z(),ee("i",{key:1,class:"ti-icon-close",onClick:Qr(y=>v(h),["stop"])},null,8,ift))],10,rft)]),_:1},8,["modelValue","tags","autocomplete-items","placeholder","add-only-from-autocomplete"])])}}});const Dd=xt(aft,[["__scopeId","data-v-1579f7a2"]]),sft={class:"view-container"},oft={class:"columns columns-2"},uft=ft({__name:"DefensesSidebar",setup(e,{expose:t}){const r=Pe(null),n=uD(),{autocomplete:i}=Je,a=Gs({conditionImmunities:[...n.combinedConditionImmunities],damageResistances:[...n.combinedDamageResistances],damageImmunities:[...n.combinedDamageImmunities],damageVulnerabilities:[...n.combinedDamageVulnerabilities]}),s=()=>{r.value&&!r.value.reportValidity()||(n.setDefenses({conditionImmunities:a.conditionImmunities.filter(o=>!o.isFromEffect),damageResistances:a.damageResistances.filter(o=>!o.isFromEffect),damageImmunities:a.damageImmunities.filter(o=>!o.isFromEffect),damageVulnerabilities:a.damageVulnerabilities.filter(o=>!o.isFromEffect)}),en().close())};return t({save:s}),(o,u)=>(Z(),ee("div",sft,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(s,["prevent"])},[M("div",oft,[Fe(Dd,{label:o.$t("titles.damage-resistances"),store:a,storeKey:"damageResistances",autocompleteSource:[...he(i).damageTypes],"add-only-from-autocomplete":""},null,8,["label","store","autocompleteSource"]),Fe(Dd,{label:o.$t("titles.damage-immunities"),store:a,storeKey:"damageImmunities",autocompleteSource:[...he(i).damageTypes],"add-only-from-autocomplete":""},null,8,["label","store","autocompleteSource"]),Fe(Dd,{label:o.$t("titles.damage-vulnerabilities"),store:a,storeKey:"damageVulnerabilities",autocompleteSource:[...he(i).damageTypes],"add-only-from-autocomplete":""},null,8,["label","store","autocompleteSource"]),Fe(Dd,{label:o.$t("titles.condition-immunities"),store:a,storeKey:"conditionImmunities",autocompleteSource:[...he(i).conditions],"add-only-from-autocomplete":""},null,8,["label","store","autocompleteSource"])])],544)]))}}),lft={class:"view-container"},cft={class:"columns columns-2"},fft=ft({__name:"OtherProficienciesSidebar",setup(e,{expose:t}){const r=oD(),{autocomplete:n}=Je,i=Pe(null),a=Gs({languages:[...r.combinedLanguages],armor:[...r.combinedArmorProficiencies],weapons:[...r.combinedWeaponProficiencies]}),s=()=>{i.value&&!i.value.reportValidity()||(r.setProficiencies({languages:a.languages.filter(o=>!o.isFromEffect),armor:a.armor.filter(o=>!o.isFromEffect),weapons:a.weapons.filter(o=>!o.isFromEffect)}),en().close())};return t({save:s}),(o,u)=>(Z(),ee("div",lft,[M("form",{ref_key:"form",ref:i,onSubmit:Qr(s,["prevent"])},[M("div",cft,[Fe(Dd,{label:o.$t("titles.languages"),store:a,storeKey:"languages",autocompleteSource:[...he(n).languages]},null,8,["label","store","autocompleteSource"]),Fe(Dd,{label:o.$t("titles.proficiency-types.armor-proficiencies"),store:a,storeKey:"armor",autocompleteSource:[...he(n).armorProficiencies]},null,8,["label","store","autocompleteSource"]),Fe(Dd,{label:o.$t("titles.proficiency-types.weapon-proficiencies"),store:a,storeKey:"weapons",autocompleteSource:[...he(n).weaponProficiencies]},null,8,["label","store","autocompleteSource"])])],544)]))}}),dft={class:"attunement-sidebar__slots-editor"},pft={for:"max-slots"},mft={class:"attunement-sidebar__attunable-list"},hft={class:"attunable-item__name"},vft=ft({__name:"AttunementSidebar",setup(e,{expose:t}){const r=Pe(null),n=Lg(),i=ou(),a=ki(),s=Pe(n.maxSlots),o=Pe(pi(i.equipment)),u=Pe(pi(n.attunedItemIds)),l=Pe(n.availableSlots),c=Oe(()=>o.value.filter(m=>a.groupHasTag(m.tagId,"attunement")).sort((m,h)=>m.name.localeCompare(h.name))),f=(m,h)=>{const v=o.value.find(y=>y._id===m);v&&h?(v.isAttuned=!0,u.value.push(m),l.value--):v&&(v.isAttuned=!1,u.value=u.value.filter(y=>y!==m),l.value++)},d=()=>{s.value<u.value.length&&(u.value.forEach(m=>{const h=o.value.find(v=>v._id===m);h&&(h.isAttuned=!1)}),u.value=[]),l.value=s.value-u.value.length};return t({save:()=>{r.value&&!r.value.reportValidity()||(n.attunedItemIds=u.value,n.maxSlots=s.value,i.equipment=o.value,en().close())}}),(m,h)=>(Z(),ee("form",{ref_key:"form",ref:r,class:"view-container"},[M("div",dft,[M("label",pft,[Xe(ne(m.$t("titles.attunement-slots"))+" ",1),Ze(M("input",{id:"max-slots",type:"number","onUpdate:modelValue":h[0]||(h[0]=v=>s.value=v),onBlur:d,min:"0"},null,544),[[gt,s.value,void 0,{number:!0}]])])]),M("div",mft,[(Z(!0),ee(tt,null,wt(c.value,v=>(Z(),ee("div",{key:v._id,class:"attunable-item"},[M("span",hft,ne(v.name),1),Fe(Vg,{modelValue:u.value.includes(v._id),disabled:!u.value.includes(v._id)&&l.value<=0,"onUpdate:modelValue":y=>f(v._id,!!y)},null,8,["modelValue","disabled","onUpdate:modelValue"])]))),128))])],512))}});const gft=xt(vft,[["__scopeId","data-v-5e656a97"]]),yft={class:"view-container"},bft={class:"conditions-sidebar__list"},_ft=["onClick"],Aft=ft({__name:"ConditionsSidebar",setup(e,{expose:t}){const r=Pe(null),n=lD(),{t:i}=Bt(),a=Je.autocomplete.conditions,s=Pe([...n.activeConditions]),o=c=>s.value.includes(c),u=c=>{o(c)?s.value=s.value.filter(f=>f!==c):s.value.push(c)};return t({save:()=>{r.value&&!r.value.reportValidity()||(n.setActiveConditions(s.value),en().close())}}),(c,f)=>(Z(),ee("form",yft,[M("div",bft,[(Z(!0),ee(tt,null,wt(he(a),d=>(Z(),ee("div",{key:d,class:Sr(["condition-item",{"condition-item--active":o(d)}]),onClick:p=>u(d)},ne(he(i)(`titles.condition.${d}`)),11,_ft))),128))])]))}});const wft=xt(Aft,[["__scopeId","data-v-ae4b2c5f"]]),xft={class:"view-container"},Sft={class:"manual-senses-grid"},Eft=["onUpdate:modelValue"],Cft=ft({__name:"SensesSidebar",setup(e,{expose:t}){const{t:r}=Bt(),n=cD(),i=kt(),a=Pe(null),s=en(),o=Pe(pi(n.manualSenses)),u=f=>{const d=`sense-${f}`;return i.getActiveEffectLabels(d)},l=f=>{const d=u(f);return d.length===0?null:`${r("titles.effects-status.modified-by-effect")}:
- ${d.join(`
- `)}`},c=()=>{a.value&&!a.value.reportValidity()||(n.manualSenses=o.value,s.close())};return t({save:c}),(f,d)=>{const p=Af("tooltip");return Z(),ee("div",xft,[M("form",{ref_key:"form",ref:a,onSubmit:Qr(c,["prevent"])},[M("div",Sft,[(Z(!0),ee(tt,null,wt(he(Je).senses,m=>Ze((Z(),ee("label",{key:m,class:Sr({"has-active-effect":u(m).length>0})},[Xe(ne(f.$t(`titles.sense.${m}`))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":h=>o.value[m]=h,min:"0"},null,8,Eft),[[gt,o.value[m],void 0,{number:!0}]])],2)),[[p,l(m)]])),128))])],544)])}}});const $ft=xt(Cft,[["__scopeId","data-v-03616505"]]),Nft={class:"view-container"},Dft={value:"automatic"},Tft={value:"manual"},kft={key:0,class:"manual-settings columns columns-5"},Ift=["onUpdate:modelValue"],Oft=ft({__name:"HitDiceSidebar",setup(e,{expose:t}){const r=Zt(),n=Gs({...pi(r.hitDice)}),i=Pe(null);Xn(n,o=>{if(o.mode==="automatic")for(const u in n.total)n.total[u]=0});const a=o=>{const[u,l]=o.split("d").map(Number);return u===1?`d${l}`:`${u}d${l}`},s=()=>{i.value&&!i.value.reportValidity()||(r.hitDice={...n},en().close())};return t({save:s}),(o,u)=>(Z(),ee("div",Nft,[M("form",{ref_key:"form",ref:i,onSubmit:Qr(s,["prevent"])},[M("label",null,[Xe(ne(o.$t("titles.hit-dice"))+" ",1),Ze(M("select",{"onUpdate:modelValue":u[0]||(u[0]=l=>n.mode=l)},[M("option",Dft,ne(o.$t("titles.proficiency-levels.automatic")),1),M("option",Tft,ne(o.$t("titles.manual")),1)],512),[[lr,n.mode]])]),n.mode==="manual"?(Z(),ee("div",kft,[(Z(!0),ee(tt,null,wt(he(Je).hitDieSize,l=>(Z(),ee("label",{class:"span-1",key:l},[Xe(ne(a(l))+": ",1),Ze(M("input",{type:"number","onUpdate:modelValue":c=>n.total[l]=c,min:"0"},null,8,Ift),[[gt,n.total[l],void 0,{number:!0}]])]))),128))])):He("",!0)],544)]))}});const Mft=xt(Oft,[["__scopeId","data-v-7da97fba"]]),Pft={class:"view-container"},Bft={value:"automatic"},Lft={value:"manual"},Fft={key:0,class:"manual-settings columns columns-1"},Rft={class:"columns columns-3 header"},Uft={class:"span-1"},zft={class:"span-1"},qft={class:"span-1"},jft={class:"span-1"},Vft=["onUpdate:modelValue","placeholder"],Hft=["onUpdate:modelValue","placeholder"],Gft={key:1,class:"manual-settings columns columns-3"},Zft=["onUpdate:modelValue"],Wft=ft({__name:"SpellSlotsSidebar",setup(e,{expose:t}){const r=Ln(),n=Gs({...pi(r.slots)}),i=Pe(null);Xn(n,s=>{if(s.mode==="automatic")for(let o=0;o<Je.spellLevels.length-1;o++)n.total.standard[o]=0,n.total.pact[o]=0});const a=()=>{i.value&&!i.value.reportValidity()||(r.slots={...n},en().close())};return t({save:a}),(s,o)=>(Z(),ee("div",Pft,[M("form",{ref_key:"form",ref:i,onSubmit:Qr(a,["prevent"])},[M("label",null,[Xe(ne(s.$t("titles.spell-slots"))+" ",1),Ze(M("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>n.mode=u)},[M("option",Bft,ne(s.$t("titles.proficiency-levels.automatic")),1),M("option",Lft,ne(s.$t("titles.manual")),1)],512),[[lr,n.mode]])]),n.mode==="manual"&&he(Je).casterTypes.hasOwnProperty("pact")?(Z(),ee("div",Fft,[M("div",Rft,[M("span",Uft,ne(s.$t("titles.level"))+":",1),M("span",zft,ne(s.$t("titles.standard-slots")),1),M("span",qft,ne(s.$t("titles.pact-slots")),1)]),(Z(!0),ee(tt,null,wt(he(Je).spellLevels.length-1,u=>(Z(),ee("div",{key:u,class:"columns columns-3"},[M("span",jft,ne(s.$t(`titles.spell-levels.${u}`))+":",1),Ze(M("input",{class:"span-1",type:"number","onUpdate:modelValue":l=>n.total.standard[u-1]=l,min:"0",placeholder:s.$t("titles.standard-slots")},null,8,Vft),[[gt,n.total.standard[u-1],void 0,{number:!0}]]),Ze(M("input",{class:"span-1",type:"number","onUpdate:modelValue":l=>n.total.pact[u-1]=l,min:"0",placeholder:s.$t("titles.pact-slots")},null,8,Hft),[[gt,n.total.pact[u-1],void 0,{number:!0}]])]))),128))])):n.mode==="manual"?(Z(),ee("div",Gft,[(Z(!0),ee(tt,null,wt(he(Je).spellLevels.length-1,u=>(Z(),ee("label",{class:"span-1",key:u},[Xe(ne(s.$t(`titles.spell-levels.${u}`))+" ",1),Ze(M("input",{type:"number","onUpdate:modelValue":l=>n.total.standard[u-1]=l,min:"0"},null,8,Zft),[[gt,n.total.standard[u-1],void 0,{number:!0}]])]))),128))])):He("",!0)],544)]))}});const Kft=xt(Wft,[["__scopeId","data-v-f447e6d5"]]),Jft={class:"view-container"},Yft={class:"columns columns-2"},Xft={class:"columns columns-11"},Qft={class:"field span-10"},edt=["readonly"],tdt=["disabled"],rdt={class:"columns columns-11"},ndt={class:"field span-10"},idt=["readonly"],adt=["disabled"],sdt=ft({__name:"AncestrySidebar",setup(e,{expose:t}){const r=Pe(pi(Zt().ancestry)),n=Pe(null),i=Zt(),a=Pe(!1),s=Pe(!1),o=Oe(()=>!!(r.value.name&&r.value.sourceBook&&r.value.sourceBook>0)),u=Oe(()=>!r.value.name||r.value.name.trim()===""),l=Oe(()=>!r.value.subrace||r.value.subrace.trim()===""),c=()=>{i.removeRace()},f=()=>{i.removeSubrace()},d=()=>{n.value&&!n.value.reportValidity()||(a.value?c():s.value&&f(),i.ancestry.name=r.value.name,i.ancestry.subrace=r.value.subrace,en().close())};return t({save:d}),(p,m)=>(Z(),ee("div",Jft,[M("form",{ref_key:"form",ref:n,onSubmit:Qr(d,["prevent"])},[M("div",Yft,[M("label",null,[Xe(ne(p.$t("titles.race"))+" ",1),M("div",Xft,[M("div",Qft,[Ze(M("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=h=>r.value.name=h),readonly:o.value},null,8,edt),[[gt,r.value.name]])]),M("button",{disabled:u.value,class:"span-1 button button--negative",type:"button",onClick:m[1]||(m[1]=()=>{a.value=!0,r.value.name="",r.value.subrace=""})},[Fe(Qn,{icon:"delete"})],8,tdt)])]),M("label",null,[Xe(ne(p.$t("titles.subrace"))+" ",1),M("div",rdt,[M("div",ndt,[Ze(M("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=h=>r.value.subrace=h),readonly:o.value||!r.value.name.trim()},null,8,idt),[[gt,r.value.subrace]])]),M("button",{disabled:l.value,class:"span-1 button button--negative",type:"button",onClick:m[3]||(m[3]=()=>{s.value=!0,r.value.subrace=""})},[Fe(Qn,{icon:"delete"})],8,adt)])])])],544)]))}});const odt=xt(sdt,[["__scopeId","data-v-04a5e7d5"]]),udt={class:"view-container"},ldt={class:"effects-editor"},cdt=ft({__name:"EffectSidebar",props:{effect:{}},setup(e,{expose:t}){Bt();const r=Pe(null),n=e,i=n.effect?._id??Ct();let a=JSON.stringify(Ya(kt().getEmptyEffect({_id:i})),null,2);const s=kt();if(n.effect?._id){const c=s.effects.find(f=>n.effect&&f._id===n.effect._id);if(c)try{a=JSON.stringify(Ya(c),null,2)}catch{a=JSON.stringify(Ya(kt().getEmptyEffect({_id:i})),null,2)}}const o=Pe(a),u=()=>{if(r.value&&!r.value.reportValidity())return;let c={};try{c=JSON.parse(o.value),c._id=i}catch{c={_id:i}}s.update(c),en().close()};return t({save:u,remove:()=>{n.effect?._id&&Ri().remove(n.effect._id),en().close()}}),(c,f)=>(Z(),ee("div",udt,[M("form",{ref_key:"form",ref:r,onSubmit:Qr(u,["prevent"])},[M("label",ldt,[Xe(ne(c.$t("titles.effects"))+" ",1),Ze(M("textarea",{"onUpdate:modelValue":f[0]||(f[0]=d=>o.value=d)},null,512),[[gt,o.value]])])],544)]))}});const fdt=xt(cdt,[["__scopeId","data-v-dd1c1f35"]]),ddt={class:"view-container"},pdt={class:"columns columns-2"},mdt={class:"columns columns-11"},hdt={class:"field span-10"},vdt=["readonly"],gdt=["disabled"],ydt=ft({__name:"BackgroundSidebar",setup(e,{expose:t}){const r=Zt(),n=Pe(pi(r.background)),i=Pe(null),a=Pe(!1),s=Oe(()=>!!(n.value.name&&n.value.sourceBook&&n.value.sourceBook>0)),o=Oe(()=>!n.value.name||n.value.name.trim()===""),u=()=>{r.removeBackground()},l=()=>{i.value&&!i.value.reportValidity()||(a.value&&u(),r.background.name=n.value.name,en().close())};return t({save:l}),(c,f)=>(Z(),ee("div",ddt,[M("form",{ref_key:"form",ref:i,onSubmit:Qr(l,["prevent"])},[M("div",pdt,[M("label",null,[Xe(ne(c.$t("titles.background"))+" ",1),M("div",mdt,[M("div",hdt,[Ze(M("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=d=>n.value.name=d),readonly:s.value},null,8,vdt),[[gt,n.value.name]])]),M("button",{disabled:o.value,class:"span-1 button button--negative",type:"button",onClick:f[1]||(f[1]=()=>{a.value=!0,n.value.name=""})},[Fe(Qn,{icon:"delete"})],8,gdt)])])])],544)]))}});const bdt=xt(ydt,[["__scopeId","data-v-3a97c2e4"]]),_dt={class:"columns columns-4"},Adt={class:"field span-3"},wdt=["readonly"],xdt={class:"span-1"},Sdt={class:"columns columns-5"},Edt=["value"],Cdt=ft({__name:"TransformationSidebar",setup(e,{expose:t}){const r=Pe(null),n=Zt(),i=Pe(pi(n.transformation));Pe([]);const a=Oe(()=>n.transformation.sourceBook>-1&&!s.value),s=Pe(!1),o=async()=>{if(r.value&&!r.value.reportValidity())return;s.value&&n.removeTransformation();const l=n.transformation.level,c=i.value.level;if(l<c)await Zt().addFeaturesToTransformation(l+1,c),Zt().removeTransformationExpiredFeatures(c);else if(l>c){const f=Array.from({length:l-c},(d,p)=>l-p);Zt().removeTransformationFeatures(c),Zt().addFeaturesToTransformation(1,c,!0,f)}n.transformation.name=i.value.name,n.transformation.level=i.value.level,en().close()},u=()=>{i.value.name="",i.value.level=0,s.value=!0};return t({save:o}),(l,c)=>(Z(),ee("form",{ref_key:"form",ref:r,class:"view-container",onSubmit:Qr(o,["prevent"])},[M("div",_dt,[M("label",Adt,[Xe(ne(l.$t("titles.name"))+" ",1),Ze(M("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>i.value.name=f),readonly:a.value},null,8,wdt),[[gt,i.value.name]])]),M("label",xdt,[Xe(ne(l.$t("titles.level"))+": ",1),M("div",Sdt,[Ze(M("select",{class:"span-3","onUpdate:modelValue":c[1]||(c[1]=f=>i.value.level=f)},[(Z(),ee(tt,null,wt(5,f=>M("option",{key:f-1,value:f-1},ne(f-1===0?"-":f-1),9,Edt)),64))],512),[[lr,i.value.level]]),M("button",{type:"button",class:"span-2 button button--negative",onClick:u},[Fe(Qn,{icon:"delete"})])])])])],544))}});const $dt=xt(Cdt,[["__scopeId","data-v-4b1ca853"]]),Ndt=ft({__name:"SidebarLink",props:{componentName:{},props:{},options:{},label:{},display:{},onBeforeOpen:{type:Function}},setup(e,{expose:t}){const r={FeatureSidebar:lrt,ActionSidebar:snt,EquipmentSidebar:ynt,ClassesSidebar:jnt,ArmorClassSidebar:nit,HitPointsSidebar:mit,SpeedSidebar:wit,CurrencySidebar:Tit,ResourceSidebar:Yit,SkillSidebar:sat,SpellSidebar:Gat,AbilitySidebar:Kat,DamageHealSidebar:ost,CompanionSidebar:BY,DefensesSidebar:uft,OtherProficienciesSidebar:fft,AttunementSidebar:gft,ConditionsSidebar:wft,SensesSidebar:$ft,HitDiceSidebar:Mft,SpellSlotsSidebar:Kft,AncestrySidebar:odt,EffectSidebar:fdt,BackgroundSidebar:bdt,TransformationSidebar:$dt},n=e,{open:i}=en(),a=Oe(()=>["sidebar-link",n.display?`sidebar-link--${n.display}`:"sidebar-link--text"]),s=()=>{const o=r[n.componentName];if(o){let u={};n.onBeforeOpen&&(u=n.onBeforeOpen());const l={...n.props,...u};i(o,l,n.options)}else console.error(`SidebarLink Error: Component with name "${n.componentName}" not found in the registry.`)};return t({openSidebar:s}),(o,u)=>(Z(),ee("button",{class:Sr(a.value),onClick:Qr(s,["prevent"]),type:"button"},[o.display&&o.display==="icon"?(Z(),Yt(Qn,{key:0,icon:o.label},null,8,["icon"])):(Z(),ee(tt,{key:1},[Xe(ne(o.label),1)],64))],2))}});const hn=xt(Ndt,[["__scopeId","data-v-cf10020f"]]);const Ddt={class:"section biography-section"},Tdt={class:"columns columns-4"},kdt={class:"span-1"},Idt={class:"label"},Odt={class:"span-1"},Mdt={class:"label"},Pdt=["value"],Bdt={class:"span-1"},Ldt={class:"label"},Fdt=["value"],Rdt={class:"span-1"},Udt={class:"label"},zdt=["value"],qdt={class:"span-1"},jdt={class:"label"},Vdt=["value"],Hdt={class:"span-1"},Gdt={class:"label"},Zdt={class:"size"},Wdt=["value"],Kdt=["value"],Jdt={class:"span-1"},Ydt={class:"label"},Xdt={class:"span-1"},Qdt={class:"label"},ept={__name:"BiographySection",setup(e){const{t}=Bt(),r=yo(),n=yY(),i=Zt(),a=Pe(),s=Pe(),o=Pe(),u=Pe(),l=()=>{a.value?.openSidebar()},c=()=>{s.value?.openSidebar()},f=()=>{o.value?.openSidebar()},d=()=>{u.value?.openSidebar()};return(p,m)=>(Z(),ee("div",Ddt,[M("div",Tdt,[M("label",kdt,[M("span",Idt,ne(p.$t("titles.character-handle")),1),Ze(M("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=h=>he(r).name=h)},null,512),[[gt,he(r).name]])]),M("label",Odt,[M("span",Mdt,[Fe(hn,{ref_key:"classSidebarLink",ref:a,componentName:"ClassesSidebar",options:{title:he(t)("actions.edit-classes"),hasSave:!0,hasDelete:!1,hasAdd:!0,addLabel:he(t)("actions.add-new-class")},label:p.$t("titles.character-class-and-level"),class:"input-like"},null,8,["options","label"])]),M("input",{type:"text",value:he(i).getClassesSummary,readonly:"",onClick:l},null,8,Pdt)]),M("label",Bdt,[M("span",Ldt,[Fe(hn,{ref_key:"backgroundSidebarLink",ref:o,componentName:"BackgroundSidebar",options:{title:he(t)("actions.edit-background"),hasSave:!0,addLabel:he(t)("actions.add-new-background")},label:p.$t("titles.background"),class:"input-like"},null,8,["options","label"])]),M("input",{type:"text",value:he(i).background.name,readonly:"",onClick:f},null,8,Fdt)]),M("label",Rdt,[M("span",Udt,[Fe(hn,{ref_key:"ancestrySidebarLink",ref:s,componentName:"AncestrySidebar",options:{title:he(t)("actions.edit-ancestry"),hasSave:!0,addLabel:he(t)("actions.add-new-ancestry")},label:p.$t("titles.ancestry"),class:"input-like"},null,8,["options","label"])]),M("input",{type:"text",value:he(i).getAncestrySummary,readonly:"",onClick:c},null,8,zdt)]),M("label",qdt,[M("span",jdt,[Fe(hn,{ref_key:"transformationSidebarLink",ref:u,componentName:"TransformationSidebar",options:{title:he(t)("actions.edit-transformation"),hasSave:!0},label:p.$t("titles.transformation"),class:"input-like"},null,8,["options","label"])]),M("input",{type:"text",value:he(i).getTransformationSummary,readonly:"",onClick:d},null,8,Vdt)]),M("label",Hdt,[M("span",Gdt,ne(p.$t("titles.size")),1),M("div",Zdt,[M("input",{type:"text",value:p.$t(`titles.sizes.${he(n).size}`),readonly:""},null,8,Wdt),Ze(M("select",{"onUpdate:modelValue":m[1]||(m[1]=h=>he(n).size=h)},[(Z(!0),ee(tt,null,wt(he(Je).sizes,h=>(Z(),ee("option",{key:h,value:h},ne(p.$t(`titles.sizes.${h}`)),9,Kdt))),128))],512),[[lr,he(n).size]])])]),M("label",Jdt,[M("span",Ydt,ne(p.$t("titles.gender")),1),Ze(M("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=h=>he(n).gender=h)},null,512),[[gt,he(n).gender]])]),M("label",Xdt,[M("span",Qdt,ne(p.$t("titles.experience-points")),1),Ze(M("input",{type:"number","onUpdate:modelValue":m[3]||(m[3]=h=>he(i).experiencePoints=h)},null,512),[[gt,he(i).experiencePoints]])])])]))}},tpt=xt(ept,[["__scopeId","data-v-8e35842d"]]),LY=e=>(Hi("data-v-3680dc9e"),e=e(),Gi(),e),rpt=LY(()=>M("div",{class:"styled-box__border"},null,-1)),npt={class:"styled-box__content"},ipt=LY(()=>M("div",{class:"styled-box__background"},null,-1)),apt=ft({__name:"StyledBox",props:{mode:{default:"gothic"}},setup(e){return(t,r)=>(Z(),ee("div",{class:Sr(["styled-box",`styled-box--${t.mode}`])},[rpt,M("div",npt,[rf(t.$slots,"default",{},()=>[Xe("Box Content")],!0)]),ipt],2))}});const Mi=xt(apt,[["__scopeId","data-v-3680dc9e"]]),spt={class:"section companions-section"},opt={class:"section__header"},upt={class:"list"},lpt=ft({__name:"CompanionsSection",setup(e){const t=is(),r=en(),{t:n}=Bt(),i=()=>({isNew:!0}),a=s=>{r.open(BY,{npcId:s,isNew:!1},{title:n("actions.edit-companion"),hasClose:!0,hasDelete:!0})};return(s,o)=>(Z(),ee("div",spt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",opt,[M("h3",null,ne(s.$t("titles.companions")),1),Fe(hn,{componentName:"CompanionSidebar",options:{title:he(n)("actions.add-companion"),hasSave:!0},display:"icon",label:"add",onBeforeOpen:i},null,8,["options"])])]),_:1}),M("div",upt,[(Z(!0),ee(tt,null,wt(he(t).companionNpcs,u=>(Z(),Yt(hD,{key:u._id,npc:u,editMode:!1,companionMode:!0,onOpenEdit:l=>a(u._id)},null,8,["npc","onOpenEdit"]))),128))])]))}});const cpt=xt(lpt,[["__scopeId","data-v-19517fdb"]]),fpt={class:"ability"},dpt={class:"rows"},ppt={class:"ability__label"},mpt={class:"ability__number"},hpt={class:"ability__bonus"},vpt=ft({__name:"AbilityItem",props:{_id:{},label:{},score:{},modifiedScore:{},modifier:{},onBaseChange:{type:Function}},setup(e){const{t}=Bt(),r=Yr(),n=e,i=Oe(()=>Ud(n._id,Yr().abilities)),a=Oe(()=>{const s=[],o=r.getAbilityCheckModifier(i.value).value,u=o.modifiers.reduce((c,f)=>c+f.value,0),l=o.final-u;return l!==0&&s.push({label:t("titles.ability-modifier"),value:l}),o.modifiers.forEach(c=>{s.push({label:c.name,value:c.value})}),{rollName:t(`titles.abilities.${n.label}`),subtitle:t("rolls.ability-check"),bonuses:s,rollBonusKeys:[Be[`${n.label}-check-roll`],Be["check-roll"]],actionDieKeys:[Be[`${n.label}-check-action-die`],Be["check-action-die"]]}});return(s,o)=>(Z(),ee("div",fpt,[M("div",dpt,[M("label",ppt,[Fe(hn,{componentName:"AbilitySidebar",props:{ability:i.value},options:{title:s.$t(`titles.${s.label}`),hasSave:!0},label:s.$t(`abbreviations.${s.label}`)},null,8,["props","options","label"])]),M("div",mpt,[M("span",null,ne(s.modifiedScore.value.final),1)]),M("div",hpt,[Fe(wo,{finalBonus:s.modifier.value.final,rollArgs:a.value},null,8,["finalBonus","rollArgs"])])])]))}});const gpt=xt(vpt,[["__scopeId","data-v-6f7ffd07"]]),ypt={class:"abilities-section"},bpt={class:"rows"},_pt=ft({__name:"AbilitiesSection",setup(e){const t=Yr();return(r,n)=>(Z(),ee("div",ypt,[M("div",bpt,[(Z(!0),ee(tt,null,wt(he(t).abilities,i=>(Z(),Yt(gpt,{key:i.label,_id:i._id,label:i.label,score:i.score,modifiedScore:he(t).getModifiedAbilityScore(i),modifier:he(t).getAbilityModifier(i),onBaseChange:a=>i.score=a},null,8,["_id","label","score","modifiedScore","modifier","onBaseChange"]))),128))])]))}});const Apt=xt(_pt,[["__scopeId","data-v-8b8edc13"]]),wpt={class:"proficiency-item"},xpt={class:"proficiency-item__proficiency"},Spt={class:"proficiency-item__bonus"},Ept=ft({__name:"ProficiencyItem",props:{_id:{},label:{},ability:{},level:{},modifiedLevel:{},group:{}},emits:["update:level","update:ability"],setup(e){const{t}=Bt(),r=e,n=Qo(),i=Oe(()=>n.getProficiencyModifier({_id:r._id,label:r.label,ability:r.ability,level:r.level,group:r.group}));Oe(()=>Yr().abilities.map(c=>c.label));const a=Oe(()=>n.getProficiencyLevelKey(r.modifiedLevel.value.final)),s=Oe(()=>a.value),o=Oe(()=>{const c=r.group==="tools"?r.label:t(`titles.${r.group}.${r.label}`),f=t(`abbreviations.${r.ability}`);return r.group==="savings"?c:`${c} (${f})`}),u=Oe(()=>({skill:{_id:r._id,label:r.label,ability:r.ability,level:r.level,group:r.group}}));Oe(()=>({title:t("actions.edit-skill")}));const l=Oe(()=>{const c=r,f=[],d=n.getProficiencyAbility(c);if(d){const w=Yr().getModifiedAbilityScore(d),g=Math.floor((w.value.final-10)/2);f.push({label:t(`titles.abilities.${d.label}`),value:g})}const p=Math.floor(n.getModifiedProficiencyLevel(c).value.final*Zt().getProficiencyBonus);p!==0&&f.push({label:t("titles.proficiency-bonus"),value:p}),n.getProficiencyModifier(c).value.modifiers.forEach(w=>{f.push({label:w.name,value:w.value})});const h=[Be[`${c.label}-roll`]],v=[Be[`${c.label}-action-die`]];c.group==="savings"?(h.push(Be["saving-roll"]),v.push(Be["saving-action-die"])):(c.group==="default-skills"||c.group==="tools")&&(h.push(Be[c.group==="tools"?"tools-roll":"skill-roll"]),h.push(Be["check-roll"]),h.push(Be[`${c.ability}-check-roll`]),v.push(Be[c.group==="tools"?"tools-action-die":"skill-action-die"]),v.push(Be["check-action-die"]));let y;if(c.group==="tools")y=c.label;else{const w=c.group==="savings"?`titles.savings.${c.label}`:`titles.default-skills.${c.label}`;y=t(w)}return{rollName:y,subtitle:t(`rolls.${c.group}`),bonuses:f,rollBonusKeys:h.filter(w=>!!w),actionDieKeys:v.filter(w=>!!w)}});return(c,f)=>(Z(),ee("div",wpt,[M("div",null,[Fe(hn,{componentName:"SkillSidebar",props:u.value,options:{title:he(t)("actions.edit-skill"),hasSave:!0,hasDelete:r.group==="tools"},label:o.value,class:"proficiency-item__label"},null,8,["props","options","label"])]),M("div",xpt,[Fe(Qn,{icon:s.value},null,8,["icon"])]),M("span",Spt,[Fe(wo,{finalBonus:i.value.value.final,rollArgs:l.value},null,8,["finalBonus","rollArgs"])])]))}});const vD=xt(Ept,[["__scopeId","data-v-fcecc87d"]]),Cpt={class:"section savings-section"},$pt={class:"section__header"},Npt={class:"list"},Dpt=ft({__name:"SavingThrowsSection",setup(e){const t=Qo(),r=Oe(()=>t.ranked.filter(n=>n.group==="savings"));return(n,i)=>(Z(),ee("div",Cpt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",$pt,[M("h3",null,ne(n.$t("titles.saving-throws")),1)])]),_:1}),M("div",Npt,[(Z(!0),ee(tt,null,wt(r.value,a=>(Z(),Yt(vD,{key:a._id,_id:a._id,label:a.label,ability:a.ability,level:a.level,modifiedLevel:he(t).getModifiedProficiencyLevel(a),proficiencyModifier:he(t).getProficiencyModifier(a),group:a.group,"onUpdate:level":s=>he(t).updateRanked(a._id,{level:s}),"onUpdate:ability":s=>he(t).updateRanked(a._id,{ability:s})},null,8,["_id","label","ability","level","modifiedLevel","proficiencyModifier","group","onUpdate:level","onUpdate:ability"]))),128))])]))}});const Tpt=xt(Dpt,[["__scopeId","data-v-20e1b04c"]]),kpt={class:"section skill-section"},Ipt={class:"section__header"},Opt={class:"list"},Mpt=ft({__name:"SkillsSection",setup(e){const{t}=Bt(),r=Qo(),n=Oe(()=>r.ranked.filter(i=>i.group==="default-skills").sort((i,a)=>t(`titles.default-skills.${i.label}`).localeCompare(t(`titles.default-skills.${a.label}`))));return(i,a)=>(Z(),ee("div",kpt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",Ipt,[M("h3",null,ne(i.$t("titles.skills")),1)])]),_:1}),M("div",Opt,[(Z(!0),ee(tt,null,wt(n.value,s=>(Z(),Yt(vD,{key:s._id,_id:s._id,label:s.label,ability:s.ability,level:s.level,modifiedLevel:he(r).getModifiedProficiencyLevel(s),proficiencyModifier:he(r).getProficiencyModifier(s),group:s.group,"onUpdate:level":o=>he(r).updateRanked(s._id,{level:o}),"onUpdate:ability":o=>he(r).updateRanked(s._id,{ability:o})},null,8,["_id","label","ability","level","modifiedLevel","proficiencyModifier","group","onUpdate:level","onUpdate:ability"]))),128))])]))}});const Ppt=xt(Mpt,[["__scopeId","data-v-5fe07150"]]),FY=e=>(Hi("data-v-af39cd6a"),e=e(),Gi(),e),Bpt={class:"feature-item"},Lpt={class:"accordion"},Fpt={class:"accordion__summary"},Rpt={key:0,class:"source"},Upt={class:"accordion__details"},zpt=["innerHTML"],qpt={key:1,class:"pickers"},jpt={key:0},Vpt=["onUpdate:modelValue","onFocus","onChange"],Hpt=FY(()=>M("option",{value:void 0},"Choose...",-1)),Gpt=["value"],Zpt={key:2,class:"pickers"},Wpt=["onUpdate:modelValue"],Kpt=FY(()=>M("option",{value:void 0},"Choose...",-1)),Jpt=["value"],Ypt={key:3,class:"tags"},Xpt=ft({__name:"FeatureItem",props:{feature:{}},emits:["update:level","update:ability"],setup(e){const{appContext:t}=Ia(),r=kt(),{t:n}=Bt(),i=e,a=Oe(()=>uu(i.feature.description)),s=Ri(),o=Oe(()=>s.getFeatureTags(i.feature.tagId)),u=Pe({}),l=Oe(()=>{const y=r.effects.find(w=>w._id===i.feature.effectId);return y?y.pickers||[]:[]}),c=Oe(()=>i.feature.compendiumPickers||[]);Pe(!1);const f=Pe({}),d=(y,w)=>{f.value[y]=w},p=(y,w,g)=>{let b=y,_=g;switch(["gt","gte","lt","lte"].includes(w)&&!isNaN(Number(b))&&!isNaN(Number(_))&&(b=Number(b),_=Number(_)),w){case"eq":return b==_;case"neq":return b!=_;case"gt":return b>_;case"gte":return b>=_;case"lt":return b<_;case"lte":return b<=_;case"includes":return Array.isArray(b)?b.includes(_):typeof b=="string"?b.toLowerCase().includes(String(_).toLowerCase()):!1;default:return!1}};(async()=>{for(const y of c.value){const w=y.category,g=eD(w),b=await Hs.value.compendiumRequest({query:g});if(b.errors)throw new Error("Expected a compendium request, but instead got an error.");if(!b?.data?.ruleSystem?.category?.pages)throw new Error("Could not find a page, you probably need to relog.");const _=b.data.ruleSystem.category.pages;u.value[w]=_.filter(x=>{if(y.filter){try{const E=y.filter;for(const[C,$]of Object.entries(E)){const D=x.properties[C];if(!$||typeof $!="object")continue;const{op:N,value:k}=$;if(D===void 0&&N!=="neq"||!p(D,N,k))return!1}}catch(E){return console.error("Filter error",E),!0}return!0}return!0}).map(x=>({pageName:x.name,categoryName:w,expansionId:x.book.itemId,id:x.id}))}})();const h=async(y,w,g,b)=>{const _=f.value[g];_&&s.remove(_);const E=b.target?.value||w.featureId;if(!E)return;w.featureId=E;const C=E.split("__")[2];if(!C)return;const $=u.value[w.category]?.find(N=>N.id===C);if(!$)return;await tD({coordinates:{left:0,top:0},dropData:$});const D=s.features[s.features.length-1];D._id=E,D.source=y.source,f.value[g]=E},v=y=>{const w=y.target;w.tagName==="A"&&w.dataset.compendiumLink&&(y.preventDefault(),t.config.globalProperties.$openCompendiumPopout(w.dataset.compendiumLink))};return(y,w)=>(Z(),ee("div",Bpt,[M("details",Lpt,[M("summary",Fpt,[Fe(hn,{componentName:"FeatureSidebar",props:{feature:y.feature},options:{title:he(n)("actions.edit-feature"),hasSave:!0,hasDelete:!0},label:y.feature.label},null,8,["props","options","label"]),y.feature.source?(Z(),ee("div",Rpt,ne(y.feature.source),1)):He("",!0)]),M("div",Upt,[y.feature.description?(Z(),ee("div",{key:0,class:"description",innerHTML:a.value,onClick:v},null,8,zpt)):He("",!0),c.value.length>0?(Z(),ee("div",qpt,[(Z(!0),ee(tt,null,wt(c.value,(g,b)=>(Z(),ee("div",{key:b,class:"picker"},[M("label",null,[Xe(ne(g.label)+" ",1),u.value[g.category]?Ze((Z(),ee("select",{key:1,"onUpdate:modelValue":_=>g.featureId=_,onFocus:_=>d(b,g.featureId),onChange:_=>h(y.feature,g,b,_)},[Hpt,(Z(!0),ee(tt,null,wt(u.value[g.category],_=>(Z(),ee("option",{key:`${y.feature._id}__${b}__${_.id}`,value:`${y.feature._id}__${b}__${_.id}`},ne(_.pageName),9,Gpt))),128))],40,Vpt)),[[lr,g.featureId]]):(Z(),ee("div",jpt,"Loading..."))])]))),128))])):He("",!0),l.value.length>0?(Z(),ee("div",Zpt,[(Z(!0),ee(tt,null,wt(l.value,(g,b)=>(Z(),ee("div",{key:b,class:"picker"},[M("label",null,[Xe(ne(g.label)+" ",1),Ze(M("select",{class:Sr({"picker-unselected":!g.value}),"onUpdate:modelValue":_=>g.value=_},[Kpt,(Z(!0),ee(tt,null,wt(g.options,_=>(Z(),ee("option",{key:_.value,value:_.value},ne(_.label),9,Jpt))),128))],10,Wpt),[[lr,g.value]])])]))),128))])):He("",!0),o.value.length?(Z(),ee("div",Ypt,[(Z(!0),ee(tt,null,wt(o.value,g=>(Z(),ee("span",{key:g._id,class:"tag-pill"},ne(g.text),1))),128))])):He("",!0)])])]))}});const Qpt=xt(Xpt,[["__scopeId","data-v-af39cd6a"]]),emt={class:"section features-section"},tmt={class:"section__header"},rmt={class:"list"},nmt=ft({__name:"FeaturesSection",setup(e){const t=Ri(),{t:r}=Bt(),n=Oe(()=>{const i={"class-features":[],"ancestry-features":[],feats:[],"background-features":[],"transformation-features":[],traits:[],others:[]},a=t.features.slice().sort((s,o)=>s.label.localeCompare(o.label));for(const s of a){const o=s.group;i[o]&&i[o].push(s)}return[...i["ancestry-features"],...i["class-features"],...i.feats,...i["transformation-features"],...i.traits,...i["background-features"],...i.others]});return(i,a)=>(Z(),ee("div",emt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",tmt,[M("h3",null,ne(i.$t("titles.features")),1),Fe(hn,{componentName:"FeatureSidebar",props:{feature:null},options:{title:he(r)("actions.add-feature"),hasSave:!0,hasDelete:!1},display:"icon",label:"add"},null,8,["options"])])]),_:1}),M("div",rmt,[(Z(!0),ee(tt,null,wt(n.value,s=>(Z(),Yt(Qpt,{key:s._id,feature:s},null,8,["feature"]))),128))])]))}});const imt=xt(nmt,[["__scopeId","data-v-f68d05a2"]]),amt={class:"action-item"},smt={class:"accordion"},omt={class:"accordion__summary"},umt={class:"cols"},lmt=["title"],cmt={key:1,class:"action-item__damage"},fmt={key:2,class:"action-item__damage"},dmt={key:3,class:"action-item__attack-bonus"},pmt={key:4,class:"action-item__attack-bonus"},mmt={key:5,class:"action-item__damage"},hmt={class:"accordion__details"},vmt={key:0},gmt={key:1},ymt={key:2},bmt={key:3},_mt=["innerHTML"],Amt={key:5,class:"tags"},wmt=ft({__name:"ActionItem",props:{action:{}},setup(e){const{t}=Bt(),r=e,n=Oe(()=>uu(r.action.description)),i=Wc(),a=Ln(),s=m=>m.saving!=="none"&&m.savingDc,o=Oe(()=>Wc().getActionBonus(r.action._id)),u=Oe(()=>Wc().getActionDC(r.action._id)),l=Oe(()=>Wc().getActionDamage(r.action._id)),c=Oe(()=>i.getActionTags(r.action.tagId)),f=m=>{i.setLastAttackResult(r.action._id,m)},d=Oe(()=>{const m=r.action,h=[Be.damage,Be[`${m.attackType}-damage`],Be[`${m.sourceType}-damage`],Be[`${m.attackType}-${m.sourceType}-damage`]].filter(Boolean),v=[Be["damage-roll"],Be[`${m.attackType}-damage-roll`],Be[`${m.sourceType}-damage-roll`],Be[`${m.attackType}-${m.sourceType}-damage-roll`]].filter(Boolean);return{rollName:m.name,subtitle:t("rolls.damage-roll"),damageRolls:m.damage.map(y=>({...y,ability:tc(y.ability,m.spellSourceId,a.sources),damage:gf(y.damage),critDamage:y.critDamage?gf(y.critDamage):"",originalFormula:y.damage})),canCrit:m.isAttack,isCrit:i.lastAttack?.actionId===m._id&&i.lastAttack.resultType==="crit-success",whisper:!1,sourceType:"action",damageModifierKeys:h,damageRollKeys:v,properties:Ao(m,t,u.value.value.final),description:m.description,t}}),p=Oe(()=>{const m=r.action,h=Bt().t,v=[],y=tc(m.attackAbility,m.spellSourceId,a.sources);if(m.attackAbility&&m.attackAbility!=="none"){const x=Ga(y,Yr().abilities),E=Yr().getModifiedAbilityScore(x),C=Math.floor((E.value.final-10)/2);v.push({label:h(`titles.abilities.${y}`),value:C})}const w=Math.floor(Zt().getProficiencyBonus*m.attackProficiency);w!==0&&v.push({label:h("titles.proficiency-bonus"),value:w}),m.attackBonus&&v.push({label:h("titles.attack-bonus"),value:es(m.attackBonus)}),i.getActionBonus(m._id).value.modifiers.forEach(x=>{v.push({label:x.name,value:x.value})});const b=[Be["attack-roll"],Be[`${m.attackType}-attack-roll`],Be[`${m.sourceType}-attack-roll`],Be[`${m.attackType}-${m.sourceType}-attack-roll`]].filter(Boolean),_=[Be["attack-action-die"],Be[`${m.attackType}-attack-action-die`],Be[`${m.sourceType}-attack-action-die`],Be[`${m.attackType}-${m.sourceType}-attack-action-die`]].filter(Boolean);return{rollName:m.name,subtitle:h("rolls.attack-roll"),bonuses:v,rollBonusKeys:b,actionDieKeys:_,critRange:i.getActionCritRange(m).value.final,properties:Ao(m,h,u.value.value.final),description:m.description,sourceType:"action"}});return(m,h)=>(Z(),ee("div",amt,[M("details",smt,[M("summary",omt,[M("div",umt,[Fe(hn,{componentName:"ActionSidebar",props:{action:m.action},options:{title:he(t)("actions.edit-action"),hasSave:!0,hasDelete:!0},label:m.action.name,class:"action-summary__name"},null,8,["props","options","label"]),m.action.description||m.action.target||m.action.range?(Z(),ee("button",{key:0,class:"action-item__chat-button",title:he(t)("titles.icons.send-to-chat"),onClick:h[0]||(h[0]=Qr(v=>he(i).sendActionInfoToChat(m.action._id,he(t)),["stop"]))},[Fe(Qn,{icon:"chat"})],8,lmt)):He("",!0),l.value.value.final.length>0?(Z(),ee("span",cmt,[Fe(Hg,{pool:l.value,rollArgs:d.value},null,8,["pool","rollArgs"])])):(Z(),ee("span",fmt,"-")),m.action.isAttack?(Z(),ee("span",dmt,[Fe(wo,{finalBonus:o.value.value.final,rollArgs:p.value,onRolled:f},null,8,["finalBonus","rollArgs"])])):s(m.action)?(Z(),ee("span",pmt,[M("button",{class:"button--link",onClick:h[1]||(h[1]=Qr(v=>he(i).sendActionInfoToChat(m.action._id,he(t)),["stop"]))}," DC "+ne(u.value.value.final),1)])):(Z(),ee("span",mmt,"-"))])]),M("div",hmt,[m.action.saving!=="none"?(Z(),ee("p",vmt,[M("strong",null,ne(m.$t("titles.saving-throw"))+":",1),Xe(" "+ne(m.$t(`titles.abilities.${m.action.saving}`))+" DC "+ne(u.value.value.final),1)])):He("",!0),m.action.range?(Z(),ee("p",gmt,[M("strong",null,ne(m.$t("titles.range"))+":",1),Xe(" "+ne(m.action.range),1)])):He("",!0),m.action.target?(Z(),ee("p",ymt,[M("strong",null,ne(m.$t("titles.target"))+":",1),Xe(" "+ne(m.action.target),1)])):He("",!0),m.action.ammo?(Z(),ee("p",bmt,[M("strong",null,ne(m.$t("titles.ammo"))+":",1),Xe(" "+ne(m.action.ammo),1)])):He("",!0),m.action.description?(Z(),ee("div",{key:4,class:"description",innerHTML:n.value},null,8,_mt)):He("",!0),c.value.length?(Z(),ee("div",Amt,[(Z(!0),ee(tt,null,wt(c.value,v=>(Z(),ee("span",{key:v._id,class:"tag-pill"},ne(v.text),1))),128))])):He("",!0)])])]))}});const xmt=xt(wmt,[["__scopeId","data-v-3f036520"]]),Smt={class:"section actions-section"},Emt={class:"section__header"},Cmt={class:"list"},$mt=ft({__name:"ActionsSection",setup(e){const{t}=Bt(),r=Wc(),n=Oe(()=>r.actions.slice().sort((i,a)=>i.name.localeCompare(a.name)));return(i,a)=>(Z(),ee("div",Smt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",Emt,[M("h3",null,ne(i.$t("titles.actions")),1),Fe(hn,{componentName:"ActionSidebar",props:{action:null},options:{title:he(t)("actions.add-action"),hasSave:!0,hasDelete:!1},display:"icon",label:"add"},null,8,["options"])])]),_:1}),M("div",Cmt,[(Z(!0),ee(tt,null,wt(n.value,s=>(Z(),Yt(xmt,{key:s._id,action:s},null,8,["action"]))),128))])]))}});const Nmt=xt($mt,[["__scopeId","data-v-f507f3e4"]]),Dmt={class:"resource-item"},Tmt=ft({__name:"resourceItem",props:{resource:{}},setup(e){const{t}=Bt(),r=e,n=a=>{const s={_id:r.resource._id,count:a};r.resource.sourceEffectId&&(s.sourceEffectId=r.resource.sourceEffectId),Kh().update(s)},i=Oe(()=>es(r.resource.max));return(a,s)=>(Z(),ee("div",Dmt,[Fe(hn,{componentName:"ResourceSidebar",props:{resource:a.resource},options:{title:he(t)("actions.edit-resource"),hasSave:!0,hasDelete:!0},label:a.resource.name,class:"resource-item__label"},null,8,["props","options","label"]),Fe(mD,{count:a.resource.count,max:i.value,onUpdate:n},null,8,["count","max"])]))}});const kmt=xt(Tmt,[["__scopeId","data-v-c592e159"]]),Imt={class:"section resources-section"},Omt={class:"section__header"},Mmt={class:"list"},Pmt=ft({__name:"resourcesSection",setup(e){const{t}=Bt(),r=Kh();return(n,i)=>(Z(),ee("div",Imt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",Omt,[M("h3",null,ne(n.$t("titles.resources")),1),Fe(hn,{componentName:"ResourceSidebar",props:{resource:null},options:{title:he(t)("actions.add-resource"),hasSave:!0,hasDelete:!1},display:"icon",label:"add"},null,8,["options"])])]),_:1}),M("div",Mmt,[(Z(!0),ee(tt,null,wt(he(r).resources,a=>(Z(),Yt(kmt,{key:a._id,resource:a,class:"resource-item--centered"},null,8,["resource"]))),128))])]))}});const Bmt=xt(Pmt,[["__scopeId","data-v-23037dd5"]]),Lmt={class:"equipment-item"},Fmt={class:"accordion"},Rmt={class:"accordion__summary"},Umt={class:"equipment-item__summary-grid"},zmt=["checked","title"],qmt={class:"equipment-item__weight"},jmt={class:"accordion__details equipment-item__details"},Vmt=["innerHTML"],Hmt={key:1,class:"tags"},Gmt=ft({__name:"EquipmentItem",props:{equipment:{}},setup(e){const{t}=Bt(),r=e,n=ou(),i=ki(),a=Oe(()=>uu(r.equipment.description)),s=Oe(()=>{const o=i.tagGroups.find(u=>u._id===r.equipment.tagId);return o?o.tags:[]});return(o,u)=>(Z(),ee("div",Lmt,[M("details",Fmt,[M("summary",Rmt,[M("div",Umt,[M("input",{type:"checkbox",class:"equipment-item__equipped",checked:o.equipment.equipped,onChange:u[0]||(u[0]=l=>he(n).update({_id:o.equipment._id,equipped:l.target.checked})),title:o.$t("titles.equipped"),onClick:u[1]||(u[1]=Qr(()=>{},["stop"]))},null,40,zmt),Fe(hn,{componentName:"EquipmentSidebar",props:{equipment:o.equipment},options:{title:he(t)("actions.edit-equipment"),hasSave:!0,hasDelete:!0},label:`${o.equipment.name} (${o.equipment.quantity})`,class:"equipment-item__name"},null,8,["props","options","label"]),M("span",qmt,ne((o.equipment.weight*o.equipment.quantity).toFixed(1))+" "+ne(o.$t("titles.unit-lbs")),1)])]),M("div",jmt,[o.equipment.description?(Z(),ee("div",{key:0,class:"description",innerHTML:a.value},null,8,Vmt)):He("",!0),s.value.length?(Z(),ee("div",Hmt,[(Z(!0),ee(tt,null,wt(s.value,l=>(Z(),ee("span",{key:l._id,class:"tag-pill"},ne(l.text),1))),128))])):He("",!0)])])]))}});const Zmt=xt(Gmt,[["__scopeId","data-v-6adcab8c"]]),Wmt={class:"encumbrance-meter__details"},Kmt={key:0,class:"with-icon"},Jmt={key:1},Ymt=ft({__name:"EncumbranceMeter",setup(e){const{t}=Bt(),r=Yr(),n=ou(),i=Oe(()=>r.abilities.find(p=>p.label==="strength")),a=Oe(()=>r.getModifiedAbilityScore(i.value).value.final),s=Oe(()=>n.getTotalWeight),o=Oe(()=>a.value*5*kt().getModifiedValue(1,Be["carry-capacity"]).value.final),u=Oe(()=>a.value*10*kt().getModifiedValue(1,Be["carry-capacity"]).value.final),l=Oe(()=>a.value*15*kt().getModifiedValue(1,Be["carry-capacity"]).value.final),c=Oe(()=>s.value>u.value?"heavily-encumbered":s.value>o.value?"encumbered":"normal"),f=Oe(()=>{switch(c.value){case"heavily-encumbered":return"encumbrance-meter--heavy";case"encumbered":return"encumbrance-meter--encumbered";default:return""}}),d=Oe(()=>c.value==="heavily-encumbered"?t("warnings.encumbrance.heavily-encumbered"):c.value==="encumbered"?t("warnings.encumbrance.encumbered"):"");return(p,m)=>{const h=Af("tooltip");return Z(),ee("div",{class:Sr(["encumbrance-meter",f.value])},[M("div",Wmt,[M("span",null,"("+ne(p.$t("titles.max"))+": "+ne(l.value)+" "+ne(p.$t("titles.unit-lbs"))+")",1),c.value!=="normal"?Ze((Z(),ee("span",Kmt,[Xe(ne(p.$t("titles.total-weight"))+": "+ne(s.value.toFixed(1))+" "+ne(p.$t("titles.unit-lbs")),1),Fe(Qn,{class:"info-icon",icon:"info"})])),[[h,{content:d.value,html:!0}]]):(Z(),ee("span",Jmt,ne(p.$t("titles.total-weight"))+": "+ne(s.value.toFixed(1))+" "+ne(p.$t("titles.unit-lbs")),1))])],2)}}});const Xmt=xt(Ymt,[["__scopeId","data-v-a504f517"]]),Qmt={class:"section equipment-section"},eht={class:"section__header"},tht={class:"list list--separated"},rht={class:"section__footer"},nht=ft({__name:"EquipmentSection",setup(e){const t=ou(),{t:r}=Bt();return(n,i)=>(Z(),ee("div",Qmt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",eht,[M("h3",null,ne(n.$t("titles.equipment")),1),Fe(hn,{componentName:"EquipmentSidebar",props:{equipment:null},options:{title:he(r)("actions.add-equipment"),hasSave:!0,hasDelete:!1},display:"icon",label:"add"},null,8,["options"])])]),_:1}),M("div",tht,[(Z(!0),ee(tt,null,wt(he(t).equipment,a=>(Z(),Yt(Zmt,{key:a._id,equipment:a},null,8,["equipment"]))),128))]),M("div",rht,[Fe(Xmt)])]))}});const iht=xt(nht,[["__scopeId","data-v-3e06a5d8"]]);const aht={class:"armor-class box"},sht={class:"box__header"},oht={class:"box__content"},uht=ft({__name:"ArmorClassPane",setup(e){const{t}=Bt(),r=La();return(n,i)=>(Z(),ee("div",aht,[M("div",sht,[Fe(hn,{componentName:"ArmorClassSidebar",options:{title:he(t)("actions.edit-armor-class"),hasSave:!0},label:`${he(t)("titles.armor-class")}`},null,8,["options","label"])]),M("div",oht,[M("span",null,ne(he(r).getArmorClass().value.final),1)])]))}});const lht={class:"hit-points box"},cht={class:"box__header"},fht={class:"box__content"},dht=ft({__name:"HitPointsPane",setup(e){const t=La(),r=Pe(t.life.hitPoints),n=Pe(null),i=Oe(()=>t.getHitPointsMax().value.final);Xn(()=>t.life.hitPoints,o=>{r.value=o});const a=o=>{const u=o.target;u.value.match(/^([+-]?\d*)$/)||(u.value=u.value.slice(0,-1))},s=()=>{const o=r.value.toString();let u=t.life.hitPoints;const l=t.life.hitPoints;if(o.startsWith("-")){const c=parseInt(o.slice(1))||0;u=Math.max(0,l-c)}else if(o.startsWith("+")){const c=parseInt(o.slice(1))||0;u=Math.min(i.value,l+c)}else{const c=parseInt(o);isNaN(c)||(u=Math.min(i.value,Math.max(0,c)))}n.value&&n.value.blur(),t.life.hitPoints=u,r.value=u};return(o,u)=>(Z(),ee("div",lht,[M("div",cht,[Fe(hn,{componentName:"DamageHealSidebar",props:{initialTempHp:he(t).getTemporaryHitPoints()},options:{title:o.$t("actions.edit-hit-points"),hasSum:!0,sumLabel:"heal",hasSubtract:!0,subtractLabel:"damage"},label:`${o.$t("titles.hit-points")}`},null,8,["props","options","label"])]),M("div",fht,[Ze(M("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=l=>r.value=l),class:"hit-points__input",onInput:a,onBlur:s,onKeyup:m2(s,["enter"]),ref_key:"input",ref:n},null,544),[[gt,r.value]])])]))}});const pht={class:"speed box"},mht={class:"box__header"},hht={class:"box__content"},vht={class:"speed__value"},ght=ft({__name:"SpeedPane",setup(e){const{t}=Bt(),r=La(),n=Oe(()=>r.getSpeed("walk").value.final),i=Oe(()=>{const a=Je.speeds.filter(s=>s!=="walk").map(s=>{const o=r.getSpeed(s),u=r.speed[s]?.description;if(o.value.final>0){let l=`${t(`titles.speeds.${s}`)}: ${o.value.final}`;return u&&(l+=` (${u})`),`<span>${l}</span>`}return null}).filter(Boolean);return a.length>0?a.join("<br/>"):null});return(a,s)=>{const o=Af("tooltip");return Z(),ee("div",pht,[M("div",mht,[Fe(hn,{componentName:"SpeedSidebar",options:{title:he(t)("actions.edit-speed"),hasSave:!0},label:`${he(t)("titles.speed")}`},null,8,["options","label"])]),M("div",hht,[M("span",vht,ne(n.value),1),i.value?Ze((Z(),Yt(Qn,{key:0,class:"info-icon",icon:"info"},null,512)),[[o,{theme:"info",content:i.value,html:!0}]]):He("",!0)])])}}});const yht={class:"range-bar"},bht=["onClick"],_ht=ft({__name:"RangeBar",props:{model:{},count:{},max:{},icon:{}},emits:["update"],setup(e,{emit:t}){const r=e;Ct();const n=t,i=a=>{const s=a<=r.count?a-1:a;r.model!==void 0?r.model.value=s:n("update",s)};return(a,s)=>(Z(),ee("div",yht,[(Z(!0),ee(tt,null,wt(a.max,o=>(Z(),ee("div",{key:o,class:Sr(o<=a.count?"range-bar__option range-bar__option--checked":"range-bar__option"),onClick:u=>i(o)},[a.icon?(Z(),Yt(Qn,{key:0,class:"svg-icon--fit",icon:a.icon},null,8,["icon"])):He("",!0)],10,bht))),128))]))}});const G_=xt(_ht,[["__scopeId","data-v-24a1f381"]]),Aht=e=>(Hi("data-v-116060ca"),e=e(),Gi(),e),wht={class:"section__header"},xht={key:0,class:"section-score section-score--cut"},Sht={key:1,class:"section-score section-score--cut"},Eht=Aht(()=>M("div",{class:"teste"},null,-1)),Cht=ft({__name:"BoxedScore",props:{score:{},label:{},type:{default:"score"},rollArgs:{}},setup(e){return(t,r)=>(Z(),ee("div",{class:Sr(["section","boxed-score-section",`boxed-score-section--${t.type}`])},[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",wht,[M("h3",null,ne(t.label),1),t.type==="score"?(Z(),ee("div",xht,ne(t.score.value.final),1)):t.type==="modifier"?(Z(),ee("div",Sht,[Fe(wo,{finalBonus:t.score.value.final,rollArgs:t.rollArgs},null,8,["finalBonus","rollArgs"])])):He("",!0),Eht])]),_:1})],2))}});const fm=xt(Cht,[["__scopeId","data-v-116060ca"]]),$ht={class:"death-saving"},Nht={class:"cols"},Dht={class:"death-saving__counter death-saving__counter--failures"},Tht={class:"death-saving__counter death-saving__counter--successes"},kht=ft({__name:"DeathSavingPane",setup(e){const{t}=Bt(),r=La(),n=Qo(),i=Oe(()=>{const o=Qo().deathSaving;return Qo().getProficiencyModifier(o)}),a=()=>{r.deathSaves.failures=0,r.deathSaves.successes=0},s=Oe(()=>{const o=n.deathSaving;if(!o)return{rollName:t("titles.abilities.death-saving"),subtitle:t("rolls.savings"),bonuses:[],rollBonusKeys:[Be["death-saving-roll"],Be["saving-roll"]],actionDieKeys:[Be["death-saving-action-die"],Be["saving-action-die"]]};const u=[],l=n.getProficiencyModifier(o),c=l.value.modifiers.reduce((f,d)=>f+d.value,0);return l.value.final!==c&&u.push({label:t("titles.abilities.constitution"),value:l.value.final-c}),l.value.modifiers.forEach(f=>{u.push({label:f.name,value:f.value})}),{rollName:t("titles.abilities.death-saving"),subtitle:t("rolls.savings"),bonuses:u,rollBonusKeys:[Be["death-saving-roll"],Be["saving-roll"]],actionDieKeys:[Be["death-saving-action-die"],Be["saving-action-die"]]}});return(o,u)=>(Z(),ee("div",$ht,[Fe(fm,{score:i.value,label:o.$t("titles.abilities.death-saving"),type:"modifier",rollArgs:s.value},null,8,["score","label","rollArgs"]),M("div",Nht,[M("div",Dht,[Fe(G_,{count:he(r).deathSaves.failures,max:he(r).getMaxFailures,icon:"skull",onUpdate:u[0]||(u[0]=l=>he(r).deathSaves.failures=l)},null,8,["count","max"])]),M("button",{class:"death-saving__reset",type:"button",onClick:a},[Fe(Qn,{icon:"refresh"})]),M("div",Tht,[Fe(G_,{count:he(r).deathSaves.successes,max:he(r).getMaxSuccesses,icon:"heart",onUpdate:u[1]||(u[1]=l=>he(r).deathSaves.successes=l)},null,8,["count","max"])])])]))}});const Iht={class:"temporary-hit-points box"},Oht={class:"box__header"},Mht={class:"box__content"},Pht=ft({__name:"TemporaryHitPointsPane",setup(e){const t=La();return(r,n)=>(Z(),ee("div",Iht,[M("div",Oht,ne(r.$t("titles.temporary-hit-points")),1),M("div",Mht,[Ze(M("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=i=>he(t).life.temporary=i),class:"temporary-hit-points__input"},null,512),[[gt,he(t).life.temporary,void 0,{number:!0}]])])]))}}),Bht={class:"hit-points-max box"},Lht={class:"box__header"},Fht={class:"box__content"},Rht=ft({__name:"HitPointsMaxPane",setup(e){Bt();const t=La();return(r,n)=>(Z(),ee("div",Bht,[M("div",Lht,[Fe(hn,{componentName:"HitPointsSidebar",options:{title:r.$t("actions.edit-hit-points"),hasSave:!0},label:`${r.$t("titles.hit-points-max")}`},null,8,["options","label"])]),M("div",Fht,[M("span",null,ne(he(t).getHitPointsMax().value.final),1)])]))}}),Uht={class:Sr(["section","boxed-score-section","boxed-score-section--exhaustion"])},zht={class:"section__header"},qht={class:"section-score"},jht={class:"section__body"},Vht={class:"list"},Hht={key:0,class:"exhaustion-level"},Ght=ft({__name:"ExhaustionTracker",setup(e){const{t}=Bt(),r=La();return(n,i)=>(Z(),ee("div",Uht,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",zht,[M("h3",null,ne(n.$t("titles.exhaustion")),1),M("div",qht,[Fe(G_,{count:he(r).exhaustion,max:6,onUpdate:i[0]||(i[0]=a=>he(r).exhaustion=a)},null,8,["count"])])])]),_:1}),M("div",jht,[M("div",Vht,[(Z(),ee(tt,null,wt(6,a=>(Z(),ee(tt,{key:a},[he(r).exhaustion>=a?(Z(),ee("div",Hht,[M("strong",null,ne(a)+":",1),M("span",null,ne(he(t)(`descriptions.exhaustion-levels.${a}`)),1)])):He("",!0)],64))),64))])])]))}});const Zht=xt(Ght,[["__scopeId","data-v-ffe3b49b"]]),Wht={class:"resting"},Kht=ft({__name:"RestingSection",setup(e){const{t}=Bt(),r=La(),n=Zt(),i=Kh(),a=Ln(),s=Pe(!1),o=Pe(!1),u=Pe(3);let l=null;const c=p=>{!s.value&&!o.value?(p==="short"?s.value=!0:o.value=!0,u.value=3,l=setInterval(()=>{u.value-=1,u.value<=0&&(s.value=!1,o.value=!1,clearInterval(l),l=null)},1e3)):((p==="short"&&s.value||p==="long"&&o.value)&&d[p](),s.value=!1,o.value=!1,l&&(clearInterval(l),l=null))},f=async p=>{const m=Yd({type:"chat",parameters:{characterName:yo().name,title:`${t(p==="short"?"titles.short-rest":"titles.long-rest")}`,sourceType:"spell",description:t(`descriptions.resting.${p}`)}});await Hs.value.post({characterId:fa.character.id,content:m})},d={short:()=>{i.resources.forEach(m=>{const h=es(m.max);let v=m.count;if(m.refreshOnShortRest==="all")v=h;else if(m.refreshOnShortRest==="fixed-value"&&m.refreshOnShortRestAmount){const y=new Hu(m.refreshOnShortRestAmount);v=Math.min(h,m.count+y.total)}v!==m.count&&i.update({_id:m._id,count:v,sourceEffectId:m.sourceEffectId})});const p=a.getSlots;p.pact.forEach((m,h)=>{a.slots.used[h]=Math.min(a.slots.used[h]+m,p.all[h])}),f("short")},long:()=>{r.life.hitPoints=r.getHitPointsMax().value.final;const p=n.getHitDice;Object.entries(p).forEach(([h,v])=>{const y=Math.ceil(v/2),w=h;n.hitDice.used[w]=Math.min(v,(n.hitDice.used[w]||0)+y)}),i.resources.forEach(h=>{const v=es(h.max);let y=h.count;if(h.refreshOnLongRest==="all")y=v;else if(h.refreshOnLongRest==="fixed-value"&&h.refreshOnLongRestAmount){const w=new Hu(h.refreshOnLongRestAmount);y=Math.min(v,h.count+w.total)}y!==h.count&&i.update({_id:h._id,count:y,sourceEffectId:h.sourceEffectId})});const m=a.getSlots;m.standard.forEach((h,v)=>{a.slots.used[v]=Math.min(a.slots.used[v]+h,m.all[v])}),r.exhaustion=Math.max(0,r.exhaustion-1),f("long")}};return(p,m)=>(Z(),ee("div",Wht,[M("button",{class:"button",onClick:m[0]||(m[0]=h=>c("short"))},[o.value?(Z(),ee(tt,{key:0},[Xe(ne(p.$t("actions.cancel")),1)],64)):s.value?(Z(),ee(tt,{key:2},[Xe(ne(p.$t("actions.confirm"))+" ("+ne(u.value)+") ",1)],64)):(Z(),ee(tt,{key:1},[Xe(ne(p.$t("titles.short-rest")),1)],64))]),M("button",{class:"button",onClick:m[1]||(m[1]=h=>c("long"))},[s.value?(Z(),ee(tt,{key:0},[Xe(ne(p.$t("actions.cancel")),1)],64)):o.value?(Z(),ee(tt,{key:2},[Xe(ne(p.$t("actions.confirm"))+" ("+ne(u.value)+") ",1)],64)):(Z(),ee(tt,{key:1},[Xe(ne(p.$t("titles.long-rest")),1)],64))])]))}});const Jht=xt(Kht,[["__scopeId","data-v-e4560e46"]]),Yht={class:"section combat-section"},Xht={class:"rows"},Qht={class:"cols boxed-panes"},e0t={class:"rows"},t0t={class:"cols cols--hp"},r0t={class:"rows"},n0t={class:"rows"},i0t=ft({__name:"CombatSection",setup(e){return(t,r)=>(Z(),ee("div",Yht,[M("div",Xht,[M("div",Qht,[M("div",e0t,[Fe(uht),Fe(ght)]),M("div",t0t,[Fe(dht),M("div",r0t,[Fe(Rht),Fe(Pht)])])]),M("div",n0t,[Fe(Jht),Fe(kht),Fe(Zht)])])]))}});const a0t=xt(i0t,[["__scopeId","data-v-1d5ebc9b"]]),s0t={class:"section currency-section"},o0t={class:"section__header"},u0t={class:"cols"},l0t={class:"box__header"},c0t={class:"box__content"},f0t=["value","onChange"],d0t=ft({__name:"CurrencySection",setup(e){const t=YN(),{t:r}=Bt(),{currencyTypes:n}=Je,i=(a,s)=>{const o=parseInt(s,10);t.values[a]=isNaN(o)?0:Math.max(0,o)};return(a,s)=>(Z(),ee("div",s0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",o0t,[M("h3",null,ne(a.$t("titles.currency")),1),Fe(hn,{componentName:"CurrencySidebar",options:{title:he(r)("actions.edit-currency"),hasSubtract:!0,hasSum:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),M("div",u0t,[(Z(!0),ee(tt,null,wt(he(n),o=>(Z(),ee("div",{class:Sr(`currency-box currency-box--${o} box box--headless`),key:o},[M("div",l0t,ne(a.$t(`abbreviations.currency-types.${o}`)),1),M("div",c0t,[M("input",{type:"number",class:"currency-value-input",value:he(t).values[o],min:"0",onChange:u=>i(o,u.target.value)},null,40,f0t)])],2))),128))])]))}});const p0t=xt(d0t,[["__scopeId","data-v-83b0a412"]]),m0t={class:"section custom-skills-section"},h0t={class:"section__header"},v0t={class:"list"},g0t=ft({__name:"CustomSkillSection",setup(e){const{t}=Bt(),r=Qo(),n=Oe(()=>r.ranked.filter(i=>i.group==="tools").slice().sort((i,a)=>i.label.localeCompare(a.label)));return(i,a)=>(Z(),ee("div",m0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",h0t,[M("h3",null,ne(i.$t("titles.tools")),1),Fe(hn,{componentName:"SkillSidebar",props:{skill:null},options:{title:he(t)("actions.add-skill"),hasSave:!0},display:"icon",label:"add"},null,8,["options"])])]),_:1}),M("div",v0t,[(Z(!0),ee(tt,null,wt(n.value,s=>(Z(),Yt(vD,{key:s._id,_id:s._id,label:s.label,ability:s.ability,level:s.level,modifiedLevel:he(r).getModifiedProficiencyLevel(s),proficiencyModifier:he(r).getProficiencyModifier(s),group:s.group,"onUpdate:level":o=>he(r).updateRanked(s._id,{level:o}),"onUpdate:ability":o=>he(r).updateRanked(s._id,{ability:o})},null,8,["_id","label","ability","level","modifiedLevel","proficiencyModifier","group","onUpdate:level","onUpdate:ability"]))),128))])]))}});const y0t=xt(g0t,[["__scopeId","data-v-b5885bc6"]]),b0t={class:"section defenses-section"},_0t={class:"section__header"},A0t={class:"section__body"},w0t={class:"list"},x0t={key:0,class:"defense"},S0t={key:1,class:"defense"},E0t={key:2,class:"defense"},C0t={key:3,class:"defense"},$0t=ft({__name:"DefensesSection",setup(e){const t=uD();return(r,n)=>(Z(),ee("div",b0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",_0t,[M("h3",null,ne(r.$t("titles.defenses")),1),Fe(hn,{componentName:"DefensesSidebar",options:{title:r.$t("titles.defenses"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),M("div",A0t,[M("div",w0t,[he(t).displayDamageResistances.length>0?(Z(),ee("div",x0t,[M("strong",null,ne(r.$t("titles.damage-resistances"))+": ",1),M("span",null,ne(he(t).displayDamageResistances.map(i=>r.$t(`titles.damage-types.${i.text}`)).sort().join(", ")),1)])):He("",!0),he(t).displayDamageImmunities.length>0?(Z(),ee("div",S0t,[M("strong",null,ne(r.$t("titles.damage-immunities"))+": ",1),M("span",null,ne(he(t).displayDamageImmunities.map(i=>r.$t(`titles.damage-types.${i.text}`)).sort().join(", ")),1)])):He("",!0),he(t).displayDamageVulnerabilities.length>0?(Z(),ee("div",E0t,[M("strong",null,ne(r.$t("titles.damage-vulnerabilities"))+": ",1),M("span",null,ne(he(t).displayDamageVulnerabilities.map(i=>r.$t(`titles.damage-types.${i.text}`)).sort().join(", ")),1)])):He("",!0),he(t).combinedConditionImmunities.length>0?(Z(),ee("div",C0t,[M("strong",null,ne(r.$t("titles.condition-immunities"))+": ",1),M("span",null,ne(he(t).combinedConditionImmunities.map(i=>r.$t(`titles.condition.${i.text.toLowerCase()}`)).sort().join(", ")),1)])):He("",!0)])])]))}});const N0t=xt($0t,[["__scopeId","data-v-fdf17005"]]),D0t={class:"section other-proficiencies-section"},T0t={class:"section__header"},k0t={class:"section__body"},I0t={class:"list"},O0t={key:0,class:"defense"},M0t={key:1,class:"defense"},P0t={key:2,class:"defense"},B0t=ft({__name:"OtherProficienciesSection",setup(e){const t=oD();return(r,n)=>(Z(),ee("div",D0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",T0t,[M("h3",null,ne(r.$t("titles.proficiency-types.other-proficiencies")),1),Fe(hn,{componentName:"OtherProficienciesSidebar",options:{title:r.$t("titles.proficiency-types.other-proficiencies"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),M("div",k0t,[M("div",I0t,[he(t).combinedLanguages.length>0?(Z(),ee("div",O0t,[M("strong",null,ne(r.$t("titles.languages"))+": ",1),M("span",null,ne(he(t).combinedLanguages.map(i=>i.isDefault?r.$t(`titles.language.${i.text}`):i.text).sort().join(", ")),1)])):He("",!0),he(t).combinedArmorProficiencies.length>0?(Z(),ee("div",M0t,[M("strong",null,ne(r.$t("titles.proficiency-types.armor-proficiencies"))+": ",1),M("span",null,ne(he(t).combinedArmorProficiencies.map(i=>i.isDefault?r.$t(`titles.proficiency-type.armor-proficiencies.${i.text}`):i.text).sort().join(", ")),1)])):He("",!0),he(t).combinedWeaponProficiencies.length>0?(Z(),ee("div",P0t,[M("strong",null,ne(r.$t("titles.proficiency-types.weapon-proficiencies"))+": ",1),M("span",null,ne(he(t).combinedWeaponProficiencies.map(i=>i.isDefault?r.$t(`titles.proficiency-type.weapon-proficiencies.${i.text}`):i.text).sort().join(", ")),1)])):He("",!0)])])]))}});const L0t=xt(B0t,[["__scopeId","data-v-4e8c583c"]]),F0t={class:"section attunement-section"},R0t={class:"section__header"},U0t={class:"attunement-slot__item-name"},z0t={key:1},q0t=ft({__name:"AttunementSection",setup(e){const{t}=Bt(),r=Lg(),n=Oe(()=>{const i=["attunement-section__grid"];return r.attunedItemsWithDetails.length>3&&i.push("attunement-section__grid--single"),i});return(i,a)=>(Z(),ee("div",F0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",R0t,[M("h3",null,ne(i.$t("titles.attunement")),1),Fe(hn,{componentName:"AttunementSidebar",options:{title:i.$t("titles.attunement"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),M("div",{class:Sr(n.value)},[(Z(!0),ee(tt,null,wt(he(r).attunedItemsWithDetails,(s,o)=>(Z(),ee("div",{key:o,class:Sr(["attunement-slot",s?"attunement-slot--filled":"attunement-slot--empty"])},[M("div",U0t,[s?.name?(Z(),Yt(hn,{key:0,componentName:"EquipmentSidebar",props:{equipment:s},options:{title:he(t)("actions.edit-equipment"),hasSave:!0,hasDelete:!0},label:`${s.name}`,class:"equipment-item__name"},null,8,["props","options","label"])):(Z(),ee("span",z0t,ne(i.$t("titles.empty")),1))])],2))),128))],2)]))}});const j0t=xt(q0t,[["__scopeId","data-v-da58be7f"]]),V0t={class:"section conditions-section"},H0t={class:"section__header"},G0t={class:"list"},Z0t={key:0,class:"conditions-section__grid"},W0t=ft({__name:"ConditionsSection",setup(e){const t=lD(),{t:r}=Bt();return(n,i)=>{const a=Af("tooltip");return Z(),ee("div",V0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",H0t,[M("h3",null,ne(n.$t("titles.conditions")),1),Fe(hn,{componentName:"ConditionsSidebar",options:{title:n.$t("titles.conditions"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),M("div",G0t,[he(t).activeConditions.length>0?(Z(),ee("div",Z0t,[(Z(!0),ee(tt,null,wt(he(t).activeConditions,s=>Ze((Z(),ee("div",{key:s,class:"condition-pill"},[M("span",null,ne(he(r)(`titles.condition.${s}`)),1),Fe(Qn,{icon:"delete",onClick:o=>he(t).toggleCondition(s)},null,8,["onClick"])])),[[a,{content:he(r)(`descriptions.conditions.${s}`),html:!0}]])),128))])):He("",!0)])])}}});const K0t=xt(W0t,[["__scopeId","data-v-64b30fa8"]]),J0t={class:"section senses-section"},Y0t={class:"section__header"},X0t={key:0,class:"section__body"},Q0t={class:"senses-section__display"},evt={key:0},tvt=ft({__name:"SensesSection",setup(e){const t=cD();return(r,n)=>(Z(),ee("div",J0t,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",Y0t,[M("h3",null,ne(r.$t("titles.senses")),1),Fe(hn,{componentName:"SensesSidebar",options:{title:r.$t("titles.senses"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),he(t).activeSenses.length>0?(Z(),ee("div",X0t,[M("div",Q0t,[(Z(!0),ee(tt,null,wt(he(t).activeSenses,(i,a)=>(Z(),ee("span",{key:i.key},[M("strong",null,ne(r.$t(i.label)),1),Xe(" "+ne(` ${i.value.value.final} ${r.$t("abbreviations.measurement-unit")}`)+" ",1),a<he(t).activeSenses.length-1?(Z(),ee("span",evt,", ")):He("",!0)]))),128))])])):He("",!0)]))}});const rvt=xt(tvt,[["__scopeId","data-v-b9a89c60"]]),nvt={class:Sr(["section","boxed-score-section","boxed-score-section--inspiration"])},ivt={class:"section__header"},avt={class:"section-score"},svt=ft({__name:"InspirationTracker",setup(e){Bt();const t=La();return(r,n)=>(Z(),ee("div",nvt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",ivt,[M("h3",null,ne(r.$t("titles.inspiration")),1),M("div",avt,[Fe(G_,{count:he(t).inspiration,max:1,onUpdate:n[0]||(n[0]=i=>he(t).inspiration=i)},null,8,["count"])])])]),_:1})]))}});const ovt=xt(svt,[["__scopeId","data-v-e1d05c70"]]),uvt={class:"resource-item"},lvt=ft({__name:"HitDiceItem",props:{hitDie:{}},setup(e){const{t}=Bt(),r=e,n=Oe(()=>kt().getModifiedDicePool([r.hitDie],"hit-dice")),i=Oe(()=>{const l=[...mh(r.hitDie,t("titles.hit-dice"))];return{rollName:t("rolls.hit-dice-roll"),subtitle:r.hitDie.toLocaleUpperCase(),damageGroups:[{type:t("rolls.hp-recovered"),components:l}],isCrit:!1,whisper:!1,sourceType:"feature",damageModifierKeys:[Be["hit-dice-bonus"]],damageRollKeys:[Be["hit-dice-roll"]]}}),a=Zt(),s=Oe(()=>a.hitDice.used[r.hitDie]||0),o=Oe(()=>a.getHitDice[r.hitDie]||0),u=l=>{a.hitDice.used[r.hitDie]=l};return(l,c)=>(Z(),ee("div",uvt,[Fe(Hg,{pool:n.value,rollArgs:i.value,class:"hit-die"},null,8,["pool","rollArgs"]),Fe(mD,{count:s.value,max:o.value,onUpdate:u},null,8,["count","max"])]))}});const cvt=xt(lvt,[["__scopeId","data-v-01e00b89"]]),fvt={class:"section hit-dice-section"},dvt={class:"section__header"},pvt={class:"list"},mvt=ft({__name:"HitDiceSection",setup(e){const{t}=Bt(),r=Zt(),n=Oe(()=>Object.keys(r.getHitDice).map(i=>i));return(i,a)=>(Z(),ee("div",fvt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",dvt,[M("h3",null,ne(i.$t("titles.hit-dice")),1),Fe(hn,{componentName:"HitDiceSidebar",props:{resource:null},options:{title:he(t)("actions.add-resource"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),M("div",pvt,[(Z(!0),ee(tt,null,wt(n.value,s=>(Z(),Yt(cvt,{hitDie:s,key:s,class:"resource-item--centered"},null,8,["hitDie"]))),128))])]))}});const hvt=xt(mvt,[["__scopeId","data-v-bb119be1"]]),vvt=e=>(Hi("data-v-1a445dc7"),e=e(),Gi(),e),gvt={class:"section effects-section"},yvt={class:"section__header"},bvt={class:"list"},_vt={class:"effects-group__toggle-wrap"},Avt={key:0,class:"pickers"},wvt=["onUpdate:modelValue"],xvt=vvt(()=>M("option",{value:void 0},"Choose...",-1)),Svt=["value"],Evt=ft({__name:"EffectsSection",setup(e){const t=kt();return(r,n)=>(Z(),ee("div",gvt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",yvt,[M("h3",null,ne(r.$t("titles.active-effects")),1)])]),_:1}),M("div",bvt,[(Z(!0),ee(tt,null,wt(he(t).visibleEffects.sort((i,a)=>i.label.localeCompare(a.label)),i=>(Z(),ee("div",{key:i._id,class:Sr(["effects-group",{"effects-group--disabled":!i.enabled}])},[M("div",_vt,[Fe(Vg,{modelValue:i.enabled,"onUpdate:modelValue":a=>i.enabled=a,disabled:!1,class:"toggle-switch--small"},null,8,["modelValue","onUpdate:modelValue"]),Fe(hn,{componentName:"EffectSidebar",props:{effect:i},options:{title:r.$t("actions.edit-effect"),hasSave:!0,hasDelete:i.removable},display:"text",label:i.label},null,8,["props","options","label"])]),i.enabled&&Array.isArray(i.pickers)&&i.pickers.length>0?(Z(),ee("div",Avt,[(Z(!0),ee(tt,null,wt(i.pickers,(a,s)=>(Z(),ee("div",{key:s,class:"picker"},[M("label",null,[Xe(ne(a.label)+" ",1),Ze(M("select",{class:Sr({"picker-unselected":!a.value}),"onUpdate:modelValue":o=>a.value=o},[xvt,(Z(!0),ee(tt,null,wt(a.options,o=>(Z(),ee("option",{key:o.value,value:o.value},ne(o.label),9,Svt))),128))],10,wvt),[[lr,a.value]])])]))),128))])):He("",!0)],2))),128))])]))}});const Cvt=xt(Evt,[["__scopeId","data-v-1a445dc7"]]);const $vt={class:"core-view"},Nvt={class:"rows"},Dvt={class:"boxed-stats"},Tvt={class:"show-more"},kvt=M("summary",{class:"show-more__button"},null,-1),Ivt={class:"show-more__content"},Ovt={class:"cols cols--a-s-s"},Mvt={class:"rows"},Pvt={class:"rows"},Bvt={class:"cols cols--c-a-i-f"},Lvt={class:"rows"},Fvt={class:"rows"},Rvt={__name:"CoreView",setup(e){const{t}=Bt(),r=Qo(),n=Yr(),i=yo(),a=Oe(()=>kt().getModifiedValue(Zt().getProficiencyBonus,Be["proficiency-bonus"])),s=Oe(()=>r.getPassiveProficiency(r.getProficiencyByLabel("perception"))),o=Oe(()=>r.getPassiveProficiency(r.getProficiencyByLabel("insight"))),u=Oe(()=>r.getPassiveProficiency(r.getProficiencyByLabel("investigation"))),l=Oe(()=>{const f=r.initiative;return r.getProficiencyModifier(f)});Oe(()=>JSON.stringify(kt().effects,null,2)),Pe(La().inspiration);const c=Oe(()=>{const f=r.initiative;if(!f)return{};const d=[],p=r.getProficiencyAbility(f);if(p){const h=n.getModifiedAbilityScore(p),v=Math.floor((h.value.final-10)/2);d.push({label:t(`titles.abilities.${p.label}`),value:v})}return r.getProficiencyModifier(f).value.modifiers.forEach(h=>{d.push({label:h.name,value:h.value})}),{rollName:t("titles.initiative"),subtitle:t("rolls.initiative-check"),bonuses:d,rollBonusKeys:[Be["initiative-roll"],Be["dexterity-check-roll"],Be["check-roll"]],actionDieKeys:[Be["initiative-action-die"],Be["dexterity-check-action-die"],Be["check-action-die"]],addToTracker:!0,tokenId:i.token?.id,characterName:i.name,isCompanion:!1,avatar:i.avatar}});return fD(),(f,d)=>(Z(),ee("div",$vt,[M("div",Nvt,[M("div",Dvt,[Fe(ovt),Fe(fm,{score:l.value,label:f.$t("titles.initiative"),type:"modifier",rollArgs:c.value},null,8,["score","label","rollArgs"]),Fe(fm,{score:s.value,label:f.$t("titles.passive-perception")},null,8,["score","label"]),M("details",Tvt,[kvt,M("div",Ivt,[Fe(fm,{score:o.value,label:f.$t("titles.passive-insight")},null,8,["score","label"]),Fe(fm,{score:u.value,label:f.$t("titles.passive-investigation")},null,8,["score","label"]),Fe(fm,{score:a.value,label:f.$t("titles.proficiency-bonus")},null,8,["score","label"])])])]),M("div",Ovt,[Fe(Apt),M("div",Mvt,[Fe(Tpt),Fe(Ppt),Fe(y0t)])]),Fe(L0t)]),M("div",Pvt,[Fe(tpt),M("div",Bvt,[M("div",Lvt,[Fe(a0t),Fe(Nmt),Fe(Cvt),Fe(p0t),Fe(iht),Fe(j0t),Fe(cpt)]),M("div",Fvt,[Fe(N0t),Fe(K0t),Fe(rvt),Fe(Bmt),Fe(hvt),Fe(imt)])])])]))}},Uvt=e=>(Hi("data-v-5c8c9b87"),e=e(),Gi(),e),zvt={class:"spell-view__spell-name"},qvt={class:"accordion"},jvt={class:"accordion__summary"},Vvt={class:"spell-item__summary-grid"},Hvt={key:1,class:"spell-item__name spell-item__name--upcast"},Gvt=["title"],Zvt={key:2,class:"spell-item__damage"},Wvt={key:3,class:"spell-item__damage"},Kvt={key:4,class:"spell-item__attack-bonus"},Jvt={key:5,class:"spell-item__dc"},Yvt={key:6},Xvt={class:"accordion__details"},Qvt={key:0},egt={key:1},tgt={key:2},rgt={key:3},ngt={key:0},igt={key:4},agt=Uvt(()=>M("hr",null,null,-1)),sgt=["innerHTML"],ogt={key:6},ugt=["innerHTML"],lgt=ft({__name:"SpellItem",props:{spell:{}},setup(e){const{appContext:t}=Ia(),r=e,n=Ln(),i=Oe(()=>n.getSpellAttackBonus(r.spell)),a=Oe(()=>n.getSpellDamage(r.spell)),s=Oe(()=>n.getSourceDC(r.spell.spellSourceId)),{t:o}=Bt(),u=Oe(()=>uu(r.spell.description.default)),l=Oe(()=>uu(r.spell.description.upcast)),c=m=>{n.setLastSpellAttackResult(r.spell._id,m)},f=Oe(()=>{const m=r.spell,h=n.sources.find(x=>x._id===m.spellSourceId),v=Bt().t;if(!h)return{rollName:"",subtitle:"",bonuses:[]};const y=[],w=tc(m.attackAbility,m.spellSourceId,n.sources);if(w!=="none"){const x=Ga(w,Yr().abilities);if(x){const E=Yr().getModifiedAbilityScore(x),C=Math.floor((E.value.final-10)/2);y.push({label:v(`titles.abilities.${w}`),value:C});const $=Math.floor(Zt().getProficiencyBonus);$!==0&&y.push({label:v("titles.proficiency-bonus"),value:$})}}else{const x=n.sources.find(E=>E._id===m.spellSourceId);(m.attackAbility==="spellcasting"||!m.attackAbility)&&x?.type==="flat"&&y.push({label:v("titles.base-score"),value:x.flat})}n.getSpellAttackBonus(m).value.modifiers.forEach(x=>{y.push({label:x.name,value:x.value})});const b=[Be["spell-attack-roll"],Be["attack-roll"],Be[`${m.attackType}-spell-attack-roll`],Be[`${m.attackType}-attack-roll`]].filter(Boolean),_=[Be["spell-attack-action-die"],Be["attack-action-die"],Be[`${m.attackType}-spell-attack-action-die`],Be[`${m.attackType}-attack-action-die`]].filter(Boolean);return{rollName:m.name,subtitle:v("rolls.attack-roll"),bonuses:y,critRange:n.getSpellCritRange(m).value.final,sourceType:"spell",properties:Ao(m,v,s.value.value.final),description:m.description.default,rollBonusKeys:b,actionDieKeys:_}}),d=Oe(()=>{const m=r.spell,h=[Be.damage,Be["spell-damage"],Be[`${m.attackType}-spell-damage`],Be[`${m.attackType}-damage`]].filter(Boolean),v=[Be["damage-roll"],Be["spell-damage-roll"],Be[`${m.attackType}-spell-damage-roll`],Be[`${m.attackType}-damage-roll`]].filter(Boolean);return{rollName:m.name,subtitle:o("rolls.damage-roll"),damageRolls:r.spell.damage.map(y=>({...y,ability:tc(y.ability,r.spell.spellSourceId,n.sources),damage:gf(y.damage),critDamage:y.critDamage?gf(y.critDamage):"",originalFormula:y.damage})),canCrit:m.isAttack,isCrit:n.lastSpellAttack?.spellId===m._id&&n.lastSpellAttack.resultType==="crit-success",whisper:!1,sourceType:"spell",damageModifierKeys:h,damageRollKeys:v,properties:Ao(m,o,s.value.value.final),description:m.description.default,t:o}}),p=m=>{const h=m.target;h.tagName==="A"&&h.dataset.compendiumLink&&(m.preventDefault(),t.config.globalProperties.$openCompendiumPopout(h.dataset.compendiumLink))};return(m,h)=>(Z(),ee("div",zvt,[M("details",qvt,[M("summary",jvt,[M("div",Vvt,[m.spell._id.includes("upcast")?(Z(),ee("span",Hvt,ne(m.spell.name),1)):(Z(),Yt(hn,{key:0,componentName:"SpellSidebar",props:{spell:m.spell},options:{title:he(o)("actions.edit-spell"),hasSave:!0,hasDelete:!0},label:m.spell.name,class:"spell-item__name"},null,8,["props","options","label"])),M("button",{class:"spell-item__chat-button",title:he(o)("titles.icons.send-to-chat"),onClick:h[0]||(h[0]=Qr(v=>he(n).sendSpellInfoToChat(m.spell._id,he(o)),["stop"]))},[Fe(Qn,{icon:"chat"})],8,Gvt),a.value.value.final.length>0?(Z(),ee("span",Zvt,[Fe(Hg,{pool:a.value,rollArgs:d.value},null,8,["pool","rollArgs"])])):(Z(),ee("span",Wvt,"-")),m.spell.isAttack?(Z(),ee("span",Kvt,[Fe(wo,{finalBonus:i.value.value.final,rollArgs:f.value,onRolled:c},null,8,["finalBonus","rollArgs"])])):m.spell.saving!=="none"?(Z(),ee("span",Jvt,[M("button",{class:"button--link",onClick:h[1]||(h[1]=Qr(v=>he(n).sendSpellInfoToChat(m.spell._id,he(o)),["stop"]))}," DC "+ne(s.value.value.final),1)])):(Z(),ee("span",Yvt))])]),M("div",Xvt,[m.spell.school?(Z(),ee("p",Qvt,[M("strong",null,ne(m.$t("titles.school"))+":",1),Xe(" "+ne(m.$t(`titles.spell-schools.${m.spell.school}`)),1)])):He("",!0),m.spell.castingTime?(Z(),ee("p",egt,[M("strong",null,ne(m.$t("titles.casting-time"))+":",1),Xe(" "+ne(m.spell.castingTime)+" ",1),m.spell.ritual?(Z(),ee(tt,{key:0},[Xe(ne(m.$t("descriptions.or"))+" "+ne(m.$t("titles.ritual")),1)],64)):He("",!0)])):He("",!0),m.spell.range?(Z(),ee("p",tgt,[M("strong",null,ne(m.$t("titles.range"))+":",1),Xe(" "+ne(m.spell.range),1)])):He("",!0),m.spell.components.length>0?(Z(),ee("p",rgt,[M("strong",null,ne(m.$t("titles.components"))+":",1),Xe(" "+ne(m.spell.components.map(v=>m.$t(`abbreviations.spell-components.${v}`)).join(", ")),1),m.spell.material?(Z(),ee("span",ngt," ("+ne(m.spell.material)+")",1)):He("",!0)])):He("",!0),m.spell.duration?(Z(),ee("p",igt,[M("strong",null,ne(m.$t("titles.duration"))+": ",1),m.spell.concentration?(Z(),ee(tt,{key:0},[Xe(ne(m.$t("titles.concentration"))+", ",1)],64)):He("",!0),Xe(" "+ne(m.spell.duration),1)])):He("",!0),agt,m.spell.description.default?(Z(),ee("div",{key:5,class:"description",innerHTML:u.value,onClick:p},null,8,sgt)):He("",!0),m.spell.description.upcast?(Z(),ee("div",ogt,[M("strong",null,ne(m.$t("titles.at-higher-levels"))+".",1),m.spell.description.upcast?(Z(),ee("div",{key:0,class:"description",innerHTML:l.value},null,8,ugt)):He("",!0)])):He("",!0)])])]))}});const cgt=xt(lgt,[["__scopeId","data-v-5c8c9b87"]]),fgt={class:"spell-source-details"},dgt={class:"spell-source-details__item"},pgt={class:"spell-source-details__label"},mgt={class:"hold"},hgt={key:0,class:"spell-source-details__value"},vgt={class:"spell-source-details__item"},ggt={class:"spell-source-details__label"},ygt={class:"hold"},bgt={key:0,class:"spell-source-details__value"},_gt={class:"spell-source-details__item"},Agt={class:"spell-source-details__label"},wgt={class:"hold"},xgt=ft({__name:"SpellSourceDetails",setup(e){const{t}=Bt(),r=Ln(),n=Oe(()=>r.sources.map(l=>({id:l._id,name:l.name,attackBonus:r.getSourceAttackBonus(l._id),ability:l.type==="ability"?t(`titles.abilities.${l.ability}`):"Flat DC",spellDC:r.getSourceDC(l._id),sourceObject:l}))),i=l=>({rollName:"",subtitle:"",bonuses:[],rollBonusKeys:[],actionDieKeys:[],critRange:20,sourceType:"spell",...l}),a=Oe(()=>{const l=n.value[0].sourceObject,c=[];if(l.type==="ability"){const d=Ga(l.ability,Yr().abilities),p=Yr().getModifiedAbilityScore(d),m=Math.floor((p.value.final-10)/2);c.push({label:t(`titles.abilities.${l.ability}`),value:m});const h=Math.floor(Zt().getProficiencyBonus);h!==0&&c.push({label:t("titles.proficiency-bonus"),value:h})}else l.type==="flat"&&c.push({label:t("titles.base-score"),value:es(l.flat)});return r.getSourceAttackBonus(l._id).value.modifiers.forEach(d=>{c.push({label:d.name,value:d.value})}),i({rollName:`${l.name} ${t("titles.attack")}`,subtitle:t("rolls.attack-roll"),bonuses:c,rollBonusKeys:[Be["spell-attack-roll"],Be["attack-roll"]],actionDieKeys:[Be["spell-attack-action-die"],Be["attack-action-die"]]})}),s=Oe(()=>n.value.length<1?"":n.value.map(c=>`<span>${c.name}: ${c.ability}</span>`).join("<br/>")),o=Oe(()=>n.value.length<1?"":n.value.map(c=>`<span>${c.name}: ${c.spellDC.value.final}</span>`).join("<br/>")),u=Oe(()=>n.value.length<1?"":n.value.map(c=>`<span>${c.name}: ${c.attackBonus.value.final}</span>`).join("<br/>"));return(l,c)=>{const f=Af("tooltip");return Z(),ee("div",fgt,[M("div",dgt,[M("span",pgt,ne(l.$t("titles.spellcasting-ability")),1),M("div",mgt,[n.value.length>0?(Z(),ee("span",hgt,ne(n.value[0].ability),1)):He("",!0),n.value.length>1?Ze((Z(),Yt(Qn,{key:1,class:"info-icon",icon:"info"},null,512)),[[f,{theme:"info",content:s.value,html:!0}]]):He("",!0)])]),M("div",vgt,[M("span",ggt,ne(l.$t("titles.spell-save-dc")),1),M("div",ygt,[n.value.length>0?(Z(),ee("span",bgt,"DC "+ne(n.value[0].spellDC.value.final),1)):He("",!0),n.value.length>1?Ze((Z(),Yt(Qn,{key:1,class:"info-icon",icon:"info"},null,512)),[[f,{theme:"info",content:o.value,html:!0}]]):He("",!0)])]),M("div",_gt,[M("span",Agt,ne(l.$t("titles.spell-attack-bonus")),1),M("div",wgt,[n.value.length>0?(Z(),Yt(wo,{key:0,class:"spell-source-details__value",finalBonus:n.value[0].attackBonus.value.final,rollArgs:a.value},null,8,["finalBonus","rollArgs"])):He("",!0),n.value.length>1?Ze((Z(),Yt(Qn,{key:1,class:"info-icon",icon:"info"},null,512)),[[f,{theme:"info",content:u.value,html:!0}]]):He("",!0)])])])}}});const Sgt=xt(xgt,[["__scopeId","data-v-4b18f35f"]]),Gg=e=>(Hi("data-v-9200b52b"),e=e(),Gi(),e),Egt={class:"spell-header__level"},Cgt=Gg(()=>M("svg",{viewBox:"0 0 79 155",xmlns:"http://www.w3.org/2000/svg"},[M("g",null,[M("path",{d:"M23.976,25.316L60.206,56.736L60.206,98.26L23.976,129.676L18.794,124.799L18.794,30.192L23.976,25.316ZM23.634,8.439L6.265,24.777L6.265,130.211L23.634,146.557L72.735,103.976L72.735,51.019L23.634,8.439Z",style:{"fill-opacity":"0.1"}}),M("path",{d:"M23.634,8.439L72.735,51.019L72.735,103.976L23.634,146.557L6.265,130.211L6.265,24.777L23.634,8.439ZM23.463,0L19.345,3.875L1.971,20.213L0,22.071L0,132.916L1.971,134.774L19.341,151.117L23.463,155L27.735,151.288L76.841,108.707L79,106.832L79,48.163L76.841,46.289L27.735,3.708L23.463,0Z"})]),M("path",{id:"v",d:"M79,25.739L44.908,25.739L38.299,20.01L79,20.01L79,25.739ZM79,134.66L38.299,134.66L44.903,128.931L79,128.931L79,134.66Z"})],-1)),$gt={key:0,class:"spell-header__slots-total stretch"},Ngt=Gg(()=>M("svg",{viewBox:"0 0 70 155",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[M("path",{id:"v",d:"M0,134.825L0,129.096L70,129.096L70,134.825L0,134.825ZM0,25.904L0,20.175L70,20.175L70,25.904L0,25.904Z"})],-1)),Dgt=Gg(()=>M("div",{class:"spell-header__slots-divider"},[M("svg",{viewBox:"0 0 57 155",xmlns:"http://www.w3.org/2000/svg"},[M("path",{id:"v",d:"M0,25.904L0,20.175L56.993,20.175L56.993,25.904L18.217,25.904L24.98,34.417L56.993,34.417L56.993,36.912L56.205,36.912C55.001,37.271 45.196,40.492 38.038,50.85L48.546,64.075L48.546,90.937L38.046,104.15C45.205,114.508 55.001,117.725 56.213,118.083L56.993,118.083L56.993,120.579L24.992,120.579L18.226,129.096L56.993,129.096L56.993,134.825L0,134.825L0,129.096L0.951,129.096L30.28,93.354C29.284,90.058 28.588,86.379 28.267,82.3C26.005,81.821 24.271,79.904 24.271,77.5C24.271,75.092 26.005,73.179 28.263,72.692C28.588,68.604 29.284,64.921 30.28,61.621L0.971,25.904L0,25.904ZM33.321,54.125L10.901,25.904L4.201,25.904L31.234,58.846C31.867,57.171 32.563,55.6 33.321,54.125ZM31.23,96.133L4.18,129.096L10.905,129.096L33.33,100.875C32.563,99.396 31.863,97.821 31.23,96.133ZM42.817,66.075L34.971,56.2C32.83,60.683 31.263,66.15 30.751,72.787C32.78,73.425 34.288,75.258 34.288,77.5C34.288,79.737 32.784,81.567 30.755,82.208C31.267,88.846 32.834,94.317 34.976,98.804L42.817,88.937L42.817,66.075ZM36.496,106.1L26.976,118.083L50.138,118.083C46.23,115.958 40.942,112.242 36.496,106.1ZM26.967,36.912L36.488,48.9C40.938,42.762 46.226,39.042 50.138,36.912L26.967,36.912Z"})])],-1)),Tgt={class:"spell-header__slots-used stretch"},kgt={key:1},Igt=Gg(()=>M("svg",{viewBox:"0 0 70 155",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[M("path",{id:"v",d:"M0,134.65L0,128.921L70,128.921L70,134.65L0,134.65ZM0,120.404L0,117.908L70,117.908L70,120.404L0,120.404ZM0,36.737L0,34.242L70,34.242L70,36.737L0,36.737ZM0,25.729L0,20L70,20L70,25.729L0,25.729Z"})],-1)),Ogt=Gg(()=>M("div",{class:"spell-header__slots-tip"},[M("svg",{viewBox:"0 0 70 155",xmlns:"http://www.w3.org/2000/svg"},[M("path",{id:"v",d:"M70,46.142L70,108.858L44.033,134.825L-0,134.825L-0,129.096L6.925,129.096C13.883,127.85 23.013,125.392 32.167,120.579L-0,120.579L-0,118.083L36.275,118.083L36.275,118.246C47.3,111.55 57.875,101.137 64.271,85L64.271,70.417C57.792,54.079 47.029,43.604 35.854,36.912L-0,36.912L-0,34.417L31.362,34.417C21.342,29.3 11.437,26.967 4.446,25.904L-0,25.904L-0,20.175L44.033,20.175L70,46.142ZM64.271,62.679L64.271,48.521L41.654,25.904L18.583,25.904C33.971,30.592 53.075,40.737 64.271,62.679ZM64.271,106.483L64.271,92.754C53.392,114.067 35.033,124.242 19.892,129.096L41.654,129.096L64.271,106.483Z"})])],-1)),Mgt=ft({__name:"SpellHeader",props:{level:{},slotsTotal:{},slotsUsed:{}},setup(e){const t=e,r=Ln(),n=t.level>0?["spell-header"]:["spell-header","spell-header--cantrips"],i=Oe(()=>r.getSlots.all[t.level-1]??0);return(a,s)=>(Z(),ee("div",{class:Sr(he(n))},[M("div",Egt,[M("span",null,ne(a.level),1),Cgt]),a.level>0?(Z(),ee("div",$gt,[M("span",null,ne(i.value),1),Ngt])):He("",!0),Dgt,M("div",Tgt,[a.level>0?Ze((Z(),ee("input",{key:0,type:"number","onUpdate:modelValue":s[0]||(s[0]=o=>he(r).slots.used[t.level-1]=o)},null,512)),[[gt,he(r).slots.used[t.level-1]]]):(Z(),ee("span",kgt,ne(a.$t("titles.cantrips")),1)),Igt]),Ogt],2))}});const Pgt=xt(Mgt,[["__scopeId","data-v-9200b52b"]]),Bgt={class:"section spells-section"},Lgt={class:"section__header"},Fgt={class:"spells-view"},Rgt=ft({__name:"SpellsView",setup(e){const{t}=Bt(),r=Ln(),n=Oe(()=>{const o=[];for(const u of r.spells)u.level!==0&&u.upcast&&u.upcast.forEach((l,c)=>{let f=pi(u.damage);Array.isArray(u.damage)&&Array.isArray(l.damage)&&(f=u.damage.map((d,p)=>l.damage&&l.damage[p]?{...d,...l.damage[p]}:d)),o.push({...u,...l,damage:f,description:u.description,_id:`${u._id}-upcast-${c}`})});return[...r.spells,...o]});function i(o){return n.value.filter(u=>u.level===o).sort((u,l)=>u.name.localeCompare(l.name))}function a(o){const u=o.length,l=Math.floor(u/3);return[o.slice(0,l),o.slice(l,l*2),o.slice(l*2)]}const s=a(Je.spellLevels.slice());return fD(),(o,u)=>(Z(),ee("div",null,[M("div",Bgt,[Fe(Mi,{mode:"gothic"},{default:Xr(()=>[M("div",Lgt,[M("h3",null,ne(o.$t("titles.spellcasting")),1),Fe(hn,{componentName:"SpellSidebar",options:{title:he(t)("actions.add-spell"),hasSave:!0},props:{spell:null},display:"icon",label:"add"},null,8,["options"]),Fe(hn,{componentName:"SpellSlotsSidebar",options:{title:o.$t("titles.spell-slots"),hasSave:!0},display:"icon",label:"config"},null,8,["options"])])]),_:1}),Fe(Sgt),M("div",Fgt,[(Z(!0),ee(tt,null,wt(he(s),(l,c)=>(Z(),ee("div",{class:"spells-view__column",key:`column-${c}`},[(Z(!0),ee(tt,null,wt(l,f=>(Z(),ee("div",{class:Sr(`spells-view__level spells-view__level--${f}`),key:`level-${f}`},[Fe(Pgt,{level:f,slotsTotal:0,slotsUsed:0},null,8,["level"]),(Z(!0),ee(tt,null,wt(i(f),d=>(Z(),Yt(cgt,{spell:d,key:d._id},null,8,["spell"]))),128))],2))),128))]))),128))])])]))}});const Ugt=xt(Rgt,[["__scopeId","data-v-db9e0ed0"]]),zgt={class:"npc-tab"},qgt={class:"npc-tab__controls"},jgt={class:"npc-tab__list"},Vgt=ft({__name:"NpcView",setup(e){const{t}=Bt(),r=is(),n=Oe({get:()=>r.isEditMode,set:i=>r.isEditMode=i});return(i,a)=>(Z(),ee("div",zgt,[M("div",qgt,[M("label",null,[Fe(Vg,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),disabled:!1},null,8,["modelValue"]),Xe(" "+ne(he(t)("actions.edit-mode")),1)])]),M("div",jgt,[(Z(!0),ee(tt,null,wt(he(r).regularNpcs,s=>(Z(),Yt(hD,{key:s._id,npc:s,editMode:n.value},null,8,["npc","editMode"]))),128))])]))}});const Hgt=xt(Vgt,[["__scopeId","data-v-a6852215"]]),Ggt=utt({history:xet("/undefined/undefined/"),routes:[{path:"/",name:"core",component:Rvt,alias:"/core"},{path:"/spells",name:"spells",component:Ugt},{path:"/npcs",name:"npcs",component:Hgt}]}),Zgt=["top","right","bottom","left"],LB=["start","end"],FB=Zgt.reduce((e,t)=>e.concat(t,t+"-"+LB[0],t+"-"+LB[1]),[]),Jv=Math.min,yd=Math.max,Wgt={left:"right",right:"left",bottom:"top",top:"bottom"},Kgt={start:"end",end:"start"};function $4(e,t,r){return yd(e,Jv(t,r))}function Ep(e,t){return typeof e=="function"?e(t):e}function Qu(e){return e.split("-")[0]}function eu(e){return e.split("-")[1]}function RY(e){return e==="x"?"y":"x"}function gD(e){return e==="y"?"height":"width"}const Jgt=new Set(["top","bottom"]);function Ll(e){return Jgt.has(Qu(e))?"y":"x"}function yD(e){return RY(Ll(e))}function UY(e,t,r){r===void 0&&(r=!1);const n=eu(e),i=yD(e),a=gD(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=W_(s)),[s,W_(s)]}function Ygt(e){const t=W_(e);return[Z_(e),t,Z_(t)]}function Z_(e){return e.replace(/start|end/g,t=>Kgt[t])}const RB=["left","right"],UB=["right","left"],Xgt=["top","bottom"],Qgt=["bottom","top"];function e1t(e,t,r){switch(e){case"top":case"bottom":return r?t?UB:RB:t?RB:UB;case"left":case"right":return t?Xgt:Qgt;default:return[]}}function t1t(e,t,r,n){const i=eu(e);let a=e1t(Qu(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(Z_)))),a}function W_(e){return e.replace(/left|right|bottom|top/g,t=>Wgt[t])}function r1t(e){return{top:0,right:0,bottom:0,left:0,...e}}function zY(e){return typeof e!="number"?r1t(e):{top:e,right:e,bottom:e,left:e}}function av(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function zB(e,t,r){let{reference:n,floating:i}=e;const a=Ll(t),s=yD(t),o=gD(s),u=Qu(t),l=a==="y",c=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[o]/2-i[o]/2;let p;switch(u){case"top":p={x:c,y:n.y-i.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(eu(t)){case"start":p[s]-=d*(r&&l?-1:1);break;case"end":p[s]+=d*(r&&l?-1:1);break}return p}const n1t=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=zB(l,n,u),d=n,p={},m=0;for(let h=0;h<o.length;h++){const{name:v,fn:y}=o[h],{x:w,y:g,data:b,reset:_}=await y({x:c,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:l,platform:s,elements:{reference:e,floating:t}});c=w??c,f=g??f,p={...p,[v]:{...p[v],...b}},_&&m<=50&&(m++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(l=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:c,y:f}=zB(l,d,u)),h=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:p}};async function UA(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Ep(t,e),m=zY(p),v=o[d?f==="floating"?"reference":"floating":f],y=av(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:l,rootBoundary:c,strategy:u})),w=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,g=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),b=await(a.isElement==null?void 0:a.isElement(g))?await(a.getScale==null?void 0:a.getScale(g))||{x:1,y:1}:{x:1,y:1},_=av(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:g,strategy:u}):w);return{top:(y.top-_.top+m.top)/b.y,bottom:(_.bottom-y.bottom+m.bottom)/b.y,left:(y.left-_.left+m.left)/b.x,right:(_.right-y.right+m.right)/b.x}}const i1t=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:u}=t,{element:l,padding:c=0}=Ep(e,t)||{};if(l==null)return{};const f=zY(c),d={x:r,y:n},p=yD(i),m=gD(p),h=await s.getDimensions(l),v=p==="y",y=v?"top":"left",w=v?"bottom":"right",g=v?"clientHeight":"clientWidth",b=a.reference[m]+a.reference[p]-d[p]-a.floating[m],_=d[p]-a.reference[p],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let E=x?x[g]:0;(!E||!await(s.isElement==null?void 0:s.isElement(x)))&&(E=o.floating[g]||a.floating[m]);const C=b/2-_/2,$=E/2-h[m]/2-1,D=Jv(f[y],$),N=Jv(f[w],$),k=D,P=E-h[m]-N,U=E/2-h[m]/2+C,L=$4(k,U,P),B=!u.arrow&&eu(i)!=null&&U!==L&&a.reference[m]/2-(U<k?D:N)-h[m]/2<0,O=B?U<k?U-k:U-P:0;return{[p]:d[p]+O,data:{[p]:L,centerOffset:U-L-O,...B&&{alignmentOffset:O}},reset:B}}});function a1t(e,t,r){return(e?[...r.filter(i=>eu(i)===e),...r.filter(i=>eu(i)!==e)]:r.filter(i=>Qu(i)===i)).filter(i=>e?eu(i)===e||(t?Z_(i)!==i:!1):!0)}const s1t=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,n,i;const{rects:a,middlewareData:s,placement:o,platform:u,elements:l}=t,{crossAxis:c=!1,alignment:f,allowedPlacements:d=FB,autoAlignment:p=!0,...m}=Ep(e,t),h=f!==void 0||d===FB?a1t(f||null,p,d):d,v=await UA(t,m),y=((r=s.autoPlacement)==null?void 0:r.index)||0,w=h[y];if(w==null)return{};const g=UY(w,a,await(u.isRTL==null?void 0:u.isRTL(l.floating)));if(o!==w)return{reset:{placement:h[0]}};const b=[v[Qu(w)],v[g[0]],v[g[1]]],_=[...((n=s.autoPlacement)==null?void 0:n.overflows)||[],{placement:w,overflows:b}],x=h[y+1];if(x)return{data:{index:y+1,overflows:_},reset:{placement:x}};const E=_.map(D=>{const N=eu(D.placement);return[D.placement,N&&c?D.overflows.slice(0,2).reduce((k,P)=>k+P,0):D.overflows[0],D.overflows]}).sort((D,N)=>D[1]-N[1]),$=((i=E.filter(D=>D[2].slice(0,eu(D[0])?2:3).every(N=>N<=0))[0])==null?void 0:i[0])||E[0][0];return $!==o?{data:{index:y+1,overflows:_},reset:{placement:$}}:{}}}},o1t=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...v}=Ep(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Qu(i),w=Ll(o),g=Qu(o)===o,b=await(u.isRTL==null?void 0:u.isRTL(l.floating)),_=d||(g||!h?[W_(o)]:Ygt(o)),x=m!=="none";!d&&x&&_.push(...t1t(o,h,m,b));const E=[o,..._],C=await UA(t,v),$=[];let D=((n=a.flip)==null?void 0:n.overflows)||[];if(c&&$.push(C[y]),f){const U=UY(i,s,b);$.push(C[U[0]],C[U[1]])}if(D=[...D,{placement:i,overflows:$}],!$.every(U=>U<=0)){var N,k;const U=(((N=a.flip)==null?void 0:N.index)||0)+1,L=E[U];if(L&&(!(f==="alignment"?w!==Ll(L):!1)||D.every(T=>Ll(T.placement)===w?T.overflows[0]>0:!0)))return{data:{index:U,overflows:D},reset:{placement:L}};let B=(k=D.filter(O=>O.overflows[0]<=0).sort((O,T)=>O.overflows[1]-T.overflows[1])[0])==null?void 0:k.placement;if(!B)switch(p){case"bestFit":{var P;const O=(P=D.filter(T=>{if(x){const j=Ll(T.placement);return j===w||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,R)=>j+R,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:P[0];O&&(B=O);break}case"initialPlacement":B=o;break}if(i!==B)return{reset:{placement:B}}}return{}}}},u1t=new Set(["left","top"]);async function l1t(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Qu(r),o=eu(r),u=Ll(r)==="y",l=u1t.has(s)?-1:1,c=a&&u?-1:1,f=Ep(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),u?{x:p*c,y:d*l}:{x:d*l,y:p*c}}const c1t=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,u=await l1t(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}},f1t=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...u}=Ep(e,t),l={x:r,y:n},c=await UA(t,u),f=Ll(Qu(i)),d=RY(f);let p=l[d],m=l[f];if(a){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=p+c[v],g=p-c[y];p=$4(w,p,g)}if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+c[v],g=m-c[y];m=$4(w,m,g)}const h=o.fn({...t,[d]:p,[f]:m});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[d]:a,[f]:s}}}}}},d1t=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:u=()=>{},...l}=Ep(e,t),c=await UA(t,l),f=Qu(i),d=eu(i),p=Ll(i)==="y",{width:m,height:h}=a.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=d==="end"?"top":"bottom");const w=h-c.top-c.bottom,g=m-c.left-c.right,b=Jv(h-c[v],w),_=Jv(m-c[y],g),x=!t.middlewareData.shift;let E=b,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=w),x&&!d){const D=yd(c.left,0),N=yd(c.right,0),k=yd(c.top,0),P=yd(c.bottom,0);p?C=m-2*(D!==0||N!==0?D+N:yd(c.left,c.right)):E=h-2*(k!==0||P!==0?k+P:yd(c.top,c.bottom))}await u({...t,availableWidth:C,availableHeight:E});const $=await s.getDimensions(o.floating);return m!==$.width||h!==$.height?{reset:{rects:!0}}:{}}}};function mo(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gu(e){return mo(e).getComputedStyle(e)}const qB=Math.min,sv=Math.max,K_=Math.round;function qY(e){const t=Gu(e);let r=parseFloat(t.width),n=parseFloat(t.height);const i=e.offsetWidth,a=e.offsetHeight,s=K_(r)!==i||K_(n)!==a;return s&&(r=i,n=a),{width:r,height:n,fallback:s}}function bf(e){return VY(e)?(e.nodeName||"").toLowerCase():""}let eb;function jY(){if(eb)return eb;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(eb=e.brands.map(t=>t.brand+"/"+t.version).join(" "),eb):navigator.userAgent}function Zu(e){return e instanceof mo(e).HTMLElement}function Qc(e){return e instanceof mo(e).Element}function VY(e){return e instanceof mo(e).Node}function jB(e){return typeof ShadowRoot>"u"?!1:e instanceof mo(e).ShadowRoot||e instanceof ShadowRoot}function zA(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Gu(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function p1t(e){return["table","td","th"].includes(bf(e))}function N4(e){const t=/firefox/i.test(jY()),r=Gu(e),n=r.backdropFilter||r.WebkitBackdropFilter;return r.transform!=="none"||r.perspective!=="none"||!!n&&n!=="none"||t&&r.willChange==="filter"||t&&!!r.filter&&r.filter!=="none"||["transform","perspective"].some(i=>r.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const a=r.contain;return a!=null&&a.includes(i)})}function HY(){return!/^((?!chrome|android).)*safari/i.test(jY())}function bD(e){return["html","body","#document"].includes(bf(e))}function GY(e){return Qc(e)?e:e.contextElement}const ZY={x:1,y:1};function km(e){const t=GY(e);if(!Zu(t))return ZY;const r=t.getBoundingClientRect(),{width:n,height:i,fallback:a}=qY(t);let s=(a?K_(r.width):r.width)/n,o=(a?K_(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}function Yv(e,t,r,n){var i,a;t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=GY(e);let u=ZY;t&&(n?Qc(n)&&(u=km(n)):u=km(e));const l=o?mo(o):window,c=!HY()&&r;let f=(s.left+(c&&((i=l.visualViewport)==null?void 0:i.offsetLeft)||0))/u.x,d=(s.top+(c&&((a=l.visualViewport)==null?void 0:a.offsetTop)||0))/u.y,p=s.width/u.x,m=s.height/u.y;if(o){const h=mo(o),v=n&&Qc(n)?mo(n):n;let y=h.frameElement;for(;y&&n&&v!==h;){const w=km(y),g=y.getBoundingClientRect(),b=getComputedStyle(y);g.x+=(y.clientLeft+parseFloat(b.paddingLeft))*w.x,g.y+=(y.clientTop+parseFloat(b.paddingTop))*w.y,f*=w.x,d*=w.y,p*=w.x,m*=w.y,f+=g.x,d+=g.y,y=mo(y).frameElement}}return{width:p,height:m,top:d,right:f+p,bottom:d+m,left:f,x:f,y:d}}function ef(e){return((VY(e)?e.ownerDocument:e.document)||window.document).documentElement}function qA(e){return Qc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function WY(e){return Yv(ef(e)).left+qA(e).scrollLeft}function Xv(e){if(bf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jB(e)&&e.host||ef(e);return jB(t)?t.host:t}function KY(e){const t=Xv(e);return bD(t)?t.ownerDocument.body:Zu(t)&&zA(t)?t:KY(t)}function J_(e,t){var r;t===void 0&&(t=[]);const n=KY(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=mo(n);return i?t.concat(a,a.visualViewport||[],zA(n)?n:[]):t.concat(n,J_(n))}function VB(e,t,r){return t==="viewport"?av(function(n,i){const a=mo(n),s=ef(n),o=a.visualViewport;let u=s.clientWidth,l=s.clientHeight,c=0,f=0;if(o){u=o.width,l=o.height;const d=HY();(d||!d&&i==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,r)):Qc(t)?av(function(n,i){const a=Yv(n,!0,i==="fixed"),s=a.top+n.clientTop,o=a.left+n.clientLeft,u=Zu(n)?km(n):{x:1,y:1};return{width:n.clientWidth*u.x,height:n.clientHeight*u.y,x:o*u.x,y:s*u.y}}(t,r)):av(function(n){const i=ef(n),a=qA(n),s=n.ownerDocument.body,o=sv(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),u=sv(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let l=-a.scrollLeft+WY(n);const c=-a.scrollTop;return Gu(s).direction==="rtl"&&(l+=sv(i.clientWidth,s.clientWidth)-o),{width:o,height:u,x:l,y:c}}(ef(e)))}function HB(e){return Zu(e)&&Gu(e).position!=="fixed"?e.offsetParent:null}function GB(e){const t=mo(e);let r=HB(e);for(;r&&p1t(r)&&Gu(r).position==="static";)r=HB(r);return r&&(bf(r)==="html"||bf(r)==="body"&&Gu(r).position==="static"&&!N4(r))?t:r||function(n){let i=Xv(n);for(;Zu(i)&&!bD(i);){if(N4(i))return i;i=Xv(i)}return null}(e)||t}function m1t(e,t,r){const n=Zu(t),i=ef(t),a=Yv(e,!0,r==="fixed",t);let s={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(n||!n&&r!=="fixed")if((bf(t)!=="body"||zA(i))&&(s=qA(t)),Zu(t)){const u=Yv(t,!0);o.x=u.x+t.clientLeft,o.y=u.y+t.clientTop}else i&&(o.x=WY(i));return{x:a.left+s.scrollLeft-o.x,y:a.top+s.scrollTop-o.y,width:a.width,height:a.height}}const h1t={getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=r==="clippingAncestors"?function(l,c){const f=c.get(l);if(f)return f;let d=J_(l).filter(v=>Qc(v)&&bf(v)!=="body"),p=null;const m=Gu(l).position==="fixed";let h=m?Xv(l):l;for(;Qc(h)&&!bD(h);){const v=Gu(h),y=N4(h);(m?y||p:y||v.position!=="static"||!p||!["absolute","fixed"].includes(p.position))?p=v:d=d.filter(w=>w!==h),h=Xv(h)}return c.set(l,d),d}(t,this._c):[].concat(r),s=[...a,n],o=s[0],u=s.reduce((l,c)=>{const f=VB(t,c,i);return l.top=sv(f.top,l.top),l.right=qB(f.right,l.right),l.bottom=qB(f.bottom,l.bottom),l.left=sv(f.left,l.left),l},VB(t,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:r,strategy:n}=e;const i=Zu(r),a=ef(r);if(r===a)return t;let s={scrollLeft:0,scrollTop:0},o={x:1,y:1};const u={x:0,y:0};if((i||!i&&n!=="fixed")&&((bf(r)!=="body"||zA(a))&&(s=qA(r)),Zu(r))){const l=Yv(r);o=km(r),u.x=l.x+r.clientLeft,u.y=l.y+r.clientTop}return{width:t.width*o.x,height:t.height*o.y,x:t.x*o.x-s.scrollLeft*o.x+u.x,y:t.y*o.y-s.scrollTop*o.y+u.y}},isElement:Qc,getDimensions:function(e){return Zu(e)?qY(e):e.getBoundingClientRect()},getOffsetParent:GB,getDocumentElement:ef,getScale:km,async getElementRects(e){let{reference:t,floating:r,strategy:n}=e;const i=this.getOffsetParent||GB,a=this.getDimensions;return{reference:m1t(t,await i(r),n),floating:{x:0,y:0,...await a(r)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Gu(e).direction==="rtl"},v1t=(e,t,r)=>{const n=new Map,i={platform:h1t,...r},a={...i.platform,_c:n};return n1t(e,t,{...i,platform:a})};function JY(e,t){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&e[r]?JY(e[r],t[r]):e[r]=t[r])}const tu={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:150,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,autoHideOnMousedown:!1,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover"],delay:{show:0,hide:400}}}};function Qv(e,t){let r=tu.themes[e]||{},n;do n=r[t],typeof n>"u"?r.$extend?r=tu.themes[r.$extend]||{}:(r=null,n=tu[t]):r=null;while(r);return n}function g1t(e){const t=[e];let r=tu.themes[e]||{};do r.$extend&&!r.$resetCss?(t.push(r.$extend),r=tu.themes[r.$extend]||{}):r=null;while(r);return t.map(n=>`v-popper--theme-${n}`)}function ZB(e){const t=[e];let r=tu.themes[e]||{};do r.$extend?(t.push(r.$extend),r=tu.themes[r.$extend]||{}):r=null;while(r);return t}let _h=!1;if(typeof window<"u"){_h=!1;try{const e=Object.defineProperty({},"passive",{get(){_h=!0}});window.addEventListener("test",null,e)}catch{}}let YY=!1;typeof window<"u"&&typeof navigator<"u"&&(YY=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const XY=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),WB={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},KB={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function JB(e,t){const r=e.indexOf(t);r!==-1&&e.splice(r,1)}function JS(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const jo=[];let pd=null;const YB={};function XB(e){let t=YB[e];return t||(t=YB[e]=[]),t}let D4=function(){};typeof window<"u"&&(D4=window.Element);function cn(e){return function(t){return Qv(t.theme,e)}}const YS="__floating-vue__popper",QY=()=>ft({name:"VPopper",provide(){return{[YS]:{parentPopper:this}}},inject:{[YS]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:cn("disabled")},positioningDisabled:{type:Boolean,default:cn("positioningDisabled")},placement:{type:String,default:cn("placement"),validator:e=>XY.includes(e)},delay:{type:[String,Number,Object],default:cn("delay")},distance:{type:[Number,String],default:cn("distance")},skidding:{type:[Number,String],default:cn("skidding")},triggers:{type:Array,default:cn("triggers")},showTriggers:{type:[Array,Function],default:cn("showTriggers")},hideTriggers:{type:[Array,Function],default:cn("hideTriggers")},popperTriggers:{type:Array,default:cn("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:cn("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:cn("popperHideTriggers")},container:{type:[String,Object,D4,Boolean],default:cn("container")},boundary:{type:[String,D4],default:cn("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:cn("strategy")},autoHide:{type:[Boolean,Function],default:cn("autoHide")},handleResize:{type:Boolean,default:cn("handleResize")},instantMove:{type:Boolean,default:cn("instantMove")},eagerMount:{type:Boolean,default:cn("eagerMount")},popperClass:{type:[String,Array,Object],default:cn("popperClass")},computeTransformOrigin:{type:Boolean,default:cn("computeTransformOrigin")},autoMinSize:{type:Boolean,default:cn("autoMinSize")},autoSize:{type:[Boolean,String],default:cn("autoSize")},autoMaxSize:{type:Boolean,default:cn("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:cn("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:cn("preventOverflow")},overflowPadding:{type:[Number,String],default:cn("overflowPadding")},arrowPadding:{type:[Number,String],default:cn("arrowPadding")},arrowOverflow:{type:Boolean,default:cn("arrowOverflow")},flip:{type:Boolean,default:cn("flip")},shift:{type:Boolean,default:cn("shift")},shiftCrossAxis:{type:Boolean,default:cn("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:cn("noAutoFocus")},disposeTimeout:{type:Number,default:cn("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},randomId:`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,shownChildren:new Set,lastAutoHide:!0,pendingHide:!1,containsGlobalTarget:!1,isDisposed:!0,mouseDownContains:!1}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[YS])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},triggers:{handler:"$_refreshListeners",deep:!0},positioningDisabled:"$_refreshListeners",...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})},created(){this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:r=!1}={}){var n,i;(n=this.parentPopper)!=null&&n.lockedChild&&this.parentPopper.lockedChild!==this||(this.pendingHide=!1,(r||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var r;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((r=this.parentPopper)==null?void 0:r.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e;this.isDisposed&&(this.isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((e=this.referenceNode)==null?void 0:e.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(t=>t.nodeType===t.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.isDisposed||(this.isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(c1t({mainAxis:this.distance,crossAxis:this.skidding}));const t=this.placement.startsWith("auto");if(t?e.middleware.push(s1t({alignment:this.placement.split("-")[1]??""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(f1t({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!t&&this.flip&&e.middleware.push(o1t({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(i1t({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:n,rects:i,middlewareData:a})=>{let s;const{centerOffset:o}=a.arrow;return n.startsWith("top")||n.startsWith("bottom")?s=Math.abs(o)>i.reference.width/2:s=Math.abs(o)>i.reference.height/2,{data:{overflow:s}}}}),this.autoMinSize||this.autoSize){const n=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:i,placement:a,middlewareData:s})=>{var o;if((o=s.autoSize)!=null&&o.skip)return{};let u,l;return a.startsWith("top")||a.startsWith("bottom")?u=i.reference.width:l=i.reference.height,this.$_innerNode.style[n==="min"?"minWidth":n==="max"?"maxWidth":"width"]=u!=null?`${u}px`:null,this.$_innerNode.style[n==="min"?"minHeight":n==="max"?"maxHeight":"height"]=l!=null?`${l}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(d1t({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:n,availableHeight:i})=>{this.$_innerNode.style.maxWidth=n!=null?`${n}px`:null,this.$_innerNode.style.maxHeight=i!=null?`${i}px`:null}})));const r=await v1t(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:{...r.middlewareData.arrow,...r.middlewareData.arrowOverflow}})},$_scheduleShow(e,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),pd&&this.instantMove&&pd.instantMove&&pd!==this.parentPopper){pd.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e,t=!1){if(this.shownChildren.size>0){this.pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(pd=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await JS(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...J_(this.$_referenceNode),...J_(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),r=this.$_popperNode.querySelector(".v-popper__wrapper"),n=r.parentNode.getBoundingClientRect(),i=t.x+t.width/2-(n.left+r.offsetLeft),a=t.y+t.height/2-(n.top+r.offsetTop);this.result.transformOrigin=`${i}px ${a}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let r=0;r<jo.length;r++)t=jo[r],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}jo.push(this),document.body.classList.add("v-popper--some-open");for(const t of ZB(this.theme))XB(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await JS(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,JB(jo,this),jo.length===0&&document.body.classList.remove("v-popper--some-open");for(const r of ZB(this.theme)){const n=XB(r);JB(n,this),n.length===0&&document.body.classList.remove(`v-popper--some-open--${r}`)}pd===this&&(pd=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=this.disposeTimeout;t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await JS(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=r=>{this.isShown&&!this.$_hideInProgress||(r.usedByTooltip=!0,!this.$_preventShow&&this.show({event:r}))};this.$_registerTriggerListeners(this.$_targetNodes,WB,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],WB,this.popperTriggers,this.popperShowTriggers,e);const t=r=>{r.usedByTooltip||this.hide({event:r})};this.$_registerTriggerListeners(this.$_targetNodes,KB,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],KB,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,r){this.$_events.push({targetNodes:e,eventType:t,handler:r}),e.forEach(n=>n.addEventListener(t,r,_h?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,r,n,i){let a=r;n!=null&&(a=typeof n=="function"?n(a):n),a.forEach(s=>{const o=t[s];o&&this.$_registerEventListeners(e,o,i)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(r=>{const{targetNodes:n,eventType:i,handler:a}=r;!e||e===i?n.forEach(s=>s.removeEventListener(i,a)):t.push(r)}),this.$_events=t},$_refreshListeners(){this.isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const r of this.$_targetNodes){const n=r.getAttribute(e);n&&(r.removeAttribute(e),r.setAttribute(t,n))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const r in e){const n=e[r];n==null?t.removeAttribute(r):t.setAttribute(r,n)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(ov>=e.left&&ov<=e.right&&uv>=e.top&&uv<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),r=ov-Pc,n=uv-Bc,i=t.left+t.width/2-Pc+(t.top+t.height/2)-Bc+t.width+t.height,a=Pc+r*i,s=Bc+n*i;return tb(Pc,Bc,a,s,t.left,t.top,t.left,t.bottom)||tb(Pc,Bc,a,s,t.left,t.top,t.right,t.top)||tb(Pc,Bc,a,s,t.right,t.top,t.right,t.bottom)||tb(Pc,Bc,a,s,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});if(typeof document<"u"&&typeof window<"u"){if(YY){const e=_h?{passive:!0,capture:!0}:!0;document.addEventListener("touchstart",t=>QB(t,!0),e),document.addEventListener("touchend",t=>eL(t,!0),e)}else window.addEventListener("mousedown",e=>QB(e,!1),!0),window.addEventListener("click",e=>eL(e,!1),!0);window.addEventListener("resize",b1t)}function QB(e,t){if(tu.autoHideOnMousedown)eX(e,t);else for(let r=0;r<jo.length;r++){const n=jo[r];try{n.mouseDownContains=n.popperNode().contains(e.target)}catch{}}}function eL(e,t){tu.autoHideOnMousedown||eX(e,t)}function eX(e,t){const r={};for(let n=jo.length-1;n>=0;n--){const i=jo[n];try{const a=i.containsGlobalTarget=i.mouseDownContains||i.popperNode().contains(e.target);i.pendingHide=!1,requestAnimationFrame(()=>{if(i.pendingHide=!1,!r[i.randomId]&&tL(i,a,e)){if(i.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&a){let o=i.parentPopper;for(;o;)r[o.randomId]=!0,o=o.parentPopper;return}let s=i.parentPopper;for(;s&&tL(s,s.containsGlobalTarget,e);)s.$_handleGlobalClose(e,t),s=s.parentPopper}})}catch{}}}function tL(e,t,r){return r.closeAllPopover||r.closePopover&&t||y1t(e,r)&&!t}function y1t(e,t){if(typeof e.autoHide=="function"){const r=e.autoHide(t);return e.lastAutoHide=r,r}return e.autoHide}function b1t(){for(let e=0;e<jo.length;e++)jo[e].$_computePosition()}let Pc=0,Bc=0,ov=0,uv=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{Pc=ov,Bc=uv,ov=e.clientX,uv=e.clientY},_h?{passive:!0}:void 0);function tb(e,t,r,n,i,a,s,o){const u=((s-i)*(t-a)-(o-a)*(e-i))/((o-a)*(r-e)-(s-i)*(n-t)),l=((r-e)*(t-a)-(n-t)*(e-i))/((o-a)*(r-e)-(s-i)*(n-t));return u>=0&&u<=1&&l>=0&&l<=1}const _1t={extends:QY()},jA=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r};function A1t(e,t,r,n,i,a){return Z(),ee("div",{ref:"reference",class:Sr(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[rf(e.$slots,"default",uL(sC(e.slotData)))],2)}const w1t=jA(_1t,[["render",A1t]]);function x1t(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var r=e.indexOf("Trident/");if(r>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let _b;function T4(){T4.init||(T4.init=!0,_b=x1t()!==-1)}var VA={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){T4(),_f(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",_b&&this.$el.appendChild(e),e.data="about:blank",_b||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!_b&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const S1t=LL();Hi("data-v-b329ee4c");const E1t={class:"resize-observer",tabindex:"-1"};Gi();const C1t=S1t((e,t,r,n,i,a)=>(Z(),Yt("div",E1t)));VA.render=C1t;VA.__scopeId="data-v-b329ee4c";VA.__file="src/components/ResizeObserver.vue";const tX=(e="theme")=>({computed:{themeClass(){return g1t(this[e])}}}),$1t=ft({name:"VPopperContent",components:{ResizeObserver:VA},mixins:[tX()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),N1t=["id","aria-hidden","tabindex","data-popper-placement"],D1t={ref:"inner",class:"v-popper__inner"},T1t=M("div",{class:"v-popper__arrow-outer"},null,-1),k1t=M("div",{class:"v-popper__arrow-inner"},null,-1),I1t=[T1t,k1t];function O1t(e,t,r,n,i,a){const s=Wu("ResizeObserver");return Z(),ee("div",{id:e.popperId,ref:"popover",class:Sr(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:Kc(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=m2(o=>e.autoHide&&e.$emit("hide"),["esc"]))},[M("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=o=>e.autoHide&&e.$emit("hide"))}),M("div",{class:"v-popper__wrapper",style:Kc(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[M("div",D1t,[e.mounted?(Z(),ee(tt,{key:0},[M("div",null,[rf(e.$slots,"default")]),e.handleResize?(Z(),Yt(s,{key:0,onNotify:t[1]||(t[1]=o=>e.$emit("resize",o))})):He("",!0)],64)):He("",!0)],512),M("div",{ref:"arrow",class:"v-popper__arrow-container",style:Kc(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},I1t,4)],4)],46,N1t)}const rX=jA($1t,[["render",O1t]]),nX={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}};let k4=function(){};typeof window<"u"&&(k4=window.Element);const M1t=ft({name:"VPopperWrapper",components:{Popper:w1t,PopperContent:rX},mixins:[nX,tX("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,k4,Boolean],default:void 0},boundary:{type:[String,k4],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function P1t(e,t,r,n,i,a){const s=Wu("PopperContent"),o=Wu("Popper");return Z(),Yt(o,og({ref:"popper"},e.$props,{theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:[e.themeClass],onShow:t[0]||(t[0]=()=>e.$emit("show")),onHide:t[1]||(t[1]=()=>e.$emit("hide")),"onUpdate:shown":t[2]||(t[2]=u=>e.$emit("update:shown",u)),onApplyShow:t[3]||(t[3]=()=>e.$emit("apply-show")),onApplyHide:t[4]||(t[4]=()=>e.$emit("apply-hide")),onCloseGroup:t[5]||(t[5]=()=>e.$emit("close-group")),onCloseDirective:t[6]||(t[6]=()=>e.$emit("close-directive")),onAutoHide:t[7]||(t[7]=()=>e.$emit("auto-hide")),onResize:t[8]||(t[8]=()=>e.$emit("resize"))}),{default:Xr(({popperId:u,isShown:l,shouldMountContent:c,skipTransition:f,autoHide:d,show:p,hide:m,handleResize:h,onResize:v,classes:y,result:w})=>[rf(e.$slots,"default",{shown:l,show:p,hide:m}),Fe(s,{ref:"popperContent","popper-id":u,theme:e.finalTheme,shown:l,mounted:c,"skip-transition":f,"auto-hide":d,"handle-resize":h,classes:y,result:w,onHide:m,onResize:v},{default:Xr(()=>[rf(e.$slots,"popper",{shown:l,hide:m})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const _D=jA(M1t,[["render",P1t]]),B1t={..._D,name:"VDropdown",vPopperTheme:"dropdown"},L1t={..._D,name:"VMenu",vPopperTheme:"menu"},F1t={..._D,name:"VTooltip",vPopperTheme:"tooltip"},R1t=ft({name:"VTooltipDirective",components:{Popper:QY(),PopperContent:rX},mixins:[nX],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>Qv(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>Qv(e.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,r=this.content(this);r.then?r.then(n=>this.onResult(t,n)):this.onResult(t,r)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),U1t=["innerHTML"],z1t=["textContent"];function q1t(e,t,r,n,i,a){const s=Wu("PopperContent"),o=Wu("Popper");return Z(),Yt(o,og({ref:"popper"},e.$attrs,{theme:e.theme,"target-nodes":e.targetNodes,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:Xr(({popperId:u,isShown:l,shouldMountContent:c,skipTransition:f,autoHide:d,hide:p,handleResize:m,onResize:h,classes:v,result:y})=>[Fe(s,{ref:"popperContent",class:Sr({"v-popper--tooltip-loading":e.loading}),"popper-id":u,theme:e.theme,shown:l,mounted:c,"skip-transition":f,"auto-hide":d,"handle-resize":m,classes:v,result:y,onHide:p,onResize:h},{default:Xr(()=>[e.html?(Z(),ee("div",{key:0,innerHTML:e.finalContent},null,8,U1t)):(Z(),ee("div",{key:1,textContent:ne(e.finalContent)},null,8,z1t))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const j1t=jA(R1t,[["render",q1t]]),iX="v-popper--has-tooltip";function V1t(e,t){let r=e.placement;if(!r&&t)for(const n of XY)t[n]&&(r=n);return r||(r=Qv(e.theme||"tooltip","placement")),r}function aX(e,t,r){let n;const i=typeof t;return i==="string"?n={content:t}:t&&i==="object"?n=t:n={content:!1},n.placement=V1t(n,r),n.targetNodes=()=>[e],n.referenceNode=()=>e,n}let XS,eg,H1t=0;function G1t(){if(XS)return;eg=Pe([]),XS=cC({name:"VTooltipDirectiveApp",setup(){return{directives:eg}},render(){return this.directives.map(t=>np(j1t,{...t.options,shown:t.shown||t.options.shown,key:t.id}))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),XS.mount(e)}function Z1t(e,t,r){G1t();const n=Pe(aX(e,t,r)),i=Pe(!1),a={id:H1t++,options:n,shown:i};return eg.value.push(a),e.classList&&e.classList.add(iX),e.$_popper={options:n,item:a,show(){i.value=!0},hide(){i.value=!1}}}function sX(e){if(e.$_popper){const t=eg.value.indexOf(e.$_popper.item);t!==-1&&eg.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(iX)}function rL(e,{value:t,modifiers:r}){const n=aX(e,t,r);if(!n.content||Qv(n.theme||"tooltip","disabled"))sX(e);else{let i;e.$_popper?(i=e.$_popper,i.options.value=n):i=Z1t(e,t,r),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?i.show():i.hide())}}const W1t={beforeMount:rL,updated:rL,beforeUnmount(e){sX(e)}};function nL(e){e.addEventListener("mousedown",Y_),e.addEventListener("click",Y_),e.addEventListener("touchstart",oX,_h?{passive:!0}:!1)}function iL(e){e.removeEventListener("mousedown",Y_),e.removeEventListener("click",Y_),e.removeEventListener("touchstart",oX),e.removeEventListener("touchend",uX),e.removeEventListener("touchcancel",lX)}function Y_(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function oX(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const r=e.changedTouches[0];t.$_vclosepopover_touchPoint=r,t.addEventListener("touchend",uX),t.addEventListener("touchcancel",lX)}}function uX(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const r=e.changedTouches[0],n=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(r.screenY-n.screenY)<20&&Math.abs(r.screenX-n.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function lX(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}const K1t={beforeMount(e,{value:t,modifiers:r}){e.$_closePopoverModifiers=r,(typeof t>"u"||t)&&nL(e)},updated(e,{value:t,oldValue:r,modifiers:n}){e.$_closePopoverModifiers=n,t!==r&&(typeof t>"u"||t?nL(e):iL(e))},beforeUnmount(e){iL(e)}};function J1t(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,JY(tu,t),e.directive("tooltip",W1t),e.directive("close-popper",K1t),e.component("VTooltip",F1t),e.component("VDropdown",B1t),e.component("VMenu",L1t))}const Y1t={version:"5.2.2",install:J1t,options:tu};var cX={exports:{}};const X1t=OR(Moe);(function(e,t){(function(r,n){e.exports=n(X1t)})(window,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:u})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,o){if(1&o&&(s=a(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)a.d(u,l,function(c){return s[c]}.bind(null,l));return u},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="/dist/",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var s=a(9);s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals),(0,a(5).default)("2847aebd",s,!1,{})},function(n,i,a){n.exports=function(s){var o=[];return o.toString=function(){return this.map(function(u){var l=function(c,f){var d=c[1]||"",p=c[3];if(!p)return d;if(f&&typeof btoa=="function"){var m=(v=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),h=p.sources.map(function(y){return"/*# sourceURL="+p.sourceRoot+y+" */"});return[d].concat(h).concat([m]).join(`
`)}var v;return[d].join(`
`)}(u,s);return u[2]?"@media "+u[2]+"{"+l+"}":l}).join("")},o.i=function(u,l){typeof u=="string"&&(u=[[null,u,""]]);for(var c={},f=0;f<this.length;f++){var d=this[f][0];d!=null&&(c[d]=!0)}for(f=0;f<u.length;f++){var p=u[f];p[0]!=null&&c[p[0]]||(l&&!p[2]?p[2]=l:l&&(p[2]="("+p[2]+") and ("+l+")"),o.push(p))}},o}},function(n,i,a){var s=a(11);s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals),(0,a(5).default)("150d3839",s,!1,{})},function(n,i){n.exports="data:application/vnd.ms-fontobject;base64,aAUAAMQEAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAUdPJHwAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIFrAAAALwAAABgY21hcBdW0okAAAEcAAAAVGdhc3AAAAAQAAABcAAAAAhnbHlmpZ+jMAAAAXgAAAD8aGVhZA/FmAgAAAJ0AAAANmhoZWEHgAPIAAACrAAAACRobXR4EgABvgAAAtAAAAAcbG9jYQCSAOIAAALsAAAAEG1heHAACQAfAAAC/AAAACBuYW1lmUoJ+wAAAxwAAAGGcG9zdAADAAAAAASkAAAAIAADA4ABkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOkCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAA4AAAACgAIAAIAAgABACDpAv/9//8AAAAAACDpAP/9//8AAf/jFwQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAVgEBA74CgQAcAAABMhceARcWFwcmJy4BJyYjIgYHFyERFzY3PgE3NgIWSkNDbykpF2QQIB9VMzQ5P3AtnP6AmB0iIkspKAJVFxhSODlCIDMrKz4REislmgGAmhkVFBwICAABANYAgQMqAtUACwAAAQcXBycHJzcnNxc3Ayru7jzu7jzu7jzu7gKZ7u487u487u487u4AAQCSAIEDgAK9AAUAACUBFwEnNwGAAcQ8/gDuPPkBxDz+AO48AAAAAAEAAAAAAAAfydNRXw889QALBAAAAAAA1nUqGwAAAADWdSobAAAAAAO+AtUAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA74AAQAAAAAAAAAAAAAAAAAAAAcEAAAAAAAAAAAAAAACAAAABAAAVgQAANYEAACSAAAAAAAKABQAHgBQAGoAfgABAAAABwAdAAEAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},function(n,i,a){function s(C,$){for(var D=[],N={},k=0;k<$.length;k++){var P=$[k],U=P[0],L={id:C+":"+k,css:P[1],media:P[2],sourceMap:P[3]};N[U]?N[U].parts.push(L):D.push(N[U]={id:U,parts:[L]})}return D}a.r(i),a.d(i,"default",function(){return v});var o=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u={},l=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,f=0,d=!1,p=function(){},m=null,h=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(C,$,D,N){d=D,m=N||{};var k=s(C,$);return y(k),function(P){for(var U=[],L=0;L<k.length;L++){var B=k[L];(O=u[B.id]).refs--,U.push(O)}for(P?y(k=s(C,P)):k=[],L=0;L<U.length;L++){var O;if((O=U[L]).refs===0){for(var T=0;T<O.parts.length;T++)O.parts[T]();delete u[O.id]}}}}function y(C){for(var $=0;$<C.length;$++){var D=C[$],N=u[D.id];if(N){N.refs++;for(var k=0;k<N.parts.length;k++)N.parts[k](D.parts[k]);for(;k<D.parts.length;k++)N.parts.push(g(D.parts[k]));N.parts.length>D.parts.length&&(N.parts.length=D.parts.length)}else{var P=[];for(k=0;k<D.parts.length;k++)P.push(g(D.parts[k]));u[D.id]={id:D.id,refs:1,parts:P}}}}function w(){var C=document.createElement("style");return C.type="text/css",l.appendChild(C),C}function g(C){var $,D,N=document.querySelector('style[data-vue-ssr-id~="'+C.id+'"]');if(N){if(d)return p;N.parentNode.removeChild(N)}if(h){var k=f++;N=c||(c=w()),$=x.bind(null,N,k,!1),D=x.bind(null,N,k,!0)}else N=w(),$=E.bind(null,N),D=function(){N.parentNode.removeChild(N)};return $(C),function(P){if(P){if(P.css===C.css&&P.media===C.media&&P.sourceMap===C.sourceMap)return;$(C=P)}else D()}}var b,_=(b=[],function(C,$){return b[C]=$,b.filter(Boolean).join(`
`)});function x(C,$,D,N){var k=D?"":N.css;if(C.styleSheet)C.styleSheet.cssText=_($,k);else{var P=document.createTextNode(k),U=C.childNodes;U[$]&&C.removeChild(U[$]),U.length?C.insertBefore(P,U[$]):C.appendChild(P)}}function E(C,$){var D=$.css,N=$.media,k=$.sourceMap;if(N&&C.setAttribute("media",N),m.ssrId&&C.setAttribute("data-vue-ssr-id",$.id),k&&(D+=`
/*# sourceURL=`+k.sources[0]+" */",D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(k))))+" */"),C.styleSheet)C.styleSheet.cssText=D;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(D))}}},function(n,i,a){var s=Array.isArray,o=Object.keys,u=Object.prototype.hasOwnProperty;n.exports=function l(c,f){if(c===f)return!0;if(c&&f&&typeof c=="object"&&typeof f=="object"){var d,p,m,h=s(c),v=s(f);if(h&&v){if((p=c.length)!=f.length)return!1;for(d=p;d--!=0;)if(!l(c[d],f[d]))return!1;return!0}if(h!=v)return!1;var y=c instanceof Date,w=f instanceof Date;if(y!=w)return!1;if(y&&w)return c.getTime()==f.getTime();var g=c instanceof RegExp,b=f instanceof RegExp;if(g!=b)return!1;if(g&&b)return c.toString()==f.toString();var _=o(c);if((p=_.length)!==o(f).length)return!1;for(d=p;d--!=0;)if(!u.call(f,_[d]))return!1;for(d=p;d--!=0;)if(!l(c[m=_[d]],f[m]))return!1;return!0}return c!=c&&f!=f}},function(n,i,a){n.exports=a(15)},function(n,i,a){a(1)},function(n,i,a){(n.exports=a(2)(!0)).push([n.i,`.ti-tag-input[data-v-69648ea0]{background-color:transparent;color:inherit;border:none;padding:0px;margin:0px;display:flex;top:0px;position:absolute;width:100%;line-height:inherit}.ti-tag-input[data-v-69648ea0]::-ms-clear{display:none}input[data-v-69648ea0]:focus{outline:none}input[disabled][data-v-69648ea0]{background-color:transparent}
`,"",{version:3,sources:["C:/Users/abcsi/Documents/repos/vue-tags-input/vue-tags-input/tag-input.vue"],names:[],mappings:"AAAA,+BAAc,4BAA4B,CAAC,aAAa,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,mBAAmB,CAAC,0CAAyB,YAAY,CAAC,6BAAY,YAAY,CAAC,iCAAgB,4BAA4B",file:"tag-input.vue?vue&type=style&index=0&id=69648ea0&lang=css&scoped=true",sourcesContent:[`.ti-tag-input{background-color:transparent;color:inherit;border:none;padding:0px;margin:0px;display:flex;top:0px;position:absolute;width:100%;line-height:inherit}.ti-tag-input::-ms-clear{display:none}input:focus{outline:none}input[disabled]{background-color:transparent}
`]}])},function(n,i,a){a(3)},function(n,i,a){i=n.exports=a(2)(!0);var s=a(12),o=s(a(4)),u=s(a(4)+"#iefix"),l=s(a(13)),c=s(a(14));i.push([n.i,"@font-face{font-family:'icomoon';src:url("+o+");src:url("+u+') format("embedded-opentype"),url('+l+') format("truetype"),url('+c+`) format("woff");font-weight:normal;font-style:normal}[class^="ti-icon-"][data-v-2fbda277],[class*=" ti-icon-"][data-v-2fbda277]{font-family:'icomoon' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ti-icon-check[data-v-2fbda277]:before{content:"\\e902"}.ti-icon-close[data-v-2fbda277]:before{content:"\\e901"}.ti-icon-undo[data-v-2fbda277]:before{content:"\\e900"}ul[data-v-2fbda277]{margin:0px;padding:0px;list-style-type:none}*[data-v-2fbda277],*[data-v-2fbda277]:before,*[data-v-2fbda277]:after{box-sizing:border-box}input[data-v-2fbda277]:focus{outline:none}input[disabled][data-v-2fbda277]{background-color:transparent}.vue-tags-input[data-v-2fbda277]{max-width:450px;position:relative;background-color:#fff}div.vue-tags-input.disabled[data-v-2fbda277]{opacity:0.5}div.vue-tags-input.disabled *[data-v-2fbda277]{cursor:default}.ti-input[data-v-2fbda277]{border:1px solid #ccc;display:flex;padding:4px;flex-wrap:wrap}.ti-tags[data-v-2fbda277]{display:flex;flex-wrap:wrap;width:100%;line-height:1em}.ti-tag[data-v-2fbda277]{background-color:#5C6BC0;color:#fff;border-radius:2px;display:flex;padding:3px 5px;margin:2px;font-size:.85em}.ti-tag[data-v-2fbda277]:focus{outline:none}.ti-tag .ti-content[data-v-2fbda277]{display:flex;align-items:center}.ti-tag .ti-tag-center[data-v-2fbda277]{position:relative}.ti-tag span[data-v-2fbda277]{line-height:.85em}.ti-tag span.ti-hidden[data-v-2fbda277]{padding-left:14px;visibility:hidden;height:0px;white-space:pre}.ti-tag .ti-actions[data-v-2fbda277]{margin-left:2px;display:flex;align-items:center;font-size:1.15em}.ti-tag .ti-actions i[data-v-2fbda277]{cursor:pointer}.ti-tag[data-v-2fbda277]:last-child{margin-right:4px}.ti-tag.ti-invalid[data-v-2fbda277],.ti-tag.ti-tag.ti-deletion-mark[data-v-2fbda277]{background-color:#e54d42}.ti-new-tag-input-wrapper[data-v-2fbda277]{display:flex;flex:1 0 auto;padding:3px 5px;margin:2px;font-size:.85em}.ti-new-tag-input-wrapper input[data-v-2fbda277]{flex:1 0 auto;min-width:100px;border:none;padding:0px;margin:0px}.ti-new-tag-input[data-v-2fbda277]{line-height:initial}.ti-autocomplete[data-v-2fbda277]{border:1px solid #ccc;border-top:none;position:absolute;width:100%;background-color:#fff;z-index:20}.ti-item>div[data-v-2fbda277]{cursor:pointer;padding:3px 6px;width:100%}.ti-selected-item[data-v-2fbda277]{background-color:#5C6BC0;color:#fff}
`,"",{version:3,sources:["C:/Users/abcsi/Documents/repos/vue-tags-input/vue-tags-input/vue-tags-input.scss"],names:[],mappings:"AAAA,WAAW,qBAAqB,CAAC,iCAA4C,CAAC,2JAAmM,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,2EAAyC,gCAAgC,CAAC,UAAU,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,aAAa,CAAC,kCAAkC,CAAC,iCAAiC,CAAC,uCAAsB,eAAe,CAAC,uCAAsB,eAAe,CAAC,sCAAqB,eAAe,CAAC,oBAAG,UAAU,CAAC,WAAW,CAAC,oBAAoB,CAAC,sEAAmB,qBAAqB,CAAC,6BAAY,YAAY,CAAC,iCAAgB,4BAA4B,CAAC,iCAAgB,eAAe,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,6CAA4B,WAAW,CAAC,+CAA8B,cAAc,CAAC,2BAAU,qBAAqB,CAAC,YAAY,CAAC,WAAW,CAAC,cAAc,CAAC,0BAAS,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC,eAAe,CAAC,yBAAQ,wBAAwB,CAAC,UAAU,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,eAAe,CAAC,+BAAc,YAAY,CAAC,qCAAoB,YAAY,CAAC,kBAAkB,CAAC,wCAAuB,iBAAiB,CAAC,8BAAa,iBAAiB,CAAC,wCAAuB,iBAAiB,CAAC,iBAAiB,CAAC,UAAU,CAAC,eAAe,CAAC,qCAAoB,eAAe,CAAC,YAAY,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,uCAAsB,cAAc,CAAC,oCAAmB,gBAAgB,CAAC,qFAAmD,wBAAwB,CAAC,2CAA0B,YAAY,CAAC,aAAa,CAAC,eAAe,CAAC,UAAU,CAAC,eAAe,CAAC,iDAAgC,aAAa,CAAC,eAAe,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC,mCAAkB,mBAAmB,CAAC,kCAAiB,qBAAqB,CAAC,eAAe,CAAC,iBAAiB,CAAC,UAAU,CAAC,qBAAqB,CAAC,UAAU,CAAC,8BAAa,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,mCAAkB,wBAAwB,CAAC,UAAU",file:"vue-tags-input.scss?vue&type=style&index=0&id=2fbda277&lang=scss&scoped=true",sourcesContent:[`@font-face{font-family:'icomoon';src:url("./assets/fonts/icomoon.eot?7grlse");src:url("./assets/fonts/icomoon.eot?7grlse#iefix") format("embedded-opentype"),url("./assets/fonts/icomoon.ttf?7grlse") format("truetype"),url("./assets/fonts/icomoon.woff?7grlse") format("woff");font-weight:normal;font-style:normal}[class^="ti-icon-"],[class*=" ti-icon-"]{font-family:'icomoon' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ti-icon-check:before{content:"\\e902"}.ti-icon-close:before{content:"\\e901"}.ti-icon-undo:before{content:"\\e900"}ul{margin:0px;padding:0px;list-style-type:none}*,*:before,*:after{box-sizing:border-box}input:focus{outline:none}input[disabled]{background-color:transparent}.vue-tags-input{max-width:450px;position:relative;background-color:#fff}div.vue-tags-input.disabled{opacity:0.5}div.vue-tags-input.disabled *{cursor:default}.ti-input{border:1px solid #ccc;display:flex;padding:4px;flex-wrap:wrap}.ti-tags{display:flex;flex-wrap:wrap;width:100%;line-height:1em}.ti-tag{background-color:#5C6BC0;color:#fff;border-radius:2px;display:flex;padding:3px 5px;margin:2px;font-size:.85em}.ti-tag:focus{outline:none}.ti-tag .ti-content{display:flex;align-items:center}.ti-tag .ti-tag-center{position:relative}.ti-tag span{line-height:.85em}.ti-tag span.ti-hidden{padding-left:14px;visibility:hidden;height:0px;white-space:pre}.ti-tag .ti-actions{margin-left:2px;display:flex;align-items:center;font-size:1.15em}.ti-tag .ti-actions i{cursor:pointer}.ti-tag:last-child{margin-right:4px}.ti-tag.ti-invalid,.ti-tag.ti-tag.ti-deletion-mark{background-color:#e54d42}.ti-new-tag-input-wrapper{display:flex;flex:1 0 auto;padding:3px 5px;margin:2px;font-size:.85em}.ti-new-tag-input-wrapper input{flex:1 0 auto;min-width:100px;border:none;padding:0px;margin:0px}.ti-new-tag-input{line-height:initial}.ti-autocomplete{border:1px solid #ccc;border-top:none;position:absolute;width:100%;background-color:#fff;z-index:20}.ti-item>div{cursor:pointer;padding:3px 6px;width:100%}.ti-selected-item{background-color:#5C6BC0;color:#fff}
`]}])},function(n,i,a){n.exports=function(s,o){return typeof s!="string"?s:(/^['"].*['"]$/.test(s)&&(s=s.slice(1,-1)),/["'() \t\n]/.test(s)||o?'"'+s.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':s)}},function(n,i){n.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBawAAAC8AAAAYGNtYXAXVtKJAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZqWfozAAAAF4AAAA/GhlYWQPxZgIAAACdAAAADZoaGVhB4ADyAAAAqwAAAAkaG10eBIAAb4AAALQAAAAHGxvY2EAkgDiAAAC7AAAABBtYXhwAAkAHwAAAvwAAAAgbmFtZZlKCfsAAAMcAAABhnBvc3QAAwAAAAAEpAAAACAAAwOAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpAgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6QL//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAFYBAQO+AoEAHAAAATIXHgEXFhcHJicuAScmIyIGBxchERc2Nz4BNzYCFkpDQ28pKRdkECAfVTM0OT9wLZz+gJgdIiJLKSgCVRcYUjg5QiAzKys+ERIrJZoBgJoZFRQcCAgAAQDWAIEDKgLVAAsAAAEHFwcnByc3JzcXNwMq7u487u487u487u4Cme7uPO7uPO7uPO7uAAEAkgCBA4ACvQAFAAAlARcBJzcBgAHEPP4A7jz5AcQ8/gDuPAAAAAABAAAAAAAAH8nTUV8PPPUACwQAAAAAANZ1KhsAAAAA1nUqGwAAAAADvgLVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAO+AAEAAAAAAAAAAAAAAAAAAAAHBAAAAAAAAAAAAAAAAgAAAAQAAFYEAADWBAAAkgAAAAAACgAUAB4AUABqAH4AAQAAAAcAHQABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},function(n,i){n.exports="data:font/woff;base64,d09GRgABAAAAAAUQAAsAAAAABMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFrGNtYXAAAAFoAAAAVAAAAFQXVtKJZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAPwAAAD8pZ+jMGhlYWQAAALAAAAANgAAADYPxZgIaGhlYQAAAvgAAAAkAAAAJAeAA8hobXR4AAADHAAAABwAAAAcEgABvmxvY2EAAAM4AAAAEAAAABAAkgDibWF4cAAAA0gAAAAgAAAAIAAJAB9uYW1lAAADaAAAAYYAAAGGmUoJ+3Bvc3QAAATwAAAAIAAAACAAAwAAAAMDgAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkC//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQBWAQEDvgKBABwAAAEyFx4BFxYXByYnLgEnJiMiBgcXIREXNjc+ATc2AhZKQ0NvKSkXZBAgH1UzNDk/cC2c/oCYHSIiSykoAlUXGFI4OUIgMysrPhESKyWaAYCaGRUUHAgIAAEA1gCBAyoC1QALAAABBxcHJwcnNyc3FzcDKu7uPO7uPO7uPO7uApnu7jzu7jzu7jzu7gABAJIAgQOAAr0ABQAAJQEXASc3AYABxDz+AO48+QHEPP4A7jwAAAAAAQAAAAAAAB/J01FfDzz1AAsEAAAAAADWdSobAAAAANZ1KhsAAAAAA74C1QAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAADvgABAAAAAAAAAAAAAAAAAAAABwQAAAAAAAAAAAAAAAIAAAAEAABWBAAA1gQAAJIAAAAAAAoAFAAeAFAAagB+AAEAAAAHAB0AAQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(n,i,a){a.r(i),a.d(i,"VueTagsInput",function(){return B}),a.d(i,"createClasses",function(){return _}),a.d(i,"createTag",function(){return x}),a.d(i,"createTags",function(){return E}),a.d(i,"TagInput",function(){return D});var s=a(0),o=Object(s.withScopeId)("data-v-2fbda277");Object(s.pushScopeId)("data-v-2fbda277");var u={class:"ti-input"},l={key:0,class:"ti-tags"},c={class:"ti-content"},f={key:0,class:"ti-tag-left"},d={key:1,class:"ti-tag-right"},p={class:"ti-actions"},m={class:"ti-new-tag-input-wrapper"};Object(s.popScopeId)();var h=o(function(O,T,j,R,le,re){var F=Object(s.resolveComponent)("tag-input");return Object(s.openBlock)(),Object(s.createBlock)("div",{class:["vue-tags-input",[{"ti-disabled":O.disabled},{"ti-focus":O.focused},O.$attrs.class]],style:O.$attrs.style},[Object(s.createVNode)("div",u,[O.tagsCopy?(Object(s.openBlock)(),Object(s.createBlock)("ul",l,[(Object(s.openBlock)(!0),Object(s.createBlock)(s.Fragment,null,Object(s.renderList)(O.tagsCopy,function(H,ve){return Object(s.openBlock)(),Object(s.createBlock)("li",{key:ve,style:H.style,class:[[{"ti-editing":O.tagsEditStatus[ve]},H.tiClasses,H.classes,{"ti-deletion-mark":O.isMarked(ve)}],"ti-tag"],tabindex:"0",onClick:function(ae){return O.$emit("tag-clicked",{tag:H,index:ve})}},[Object(s.createVNode)("div",c,[O.$slots["tag-left"]?(Object(s.openBlock)(),Object(s.createBlock)("div",f,[Object(s.renderSlot)(O.$slots,"tag-left",{tag:H,index:ve,edit:O.tagsEditStatus[ve],performSaveEdit:O.performSaveTag,performDelete:O.performDeleteTag,performCancelEdit:O.cancelEdit,performOpenEdit:O.performEditTag,deletionMark:O.isMarked(ve)},void 0,!0)])):Object(s.createCommentVNode)("v-if",!0),Object(s.createVNode)("div",{ref:O.setTagCenter,class:"ti-tag-center"},[O.$slots["tag-center"]?Object(s.createCommentVNode)("v-if",!0):(Object(s.openBlock)(),Object(s.createBlock)("span",{key:0,class:{"ti-hidden":O.tagsEditStatus[ve]},onClick:function(ae){return O.performEditTag(ve)}},Object(s.toDisplayString)(H.text),11,["onClick"])),O.$slots["tag-center"]?Object(s.createCommentVNode)("v-if",!0):(Object(s.openBlock)(),Object(s.createBlock)(F,{key:1,scope:{edit:O.tagsEditStatus[ve],maxlength:O.maxlength,tag:H,index:ve,validateTag:O.createChangedTag,performCancelEdit:O.cancelEdit,performSaveEdit:O.performSaveTag}},null,8,["scope"])),Object(s.renderSlot)(O.$slots,"tag-center",{tag:H,index:ve,maxlength:O.maxlength,edit:O.tagsEditStatus[ve],performSaveEdit:O.performSaveTag,performDelete:O.performDeleteTag,performCancelEdit:O.cancelEdit,validateTag:O.createChangedTag,performOpenEdit:O.performEditTag,deletionMark:O.isMarked(ve)},void 0,!0)],512),O.$slots["tag-right"]?(Object(s.openBlock)(),Object(s.createBlock)("div",d,[Object(s.renderSlot)(O.$slots,"tag-right",{tag:H,index:ve,edit:O.tagsEditStatus[ve],performSaveEdit:O.performSaveTag,performDelete:O.performDeleteTag,performCancelEdit:O.cancelEdit,performOpenEdit:O.performEditTag,deletionMark:O.isMarked(ve)},void 0,!0)])):Object(s.createCommentVNode)("v-if",!0)]),Object(s.createVNode)("div",p,[Object(s.createCommentVNode)(" dont use v-if and v-else here -> different event calling on click?! "),O.$slots["tag-actions"]?Object(s.createCommentVNode)("v-if",!0):Object(s.withDirectives)((Object(s.openBlock)(),Object(s.createBlock)("i",{key:0,class:"ti-icon-undo",onClick:function(ae){return O.cancelEdit(ve)}},null,8,["onClick"])),[[s.vShow,O.tagsEditStatus[ve]]]),O.$slots["tag-actions"]?Object(s.createCommentVNode)("v-if",!0):Object(s.withDirectives)((Object(s.openBlock)(),Object(s.createBlock)("i",{key:1,class:"ti-icon-close",onClick:function(ae){return O.performDeleteTag(ve)}},null,8,["onClick"])),[[s.vShow,!O.tagsEditStatus[ve]]]),O.$slots["tag-actions"]?Object(s.renderSlot)(O.$slots,"tag-actions",{key:2,tag:H,index:ve,edit:O.tagsEditStatus[ve],performSaveEdit:O.performSaveTag,performDelete:O.performDeleteTag,performCancelEdit:O.cancelEdit,performOpenEdit:O.performEditTag,deletionMark:O.isMarked(ve)},void 0,!0):Object(s.createCommentVNode)("v-if",!0)])],14,["onClick"])}),128)),Object(s.createVNode)("li",m,[Object(s.createVNode)("input",Object(s.mergeProps)({ref:"newTagInput"},O.$attrs,{class:[[O.createClasses(O.newTag,O.tags,O.validation,O.isDuplicate)],"ti-new-tag-input"],placeholder:O.placeholder,value:O.newTag,maxlength:O.maxlength,disabled:O.disabled,type:"text",size:"1",onKeydown:[T[1]||(T[1]=function(H){return O.performAddTags(O.filteredAutocompleteItems[O.selectedItem]||O.newTag,H)}),T[3]||(T[3]=Object(s.withKeys)(function(){return O.invokeDelete&&O.invokeDelete.apply(O,arguments)},["delete"])),T[4]||(T[4]=Object(s.withKeys)(function(){return O.performBlur&&O.performBlur.apply(O,arguments)},["tab"])),T[5]||(T[5]=Object(s.withKeys)(function(H){return O.selectItem(H,"before")},["up"])),T[6]||(T[6]=Object(s.withKeys)(function(H){return O.selectItem(H,"after")},["down"]))],onPaste:T[2]||(T[2]=function(){return O.addTagsFromPaste&&O.addTagsFromPaste.apply(O,arguments)}),onInput:T[7]||(T[7]=function(){return O.updateNewTag&&O.updateNewTag.apply(O,arguments)}),onFocus:T[8]||(T[8]=function(H){return O.focused=!0}),onClick:T[9]||(T[9]=function(H){return!O.addOnlyFromAutocomplete&&(O.selectedItem=null)})}),null,16,["placeholder","value","maxlength","disabled"])])])):Object(s.createCommentVNode)("v-if",!0)]),Object(s.renderSlot)(O.$slots,"between-elements",{},void 0,!0),O.autocompleteOpen?(Object(s.openBlock)(),Object(s.createBlock)("div",{key:0,class:"ti-autocomplete",onMouseout:T[10]||(T[10]=function(H){return O.selectedItem=null})},[Object(s.renderSlot)(O.$slots,"autocomplete-header",{},void 0,!0),Object(s.createVNode)("ul",null,[(Object(s.openBlock)(!0),Object(s.createBlock)(s.Fragment,null,Object(s.renderList)(O.filteredAutocompleteItems,function(H,ve){return Object(s.openBlock)(),Object(s.createBlock)("li",{key:ve,style:H.style,class:[[H.tiClasses,H.classes,{"ti-selected-item":O.isSelected(ve)}],"ti-item"],onMouseover:function(ae){return!O.disabled&&(O.selectedItem=ve)}},[O.$slots["autocomplete-item"]?Object(s.renderSlot)(O.$slots,"autocomplete-item",{key:1,item:H,index:ve,performAdd:function(ae){return O.performAddTags(ae,void 0,"autocomplete")},selected:O.isSelected(ve)},void 0,!0):(Object(s.openBlock)(),Object(s.createBlock)("div",{key:0,onClick:function(ae){return O.performAddTags(H,void 0,"autocomplete")}},Object(s.toDisplayString)(H.text),9,["onClick"]))],46,["onMouseover"])}),128))]),Object(s.renderSlot)(O.$slots,"autocomplete-footer",{},void 0,!0)],32)):Object(s.createCommentVNode)("v-if",!0)],6)}),v=a(6),y=a.n(v),w=function(O,T){return T.filter(function(j){var R=O.text;return typeof j.rule=="string"?!new RegExp(j.rule).test(R):j.rule instanceof RegExp?!j.rule.test(R):{}.toString.call(j.rule)==="[object Function]"?j.rule(O):void 0}).map(function(j){return j.classes})},g=function(O){return JSON.parse(JSON.stringify(O))},b=function(O,T){for(var j=0;j<O.length;){if(T(O[j],j,O))return j;j++}return-1},_=function(O,T){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],R=arguments.length>3?arguments[3]:void 0;O.text===void 0&&(O={text:O});var le=w(O,j),re=b(T,function(ae){return ae===O}),F=g(T),H=re!==-1?F.splice(re,1)[0]:g(O),ve=R?R(F,H):F.map(function(ae){return ae.text}).indexOf(H.text)!==-1;return ve&&le.push("ti-duplicate"),le.length===0?le.push("ti-valid"):le.push("ti-invalid"),le},x=function(O){O.text===void 0&&(O={text:O});for(var T=g(O),j=arguments.length,R=new Array(j>1?j-1:0),le=1;le<j;le++)R[le-1]=arguments[le];return T.tiClasses=_.apply(void 0,[O].concat(R)),T},E=function(O){for(var T=arguments.length,j=new Array(T>1?T-1:0),R=1;R<T;R++)j[R-1]=arguments[R];return O.map(function(le){return x.apply(void 0,[le,O].concat(j))})},C=Object(s.withScopeId)("data-v-69648ea0")(function(O,T,j,R,le,re){return j.scope.edit?Object(s.withDirectives)((Object(s.openBlock)(),Object(s.createBlock)("input",{key:0,"onUpdate:modelValue":T[1]||(T[1]=function(F){return j.scope.tag.text=F}),maxlength:j.scope.maxlength,type:"text",class:"ti-tag-input",size:"1",onInput:T[2]||(T[2]=function(F){return j.scope.validateTag(j.scope.index,F)}),onBlur:T[3]||(T[3]=function(F){return j.scope.performCancelEdit(j.scope.index)}),onKeydown:T[4]||(T[4]=function(F){return j.scope.performSaveEdit(j.scope.index,F)})},null,40,["maxlength"])),[[s.vModelText,j.scope.tag.text]]):Object(s.createCommentVNode)("v-if",!0)}),$={name:"TagInput",props:{scope:{type:Object}}};a(8),$.render=C,$.__scopeId="data-v-69648ea0";var D=$,N=function(O){return!O.some(function(T){var j=!T.text;j&&console.warn('Missing property "text"',T);var R=!1;return T.classes&&(R=typeof T.classes!="string"),R&&console.warn('Property "classes" must be type of string',T),j||R})},k=function(O){return!O.some(function(T){if(typeof T=="number"){var j=isFinite(T)&&Math.floor(T)===T;return j||console.warn("Only numerics are allowed for this prop. Found:",T),!j}if(typeof T=="string"){var R=/\W|[a-z]|!\d/i.test(T);return R||console.warn("Only alpha strings are allowed for this prop. Found:",T),!R}return console.warn("Only numeric and string values are allowed. Found:",T),!1})},P={modelValue:{type:String,default:"",required:!0},tags:{type:Array,default:function(){return[]},validator:N},autocompleteItems:{type:Array,default:function(){return[]},validator:N},allowEditTags:{type:Boolean,default:!1},autocompleteFilterDuplicates:{default:!0,type:Boolean},addOnlyFromAutocomplete:{type:Boolean,default:!1},autocompleteMinLength:{type:Number,default:1},autocompleteAlwaysOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Add Tag"},addOnKey:{type:Array,default:function(){return[13]},validator:k},saveOnKey:{type:Array,default:function(){return[13]},validator:k},maxTags:{type:Number},maxlength:{type:Number},validation:{type:Array,default:function(){return[]},validator:function(O){return!O.some(function(T){var j=!T.rule;j&&console.warn('Property "rule" is missing',T);var R=T.rule&&(typeof T.rule=="string"||T.rule instanceof RegExp||{}.toString.call(T.rule)==="[object Function]");R||console.warn("A rule must be type of string, RegExp or function. Found:",JSON.stringify(T.rule));var le=!T.classes;le&&console.warn('Property "classes" is missing',T);var re=T.type&&typeof T.type!="string";return re&&console.warn('Property "type" must be type of string. Found:',T),!R||j||le||re})}},separators:{type:Array,default:function(){return[";"]},validator:function(O){return!O.some(function(T){var j=typeof T!="string";return j&&console.warn("Separators must be type of string. Found:",T),j})}},avoidAddingDuplicates:{type:Boolean,default:!0},addOnBlur:{type:Boolean,default:!0},isDuplicate:{type:Function,default:null},addFromPaste:{type:Boolean,default:!0},deleteOnBackspace:{default:!0,type:Boolean},onBeforeAddingTag:Function,onBeforeDeletingTag:Function,onBeforeEditingTag:Function,onBeforeSavingTag:Function};function U(O){return(U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(O)}var L={name:"VueTagsInput",components:{TagInput:D},props:P,emits:["adding-duplicate","before-adding-tag","before-deleting-tag","before-editing-tag","before-saving-tag","max-tags-reached","saving-duplicate","tags-changed","tag-clicked","update:modelValue","update:tags"],inheritAttrs:!1,data:function(){return{tagCenter:[],newTag:null,tagsCopy:null,tagsEditStatus:null,deletionMark:null,deletionMarkTime:null,selectedItem:null,focused:null}},computed:{autocompleteOpen:function(){return!!this.autocompleteAlwaysOpen||this.newTag!==null&&this.newTag.length>=this.autocompleteMinLength&&this.filteredAutocompleteItems.length>0&&this.focused},filteredAutocompleteItems:function(){var O=this,T=this.autocompleteItems.map(function(j){return x(j,O.tags,O.validation,O.isDuplicate)});return this.autocompleteFilterDuplicates?T.filter(this.duplicateFilter):T}},methods:{createClasses:_,getSelectedIndex:function(O){var T=this.filteredAutocompleteItems,j=this.selectedItem,R=T.length-1;if(T.length!==0)return j===null?0:O==="before"&&j===0?R:O==="after"&&j===R?0:O==="after"?j+1:j-1},selectDefaultItem:function(){this.addOnlyFromAutocomplete&&this.filteredAutocompleteItems.length>0?this.selectedItem=0:this.selectedItem=null},selectItem:function(O,T){O.preventDefault(),this.selectedItem=this.getSelectedIndex(T)},isSelected:function(O){return this.selectedItem===O},isMarked:function(O){return this.deletionMark===O},setTagCenter:function(O){O&&this.tagCenter.push(O)},invokeDelete:function(){var O=this;if(this.deleteOnBackspace&&!(this.newTag.length>0)){var T=this.tagsCopy.length-1;this.deletionMark===null?(this.deletionMarkTime=setTimeout(function(){return O.deletionMark=null},1e3),this.deletionMark=T):this.performDeleteTag(T)}},addTagsFromPaste:function(){var O=this;this.addFromPaste&&setTimeout(function(){return O.performAddTags(O.newTag)},10)},performEditTag:function(O){var T=this;this.allowEditTags&&(this.onBeforeAddingTag||this.editTag(O),this.$emit("before-editing-tag",{index:O,tag:this.tagsCopy[O],editTag:function(){return T.editTag(O)}}))},editTag:function(O){this.allowEditTags&&(this.toggleEditMode(O),this.focus(O))},toggleEditMode:function(O){this.allowEditTags&&!this.disabled&&(this.tagsEditStatus[O]=!this.tagsEditStatus[O])},createChangedTag:function(O,T){var j=this.tagsCopy[O];j.text=T?T.target.value:this.tagsCopy[O].text,this.tagsCopy[O]=x(j,this.tagsCopy,this.validation,this.isDuplicate)},focus:function(O){var T=this;this.$nextTick(function(){var j=T.tagCenter[O].querySelector("input.ti-tag-input");j&&j.focus()})},quote:function(O){return O.replace(/([()[{*+.$^\\|?])/g,"\\$1")},cancelEdit:function(O){this.tags[O]&&(this.tagsCopy[O]=g(x(this.tags[O],this.tags,this.validation,this.isDuplicate)),this.tagsEditStatus[O]=!1)},hasForbiddingAddRule:function(O){var T=this;return O.some(function(j){var R=T.validation.find(function(le){return j===le.classes});return!!R&&R.disableAdd})},createTagTexts:function(O){var T=this,j=new RegExp(this.separators.map(function(R){return T.quote(R)}).join("|"));return O.split(j).map(function(R){return{text:R}})},performDeleteTag:function(O){var T=this;this.onBeforeDeletingTag||this.deleteTag(O),this.$emit("before-deleting-tag",{index:O,tag:this.tagsCopy[O],deleteTag:function(){return T.deleteTag(O)}})},deleteTag:function(O){this.disabled||(this.deletionMark=null,clearTimeout(this.deletionMarkTime),this.tagsCopy.splice(O,1),this.$emit("update:tags",this.tagsCopy),this.$emit("tags-changed",this.tagsCopy))},noTriggerKey:function(O,T){var j=this[T].indexOf(O.keyCode)!==-1||this[T].indexOf(O.key)!==-1;return j&&O.preventDefault(),!j},performAddTags:function(O,T,j){var R=this;if(!(this.disabled||T&&this.noTriggerKey(T,"addOnKey"))){var le=[];U(O)==="object"&&(le=[O]),typeof O=="string"&&(le=this.createTagTexts(O)),(le=le.filter(function(re){return re.text.trim().length>0})).forEach(function(re){re=x(re,R.tags,R.validation,R.isDuplicate),R.onBeforeAddingTag||R.addTag(re,j),R.$emit("before-adding-tag",{tag:re,addTag:function(){return R.addTag(re,j)}})})}},duplicateFilter:function(O){return this.isDuplicate?!this.isDuplicate(this.tagsCopy,O):!this.tagsCopy.find(function(T){return T.text===O.text})},addTag:function(O){var T=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"new-tag-input",R=this.filteredAutocompleteItems.map(function(le){return le.text});this.addOnlyFromAutocomplete&&R.indexOf(O.text)===-1||this.$nextTick(function(){return T.maxTags&&T.maxTags<=T.tagsCopy.length?T.$emit("max-tags-reached",O):T.avoidAddingDuplicates&&!T.duplicateFilter(O)?T.$emit("adding-duplicate",O):void(T.hasForbiddingAddRule(O.tiClasses)||(T.newTag="",T.tagsCopy.push(O),T.$emit("update:tags",T.tagsCopy),j==="autocomplete"&&T.$refs.newTagInput.focus(),T.$emit("tags-changed",T.tagsCopy)))})},performSaveTag:function(O,T){var j=this,R=this.tagsCopy[O];this.disabled||T&&this.noTriggerKey(T,"addOnKey")||R.text.trim().length!==0&&(this["on-before-saving-tag"]||this.saveTag(O,R),this.$emit("before-saving-tag",{index:O,tag:R,saveTag:function(){return j.saveTag(O,R)}}))},saveTag:function(O,T){if(this.avoidAddingDuplicates){var j=g(this.tagsCopy),R=j.splice(O,1)[0];if(this.isDuplicate?this.isDuplicate(j,R):j.map(function(le){return le.text}).indexOf(R.text)!==-1)return this.$emit("saving-duplicate",T)}this.hasForbiddingAddRule(T.tiClasses)||(this.tagsCopy[O]=T,this.toggleEditMode(O),this.$emit("update:tags",this.tagsCopy),this.$emit("tags-changed",this.tagsCopy))},tagsEqual:function(){var O=this;return!this.tagsCopy.some(function(T,j){return!y()(T,O.tags[j])})},updateNewTag:function(O){var T=O.target.value;this.newTag=T,this.$emit("update:modelValue",T)},initTags:function(){this.tagsCopy=E(this.tags,this.validation,this.isDuplicate),this.tagsEditStatus=g(this.tags).map(function(){return!1}),this.tagsEqual()||this.$emit("update:tags",this.tagsCopy)},blurredOnClick:function(O){this.$el.contains(O.target)||this.$el.contains(document.activeElement)||this.performBlur(O)},performBlur:function(){this.addOnBlur&&this.focused&&this.performAddTags(this.newTag),this.focused=!1}},watch:{modelValue:function(O){this.addOnlyFromAutocomplete||(this.selectedItem=null),this.newTag=O},tags:{handler:function(){this.initTags()},deep:!0},autocompleteOpen:"selectDefaultItem"},created:function(){this.newTag=this.modelValue,this.initTags()},mounted:function(){this.selectDefaultItem(),document.addEventListener("click",this.blurredOnClick)},beforeUpdate:function(){this.tagCenter=[]},unmounted:function(){document.removeEventListener("click",this.blurredOnClick)}};a(10),L.render=h,L.__scopeId="data-v-2fbda277";var B=L;B.install=function(O){return O.component(B.name,B)},typeof window<"u"&&window.Vue&&window.Vue.use(B),i.default=B}])})})(cX);var Q1t=cX.exports;const eyt=el(Q1t);const tyt={themes:{info:{$extend:"tooltip"}}},ryt="production",nyt=["development","test"].includes(ryt),iyt=async()=>{function e(a){const s=Hs.value;fa.settings.environment==="VTT"?s.openDialogFromLink({urlString:a}):window.open(a,void 0,"popup=true, width=770, height=620, noopener")}const t=Boe(),r=cC(Ztt);r.config.globalProperties.$openCompendiumPopout=e;const{relayPinia:n,relayVue:i}=await KXe({devMode:nyt});r.use(t),r.use(Ggt),r.use(ice),r.use(i),r.use(Y1t,tyt),r.component("vue-tags-input",eyt),t.use(n),r.mount("#app")};iyt();
